(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();var V6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j6(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var z6={exports:{}};(function(e){var s=function(t){var i=Object.prototype,r=i.hasOwnProperty,n,o=typeof Symbol=="function"?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",h=o.toStringTag||"@@toStringTag";function c(ie,re,ae){return Object.defineProperty(ie,re,{value:ae,enumerable:!0,configurable:!0,writable:!0}),ie[re]}try{c({},"")}catch{c=function(re,ae,le){return re[ae]=le}}function u(ie,re,ae,le){var me=re&&re.prototype instanceof E?re:E,Te=Object.create(me.prototype),Ce=new te(le||[]);return Te._invoke=B(ie,ae,Ce),Te}t.wrap=u;function p(ie,re,ae){try{return{type:"normal",arg:ie.call(re,ae)}}catch(le){return{type:"throw",arg:le}}}var f="suspendedStart",m="suspendedYield",g="executing",C="completed",I={};function E(){}function S(){}function x(){}var F={};c(F,a,function(){return this});var O=Object.getPrototypeOf,R=O&&O(O(ee([])));R&&R!==i&&r.call(R,a)&&(F=R);var L=x.prototype=E.prototype=Object.create(F);S.prototype=x,c(L,"constructor",x),c(x,"constructor",S),S.displayName=c(x,h,"GeneratorFunction");function G(ie){["next","throw","return"].forEach(function(re){c(ie,re,function(ae){return this._invoke(re,ae)})})}t.isGeneratorFunction=function(ie){var re=typeof ie=="function"&&ie.constructor;return re?re===S||(re.displayName||re.name)==="GeneratorFunction":!1},t.mark=function(ie){return Object.setPrototypeOf?Object.setPrototypeOf(ie,x):(ie.__proto__=x,c(ie,h,"GeneratorFunction")),ie.prototype=Object.create(L),ie},t.awrap=function(ie){return{__await:ie}};function V(ie,re){function ae(Te,Ce,Ue,ye){var Be=p(ie[Te],ie,Ce);if(Be.type==="throw")ye(Be.arg);else{var Ze=Be.arg,ke=Ze.value;return ke&&typeof ke=="object"&&r.call(ke,"__await")?re.resolve(ke.__await).then(function(Ne){ae("next",Ne,Ue,ye)},function(Ne){ae("throw",Ne,Ue,ye)}):re.resolve(ke).then(function(Ne){Ze.value=Ne,Ue(Ze)},function(Ne){return ae("throw",Ne,Ue,ye)})}}var le;function me(Te,Ce){function Ue(){return new re(function(ye,Be){ae(Te,Ce,ye,Be)})}return le=le?le.then(Ue,Ue):Ue()}this._invoke=me}G(V.prototype),c(V.prototype,l,function(){return this}),t.AsyncIterator=V,t.async=function(ie,re,ae,le,me){me===void 0&&(me=Promise);var Te=new V(u(ie,re,ae,le),me);return t.isGeneratorFunction(re)?Te:Te.next().then(function(Ce){return Ce.done?Ce.value:Te.next()})};function B(ie,re,ae){var le=f;return function(Te,Ce){if(le===g)throw new Error("Generator is already running");if(le===C){if(Te==="throw")throw Ce;return J()}for(ae.method=Te,ae.arg=Ce;;){var Ue=ae.delegate;if(Ue){var ye=oe(Ue,ae);if(ye){if(ye===I)continue;return ye}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(le===f)throw le=C,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);le=g;var Be=p(ie,re,ae);if(Be.type==="normal"){if(le=ae.done?C:m,Be.arg===I)continue;return{value:Be.arg,done:ae.done}}else Be.type==="throw"&&(le=C,ae.method="throw",ae.arg=Be.arg)}}}function oe(ie,re){var ae=ie.iterator[re.method];if(ae===n){if(re.delegate=null,re.method==="throw"){if(ie.iterator.return&&(re.method="return",re.arg=n,oe(ie,re),re.method==="throw"))return I;re.method="throw",re.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var le=p(ae,ie.iterator,re.arg);if(le.type==="throw")return re.method="throw",re.arg=le.arg,re.delegate=null,I;var me=le.arg;if(!me)return re.method="throw",re.arg=new TypeError("iterator result is not an object"),re.delegate=null,I;if(me.done)re[ie.resultName]=me.value,re.next=ie.nextLoc,re.method!=="return"&&(re.method="next",re.arg=n);else return me;return re.delegate=null,I}G(L),c(L,h,"Generator"),c(L,a,function(){return this}),c(L,"toString",function(){return"[object Generator]"});function $(ie){var re={tryLoc:ie[0]};1 in ie&&(re.catchLoc=ie[1]),2 in ie&&(re.finallyLoc=ie[2],re.afterLoc=ie[3]),this.tryEntries.push(re)}function Z(ie){var re=ie.completion||{};re.type="normal",delete re.arg,ie.completion=re}function te(ie){this.tryEntries=[{tryLoc:"root"}],ie.forEach($,this),this.reset(!0)}t.keys=function(ie){var re=[];for(var ae in ie)re.push(ae);return re.reverse(),function le(){for(;re.length;){var me=re.pop();if(me in ie)return le.value=me,le.done=!1,le}return le.done=!0,le}};function ee(ie){if(ie){var re=ie[a];if(re)return re.call(ie);if(typeof ie.next=="function")return ie;if(!isNaN(ie.length)){var ae=-1,le=function me(){for(;++ae<ie.length;)if(r.call(ie,ae))return me.value=ie[ae],me.done=!1,me;return me.value=n,me.done=!0,me};return le.next=le}}return{next:J}}t.values=ee;function J(){return{value:n,done:!0}}return te.prototype={constructor:te,reset:function(ie){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Z),!ie)for(var re in this)re.charAt(0)==="t"&&r.call(this,re)&&!isNaN(+re.slice(1))&&(this[re]=n)},stop:function(){this.done=!0;var ie=this.tryEntries[0],re=ie.completion;if(re.type==="throw")throw re.arg;return this.rval},dispatchException:function(ie){if(this.done)throw ie;var re=this;function ae(ye,Be){return Te.type="throw",Te.arg=ie,re.next=ye,Be&&(re.method="next",re.arg=n),!!Be}for(var le=this.tryEntries.length-1;le>=0;--le){var me=this.tryEntries[le],Te=me.completion;if(me.tryLoc==="root")return ae("end");if(me.tryLoc<=this.prev){var Ce=r.call(me,"catchLoc"),Ue=r.call(me,"finallyLoc");if(Ce&&Ue){if(this.prev<me.catchLoc)return ae(me.catchLoc,!0);if(this.prev<me.finallyLoc)return ae(me.finallyLoc)}else if(Ce){if(this.prev<me.catchLoc)return ae(me.catchLoc,!0)}else if(Ue){if(this.prev<me.finallyLoc)return ae(me.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(ie,re){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var le=this.tryEntries[ae];if(le.tryLoc<=this.prev&&r.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var me=le;break}}me&&(ie==="break"||ie==="continue")&&me.tryLoc<=re&&re<=me.finallyLoc&&(me=null);var Te=me?me.completion:{};return Te.type=ie,Te.arg=re,me?(this.method="next",this.next=me.finallyLoc,I):this.complete(Te)},complete:function(ie,re){if(ie.type==="throw")throw ie.arg;return ie.type==="break"||ie.type==="continue"?this.next=ie.arg:ie.type==="return"?(this.rval=this.arg=ie.arg,this.method="return",this.next="end"):ie.type==="normal"&&re&&(this.next=re),I},finish:function(ie){for(var re=this.tryEntries.length-1;re>=0;--re){var ae=this.tryEntries[re];if(ae.finallyLoc===ie)return this.complete(ae.completion,ae.afterLoc),Z(ae),I}},catch:function(ie){for(var re=this.tryEntries.length-1;re>=0;--re){var ae=this.tryEntries[re];if(ae.tryLoc===ie){var le=ae.completion;if(le.type==="throw"){var me=le.arg;Z(ae)}return me}}throw new Error("illegal catch attempt")},delegateYield:function(ie,re,ae){return this.delegate={iterator:ee(ie),resultName:re,nextLoc:ae},this.method==="next"&&(this.arg=n),I}},t}(e.exports);try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}})(z6);function Ky(e,s){const t=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)t[i[r]]=!0;return s?r=>!!t[r.toLowerCase()]:r=>!!t[r]}const W6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Y6=Ky(W6);function O_(e){return!!e||e===""}function Jy(e){if(bt(e)){const s={};for(let t=0;t<e.length;t++){const i=e[t],r=ei(i)?Q6(i):Jy(i);if(r)for(const n in r)s[n]=r[n]}return s}else{if(ei(e))return e;if(ti(e))return e}}const X6=/;(?![^(]*\))/g,q6=/:(.+)/;function Q6(e){const s={};return e.split(X6).forEach(t=>{if(t){const i=t.split(q6);i.length>1&&(s[i[0].trim()]=i[1].trim())}}),s}function Nh(e){let s="";if(ei(e))s=e;else if(bt(e))for(let t=0;t<e.length;t++){const i=Nh(e[t]);i&&(s+=i+" ")}else if(ti(e))for(const t in e)e[t]&&(s+=t+" ");return s.trim()}const lu=e=>ei(e)?e:e==null?"":bt(e)||ti(e)&&(e.toString===L_||!At(e.toString))?JSON.stringify(e,D_,2):String(e),D_=(e,s)=>s&&s.__v_isRef?D_(e,s.value):wh(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((t,[i,r])=>(t[`${i} =>`]=r,t),{})}:M_(s)?{[`Set(${s.size})`]:[...s.values()]}:ti(s)&&!bt(s)&&!U_(s)?String(s):s,us={},_h=[],$r=()=>{},$6=()=>!1,Z6=/^on[^a-z]/,Ld=e=>Z6.test(e),eI=e=>e.startsWith("onUpdate:"),xi=Object.assign,tI=(e,s)=>{const t=e.indexOf(s);t>-1&&e.splice(t,1)},K6=Object.prototype.hasOwnProperty,Xt=(e,s)=>K6.call(e,s),bt=Array.isArray,wh=e=>Ud(e)==="[object Map]",M_=e=>Ud(e)==="[object Set]",At=e=>typeof e=="function",ei=e=>typeof e=="string",sI=e=>typeof e=="symbol",ti=e=>e!==null&&typeof e=="object",N_=e=>ti(e)&&At(e.then)&&At(e.catch),L_=Object.prototype.toString,Ud=e=>L_.call(e),J6=e=>Ud(e).slice(8,-1),U_=e=>Ud(e)==="[object Object]",iI=e=>ei(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,kf=Ky(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hd=e=>{const s=Object.create(null);return t=>s[t]||(s[t]=e(t))},e8=/-(\w)/g,Lh=Hd(e=>e.replace(e8,(s,t)=>t?t.toUpperCase():"")),t8=/\B([A-Z])/g,Zh=Hd(e=>e.replace(t8,"-$1").toLowerCase()),H_=Hd(e=>e.charAt(0).toUpperCase()+e.slice(1)),wT=Hd(e=>e?`on${H_(e)}`:""),Su=(e,s)=>!Object.is(e,s),ST=(e,s)=>{for(let t=0;t<e.length;t++)e[t](s)},sd=(e,s,t)=>{Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value:t})},s8=e=>{const s=parseFloat(e);return isNaN(s)?e:s};let aE;const i8=()=>aE||(aE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let un;class G_{constructor(s=!1){this.active=!0,this.effects=[],this.cleanups=[],!s&&un&&(this.parent=un,this.index=(un.scopes||(un.scopes=[])).push(this)-1)}run(s){if(this.active){const t=un;try{return un=this,s()}finally{un=t}}}on(){un=this}off(){un=this.parent}stop(s){if(this.active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(this.parent&&!s){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function r8(e){return new G_(e)}function n8(e,s=un){s&&s.active&&s.effects.push(e)}const rI=e=>{const s=new Set(e);return s.w=0,s.n=0,s},B_=e=>(e.w&ea)>0,k_=e=>(e.n&ea)>0,o8=({deps:e})=>{if(e.length)for(let s=0;s<e.length;s++)e[s].w|=ea},a8=e=>{const{deps:s}=e;if(s.length){let t=0;for(let i=0;i<s.length;i++){const r=s[i];B_(r)&&!k_(r)?r.delete(e):s[t++]=r,r.w&=~ea,r.n&=~ea}s.length=t}},zg=new WeakMap;let Kc=0,ea=1;const Wg=30;let Xr;const Wa=Symbol(""),Yg=Symbol("");class nI{constructor(s,t=null,i){this.fn=s,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,n8(this,i)}run(){if(!this.active)return this.fn();let s=Xr,t=jo;for(;s;){if(s===this)return;s=s.parent}try{return this.parent=Xr,Xr=this,jo=!0,ea=1<<++Kc,Kc<=Wg?o8(this):lE(this),this.fn()}finally{Kc<=Wg&&a8(this),ea=1<<--Kc,Xr=this.parent,jo=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Xr===this?this.deferStop=!0:this.active&&(lE(this),this.onStop&&this.onStop(),this.active=!1)}}function lE(e){const{deps:s}=e;if(s.length){for(let t=0;t<s.length;t++)s[t].delete(e);s.length=0}}let jo=!0;const V_=[];function Kh(){V_.push(jo),jo=!1}function Jh(){const e=V_.pop();jo=e===void 0?!0:e}function ur(e,s,t){if(jo&&Xr){let i=zg.get(e);i||zg.set(e,i=new Map);let r=i.get(t);r||i.set(t,r=rI()),j_(r)}}function j_(e,s){let t=!1;Kc<=Wg?k_(e)||(e.n|=ea,t=!B_(e)):t=!e.has(Xr),t&&(e.add(Xr),Xr.deps.push(e))}function io(e,s,t,i,r,n){const o=zg.get(e);if(!o)return;let a=[];if(s==="clear")a=[...o.values()];else if(t==="length"&&bt(e))o.forEach((l,h)=>{(h==="length"||h>=i)&&a.push(l)});else switch(t!==void 0&&a.push(o.get(t)),s){case"add":bt(e)?iI(t)&&a.push(o.get("length")):(a.push(o.get(Wa)),wh(e)&&a.push(o.get(Yg)));break;case"delete":bt(e)||(a.push(o.get(Wa)),wh(e)&&a.push(o.get(Yg)));break;case"set":wh(e)&&a.push(o.get(Wa));break}if(a.length===1)a[0]&&Xg(a[0]);else{const l=[];for(const h of a)h&&l.push(...h);Xg(rI(l))}}function Xg(e,s){const t=bt(e)?e:[...e];for(const i of t)i.computed&&hE(i);for(const i of t)i.computed||hE(i)}function hE(e,s){(e!==Xr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const l8=Ky("__proto__,__v_isRef,__isVue"),z_=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(sI)),h8=oI(),c8=oI(!1,!0),u8=oI(!0),cE=p8();function p8(){const e={};return["includes","indexOf","lastIndexOf"].forEach(s=>{e[s]=function(...t){const i=$t(this);for(let n=0,o=this.length;n<o;n++)ur(i,"get",n+"");const r=i[s](...t);return r===-1||r===!1?i[s](...t.map($t)):r}}),["push","pop","shift","unshift","splice"].forEach(s=>{e[s]=function(...t){Kh();const i=$t(this)[s].apply(this,t);return Jh(),i}}),e}function oI(e=!1,s=!1){return function(i,r,n){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return s;if(r==="__v_raw"&&n===(e?s?F8:Q_:s?q_:X_).get(i))return i;const o=bt(i);if(!e&&o&&Xt(cE,r))return Reflect.get(cE,r,n);const a=Reflect.get(i,r,n);return(sI(r)?z_.has(r):l8(r))||(e||ur(i,"get",r),s)?a:mi(a)?o&&iI(r)?a:a.value:ti(a)?e?$_(a):hI(a):a}}const f8=W_(),d8=W_(!0);function W_(e=!1){return function(t,i,r,n){let o=t[i];if(xu(o)&&mi(o)&&!mi(r))return!1;if(!e&&!xu(r)&&(qg(r)||(r=$t(r),o=$t(o)),!bt(t)&&mi(o)&&!mi(r)))return o.value=r,!0;const a=bt(t)&&iI(i)?Number(i)<t.length:Xt(t,i),l=Reflect.set(t,i,r,n);return t===$t(n)&&(a?Su(r,o)&&io(t,"set",i,r):io(t,"add",i,r)),l}}function m8(e,s){const t=Xt(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&t&&io(e,"delete",s,void 0),i}function T8(e,s){const t=Reflect.has(e,s);return(!sI(s)||!z_.has(s))&&ur(e,"has",s),t}function g8(e){return ur(e,"iterate",bt(e)?"length":Wa),Reflect.ownKeys(e)}const Y_={get:h8,set:f8,deleteProperty:m8,has:T8,ownKeys:g8},y8={get:u8,set(e,s){return!0},deleteProperty(e,s){return!0}},I8=xi({},Y_,{get:c8,set:d8}),aI=e=>e,Gd=e=>Reflect.getPrototypeOf(e);function Mp(e,s,t=!1,i=!1){e=e.__v_raw;const r=$t(e),n=$t(s);t||(s!==n&&ur(r,"get",s),ur(r,"get",n));const{has:o}=Gd(r),a=i?aI:t?uI:bu;if(o.call(r,s))return a(e.get(s));if(o.call(r,n))return a(e.get(n));e!==r&&e.get(s)}function Np(e,s=!1){const t=this.__v_raw,i=$t(t),r=$t(e);return s||(e!==r&&ur(i,"has",e),ur(i,"has",r)),e===r?t.has(e):t.has(e)||t.has(r)}function Lp(e,s=!1){return e=e.__v_raw,!s&&ur($t(e),"iterate",Wa),Reflect.get(e,"size",e)}function uE(e){e=$t(e);const s=$t(this);return Gd(s).has.call(s,e)||(s.add(e),io(s,"add",e,e)),this}function pE(e,s){s=$t(s);const t=$t(this),{has:i,get:r}=Gd(t);let n=i.call(t,e);n||(e=$t(e),n=i.call(t,e));const o=r.call(t,e);return t.set(e,s),n?Su(s,o)&&io(t,"set",e,s):io(t,"add",e,s),this}function fE(e){const s=$t(this),{has:t,get:i}=Gd(s);let r=t.call(s,e);r||(e=$t(e),r=t.call(s,e)),i&&i.call(s,e);const n=s.delete(e);return r&&io(s,"delete",e,void 0),n}function dE(){const e=$t(this),s=e.size!==0,t=e.clear();return s&&io(e,"clear",void 0,void 0),t}function Up(e,s){return function(i,r){const n=this,o=n.__v_raw,a=$t(o),l=s?aI:e?uI:bu;return!e&&ur(a,"iterate",Wa),o.forEach((h,c)=>i.call(r,l(h),l(c),n))}}function Hp(e,s,t){return function(...i){const r=this.__v_raw,n=$t(r),o=wh(n),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,h=r[e](...i),c=t?aI:s?uI:bu;return!s&&ur(n,"iterate",l?Yg:Wa),{next(){const{value:u,done:p}=h.next();return p?{value:u,done:p}:{value:a?[c(u[0]),c(u[1])]:c(u),done:p}},[Symbol.iterator](){return this}}}}function Eo(e){return function(...s){return e==="delete"?!1:this}}function E8(){const e={get(n){return Mp(this,n)},get size(){return Lp(this)},has:Np,add:uE,set:pE,delete:fE,clear:dE,forEach:Up(!1,!1)},s={get(n){return Mp(this,n,!1,!0)},get size(){return Lp(this)},has:Np,add:uE,set:pE,delete:fE,clear:dE,forEach:Up(!1,!0)},t={get(n){return Mp(this,n,!0)},get size(){return Lp(this,!0)},has(n){return Np.call(this,n,!0)},add:Eo("add"),set:Eo("set"),delete:Eo("delete"),clear:Eo("clear"),forEach:Up(!0,!1)},i={get(n){return Mp(this,n,!0,!0)},get size(){return Lp(this,!0)},has(n){return Np.call(this,n,!0)},add:Eo("add"),set:Eo("set"),delete:Eo("delete"),clear:Eo("clear"),forEach:Up(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{e[n]=Hp(n,!1,!1),t[n]=Hp(n,!0,!1),s[n]=Hp(n,!1,!0),i[n]=Hp(n,!0,!0)}),[e,t,s,i]}const[v8,C8,_8,w8]=E8();function lI(e,s){const t=s?e?w8:_8:e?C8:v8;return(i,r,n)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Xt(t,r)&&r in i?t:i,r,n)}const S8={get:lI(!1,!1)},x8={get:lI(!1,!0)},b8={get:lI(!0,!1)},X_=new WeakMap,q_=new WeakMap,Q_=new WeakMap,F8=new WeakMap;function R8(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function P8(e){return e.__v_skip||!Object.isExtensible(e)?0:R8(J6(e))}function hI(e){return xu(e)?e:cI(e,!1,Y_,S8,X_)}function A8(e){return cI(e,!1,I8,x8,q_)}function $_(e){return cI(e,!0,y8,b8,Q_)}function cI(e,s,t,i,r){if(!ti(e)||e.__v_raw&&!(s&&e.__v_isReactive))return e;const n=r.get(e);if(n)return n;const o=P8(e);if(o===0)return e;const a=new Proxy(e,o===2?i:t);return r.set(e,a),a}function Sh(e){return xu(e)?Sh(e.__v_raw):!!(e&&e.__v_isReactive)}function xu(e){return!!(e&&e.__v_isReadonly)}function qg(e){return!!(e&&e.__v_isShallow)}function Z_(e){return Sh(e)||xu(e)}function $t(e){const s=e&&e.__v_raw;return s?$t(s):e}function Bd(e){return sd(e,"__v_skip",!0),e}const bu=e=>ti(e)?hI(e):e,uI=e=>ti(e)?$_(e):e;function K_(e){jo&&Xr&&(e=$t(e),j_(e.dep||(e.dep=rI())))}function J_(e,s){e=$t(e),e.dep&&Xg(e.dep)}function mi(e){return!!(e&&e.__v_isRef===!0)}function Ps(e){return O8(e,!1)}function O8(e,s){return mi(e)?e:new D8(e,s)}class D8{constructor(s,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?s:$t(s),this._value=t?s:bu(s)}get value(){return K_(this),this._value}set value(s){s=this.__v_isShallow?s:$t(s),Su(s,this._rawValue)&&(this._rawValue=s,this._value=this.__v_isShallow?s:bu(s),J_(this))}}function ew(e){return mi(e)?e.value:e}const M8={get:(e,s,t)=>ew(Reflect.get(e,s,t)),set:(e,s,t,i)=>{const r=e[s];return mi(r)&&!mi(t)?(r.value=t,!0):Reflect.set(e,s,t,i)}};function tw(e){return Sh(e)?e:new Proxy(e,M8)}class N8{constructor(s,t,i){this._object=s,this._key=t,this._defaultValue=i,this.__v_isRef=!0}get value(){const s=this._object[this._key];return s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}}function mE(e,s,t){const i=e[s];return mi(i)?i:new N8(e,s,t)}class L8{constructor(s,t,i,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new nI(s,()=>{this._dirty||(this._dirty=!0,J_(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const s=$t(this);return K_(s),(s._dirty||!s._cacheable)&&(s._dirty=!1,s._value=s.effect.run()),s._value}set value(s){this._setter(s)}}function U8(e,s,t=!1){let i,r;const n=At(e);return n?(i=e,r=$r):(i=e.get,r=e.set),new L8(i,r,n||!r,t)}function zo(e,s,t,i){let r;try{r=i?e(...i):e()}catch(n){kd(n,s,t)}return r}function Pr(e,s,t,i){if(At(e)){const n=zo(e,s,t,i);return n&&N_(n)&&n.catch(o=>{kd(o,s,t)}),n}const r=[];for(let n=0;n<e.length;n++)r.push(Pr(e[n],s,t,i));return r}function kd(e,s,t,i=!0){const r=s?s.vnode:null;if(s){let n=s.parent;const o=s.proxy,a=t;for(;n;){const h=n.ec;if(h){for(let c=0;c<h.length;c++)if(h[c](e,o,a)===!1)return}n=n.parent}const l=s.appContext.config.errorHandler;if(l){zo(l,null,10,[e,o,a]);return}}H8(e,t,r,i)}function H8(e,s,t,i=!0){console.error(e)}let id=!1,Qg=!1;const nr=[];let $n=0;const hu=[];let Jc=null,ph=0;const cu=[];let Mo=null,fh=0;const sw=Promise.resolve();let pI=null,$g=null;function G8(e){const s=pI||sw;return e?s.then(this?e.bind(this):e):s}function B8(e){let s=$n+1,t=nr.length;for(;s<t;){const i=s+t>>>1;Fu(nr[i])<e?s=i+1:t=i}return s}function iw(e){(!nr.length||!nr.includes(e,id&&e.allowRecurse?$n+1:$n))&&e!==$g&&(e.id==null?nr.push(e):nr.splice(B8(e.id),0,e),rw())}function rw(){!id&&!Qg&&(Qg=!0,pI=sw.then(aw))}function k8(e){const s=nr.indexOf(e);s>$n&&nr.splice(s,1)}function nw(e,s,t,i){bt(e)?t.push(...e):(!s||!s.includes(e,e.allowRecurse?i+1:i))&&t.push(e),rw()}function V8(e){nw(e,Jc,hu,ph)}function j8(e){nw(e,Mo,cu,fh)}function Vd(e,s=null){if(hu.length){for($g=s,Jc=[...new Set(hu)],hu.length=0,ph=0;ph<Jc.length;ph++)Jc[ph]();Jc=null,ph=0,$g=null,Vd(e,s)}}function ow(e){if(Vd(),cu.length){const s=[...new Set(cu)];if(cu.length=0,Mo){Mo.push(...s);return}for(Mo=s,Mo.sort((t,i)=>Fu(t)-Fu(i)),fh=0;fh<Mo.length;fh++)Mo[fh]();Mo=null,fh=0}}const Fu=e=>e.id==null?1/0:e.id;function aw(e){Qg=!1,id=!0,Vd(e),nr.sort((t,i)=>Fu(t)-Fu(i));const s=$r;try{for($n=0;$n<nr.length;$n++){const t=nr[$n];t&&t.active!==!1&&zo(t,null,14)}}finally{$n=0,nr.length=0,ow(),id=!1,pI=null,(nr.length||hu.length||cu.length)&&aw(e)}}function z8(e,s,...t){if(e.isUnmounted)return;const i=e.vnode.props||us;let r=t;const n=s.startsWith("update:"),o=n&&s.slice(7);if(o&&o in i){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:p}=i[c]||us;p&&(r=t.map(f=>f.trim())),u&&(r=t.map(s8))}let a,l=i[a=wT(s)]||i[a=wT(Lh(s))];!l&&n&&(l=i[a=wT(Zh(s))]),l&&Pr(l,e,6,r);const h=i[a+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Pr(h,e,6,r)}}function lw(e,s,t=!1){const i=s.emitsCache,r=i.get(e);if(r!==void 0)return r;const n=e.emits;let o={},a=!1;if(!At(e)){const l=h=>{const c=lw(h,s,!0);c&&(a=!0,xi(o,c))};!t&&s.mixins.length&&s.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!n&&!a?(i.set(e,null),null):(bt(n)?n.forEach(l=>o[l]=null):xi(o,n),i.set(e,o),o)}function jd(e,s){return!e||!Ld(s)?!1:(s=s.slice(2).replace(/Once$/,""),Xt(e,s[0].toLowerCase()+s.slice(1))||Xt(e,Zh(s))||Xt(e,s))}let qr=null,zd=null;function rd(e){const s=qr;return qr=e,zd=e&&e.type.__scopeId||null,s}function Wd(e){zd=e}function Yd(){zd=null}function W8(e,s=qr,t){if(!s||e._n)return e;const i=(...r)=>{i._d&&SE(-1);const n=rd(s),o=e(...r);return rd(n),i._d&&SE(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function xT(e){const{type:s,vnode:t,proxy:i,withProxy:r,props:n,propsOptions:[o],slots:a,attrs:l,emit:h,render:c,renderCache:u,data:p,setupState:f,ctx:m,inheritAttrs:g}=e;let C,I;const E=rd(e);try{if(t.shapeFlag&4){const x=r||i;C=fn(c.call(x,x,u,n,f,p,m)),I=l}else{const x=s;C=fn(x.length>1?x(n,{attrs:l,slots:a,emit:h}):x(n,null)),I=s.props?l:Y8(l)}}catch(x){pu.length=0,kd(x,e,1),C=yn(Zr)}let S=C;if(I&&g!==!1){const x=Object.keys(I),{shapeFlag:F}=S;x.length&&F&7&&(o&&x.some(eI)&&(I=X8(I,o)),S=ta(S,I))}return t.dirs&&(S=ta(S),S.dirs=S.dirs?S.dirs.concat(t.dirs):t.dirs),t.transition&&(S.transition=t.transition),C=S,rd(E),C}const Y8=e=>{let s;for(const t in e)(t==="class"||t==="style"||Ld(t))&&((s||(s={}))[t]=e[t]);return s},X8=(e,s)=>{const t={};for(const i in e)(!eI(i)||!(i.slice(9)in s))&&(t[i]=e[i]);return t};function q8(e,s,t){const{props:i,children:r,component:n}=e,{props:o,children:a,patchFlag:l}=s,h=n.emitsOptions;if(s.dirs||s.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?TE(i,o,h):!!o;if(l&8){const c=s.dynamicProps;for(let u=0;u<c.length;u++){const p=c[u];if(o[p]!==i[p]&&!jd(h,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?TE(i,o,h):!0:!!o;return!1}function TE(e,s,t){const i=Object.keys(s);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const n=i[r];if(s[n]!==e[n]&&!jd(t,n))return!0}return!1}function Q8({vnode:e,parent:s},t){for(;s&&s.subTree===e;)(e=s.vnode).el=t,s=s.parent}const $8=e=>e.__isSuspense;function Z8(e,s){s&&s.pendingBranch?bt(e)?s.effects.push(...e):s.effects.push(e):j8(e)}function K8(e,s){if(di){let t=di.provides;const i=di.parent&&di.parent.provides;i===t&&(t=di.provides=Object.create(i)),t[e]=s}}function bT(e,s,t=!1){const i=di||qr;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return t&&At(s)?s.call(i.proxy):s}}const gE={};function uu(e,s,t){return hw(e,s,t)}function hw(e,s,{immediate:t,deep:i,flush:r,onTrack:n,onTrigger:o}=us){const a=di;let l,h=!1,c=!1;if(mi(e)?(l=()=>e.value,h=qg(e)):Sh(e)?(l=()=>e,i=!0):bt(e)?(c=!0,h=e.some(I=>Sh(I)||qg(I)),l=()=>e.map(I=>{if(mi(I))return I.value;if(Sh(I))return ja(I);if(At(I))return zo(I,a,2)})):At(e)?s?l=()=>zo(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return u&&u(),Pr(e,a,3,[p])}:l=$r,s&&i){const I=l;l=()=>ja(I())}let u,p=I=>{u=C.onStop=()=>{zo(I,a,4)}};if(Pu)return p=$r,s?t&&Pr(s,a,3,[l(),c?[]:void 0,p]):l(),$r;let f=c?[]:gE;const m=()=>{if(!!C.active)if(s){const I=C.run();(i||h||(c?I.some((E,S)=>Su(E,f[S])):Su(I,f)))&&(u&&u(),Pr(s,a,3,[I,f===gE?void 0:f,p]),f=I)}else C.run()};m.allowRecurse=!!s;let g;r==="sync"?g=m:r==="post"?g=()=>Hi(m,a&&a.suspense):g=()=>V8(m);const C=new nI(l,g);return s?t?m():f=C.run():r==="post"?Hi(C.run.bind(C),a&&a.suspense):C.run(),()=>{C.stop(),a&&a.scope&&tI(a.scope.effects,C)}}function J8(e,s,t){const i=this.proxy,r=ei(e)?e.includes(".")?cw(i,e):()=>i[e]:e.bind(i,i);let n;At(s)?n=s:(n=s.handler,t=s);const o=di;Uh(this);const a=hw(r,n.bind(i),t);return o?Uh(o):Ya(),a}function cw(e,s){const t=s.split(".");return()=>{let i=e;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}function ja(e,s){if(!ti(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),mi(e))ja(e.value,s);else if(bt(e))for(let t=0;t<e.length;t++)ja(e[t],s);else if(M_(e)||wh(e))e.forEach(t=>{ja(t,s)});else if(U_(e))for(const t in e)ja(e[t],s);return e}function eB(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qd(()=>{e.isMounted=!0}),dw(()=>{e.isUnmounting=!0}),e}const Er=[Function,Array],tB={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Er,onEnter:Er,onAfterEnter:Er,onEnterCancelled:Er,onBeforeLeave:Er,onLeave:Er,onAfterLeave:Er,onLeaveCancelled:Er,onBeforeAppear:Er,onAppear:Er,onAfterAppear:Er,onAppearCancelled:Er},setup(e,{slots:s}){const t=GB(),i=eB();let r;return()=>{const n=s.default&&pw(s.default(),!0);if(!n||!n.length)return;let o=n[0];if(n.length>1){for(const g of n)if(g.type!==Zr){o=g;break}}const a=$t(e),{mode:l}=a;if(i.isLeaving)return FT(o);const h=yE(o);if(!h)return FT(o);const c=Zg(h,a,i,t);Kg(h,c);const u=t.subTree,p=u&&yE(u);let f=!1;const{getTransitionKey:m}=h.type;if(m){const g=m();r===void 0?r=g:g!==r&&(r=g,f=!0)}if(p&&p.type!==Zr&&(!Ga(h,p)||f)){const g=Zg(p,a,i,t);if(Kg(p,g),l==="out-in")return i.isLeaving=!0,g.afterLeave=()=>{i.isLeaving=!1,t.update()},FT(o);l==="in-out"&&h.type!==Zr&&(g.delayLeave=(C,I,E)=>{const S=uw(i,p);S[String(p.key)]=p,C._leaveCb=()=>{I(),C._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=E})}return o}}},sB=tB;function uw(e,s){const{leavingVNodes:t}=e;let i=t.get(s.type);return i||(i=Object.create(null),t.set(s.type,i)),i}function Zg(e,s,t,i){const{appear:r,mode:n,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:h,onEnterCancelled:c,onBeforeLeave:u,onLeave:p,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:g,onAppear:C,onAfterAppear:I,onAppearCancelled:E}=s,S=String(e.key),x=uw(t,e),F=(L,G)=>{L&&Pr(L,i,9,G)},O=(L,G)=>{const V=G[1];F(L,G),bt(L)?L.every(B=>B.length<=1)&&V():L.length<=1&&V()},R={mode:n,persisted:o,beforeEnter(L){let G=a;if(!t.isMounted)if(r)G=g||a;else return;L._leaveCb&&L._leaveCb(!0);const V=x[S];V&&Ga(e,V)&&V.el._leaveCb&&V.el._leaveCb(),F(G,[L])},enter(L){let G=l,V=h,B=c;if(!t.isMounted)if(r)G=C||l,V=I||h,B=E||c;else return;let oe=!1;const $=L._enterCb=Z=>{oe||(oe=!0,Z?F(B,[L]):F(V,[L]),R.delayedLeave&&R.delayedLeave(),L._enterCb=void 0)};G?O(G,[L,$]):$()},leave(L,G){const V=String(e.key);if(L._enterCb&&L._enterCb(!0),t.isUnmounting)return G();F(u,[L]);let B=!1;const oe=L._leaveCb=$=>{B||(B=!0,G(),$?F(m,[L]):F(f,[L]),L._leaveCb=void 0,x[V]===e&&delete x[V])};x[V]=e,p?O(p,[L,oe]):oe()},clone(L){return Zg(L,s,t,i)}};return R}function FT(e){if(Xd(e))return e=ta(e),e.children=null,e}function yE(e){return Xd(e)?e.children?e.children[0]:void 0:e}function Kg(e,s){e.shapeFlag&6&&e.component?Kg(e.component.subTree,s):e.shapeFlag&128?(e.ssContent.transition=s.clone(e.ssContent),e.ssFallback.transition=s.clone(e.ssFallback)):e.transition=s}function pw(e,s=!1,t){let i=[],r=0;for(let n=0;n<e.length;n++){let o=e[n];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:n);o.type===vi?(o.patchFlag&128&&r++,i=i.concat(pw(o.children,s,a))):(s||o.type!==Zr)&&i.push(a!=null?ta(o,{key:a}):o)}if(r>1)for(let n=0;n<i.length;n++)i[n].patchFlag=-2;return i}const Vf=e=>!!e.type.__asyncLoader,Xd=e=>e.type.__isKeepAlive;function iB(e,s){fw(e,"a",s)}function rB(e,s){fw(e,"da",s)}function fw(e,s,t=di){const i=e.__wdc||(e.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(qd(s,i,t),t){let r=t.parent;for(;r&&r.parent;)Xd(r.parent.vnode)&&nB(i,s,t,r),r=r.parent}}function nB(e,s,t,i){const r=qd(s,e,i,!0);mw(()=>{tI(i[s],r)},t)}function qd(e,s,t=di,i=!1){if(t){const r=t[e]||(t[e]=[]),n=s.__weh||(s.__weh=(...o)=>{if(t.isUnmounted)return;Kh(),Uh(t);const a=Pr(s,t,e,o);return Ya(),Jh(),a});return i?r.unshift(n):r.push(n),n}}const lo=e=>(s,t=di)=>(!Pu||e==="sp")&&qd(e,s,t),oB=lo("bm"),Qd=lo("m"),aB=lo("bu"),lB=lo("u"),dw=lo("bum"),mw=lo("um"),hB=lo("sp"),cB=lo("rtg"),uB=lo("rtc");function pB(e,s=di){qd("ec",e,s)}function jf(e,s){const t=qr;if(t===null)return e;const i=Zd(t)||t.proxy,r=e.dirs||(e.dirs=[]);for(let n=0;n<s.length;n++){let[o,a,l,h=us]=s[n];At(o)&&(o={mounted:o,updated:o}),o.deep&&ja(a),r.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:h})}return e}function Ea(e,s,t,i){const r=e.dirs,n=s&&s.dirs;for(let o=0;o<r.length;o++){const a=r[o];n&&(a.oldValue=n[o].value);let l=a.dir[i];l&&(Kh(),Pr(l,t,8,[e.el,a,e,s]),Jh())}}const fB=Symbol();function nd(e,s,t,i){let r;const n=t&&t[i];if(bt(e)||ei(e)){r=new Array(e.length);for(let o=0,a=e.length;o<a;o++)r[o]=s(e[o],o,void 0,n&&n[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=s(o+1,o,void 0,n&&n[o])}else if(ti(e))if(e[Symbol.iterator])r=Array.from(e,(o,a)=>s(o,a,void 0,n&&n[a]));else{const o=Object.keys(e);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const h=o[a];r[a]=s(e[h],h,a,n&&n[a])}}else r=[];return t&&(t[i]=r),r}const Jg=e=>e?Fw(e)?Zd(e)||e.proxy:Jg(e.parent):null,od=xi(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Jg(e.parent),$root:e=>Jg(e.root),$emit:e=>e.emit,$options:e=>gw(e),$forceUpdate:e=>e.f||(e.f=()=>iw(e.update)),$nextTick:e=>e.n||(e.n=G8.bind(e.proxy)),$watch:e=>J8.bind(e)}),dB={get({_:e},s){const{ctx:t,setupState:i,data:r,props:n,accessCache:o,type:a,appContext:l}=e;let h;if(s[0]!=="$"){const f=o[s];if(f!==void 0)switch(f){case 1:return i[s];case 2:return r[s];case 4:return t[s];case 3:return n[s]}else{if(i!==us&&Xt(i,s))return o[s]=1,i[s];if(r!==us&&Xt(r,s))return o[s]=2,r[s];if((h=e.propsOptions[0])&&Xt(h,s))return o[s]=3,n[s];if(t!==us&&Xt(t,s))return o[s]=4,t[s];ey&&(o[s]=0)}}const c=od[s];let u,p;if(c)return s==="$attrs"&&ur(e,"get",s),c(e);if((u=a.__cssModules)&&(u=u[s]))return u;if(t!==us&&Xt(t,s))return o[s]=4,t[s];if(p=l.config.globalProperties,Xt(p,s))return p[s]},set({_:e},s,t){const{data:i,setupState:r,ctx:n}=e;return r!==us&&Xt(r,s)?(r[s]=t,!0):i!==us&&Xt(i,s)?(i[s]=t,!0):Xt(e.props,s)||s[0]==="$"&&s.slice(1)in e?!1:(n[s]=t,!0)},has({_:{data:e,setupState:s,accessCache:t,ctx:i,appContext:r,propsOptions:n}},o){let a;return!!t[o]||e!==us&&Xt(e,o)||s!==us&&Xt(s,o)||(a=n[0])&&Xt(a,o)||Xt(i,o)||Xt(od,o)||Xt(r.config.globalProperties,o)},defineProperty(e,s,t){return t.get!=null?e._.accessCache[s]=0:Xt(t,"value")&&this.set(e,s,t.value,null),Reflect.defineProperty(e,s,t)}};let ey=!0;function mB(e){const s=gw(e),t=e.proxy,i=e.ctx;ey=!1,s.beforeCreate&&IE(s.beforeCreate,e,"bc");const{data:r,computed:n,methods:o,watch:a,provide:l,inject:h,created:c,beforeMount:u,mounted:p,beforeUpdate:f,updated:m,activated:g,deactivated:C,beforeDestroy:I,beforeUnmount:E,destroyed:S,unmounted:x,render:F,renderTracked:O,renderTriggered:R,errorCaptured:L,serverPrefetch:G,expose:V,inheritAttrs:B,components:oe,directives:$,filters:Z}=s;if(h&&TB(h,i,null,e.appContext.config.unwrapInjectedRef),o)for(const J in o){const ie=o[J];At(ie)&&(i[J]=ie.bind(t))}if(r){const J=r.call(t,t);ti(J)&&(e.data=hI(J))}if(ey=!0,n)for(const J in n){const ie=n[J],re=At(ie)?ie.bind(t,t):At(ie.get)?ie.get.bind(t,t):$r,ae=!At(ie)&&At(ie.set)?ie.set.bind(t):$r,le=WB({get:re,set:ae});Object.defineProperty(i,J,{enumerable:!0,configurable:!0,get:()=>le.value,set:me=>le.value=me})}if(a)for(const J in a)Tw(a[J],i,t,J);if(l){const J=At(l)?l.call(t):l;Reflect.ownKeys(J).forEach(ie=>{K8(ie,J[ie])})}c&&IE(c,e,"c");function ee(J,ie){bt(ie)?ie.forEach(re=>J(re.bind(t))):ie&&J(ie.bind(t))}if(ee(oB,u),ee(Qd,p),ee(aB,f),ee(lB,m),ee(iB,g),ee(rB,C),ee(pB,L),ee(uB,O),ee(cB,R),ee(dw,E),ee(mw,x),ee(hB,G),bt(V))if(V.length){const J=e.exposed||(e.exposed={});V.forEach(ie=>{Object.defineProperty(J,ie,{get:()=>t[ie],set:re=>t[ie]=re})})}else e.exposed||(e.exposed={});F&&e.render===$r&&(e.render=F),B!=null&&(e.inheritAttrs=B),oe&&(e.components=oe),$&&(e.directives=$)}function TB(e,s,t=$r,i=!1){bt(e)&&(e=ty(e));for(const r in e){const n=e[r];let o;ti(n)?"default"in n?o=bT(n.from||r,n.default,!0):o=bT(n.from||r):o=bT(n),mi(o)&&i?Object.defineProperty(s,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):s[r]=o}}function IE(e,s,t){Pr(bt(e)?e.map(i=>i.bind(s.proxy)):e.bind(s.proxy),s,t)}function Tw(e,s,t,i){const r=i.includes(".")?cw(t,i):()=>t[i];if(ei(e)){const n=s[e];At(n)&&uu(r,n)}else if(At(e))uu(r,e.bind(t));else if(ti(e))if(bt(e))e.forEach(n=>Tw(n,s,t,i));else{const n=At(e.handler)?e.handler.bind(t):s[e.handler];At(n)&&uu(r,n,e)}}function gw(e){const s=e.type,{mixins:t,extends:i}=s,{mixins:r,optionsCache:n,config:{optionMergeStrategies:o}}=e.appContext,a=n.get(s);let l;return a?l=a:!r.length&&!t&&!i?l=s:(l={},r.length&&r.forEach(h=>ad(l,h,o,!0)),ad(l,s,o)),n.set(s,l),l}function ad(e,s,t,i=!1){const{mixins:r,extends:n}=s;n&&ad(e,n,t,!0),r&&r.forEach(o=>ad(e,o,t,!0));for(const o in s)if(!(i&&o==="expose")){const a=gB[o]||t&&t[o];e[o]=a?a(e[o],s[o]):s[o]}return e}const gB={data:EE,props:Da,emits:Da,methods:Da,computed:Da,beforeCreate:Pi,created:Pi,beforeMount:Pi,mounted:Pi,beforeUpdate:Pi,updated:Pi,beforeDestroy:Pi,beforeUnmount:Pi,destroyed:Pi,unmounted:Pi,activated:Pi,deactivated:Pi,errorCaptured:Pi,serverPrefetch:Pi,components:Da,directives:Da,watch:IB,provide:EE,inject:yB};function EE(e,s){return s?e?function(){return xi(At(e)?e.call(this,this):e,At(s)?s.call(this,this):s)}:s:e}function yB(e,s){return Da(ty(e),ty(s))}function ty(e){if(bt(e)){const s={};for(let t=0;t<e.length;t++)s[e[t]]=e[t];return s}return e}function Pi(e,s){return e?[...new Set([].concat(e,s))]:s}function Da(e,s){return e?xi(xi(Object.create(null),e),s):s}function IB(e,s){if(!e)return s;if(!s)return e;const t=xi(Object.create(null),e);for(const i in s)t[i]=Pi(e[i],s[i]);return t}function EB(e,s,t,i=!1){const r={},n={};sd(n,$d,1),e.propsDefaults=Object.create(null),yw(e,s,r,n);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);t?e.props=i?r:A8(r):e.type.props?e.props=r:e.props=n,e.attrs=n}function vB(e,s,t,i){const{props:r,attrs:n,vnode:{patchFlag:o}}=e,a=$t(r),[l]=e.propsOptions;let h=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let u=0;u<c.length;u++){let p=c[u];if(jd(e.emitsOptions,p))continue;const f=s[p];if(l)if(Xt(n,p))f!==n[p]&&(n[p]=f,h=!0);else{const m=Lh(p);r[m]=sy(l,a,m,f,e,!1)}else f!==n[p]&&(n[p]=f,h=!0)}}}else{yw(e,s,r,n)&&(h=!0);let c;for(const u in a)(!s||!Xt(s,u)&&((c=Zh(u))===u||!Xt(s,c)))&&(l?t&&(t[u]!==void 0||t[c]!==void 0)&&(r[u]=sy(l,a,u,void 0,e,!0)):delete r[u]);if(n!==a)for(const u in n)(!s||!Xt(s,u)&&!0)&&(delete n[u],h=!0)}h&&io(e,"set","$attrs")}function yw(e,s,t,i){const[r,n]=e.propsOptions;let o=!1,a;if(s)for(let l in s){if(kf(l))continue;const h=s[l];let c;r&&Xt(r,c=Lh(l))?!n||!n.includes(c)?t[c]=h:(a||(a={}))[c]=h:jd(e.emitsOptions,l)||(!(l in i)||h!==i[l])&&(i[l]=h,o=!0)}if(n){const l=$t(t),h=a||us;for(let c=0;c<n.length;c++){const u=n[c];t[u]=sy(r,l,u,h[u],e,!Xt(h,u))}}return o}function sy(e,s,t,i,r,n){const o=e[t];if(o!=null){const a=Xt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&At(l)){const{propsDefaults:h}=r;t in h?i=h[t]:(Uh(r),i=h[t]=l.call(null,s),Ya())}else i=l}o[0]&&(n&&!a?i=!1:o[1]&&(i===""||i===Zh(t))&&(i=!0))}return i}function Iw(e,s,t=!1){const i=s.propsCache,r=i.get(e);if(r)return r;const n=e.props,o={},a=[];let l=!1;if(!At(e)){const c=u=>{l=!0;const[p,f]=Iw(u,s,!0);xi(o,p),f&&a.push(...f)};!t&&s.mixins.length&&s.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!n&&!l)return i.set(e,_h),_h;if(bt(n))for(let c=0;c<n.length;c++){const u=Lh(n[c]);vE(u)&&(o[u]=us)}else if(n)for(const c in n){const u=Lh(c);if(vE(u)){const p=n[c],f=o[u]=bt(p)||At(p)?{type:p}:p;if(f){const m=wE(Boolean,f.type),g=wE(String,f.type);f[0]=m>-1,f[1]=g<0||m<g,(m>-1||Xt(f,"default"))&&a.push(u)}}}const h=[o,a];return i.set(e,h),h}function vE(e){return e[0]!=="$"}function CE(e){const s=e&&e.toString().match(/^\s*function (\w+)/);return s?s[1]:e===null?"null":""}function _E(e,s){return CE(e)===CE(s)}function wE(e,s){return bt(s)?s.findIndex(t=>_E(t,e)):At(s)&&_E(s,e)?0:-1}const Ew=e=>e[0]==="_"||e==="$stable",fI=e=>bt(e)?e.map(fn):[fn(e)],CB=(e,s,t)=>{if(s._n)return s;const i=W8((...r)=>fI(s(...r)),t);return i._c=!1,i},vw=(e,s,t)=>{const i=e._ctx;for(const r in e){if(Ew(r))continue;const n=e[r];if(At(n))s[r]=CB(r,n,i);else if(n!=null){const o=fI(n);s[r]=()=>o}}},Cw=(e,s)=>{const t=fI(s);e.slots.default=()=>t},_B=(e,s)=>{if(e.vnode.shapeFlag&32){const t=s._;t?(e.slots=$t(s),sd(s,"_",t)):vw(s,e.slots={})}else e.slots={},s&&Cw(e,s);sd(e.slots,$d,1)},wB=(e,s,t)=>{const{vnode:i,slots:r}=e;let n=!0,o=us;if(i.shapeFlag&32){const a=s._;a?t&&a===1?n=!1:(xi(r,s),!t&&a===1&&delete r._):(n=!s.$stable,vw(s,r)),o=s}else s&&(Cw(e,s),o={default:1});if(n)for(const a in r)!Ew(a)&&!(a in o)&&delete r[a]};function _w(){return{app:null,config:{isNativeTag:$6,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let SB=0;function xB(e,s){return function(i,r=null){At(i)||(i=Object.assign({},i)),r!=null&&!ti(r)&&(r=null);const n=_w(),o=new Set;let a=!1;const l=n.app={_uid:SB++,_component:i,_props:r,_container:null,_context:n,_instance:null,version:YB,get config(){return n.config},set config(h){},use(h,...c){return o.has(h)||(h&&At(h.install)?(o.add(h),h.install(l,...c)):At(h)&&(o.add(h),h(l,...c))),l},mixin(h){return n.mixins.includes(h)||n.mixins.push(h),l},component(h,c){return c?(n.components[h]=c,l):n.components[h]},directive(h,c){return c?(n.directives[h]=c,l):n.directives[h]},mount(h,c,u){if(!a){const p=yn(i,r);return p.appContext=n,c&&s?s(p,h):e(p,h,u),a=!0,l._container=h,h.__vue_app__=l,Zd(p.component)||p.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(h,c){return n.provides[h]=c,l}};return l}}function iy(e,s,t,i,r=!1){if(bt(e)){e.forEach((p,f)=>iy(p,s&&(bt(s)?s[f]:s),t,i,r));return}if(Vf(i)&&!r)return;const n=i.shapeFlag&4?Zd(i.component)||i.component.proxy:i.el,o=r?null:n,{i:a,r:l}=e,h=s&&s.r,c=a.refs===us?a.refs={}:a.refs,u=a.setupState;if(h!=null&&h!==l&&(ei(h)?(c[h]=null,Xt(u,h)&&(u[h]=null)):mi(h)&&(h.value=null)),At(l))zo(l,a,12,[o,c]);else{const p=ei(l),f=mi(l);if(p||f){const m=()=>{if(e.f){const g=p?c[l]:l.value;r?bt(g)&&tI(g,n):bt(g)?g.includes(n)||g.push(n):p?(c[l]=[n],Xt(u,l)&&(u[l]=c[l])):(l.value=[n],e.k&&(c[e.k]=l.value))}else p?(c[l]=o,Xt(u,l)&&(u[l]=o)):f&&(l.value=o,e.k&&(c[e.k]=o))};o?(m.id=-1,Hi(m,t)):m()}}}const Hi=Z8;function bB(e){return FB(e)}function FB(e,s){const t=i8();t.__VUE__=!0;const{insert:i,remove:r,patchProp:n,createElement:o,createText:a,createComment:l,setText:h,setElementText:c,parentNode:u,nextSibling:p,setScopeId:f=$r,cloneNode:m,insertStaticContent:g}=e,C=(Y,z,pe,ge=null,Ee=null,be=null,De=!1,Me=null,q=!!z.dynamicChildren)=>{if(Y===z)return;Y&&!Ga(Y,z)&&(ge=Ze(Y),Te(Y,Ee,be,!0),Y=null),z.patchFlag===-2&&(q=!1,z.dynamicChildren=null);const{type:k,ref:Ie,shapeFlag:de}=z;switch(k){case dI:I(Y,z,pe,ge);break;case Zr:E(Y,z,pe,ge);break;case RT:Y==null&&S(z,pe,ge,De);break;case vi:$(Y,z,pe,ge,Ee,be,De,Me,q);break;default:de&1?O(Y,z,pe,ge,Ee,be,De,Me,q):de&6?Z(Y,z,pe,ge,Ee,be,De,Me,q):(de&64||de&128)&&k.process(Y,z,pe,ge,Ee,be,De,Me,q,Ne)}Ie!=null&&Ee&&iy(Ie,Y&&Y.ref,be,z||Y,!z)},I=(Y,z,pe,ge)=>{if(Y==null)i(z.el=a(z.children),pe,ge);else{const Ee=z.el=Y.el;z.children!==Y.children&&h(Ee,z.children)}},E=(Y,z,pe,ge)=>{Y==null?i(z.el=l(z.children||""),pe,ge):z.el=Y.el},S=(Y,z,pe,ge)=>{[Y.el,Y.anchor]=g(Y.children,z,pe,ge,Y.el,Y.anchor)},x=({el:Y,anchor:z},pe,ge)=>{let Ee;for(;Y&&Y!==z;)Ee=p(Y),i(Y,pe,ge),Y=Ee;i(z,pe,ge)},F=({el:Y,anchor:z})=>{let pe;for(;Y&&Y!==z;)pe=p(Y),r(Y),Y=pe;r(z)},O=(Y,z,pe,ge,Ee,be,De,Me,q)=>{De=De||z.type==="svg",Y==null?R(z,pe,ge,Ee,be,De,Me,q):V(Y,z,Ee,be,De,Me,q)},R=(Y,z,pe,ge,Ee,be,De,Me)=>{let q,k;const{type:Ie,props:de,shapeFlag:Pe,transition:He,patchFlag:he,dirs:Ge}=Y;if(Y.el&&m!==void 0&&he===-1)q=Y.el=m(Y.el);else{if(q=Y.el=o(Y.type,be,de&&de.is,de),Pe&8?c(q,Y.children):Pe&16&&G(Y.children,q,null,ge,Ee,be&&Ie!=="foreignObject",De,Me),Ge&&Ea(Y,null,ge,"created"),de){for(const Ve in de)Ve!=="value"&&!kf(Ve)&&n(q,Ve,null,de[Ve],be,Y.children,ge,Ee,Be);"value"in de&&n(q,"value",null,de.value),(k=de.onVnodeBeforeMount)&&rn(k,ge,Y)}L(q,Y,Y.scopeId,De,ge)}Ge&&Ea(Y,null,ge,"beforeMount");const xe=(!Ee||Ee&&!Ee.pendingBranch)&&He&&!He.persisted;xe&&He.beforeEnter(q),i(q,z,pe),((k=de&&de.onVnodeMounted)||xe||Ge)&&Hi(()=>{k&&rn(k,ge,Y),xe&&He.enter(q),Ge&&Ea(Y,null,ge,"mounted")},Ee)},L=(Y,z,pe,ge,Ee)=>{if(pe&&f(Y,pe),ge)for(let be=0;be<ge.length;be++)f(Y,ge[be]);if(Ee){let be=Ee.subTree;if(z===be){const De=Ee.vnode;L(Y,De,De.scopeId,De.slotScopeIds,Ee.parent)}}},G=(Y,z,pe,ge,Ee,be,De,Me,q=0)=>{for(let k=q;k<Y.length;k++){const Ie=Y[k]=Me?Lo(Y[k]):fn(Y[k]);C(null,Ie,z,pe,ge,Ee,be,De,Me)}},V=(Y,z,pe,ge,Ee,be,De)=>{const Me=z.el=Y.el;let{patchFlag:q,dynamicChildren:k,dirs:Ie}=z;q|=Y.patchFlag&16;const de=Y.props||us,Pe=z.props||us;let He;pe&&va(pe,!1),(He=Pe.onVnodeBeforeUpdate)&&rn(He,pe,z,Y),Ie&&Ea(z,Y,pe,"beforeUpdate"),pe&&va(pe,!0);const he=Ee&&z.type!=="foreignObject";if(k?B(Y.dynamicChildren,k,Me,pe,ge,he,be):De||re(Y,z,Me,null,pe,ge,he,be,!1),q>0){if(q&16)oe(Me,z,de,Pe,pe,ge,Ee);else if(q&2&&de.class!==Pe.class&&n(Me,"class",null,Pe.class,Ee),q&4&&n(Me,"style",de.style,Pe.style,Ee),q&8){const Ge=z.dynamicProps;for(let xe=0;xe<Ge.length;xe++){const Ve=Ge[xe],qe=de[Ve],at=Pe[Ve];(at!==qe||Ve==="value")&&n(Me,Ve,qe,at,Ee,Y.children,pe,ge,Be)}}q&1&&Y.children!==z.children&&c(Me,z.children)}else!De&&k==null&&oe(Me,z,de,Pe,pe,ge,Ee);((He=Pe.onVnodeUpdated)||Ie)&&Hi(()=>{He&&rn(He,pe,z,Y),Ie&&Ea(z,Y,pe,"updated")},ge)},B=(Y,z,pe,ge,Ee,be,De)=>{for(let Me=0;Me<z.length;Me++){const q=Y[Me],k=z[Me],Ie=q.el&&(q.type===vi||!Ga(q,k)||q.shapeFlag&70)?u(q.el):pe;C(q,k,Ie,null,ge,Ee,be,De,!0)}},oe=(Y,z,pe,ge,Ee,be,De)=>{if(pe!==ge){for(const Me in ge){if(kf(Me))continue;const q=ge[Me],k=pe[Me];q!==k&&Me!=="value"&&n(Y,Me,k,q,De,z.children,Ee,be,Be)}if(pe!==us)for(const Me in pe)!kf(Me)&&!(Me in ge)&&n(Y,Me,pe[Me],null,De,z.children,Ee,be,Be);"value"in ge&&n(Y,"value",pe.value,ge.value)}},$=(Y,z,pe,ge,Ee,be,De,Me,q)=>{const k=z.el=Y?Y.el:a(""),Ie=z.anchor=Y?Y.anchor:a("");let{patchFlag:de,dynamicChildren:Pe,slotScopeIds:He}=z;He&&(Me=Me?Me.concat(He):He),Y==null?(i(k,pe,ge),i(Ie,pe,ge),G(z.children,pe,Ie,Ee,be,De,Me,q)):de>0&&de&64&&Pe&&Y.dynamicChildren?(B(Y.dynamicChildren,Pe,pe,Ee,be,De,Me),(z.key!=null||Ee&&z===Ee.subTree)&&ww(Y,z,!0)):re(Y,z,pe,Ie,Ee,be,De,Me,q)},Z=(Y,z,pe,ge,Ee,be,De,Me,q)=>{z.slotScopeIds=Me,Y==null?z.shapeFlag&512?Ee.ctx.activate(z,pe,ge,De,q):te(z,pe,ge,Ee,be,De,q):ee(Y,z,q)},te=(Y,z,pe,ge,Ee,be,De)=>{const Me=Y.component=HB(Y,ge,Ee);if(Xd(Y)&&(Me.ctx.renderer=Ne),BB(Me),Me.asyncDep){if(Ee&&Ee.registerDep(Me,J),!Y.el){const q=Me.subTree=yn(Zr);E(null,q,z,pe)}return}J(Me,Y,z,pe,Ee,be,De)},ee=(Y,z,pe)=>{const ge=z.component=Y.component;if(q8(Y,z,pe))if(ge.asyncDep&&!ge.asyncResolved){ie(ge,z,pe);return}else ge.next=z,k8(ge.update),ge.update();else z.el=Y.el,ge.vnode=z},J=(Y,z,pe,ge,Ee,be,De)=>{const Me=()=>{if(Y.isMounted){let{next:Ie,bu:de,u:Pe,parent:He,vnode:he}=Y,Ge=Ie,xe;va(Y,!1),Ie?(Ie.el=he.el,ie(Y,Ie,De)):Ie=he,de&&ST(de),(xe=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&rn(xe,He,Ie,he),va(Y,!0);const Ve=xT(Y),qe=Y.subTree;Y.subTree=Ve,C(qe,Ve,u(qe.el),Ze(qe),Y,Ee,be),Ie.el=Ve.el,Ge===null&&Q8(Y,Ve.el),Pe&&Hi(Pe,Ee),(xe=Ie.props&&Ie.props.onVnodeUpdated)&&Hi(()=>rn(xe,He,Ie,he),Ee)}else{let Ie;const{el:de,props:Pe}=z,{bm:He,m:he,parent:Ge}=Y,xe=Vf(z);if(va(Y,!1),He&&ST(He),!xe&&(Ie=Pe&&Pe.onVnodeBeforeMount)&&rn(Ie,Ge,z),va(Y,!0),de&&we){const Ve=()=>{Y.subTree=xT(Y),we(de,Y.subTree,Y,Ee,null)};xe?z.type.__asyncLoader().then(()=>!Y.isUnmounted&&Ve()):Ve()}else{const Ve=Y.subTree=xT(Y);C(null,Ve,pe,ge,Y,Ee,be),z.el=Ve.el}if(he&&Hi(he,Ee),!xe&&(Ie=Pe&&Pe.onVnodeMounted)){const Ve=z;Hi(()=>rn(Ie,Ge,Ve),Ee)}(z.shapeFlag&256||Ge&&Vf(Ge.vnode)&&Ge.vnode.shapeFlag&256)&&Y.a&&Hi(Y.a,Ee),Y.isMounted=!0,z=pe=ge=null}},q=Y.effect=new nI(Me,()=>iw(k),Y.scope),k=Y.update=()=>q.run();k.id=Y.uid,va(Y,!0),k()},ie=(Y,z,pe)=>{z.component=Y;const ge=Y.vnode.props;Y.vnode=z,Y.next=null,vB(Y,z.props,ge,pe),wB(Y,z.children,pe),Kh(),Vd(void 0,Y.update),Jh()},re=(Y,z,pe,ge,Ee,be,De,Me,q=!1)=>{const k=Y&&Y.children,Ie=Y?Y.shapeFlag:0,de=z.children,{patchFlag:Pe,shapeFlag:He}=z;if(Pe>0){if(Pe&128){le(k,de,pe,ge,Ee,be,De,Me,q);return}else if(Pe&256){ae(k,de,pe,ge,Ee,be,De,Me,q);return}}He&8?(Ie&16&&Be(k,Ee,be),de!==k&&c(pe,de)):Ie&16?He&16?le(k,de,pe,ge,Ee,be,De,Me,q):Be(k,Ee,be,!0):(Ie&8&&c(pe,""),He&16&&G(de,pe,ge,Ee,be,De,Me,q))},ae=(Y,z,pe,ge,Ee,be,De,Me,q)=>{Y=Y||_h,z=z||_h;const k=Y.length,Ie=z.length,de=Math.min(k,Ie);let Pe;for(Pe=0;Pe<de;Pe++){const He=z[Pe]=q?Lo(z[Pe]):fn(z[Pe]);C(Y[Pe],He,pe,null,Ee,be,De,Me,q)}k>Ie?Be(Y,Ee,be,!0,!1,de):G(z,pe,ge,Ee,be,De,Me,q,de)},le=(Y,z,pe,ge,Ee,be,De,Me,q)=>{let k=0;const Ie=z.length;let de=Y.length-1,Pe=Ie-1;for(;k<=de&&k<=Pe;){const He=Y[k],he=z[k]=q?Lo(z[k]):fn(z[k]);if(Ga(He,he))C(He,he,pe,null,Ee,be,De,Me,q);else break;k++}for(;k<=de&&k<=Pe;){const He=Y[de],he=z[Pe]=q?Lo(z[Pe]):fn(z[Pe]);if(Ga(He,he))C(He,he,pe,null,Ee,be,De,Me,q);else break;de--,Pe--}if(k>de){if(k<=Pe){const He=Pe+1,he=He<Ie?z[He].el:ge;for(;k<=Pe;)C(null,z[k]=q?Lo(z[k]):fn(z[k]),pe,he,Ee,be,De,Me,q),k++}}else if(k>Pe)for(;k<=de;)Te(Y[k],Ee,be,!0),k++;else{const He=k,he=k,Ge=new Map;for(k=he;k<=Pe;k++){const It=z[k]=q?Lo(z[k]):fn(z[k]);It.key!=null&&Ge.set(It.key,k)}let xe,Ve=0;const qe=Pe-he+1;let at=!1,tt=0;const gt=new Array(qe);for(k=0;k<qe;k++)gt[k]=0;for(k=He;k<=de;k++){const It=Y[k];if(Ve>=qe){Te(It,Ee,be,!0);continue}let es;if(It.key!=null)es=Ge.get(It.key);else for(xe=he;xe<=Pe;xe++)if(gt[xe-he]===0&&Ga(It,z[xe])){es=xe;break}es===void 0?Te(It,Ee,be,!0):(gt[es-he]=k+1,es>=tt?tt=es:at=!0,C(It,z[es],pe,null,Ee,be,De,Me,q),Ve++)}const Zt=at?RB(gt):_h;for(xe=Zt.length-1,k=qe-1;k>=0;k--){const It=he+k,es=z[It],Nt=It+1<Ie?z[It+1].el:ge;gt[k]===0?C(null,es,pe,Nt,Ee,be,De,Me,q):at&&(xe<0||k!==Zt[xe]?me(es,pe,Nt,2):xe--)}}},me=(Y,z,pe,ge,Ee=null)=>{const{el:be,type:De,transition:Me,children:q,shapeFlag:k}=Y;if(k&6){me(Y.component.subTree,z,pe,ge);return}if(k&128){Y.suspense.move(z,pe,ge);return}if(k&64){De.move(Y,z,pe,Ne);return}if(De===vi){i(be,z,pe);for(let de=0;de<q.length;de++)me(q[de],z,pe,ge);i(Y.anchor,z,pe);return}if(De===RT){x(Y,z,pe);return}if(ge!==2&&k&1&&Me)if(ge===0)Me.beforeEnter(be),i(be,z,pe),Hi(()=>Me.enter(be),Ee);else{const{leave:de,delayLeave:Pe,afterLeave:He}=Me,he=()=>i(be,z,pe),Ge=()=>{de(be,()=>{he(),He&&He()})};Pe?Pe(be,he,Ge):Ge()}else i(be,z,pe)},Te=(Y,z,pe,ge=!1,Ee=!1)=>{const{type:be,props:De,ref:Me,children:q,dynamicChildren:k,shapeFlag:Ie,patchFlag:de,dirs:Pe}=Y;if(Me!=null&&iy(Me,null,pe,Y,!0),Ie&256){z.ctx.deactivate(Y);return}const He=Ie&1&&Pe,he=!Vf(Y);let Ge;if(he&&(Ge=De&&De.onVnodeBeforeUnmount)&&rn(Ge,z,Y),Ie&6)ye(Y.component,pe,ge);else{if(Ie&128){Y.suspense.unmount(pe,ge);return}He&&Ea(Y,null,z,"beforeUnmount"),Ie&64?Y.type.remove(Y,z,pe,Ee,Ne,ge):k&&(be!==vi||de>0&&de&64)?Be(k,z,pe,!1,!0):(be===vi&&de&384||!Ee&&Ie&16)&&Be(q,z,pe),ge&&Ce(Y)}(he&&(Ge=De&&De.onVnodeUnmounted)||He)&&Hi(()=>{Ge&&rn(Ge,z,Y),He&&Ea(Y,null,z,"unmounted")},pe)},Ce=Y=>{const{type:z,el:pe,anchor:ge,transition:Ee}=Y;if(z===vi){Ue(pe,ge);return}if(z===RT){F(Y);return}const be=()=>{r(pe),Ee&&!Ee.persisted&&Ee.afterLeave&&Ee.afterLeave()};if(Y.shapeFlag&1&&Ee&&!Ee.persisted){const{leave:De,delayLeave:Me}=Ee,q=()=>De(pe,be);Me?Me(Y.el,be,q):q()}else be()},Ue=(Y,z)=>{let pe;for(;Y!==z;)pe=p(Y),r(Y),Y=pe;r(z)},ye=(Y,z,pe)=>{const{bum:ge,scope:Ee,update:be,subTree:De,um:Me}=Y;ge&&ST(ge),Ee.stop(),be&&(be.active=!1,Te(De,Y,z,pe)),Me&&Hi(Me,z),Hi(()=>{Y.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&Y.asyncDep&&!Y.asyncResolved&&Y.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},Be=(Y,z,pe,ge=!1,Ee=!1,be=0)=>{for(let De=be;De<Y.length;De++)Te(Y[De],z,pe,ge,Ee)},Ze=Y=>Y.shapeFlag&6?Ze(Y.component.subTree):Y.shapeFlag&128?Y.suspense.next():p(Y.anchor||Y.el),ke=(Y,z,pe)=>{Y==null?z._vnode&&Te(z._vnode,null,null,!0):C(z._vnode||null,Y,z,null,null,null,pe),ow(),z._vnode=Y},Ne={p:C,um:Te,m:me,r:Ce,mt:te,mc:G,pc:re,pbc:B,n:Ze,o:e};let ct,we;return s&&([ct,we]=s(Ne)),{render:ke,hydrate:ct,createApp:xB(ke,ct)}}function va({effect:e,update:s},t){e.allowRecurse=s.allowRecurse=t}function ww(e,s,t=!1){const i=e.children,r=s.children;if(bt(i)&&bt(r))for(let n=0;n<i.length;n++){const o=i[n];let a=r[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[n]=Lo(r[n]),a.el=o.el),t||ww(o,a))}}function RB(e){const s=e.slice(),t=[0];let i,r,n,o,a;const l=e.length;for(i=0;i<l;i++){const h=e[i];if(h!==0){if(r=t[t.length-1],e[r]<h){s[i]=r,t.push(i);continue}for(n=0,o=t.length-1;n<o;)a=n+o>>1,e[t[a]]<h?n=a+1:o=a;h<e[t[n]]&&(n>0&&(s[i]=t[n-1]),t[n]=i)}}for(n=t.length,o=t[n-1];n-- >0;)t[n]=o,o=s[o];return t}const PB=e=>e.__isTeleport,vi=Symbol(void 0),dI=Symbol(void 0),Zr=Symbol(void 0),RT=Symbol(void 0),pu=[];let Qr=null;function fi(e=!1){pu.push(Qr=e?null:[])}function AB(){pu.pop(),Qr=pu[pu.length-1]||null}let Ru=1;function SE(e){Ru+=e}function Sw(e){return e.dynamicChildren=Ru>0?Qr||_h:null,AB(),Ru>0&&Qr&&Qr.push(e),e}function Vi(e,s,t,i,r,n){return Sw(ut(e,s,t,i,r,n,!0))}function ry(e,s,t,i,r){return Sw(yn(e,s,t,i,r,!0))}function OB(e){return e?e.__v_isVNode===!0:!1}function Ga(e,s){return e.type===s.type&&e.key===s.key}const $d="__vInternal",xw=({key:e})=>e!=null?e:null,zf=({ref:e,ref_key:s,ref_for:t})=>e!=null?ei(e)||mi(e)||At(e)?{i:qr,r:e,k:s,f:!!t}:e:null;function ut(e,s=null,t=null,i=0,r=null,n=e===vi?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:s,key:s&&xw(s),ref:s&&zf(s),scopeId:zd,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(mI(l,t),n&128&&e.normalize(l)):t&&(l.shapeFlag|=ei(t)?8:16),Ru>0&&!o&&Qr&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&Qr.push(l),l}const yn=DB;function DB(e,s=null,t=null,i=0,r=null,n=!1){if((!e||e===fB)&&(e=Zr),OB(e)){const a=ta(e,s,!0);return t&&mI(a,t),Ru>0&&!n&&Qr&&(a.shapeFlag&6?Qr[Qr.indexOf(e)]=a:Qr.push(a)),a.patchFlag|=-2,a}if(zB(e)&&(e=e.__vccOpts),s){s=MB(s);let{class:a,style:l}=s;a&&!ei(a)&&(s.class=Nh(a)),ti(l)&&(Z_(l)&&!bt(l)&&(l=xi({},l)),s.style=Jy(l))}const o=ei(e)?1:$8(e)?128:PB(e)?64:ti(e)?4:At(e)?2:0;return ut(e,s,t,i,r,o,n,!0)}function MB(e){return e?Z_(e)||$d in e?xi({},e):e:null}function ta(e,s,t=!1){const{props:i,ref:r,patchFlag:n,children:o}=e,a=s?NB(i||{},s):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&xw(a),ref:s&&s.ref?t&&r?bt(r)?r.concat(zf(s)):[r,zf(s)]:zf(s):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:s&&e.type!==vi?n===-1?16:n|16:n,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ta(e.ssContent),ssFallback:e.ssFallback&&ta(e.ssFallback),el:e.el,anchor:e.anchor}}function bw(e=" ",s=0){return yn(dI,null,e,s)}function fu(e="",s=!1){return s?(fi(),ry(Zr,null,e)):yn(Zr,null,e)}function fn(e){return e==null||typeof e=="boolean"?yn(Zr):bt(e)?yn(vi,null,e.slice()):typeof e=="object"?Lo(e):yn(dI,null,String(e))}function Lo(e){return e.el===null||e.memo?e:ta(e)}function mI(e,s){let t=0;const{shapeFlag:i}=e;if(s==null)s=null;else if(bt(s))t=16;else if(typeof s=="object")if(i&65){const r=s.default;r&&(r._c&&(r._d=!1),mI(e,r()),r._c&&(r._d=!0));return}else{t=32;const r=s._;!r&&!($d in s)?s._ctx=qr:r===3&&qr&&(qr.slots._===1?s._=1:(s._=2,e.patchFlag|=1024))}else At(s)?(s={default:s,_ctx:qr},t=32):(s=String(s),i&64?(t=16,s=[bw(s)]):t=8);e.children=s,e.shapeFlag|=t}function NB(...e){const s={};for(let t=0;t<e.length;t++){const i=e[t];for(const r in i)if(r==="class")s.class!==i.class&&(s.class=Nh([s.class,i.class]));else if(r==="style")s.style=Jy([s.style,i.style]);else if(Ld(r)){const n=s[r],o=i[r];o&&n!==o&&!(bt(n)&&n.includes(o))&&(s[r]=n?[].concat(n,o):o)}else r!==""&&(s[r]=i[r])}return s}function rn(e,s,t,i=null){Pr(e,s,7,[t,i])}const LB=_w();let UB=0;function HB(e,s,t){const i=e.type,r=(s?s.appContext:e.appContext)||LB,n={uid:UB++,vnode:e,type:i,parent:s,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new G_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Iw(i,r),emitsOptions:lw(i,r),emit:null,emitted:null,propsDefaults:us,inheritAttrs:i.inheritAttrs,ctx:us,data:us,props:us,attrs:us,slots:us,refs:us,setupState:us,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=s?s.root:n,n.emit=z8.bind(null,n),e.ce&&e.ce(n),n}let di=null;const GB=()=>di||qr,Uh=e=>{di=e,e.scope.on()},Ya=()=>{di&&di.scope.off(),di=null};function Fw(e){return e.vnode.shapeFlag&4}let Pu=!1;function BB(e,s=!1){Pu=s;const{props:t,children:i}=e.vnode,r=Fw(e);EB(e,t,r,s),_B(e,i);const n=r?kB(e,s):void 0;return Pu=!1,n}function kB(e,s){const t=e.type;e.accessCache=Object.create(null),e.proxy=Bd(new Proxy(e.ctx,dB));const{setup:i}=t;if(i){const r=e.setupContext=i.length>1?jB(e):null;Uh(e),Kh();const n=zo(i,e,0,[e.props,r]);if(Jh(),Ya(),N_(n)){if(n.then(Ya,Ya),s)return n.then(o=>{xE(e,o,s)}).catch(o=>{kd(o,e,0)});e.asyncDep=n}else xE(e,n,s)}else Rw(e,s)}function xE(e,s,t){At(s)?e.type.__ssrInlineRender?e.ssrRender=s:e.render=s:ti(s)&&(e.setupState=tw(s)),Rw(e,t)}let bE;function Rw(e,s,t){const i=e.type;if(!e.render){if(!s&&bE&&!i.render){const r=i.template;if(r){const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,h=xi(xi({isCustomElement:n,delimiters:a},o),l);i.render=bE(r,h)}}e.render=i.render||$r}Uh(e),Kh(),mB(e),Jh(),Ya()}function VB(e){return new Proxy(e.attrs,{get(s,t){return ur(e,"get","$attrs"),s[t]}})}function jB(e){const s=i=>{e.exposed=i||{}};let t;return{get attrs(){return t||(t=VB(e))},slots:e.slots,emit:e.emit,expose:s}}function Zd(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(tw(Bd(e.exposed)),{get(s,t){if(t in s)return s[t];if(t in od)return od[t](e)}}))}function zB(e){return At(e)&&"__vccOpts"in e}const WB=(e,s)=>U8(e,s,Pu),YB="3.2.37",XB="http://www.w3.org/2000/svg",Ba=typeof document<"u"?document:null,FE=Ba&&Ba.createElement("template"),qB={insert:(e,s,t)=>{s.insertBefore(e,t||null)},remove:e=>{const s=e.parentNode;s&&s.removeChild(e)},createElement:(e,s,t,i)=>{const r=s?Ba.createElementNS(XB,e):Ba.createElement(e,t?{is:t}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>Ba.createTextNode(e),createComment:e=>Ba.createComment(e),setText:(e,s)=>{e.nodeValue=s},setElementText:(e,s)=>{e.textContent=s},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ba.querySelector(e),setScopeId(e,s){e.setAttribute(s,"")},cloneNode(e){const s=e.cloneNode(!0);return"_value"in e&&(s._value=e._value),s},insertStaticContent(e,s,t,i,r,n){const o=t?t.previousSibling:s.lastChild;if(r&&(r===n||r.nextSibling))for(;s.insertBefore(r.cloneNode(!0),t),!(r===n||!(r=r.nextSibling)););else{FE.innerHTML=i?`<svg>${e}</svg>`:e;const a=FE.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}s.insertBefore(a,t)}return[o?o.nextSibling:s.firstChild,t?t.previousSibling:s.lastChild]}};function QB(e,s,t){const i=e._vtc;i&&(s=(s?[s,...i]:[...i]).join(" ")),s==null?e.removeAttribute("class"):t?e.setAttribute("class",s):e.className=s}function $B(e,s,t){const i=e.style,r=ei(t);if(t&&!r){for(const n in t)ny(i,n,t[n]);if(s&&!ei(s))for(const n in s)t[n]==null&&ny(i,n,"")}else{const n=i.display;r?s!==t&&(i.cssText=t):s&&e.removeAttribute("style"),"_vod"in e&&(i.display=n)}}const RE=/\s*!important$/;function ny(e,s,t){if(bt(t))t.forEach(i=>ny(e,s,i));else if(t==null&&(t=""),s.startsWith("--"))e.setProperty(s,t);else{const i=ZB(e,s);RE.test(t)?e.setProperty(Zh(i),t.replace(RE,""),"important"):e[i]=t}}const PE=["Webkit","Moz","ms"],PT={};function ZB(e,s){const t=PT[s];if(t)return t;let i=Lh(s);if(i!=="filter"&&i in e)return PT[s]=i;i=H_(i);for(let r=0;r<PE.length;r++){const n=PE[r]+i;if(n in e)return PT[s]=n}return s}const AE="http://www.w3.org/1999/xlink";function KB(e,s,t,i,r){if(i&&s.startsWith("xlink:"))t==null?e.removeAttributeNS(AE,s.slice(6,s.length)):e.setAttributeNS(AE,s,t);else{const n=Y6(s);t==null||n&&!O_(t)?e.removeAttribute(s):e.setAttribute(s,n?"":t)}}function JB(e,s,t,i,r,n,o){if(s==="innerHTML"||s==="textContent"){i&&o(i,r,n),e[s]=t==null?"":t;return}if(s==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=t;const l=t==null?"":t;(e.value!==l||e.tagName==="OPTION")&&(e.value=l),t==null&&e.removeAttribute(s);return}let a=!1;if(t===""||t==null){const l=typeof e[s];l==="boolean"?t=O_(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{e[s]=t}catch{}a&&e.removeAttribute(s)}const[Pw,e9]=(()=>{let e=Date.now,s=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);s=!!(t&&Number(t[1])<=53)}return[e,s]})();let oy=0;const t9=Promise.resolve(),s9=()=>{oy=0},i9=()=>oy||(t9.then(s9),oy=Pw());function r9(e,s,t,i){e.addEventListener(s,t,i)}function n9(e,s,t,i){e.removeEventListener(s,t,i)}function o9(e,s,t,i,r=null){const n=e._vei||(e._vei={}),o=n[s];if(i&&o)o.value=i;else{const[a,l]=a9(s);if(i){const h=n[s]=l9(i,r);r9(e,a,h,l)}else o&&(n9(e,a,o,l),n[s]=void 0)}}const OE=/(?:Once|Passive|Capture)$/;function a9(e){let s;if(OE.test(e)){s={};let t;for(;t=e.match(OE);)e=e.slice(0,e.length-t[0].length),s[t[0].toLowerCase()]=!0}return[Zh(e.slice(2)),s]}function l9(e,s){const t=i=>{const r=i.timeStamp||Pw();(e9||r>=t.attached-1)&&Pr(h9(i,t.value),s,5,[i])};return t.value=e,t.attached=i9(),t}function h9(e,s){if(bt(s)){const t=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{t.call(e),e._stopped=!0},s.map(i=>r=>!r._stopped&&i&&i(r))}else return s}const DE=/^on[a-z]/,c9=(e,s,t,i,r=!1,n,o,a,l)=>{s==="class"?QB(e,i,r):s==="style"?$B(e,t,i):Ld(s)?eI(s)||o9(e,s,t,i,o):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):u9(e,s,i,r))?JB(e,s,i,n,o,a,l):(s==="true-value"?e._trueValue=i:s==="false-value"&&(e._falseValue=i),KB(e,s,i,r))};function u9(e,s,t,i){return i?!!(s==="innerHTML"||s==="textContent"||s in e&&DE.test(s)&&At(t)):s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&e.tagName==="INPUT"||s==="type"&&e.tagName==="TEXTAREA"||DE.test(s)&&ei(t)?!1:s in e}const p9={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};sB.props;const Wf={beforeMount(e,{value:s},{transition:t}){e._vod=e.style.display==="none"?"":e.style.display,t&&s?t.beforeEnter(e):Rc(e,s)},mounted(e,{value:s},{transition:t}){t&&s&&t.enter(e)},updated(e,{value:s,oldValue:t},{transition:i}){!s!=!t&&(i?s?(i.beforeEnter(e),Rc(e,!0),i.enter(e)):i.leave(e,()=>{Rc(e,!1)}):Rc(e,s))},beforeUnmount(e,{value:s}){Rc(e,s)}};function Rc(e,s){e.style.display=s?e._vod:"none"}const f9=xi({patchProp:c9},qB);let ME;function d9(){return ME||(ME=bB(f9))}const m9=(...e)=>{const s=d9().createApp(...e),{mount:t}=s;return s.mount=i=>{const r=T9(i);if(!r)return;const n=s._component;!At(n)&&!n.render&&!n.template&&(n.template=r.innerHTML),r.innerHTML="";const o=t(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},s};function T9(e){return ei(e)?document.querySelector(e):e}var g9=!1;function y9(){return Aw().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Aw(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const I9=typeof Proxy=="function",E9="devtools-plugin:setup",v9="plugin:settings:set";let kl,ay;function C9(){var e;return kl!==void 0||(typeof window<"u"&&window.performance?(kl=!0,ay=window.performance):typeof global<"u"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(kl=!0,ay=global.perf_hooks.performance):kl=!1),kl}function _9(){return C9()?ay.now():Date.now()}class w9{constructor(s,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=s,this.hook=t;const i={};if(s.settings)for(const o in s.settings){const a=s.settings[o];i[o]=a.defaultValue}const r=`__vue-devtools-plugin-settings__${s.id}`;let n=Object.assign({},i);try{const o=localStorage.getItem(r),a=JSON.parse(o);Object.assign(n,a)}catch{}this.fallbacks={getSettings(){return n},setSettings(o){try{localStorage.setItem(r,JSON.stringify(o))}catch{}n=o},now(){return _9()}},t&&t.on(v9,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(h=>{this.targetQueue.push({method:a,args:l,resolve:h})})})}async setRealTarget(s){this.target=s;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function Ow(e,s){const t=e,i=Aw(),r=y9(),n=I9&&t.enableEarlyProxy;if(r&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!n))r.emit(E9,e,s);else{const o=n?new w9(t,r):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:t,setupFn:s,proxy:o}),o&&s(o.proxiedTarget)}}/*!
  * pinia v2.0.20
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const S9=Symbol("pinia");var Xa;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Xa||(Xa={}));const Dw=typeof window<"u",NE=Dw,LE=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function x9(e,{autoBom:s=!1}={}){return s&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function TI(e,s,t){const i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){Lw(i.response,s,t)},i.onerror=function(){console.error("could not download file")},i.send()}function Mw(e){const s=new XMLHttpRequest;s.open("HEAD",e,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function Yf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}const Xf=typeof navigator=="object"?navigator:{userAgent:""},Nw=(()=>/Macintosh/.test(Xf.userAgent)&&/AppleWebKit/.test(Xf.userAgent)&&!/Safari/.test(Xf.userAgent))(),Lw=Dw?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Nw?b9:"msSaveOrOpenBlob"in Xf?F9:R9:()=>{};function b9(e,s="download",t){const i=document.createElement("a");i.download=s,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Mw(i.href)?TI(e,s,t):(i.target="_blank",Yf(i)):Yf(i)):(i.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(i.href)},4e4),setTimeout(function(){Yf(i)},0))}function F9(e,s="download",t){if(typeof e=="string")if(Mw(e))TI(e,s,t);else{const i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){Yf(i)})}else navigator.msSaveOrOpenBlob(x9(e,t),s)}function R9(e,s,t,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return TI(e,s,t);const r=e.type==="application/octet-stream",n=/constructor/i.test(String(LE.HTMLElement))||"safari"in LE,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&n||Nw)&&typeof FileReader<"u"){const a=new FileReader;a.onloadend=function(){let l=a.result;if(typeof l!="string")throw i=null,new Error("Wrong reader.result type");l=o?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=l:location.assign(l),i=null},a.readAsDataURL(e)}else{const a=URL.createObjectURL(e);i?i.location.assign(a):location.href=a,i=null,setTimeout(function(){URL.revokeObjectURL(a)},4e4)}}function $s(e,s){const t="\u{1F34D} "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(t,s):s==="error"?console.error(t):s==="warn"?console.warn(t):console.log(t)}function gI(e){return"_a"in e&&"install"in e}function Uw(){if(!("clipboard"in navigator))return $s("Your browser doesn't support the Clipboard API","error"),!0}function Hw(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?($s('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function P9(e){if(!Uw())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),$s("Global state copied to clipboard.")}catch(s){if(Hw(s))return;$s("Failed to serialize the state. Check the console for more details.","error"),console.error(s)}}async function A9(e){if(!Uw())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),$s("Global state pasted from clipboard.")}catch(s){if(Hw(s))return;$s("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(s)}}async function O9(e){try{Lw(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(s){$s("Failed to export the state as JSON. Check the console for more details.","error"),console.error(s)}}let Un;function D9(){Un||(Un=document.createElement("input"),Un.type="file",Un.accept=".json");function e(){return new Promise((s,t)=>{Un.onchange=async()=>{const i=Un.files;if(!i)return s(null);const r=i.item(0);return s(r?{text:await r.text(),file:r}:null)},Un.oncancel=()=>s(null),Un.onerror=t,Un.click()})}return e}async function M9(e){try{const t=await(await D9())();if(!t)return;const{text:i,file:r}=t;e.state.value=JSON.parse(i),$s(`Global state imported from "${r.name}".`)}catch(s){$s("Failed to export the state as JSON. Check the console for more details.","error"),console.error(s)}}function Yr(e){return{_custom:{display:e}}}const Gw="\u{1F34D} Pinia (root)",ly="_root";function N9(e){return gI(e)?{id:ly,label:Gw}:{id:e.$id,label:e.$id}}function L9(e){if(gI(e)){const t=Array.from(e._s.keys()),i=e._s;return{state:t.map(n=>({editable:!0,key:n,value:e.state.value[n]})),getters:t.filter(n=>i.get(n)._getters).map(n=>{const o=i.get(n);return{editable:!1,key:n,value:o._getters.reduce((a,l)=>(a[l]=o[l],a),{})}})}}const s={state:Object.keys(e.$state).map(t=>({editable:!0,key:t,value:e.$state[t]}))};return e._getters&&e._getters.length&&(s.getters=e._getters.map(t=>({editable:!1,key:t,value:e[t]}))),e._customProperties.size&&(s.customProperties=Array.from(e._customProperties).map(t=>({editable:!0,key:t,value:e[t]}))),s}function U9(e){return e?Array.isArray(e)?e.reduce((s,t)=>(s.keys.push(t.key),s.operations.push(t.type),s.oldValue[t.key]=t.oldValue,s.newValue[t.key]=t.newValue,s),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Yr(e.type),key:Yr(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function H9(e){switch(e){case Xa.direct:return"mutation";case Xa.patchFunction:return"$patch";case Xa.patchObject:return"$patch";default:return"unknown"}}let dh=!0;const qf=[],Ma="pinia:mutations",Ei="pinia",ld=e=>"\u{1F34D} "+e;function G9(e,s){Ow({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:qf,app:e},t=>{typeof t.now!="function"&&$s("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),t.addTimelineLayer({id:Ma,label:"Pinia \u{1F34D}",color:15064968}),t.addInspector({id:Ei,label:"Pinia \u{1F34D}",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{P9(s)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await A9(s),t.sendInspectorTree(Ei),t.sendInspectorState(Ei)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{O9(s)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await M9(s),t.sendInspectorTree(Ei),t.sendInspectorState(Ei)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:i=>{const r=s._s.get(i);r?r._isOptionsAPI?(r.$reset(),$s(`Store "${i}" reset.`)):$s(`Cannot reset "${i}" store because it's a setup store.`,"warn"):$s(`Cannot reset "${i}" store because it wasn't found.`,"warn")}}]}),t.on.inspectComponent((i,r)=>{const n=i.componentInstance&&i.componentInstance.proxy;if(n&&n._pStores){const o=i.componentInstance.proxy._pStores;Object.values(o).forEach(a=>{i.instanceData.state.push({type:ld(a.$id),key:"state",editable:!0,value:a._isOptionsAPI?{_custom:{value:$t(a.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>a.$reset()}]}}:Object.keys(a.$state).reduce((l,h)=>(l[h]=a.$state[h],l),{})}),a._getters&&a._getters.length&&i.instanceData.state.push({type:ld(a.$id),key:"getters",editable:!1,value:a._getters.reduce((l,h)=>{try{l[h]=a[h]}catch(c){l[h]=c}return l},{})})})}}),t.on.getInspectorTree(i=>{if(i.app===e&&i.inspectorId===Ei){let r=[s];r=r.concat(Array.from(s._s.values())),i.rootNodes=(i.filter?r.filter(n=>"$id"in n?n.$id.toLowerCase().includes(i.filter.toLowerCase()):Gw.toLowerCase().includes(i.filter.toLowerCase())):r).map(N9)}}),t.on.getInspectorState(i=>{if(i.app===e&&i.inspectorId===Ei){const r=i.nodeId===ly?s:s._s.get(i.nodeId);if(!r)return;r&&(i.state=L9(r))}}),t.on.editInspectorState((i,r)=>{if(i.app===e&&i.inspectorId===Ei){const n=i.nodeId===ly?s:s._s.get(i.nodeId);if(!n)return $s(`store "${i.nodeId}" not found`,"error");const{path:o}=i;gI(n)?o.unshift("state"):(o.length!==1||!n._customProperties.has(o[0])||o[0]in n.$state)&&o.unshift("$state"),dh=!1,i.set(n,o,i.state.value),dh=!0}}),t.on.editComponentState(i=>{if(i.type.startsWith("\u{1F34D}")){const r=i.type.replace(/^\s*/,""),n=s._s.get(r);if(!n)return $s(`store "${r}" not found`,"error");const{path:o}=i;if(o[0]!=="state")return $s(`Invalid path for store "${r}":
${o}
Only state can be modified.`);o[0]="$state",dh=!1,i.set(n,o,i.state.value),dh=!0}})})}function B9(e,s){qf.includes(ld(s.$id))||qf.push(ld(s.$id)),Ow({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:qf,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},t=>{const i=typeof t.now=="function"?t.now.bind(t):Date.now;s.$onAction(({after:o,onError:a,name:l,args:h})=>{const c=Bw++;t.addTimelineEvent({layerId:Ma,event:{time:i(),title:"\u{1F6EB} "+l,subtitle:"start",data:{store:Yr(s.$id),action:Yr(l),args:h},groupId:c}}),o(u=>{ka=void 0,t.addTimelineEvent({layerId:Ma,event:{time:i(),title:"\u{1F6EC} "+l,subtitle:"end",data:{store:Yr(s.$id),action:Yr(l),args:h,result:u},groupId:c}})}),a(u=>{ka=void 0,t.addTimelineEvent({layerId:Ma,event:{time:i(),logType:"error",title:"\u{1F4A5} "+l,subtitle:"end",data:{store:Yr(s.$id),action:Yr(l),args:h,error:u},groupId:c}})})},!0),s._customProperties.forEach(o=>{uu(()=>ew(s[o]),(a,l)=>{t.notifyComponentUpdate(),t.sendInspectorState(Ei),dh&&t.addTimelineEvent({layerId:Ma,event:{time:i(),title:"Change",subtitle:o,data:{newValue:a,oldValue:l},groupId:ka}})},{deep:!0})}),s.$subscribe(({events:o,type:a},l)=>{if(t.notifyComponentUpdate(),t.sendInspectorState(Ei),!dh)return;const h={time:i(),title:H9(a),data:{store:Yr(s.$id),...U9(o)},groupId:ka};ka=void 0,a===Xa.patchFunction?h.subtitle="\u2935\uFE0F":a===Xa.patchObject?h.subtitle="\u{1F9E9}":o&&!Array.isArray(o)&&(h.subtitle=o.type),o&&(h.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:o}}),t.addTimelineEvent({layerId:Ma,event:h})},{detached:!0,flush:"sync"});const r=s._hotUpdate;s._hotUpdate=Bd(o=>{r(o),t.addTimelineEvent({layerId:Ma,event:{time:i(),title:"\u{1F525} "+s.$id,subtitle:"HMR update",data:{store:Yr(s.$id),info:Yr("HMR update")}}}),t.notifyComponentUpdate(),t.sendInspectorTree(Ei),t.sendInspectorState(Ei)});const{$dispose:n}=s;s.$dispose=()=>{n(),t.notifyComponentUpdate(),t.sendInspectorTree(Ei),t.sendInspectorState(Ei),t.getSettings().logStoreChanges&&$s(`Disposed "${s.$id}" store \u{1F5D1}`)},t.notifyComponentUpdate(),t.sendInspectorTree(Ei),t.sendInspectorState(Ei),t.getSettings().logStoreChanges&&$s(`"${s.$id}" store installed \u{1F195}`)})}let Bw=0,ka;function UE(e,s){const t=s.reduce((i,r)=>(i[r]=$t(e)[r],i),{});for(const i in t)e[i]=function(){const r=Bw,n=new Proxy(e,{get(...o){return ka=r,Reflect.get(...o)},set(...o){return ka=r,Reflect.set(...o)}});return t[i].apply(n,arguments)}}function k9({app:e,store:s,options:t}){if(!s.$id.startsWith("__hot:")){if(t.state&&(s._isOptionsAPI=!0),typeof t.state=="function"){UE(s,Object.keys(t.actions));const i=s._hotUpdate;$t(s)._hotUpdate=function(r){i.apply(this,arguments),UE(s,Object.keys(r._hmrPayload.actions))}}B9(e,s)}}function V9(){const e=r8(!0),s=e.run(()=>Ps({}));let t=[],i=[];const r=Bd({install(n){r._a=n,n.provide(S9,r),n.config.globalProperties.$pinia=r,NE&&G9(n,r),i.forEach(o=>t.push(o)),i=[]},use(n){return!this._a&&!g9?i.push(n):t.push(n),this},_p:t,_a:null,_e:e,_s:new Map,state:s});return NE&&typeof Proxy<"u"&&r.use(k9),r}var zi;(function(e){e[e.Orbit=0]="Orbit",e[e.FirstPerson=1]="FirstPerson",e[e.Plan=2]="Plan"})(zi||(zi={}));var ar;(function(e){e[e.Perspective=0]="Perspective",e[e.Orthographic=1]="Orthographic"})(ar||(ar={}));class Fi{constructor(s){s.addComponent(this)}update(s){}}var HE;(function(e){e.x="x",e.y="y",e.z="z"})(HE||(HE={}));/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const yI="135",j9={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},z9=0,GE=1,W9=2,kw=1,Y9=2,eu=3,sa=0,Us=1,qi=2,Vw=1,ci=0,du=1,BE=2,kE=3,VE=4,hy=5,Ho=100,X9=101,q9=102,jE=103,zE=104,cy=200,Q9=201,$9=202,Z9=203,jw=204,zw=205,Ww=206,K9=207,Yw=208,J9=209,e7=210,t7=0,s7=1,i7=2,uy=3,r7=4,n7=5,o7=6,a7=7,Kd=0,l7=1,h7=2,qa=0,c7=1,u7=2,p7=3,f7=4,d7=5,Xw=300,Ju=301,ep=302,py=303,fy=304,Jd=306,II=307,Ja=1e3,Oi=1001,Au=1002,Ss=1003,hd=1004,cd=1005,js=1006,EI=1007,ll=1008,ia=1009,m7=1010,T7=1011,Hh=1012,g7=1013,Qf=1014,Zn=1015,xh=1016,y7=1017,I7=1018,E7=1019,bh=1020,v7=1021,In=1022,Ds=1023,C7=1024,_7=1025,w7=Ds,Qa=1026,Gh=1027,S7=1028,x7=1029,b7=1030,F7=1031,R7=1032,P7=1033,WE=33776,YE=33777,XE=33778,qE=33779,QE=35840,$E=35841,ZE=35842,KE=35843,A7=36196,JE=37492,ev=37496,O7=37808,D7=37809,M7=37810,N7=37811,L7=37812,U7=37813,H7=37814,G7=37815,B7=37816,k7=37817,V7=37818,j7=37819,z7=37820,W7=37821,Y7=36492,X7=37840,q7=37841,Q7=37842,$7=37843,Z7=37844,K7=37845,J7=37846,ek=37847,tk=37848,sk=37849,ik=37850,rk=37851,nk=37852,ok=37853,ak=2200,lk=2201,hk=2202,Bh=2300,el=2301,AT=2302,mh=2400,Th=2401,ud=2402,vI=2500,qw=2501,ck=0,uk=1,Qw=2,Qi=3e3,tl=3001,CI=3007,_I=3002,$w=3004,Zw=3005,Kw=3006,pk=3200,Jw=3201,hl=0,fk=1,OT=7680,dk=519,Ou=35044,Du=35048,tv="300 es";class cl{addEventListener(s,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[s]===void 0&&(i[s]=[]),i[s].indexOf(t)===-1&&i[s].push(t)}hasEventListener(s,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[s]!==void 0&&i[s].indexOf(t)!==-1}removeEventListener(s,t){if(this._listeners===void 0)return;const r=this._listeners[s];if(r!==void 0){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}}dispatchEvent(s){if(this._listeners===void 0)return;const i=this._listeners[s.type];if(i!==void 0){s.target=this;const r=i.slice(0);for(let n=0,o=r.length;n<o;n++)r[n].call(this,s);s.target=null}}}const hi=[];for(let e=0;e<256;e++)hi[e]=(e<16?"0":"")+e.toString(16);let Gp=1234567;const Fh=Math.PI/180,Mu=180/Math.PI;function Ar(){const e=Math.random()*4294967295|0,s=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(hi[e&255]+hi[e>>8&255]+hi[e>>16&255]+hi[e>>24&255]+"-"+hi[s&255]+hi[s>>8&255]+"-"+hi[s>>16&15|64]+hi[s>>24&255]+"-"+hi[t&63|128]+hi[t>>8&255]+"-"+hi[t>>16&255]+hi[t>>24&255]+hi[i&255]+hi[i>>8&255]+hi[i>>16&255]+hi[i>>24&255]).toUpperCase()}function Ci(e,s,t){return Math.max(s,Math.min(t,e))}function wI(e,s){return(e%s+s)%s}function mk(e,s,t,i,r){return i+(e-s)*(r-i)/(t-s)}function Tk(e,s,t){return e!==s?(t-e)/(s-e):0}function mu(e,s,t){return(1-t)*e+t*s}function gk(e,s,t,i){return mu(e,s,1-Math.exp(-t*i))}function yk(e,s=1){return s-Math.abs(wI(e,s*2)-s)}function Ik(e,s,t){return e<=s?0:e>=t?1:(e=(e-s)/(t-s),e*e*(3-2*e))}function Ek(e,s,t){return e<=s?0:e>=t?1:(e=(e-s)/(t-s),e*e*e*(e*(e*6-15)+10))}function vk(e,s){return e+Math.floor(Math.random()*(s-e+1))}function Ck(e,s){return e+Math.random()*(s-e)}function _k(e){return e*(.5-Math.random())}function wk(e){return e!==void 0&&(Gp=e%2147483647),Gp=Gp*16807%2147483647,(Gp-1)/2147483646}function Sk(e){return e*Fh}function xk(e){return e*Mu}function dy(e){return(e&e-1)===0&&e!==0}function eS(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function tS(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function bk(e,s,t,i,r){const n=Math.cos,o=Math.sin,a=n(t/2),l=o(t/2),h=n((s+i)/2),c=o((s+i)/2),u=n((s-i)/2),p=o((s-i)/2),f=n((i-s)/2),m=o((i-s)/2);switch(r){case"XYX":e.set(a*c,l*u,l*p,a*h);break;case"YZY":e.set(l*p,a*c,l*u,a*h);break;case"ZXZ":e.set(l*u,l*p,a*c,a*h);break;case"XZX":e.set(a*c,l*m,l*f,a*h);break;case"YXY":e.set(l*f,a*c,l*m,a*h);break;case"ZYZ":e.set(l*m,l*f,a*c,a*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}var sl=Object.freeze({__proto__:null,DEG2RAD:Fh,RAD2DEG:Mu,generateUUID:Ar,clamp:Ci,euclideanModulo:wI,mapLinear:mk,inverseLerp:Tk,lerp:mu,damp:gk,pingpong:yk,smoothstep:Ik,smootherstep:Ek,randInt:vk,randFloat:Ck,randFloatSpread:_k,seededRandom:wk,degToRad:Sk,radToDeg:xk,isPowerOfTwo:dy,ceilPowerOfTwo:eS,floorPowerOfTwo:tS,setQuaternionFromProperEuler:bk});class Re{constructor(s=0,t=0){this.x=s,this.y=t}get width(){return this.x}set width(s){this.x=s}get height(){return this.y}set height(s){this.y=s}set(s,t){return this.x=s,this.y=t,this}setScalar(s){return this.x=s,this.y=s,this}setX(s){return this.x=s,this}setY(s){return this.y=s,this}setComponent(s,t){switch(s){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+s)}return this}getComponent(s){switch(s){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+s)}}clone(){return new this.constructor(this.x,this.y)}copy(s){return this.x=s.x,this.y=s.y,this}add(s,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(s,t)):(this.x+=s.x,this.y+=s.y,this)}addScalar(s){return this.x+=s,this.y+=s,this}addVectors(s,t){return this.x=s.x+t.x,this.y=s.y+t.y,this}addScaledVector(s,t){return this.x+=s.x*t,this.y+=s.y*t,this}sub(s,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(s,t)):(this.x-=s.x,this.y-=s.y,this)}subScalar(s){return this.x-=s,this.y-=s,this}subVectors(s,t){return this.x=s.x-t.x,this.y=s.y-t.y,this}multiply(s){return this.x*=s.x,this.y*=s.y,this}multiplyScalar(s){return this.x*=s,this.y*=s,this}divide(s){return this.x/=s.x,this.y/=s.y,this}divideScalar(s){return this.multiplyScalar(1/s)}applyMatrix3(s){const t=this.x,i=this.y,r=s.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this}max(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this}clamp(s,t){return this.x=Math.max(s.x,Math.min(t.x,this.x)),this.y=Math.max(s.y,Math.min(t.y,this.y)),this}clampScalar(s,t){return this.x=Math.max(s,Math.min(t,this.x)),this.y=Math.max(s,Math.min(t,this.y)),this}clampLength(s,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(s,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(s){return this.x*s.x+this.y*s.y}cross(s){return this.x*s.y-this.y*s.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(s){return Math.sqrt(this.distanceToSquared(s))}distanceToSquared(s){const t=this.x-s.x,i=this.y-s.y;return t*t+i*i}manhattanDistanceTo(s){return Math.abs(this.x-s.x)+Math.abs(this.y-s.y)}setLength(s){return this.normalize().multiplyScalar(s)}lerp(s,t){return this.x+=(s.x-this.x)*t,this.y+=(s.y-this.y)*t,this}lerpVectors(s,t,i){return this.x=s.x+(t.x-s.x)*i,this.y=s.y+(t.y-s.y)*i,this}equals(s){return s.x===this.x&&s.y===this.y}fromArray(s,t=0){return this.x=s[t],this.y=s[t+1],this}toArray(s=[],t=0){return s[t]=this.x,s[t+1]=this.y,s}fromBufferAttribute(s,t,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=s.getX(t),this.y=s.getY(t),this}rotateAround(s,t){const i=Math.cos(t),r=Math.sin(t),n=this.x-s.x,o=this.y-s.y;return this.x=n*i-o*r+s.x,this.y=n*r+o*i+s.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Re.prototype.isVector2=!0;class Ks{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(s,t,i,r,n,o,a,l,h){const c=this.elements;return c[0]=s,c[1]=r,c[2]=a,c[3]=t,c[4]=n,c[5]=l,c[6]=i,c[7]=o,c[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(s){const t=this.elements,i=s.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(s,t,i){return s.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(s){const t=s.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(s){return this.multiplyMatrices(this,s)}premultiply(s){return this.multiplyMatrices(s,this)}multiplyMatrices(s,t){const i=s.elements,r=t.elements,n=this.elements,o=i[0],a=i[3],l=i[6],h=i[1],c=i[4],u=i[7],p=i[2],f=i[5],m=i[8],g=r[0],C=r[3],I=r[6],E=r[1],S=r[4],x=r[7],F=r[2],O=r[5],R=r[8];return n[0]=o*g+a*E+l*F,n[3]=o*C+a*S+l*O,n[6]=o*I+a*x+l*R,n[1]=h*g+c*E+u*F,n[4]=h*C+c*S+u*O,n[7]=h*I+c*x+u*R,n[2]=p*g+f*E+m*F,n[5]=p*C+f*S+m*O,n[8]=p*I+f*x+m*R,this}multiplyScalar(s){const t=this.elements;return t[0]*=s,t[3]*=s,t[6]*=s,t[1]*=s,t[4]*=s,t[7]*=s,t[2]*=s,t[5]*=s,t[8]*=s,this}determinant(){const s=this.elements,t=s[0],i=s[1],r=s[2],n=s[3],o=s[4],a=s[5],l=s[6],h=s[7],c=s[8];return t*o*c-t*a*h-i*n*c+i*a*l+r*n*h-r*o*l}invert(){const s=this.elements,t=s[0],i=s[1],r=s[2],n=s[3],o=s[4],a=s[5],l=s[6],h=s[7],c=s[8],u=c*o-a*h,p=a*l-c*n,f=h*n-o*l,m=t*u+i*p+r*f;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return s[0]=u*g,s[1]=(r*h-c*i)*g,s[2]=(a*i-r*o)*g,s[3]=p*g,s[4]=(c*t-r*l)*g,s[5]=(r*n-a*t)*g,s[6]=f*g,s[7]=(i*l-h*t)*g,s[8]=(o*t-i*n)*g,this}transpose(){let s;const t=this.elements;return s=t[1],t[1]=t[3],t[3]=s,s=t[2],t[2]=t[6],t[6]=s,s=t[5],t[5]=t[7],t[7]=s,this}getNormalMatrix(s){return this.setFromMatrix4(s).invert().transpose()}transposeIntoArray(s){const t=this.elements;return s[0]=t[0],s[1]=t[3],s[2]=t[6],s[3]=t[1],s[4]=t[4],s[5]=t[7],s[6]=t[2],s[7]=t[5],s[8]=t[8],this}setUvTransform(s,t,i,r,n,o,a){const l=Math.cos(n),h=Math.sin(n);return this.set(i*l,i*h,-i*(l*o+h*a)+o+s,-r*h,r*l,-r*(-h*o+l*a)+a+t,0,0,1),this}scale(s,t){const i=this.elements;return i[0]*=s,i[3]*=s,i[6]*=s,i[1]*=t,i[4]*=t,i[7]*=t,this}rotate(s){const t=Math.cos(s),i=Math.sin(s),r=this.elements,n=r[0],o=r[3],a=r[6],l=r[1],h=r[4],c=r[7];return r[0]=t*n+i*l,r[3]=t*o+i*h,r[6]=t*a+i*c,r[1]=-i*n+t*l,r[4]=-i*o+t*h,r[7]=-i*a+t*c,this}translate(s,t){const i=this.elements;return i[0]+=s*i[2],i[3]+=s*i[5],i[6]+=s*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this}equals(s){const t=this.elements,i=s.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(s,t=0){for(let i=0;i<9;i++)this.elements[i]=s[i+t];return this}toArray(s=[],t=0){const i=this.elements;return s[t]=i[0],s[t+1]=i[1],s[t+2]=i[2],s[t+3]=i[3],s[t+4]=i[4],s[t+5]=i[5],s[t+6]=i[6],s[t+7]=i[7],s[t+8]=i[8],s}clone(){return new this.constructor().fromArray(this.elements)}}Ks.prototype.isMatrix3=!0;function sS(e){if(e.length===0)return-1/0;let s=e[0];for(let t=1,i=e.length;t<i;++t)e[t]>s&&(s=e[t]);return s}function em(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function sv(e,s=0){let t=3735928559^s,i=1103547991^s;for(let r=0,n;r<e.length;r++)n=e.charCodeAt(r),t=Math.imul(t^n,2654435761),i=Math.imul(i^n,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&i)+(t>>>0)}let Vl;class ec{static getDataURL(s){if(/^data:/i.test(s.src)||typeof HTMLCanvasElement>"u")return s.src;let t;if(s instanceof HTMLCanvasElement)t=s;else{Vl===void 0&&(Vl=em("canvas")),Vl.width=s.width,Vl.height=s.height;const i=Vl.getContext("2d");s instanceof ImageData?i.putImageData(s,0,0):i.drawImage(s,0,0,s.width,s.height),t=Vl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",s),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let Fk=0;class Ys extends cl{constructor(s=Ys.DEFAULT_IMAGE,t=Ys.DEFAULT_MAPPING,i=Oi,r=Oi,n=js,o=ll,a=Ds,l=ia,h=1,c=Qi){super(),Object.defineProperty(this,"id",{value:Fk++}),this.uuid=Ar(),this.name="",this.image=s,this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=n,this.minFilter=o,this.anisotropy=h,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Re(0,0),this.repeat=new Re(1,1),this.center=new Re(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ks,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(s){return this.name=s.name,this.image=s.image,this.mipmaps=s.mipmaps.slice(0),this.mapping=s.mapping,this.wrapS=s.wrapS,this.wrapT=s.wrapT,this.magFilter=s.magFilter,this.minFilter=s.minFilter,this.anisotropy=s.anisotropy,this.format=s.format,this.internalFormat=s.internalFormat,this.type=s.type,this.offset.copy(s.offset),this.repeat.copy(s.repeat),this.center.copy(s.center),this.rotation=s.rotation,this.matrixAutoUpdate=s.matrixAutoUpdate,this.matrix.copy(s.matrix),this.generateMipmaps=s.generateMipmaps,this.premultiplyAlpha=s.premultiplyAlpha,this.flipY=s.flipY,this.unpackAlignment=s.unpackAlignment,this.encoding=s.encoding,this.userData=JSON.parse(JSON.stringify(s.userData)),this}toJSON(s){const t=s===void 0||typeof s=="string";if(!t&&s.textures[this.uuid]!==void 0)return s.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const r=this.image;if(r.uuid===void 0&&(r.uuid=Ar()),!t&&s.images[r.uuid]===void 0){let n;if(Array.isArray(r)){n=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?n.push(DT(r[o].image)):n.push(DT(r[o]))}else n=DT(r);s.images[r.uuid]={uuid:r.uuid,url:n}}i.image=r.uuid}return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),t||(s.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(s){if(this.mapping!==Xw)return s;if(s.applyMatrix3(this.matrix),s.x<0||s.x>1)switch(this.wrapS){case Ja:s.x=s.x-Math.floor(s.x);break;case Oi:s.x=s.x<0?0:1;break;case Au:Math.abs(Math.floor(s.x)%2)===1?s.x=Math.ceil(s.x)-s.x:s.x=s.x-Math.floor(s.x);break}if(s.y<0||s.y>1)switch(this.wrapT){case Ja:s.y=s.y-Math.floor(s.y);break;case Oi:s.y=s.y<0?0:1;break;case Au:Math.abs(Math.floor(s.y)%2)===1?s.y=Math.ceil(s.y)-s.y:s.y=s.y-Math.floor(s.y);break}return this.flipY&&(s.y=1-s.y),s}set needsUpdate(s){s===!0&&this.version++}}Ys.DEFAULT_IMAGE=void 0;Ys.DEFAULT_MAPPING=Xw;Ys.prototype.isTexture=!0;function DT(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?ec.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class Qt{constructor(s=0,t=0,i=0,r=1){this.x=s,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(s){this.z=s}get height(){return this.w}set height(s){this.w=s}set(s,t,i,r){return this.x=s,this.y=t,this.z=i,this.w=r,this}setScalar(s){return this.x=s,this.y=s,this.z=s,this.w=s,this}setX(s){return this.x=s,this}setY(s){return this.y=s,this}setZ(s){return this.z=s,this}setW(s){return this.w=s,this}setComponent(s,t){switch(s){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+s)}return this}getComponent(s){switch(s){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+s)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(s){return this.x=s.x,this.y=s.y,this.z=s.z,this.w=s.w!==void 0?s.w:1,this}add(s,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(s,t)):(this.x+=s.x,this.y+=s.y,this.z+=s.z,this.w+=s.w,this)}addScalar(s){return this.x+=s,this.y+=s,this.z+=s,this.w+=s,this}addVectors(s,t){return this.x=s.x+t.x,this.y=s.y+t.y,this.z=s.z+t.z,this.w=s.w+t.w,this}addScaledVector(s,t){return this.x+=s.x*t,this.y+=s.y*t,this.z+=s.z*t,this.w+=s.w*t,this}sub(s,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(s,t)):(this.x-=s.x,this.y-=s.y,this.z-=s.z,this.w-=s.w,this)}subScalar(s){return this.x-=s,this.y-=s,this.z-=s,this.w-=s,this}subVectors(s,t){return this.x=s.x-t.x,this.y=s.y-t.y,this.z=s.z-t.z,this.w=s.w-t.w,this}multiply(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z,this.w*=s.w,this}multiplyScalar(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this}applyMatrix4(s){const t=this.x,i=this.y,r=this.z,n=this.w,o=s.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*n,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*n,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*n,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*n,this}divideScalar(s){return this.multiplyScalar(1/s)}setAxisAngleFromQuaternion(s){this.w=2*Math.acos(s.w);const t=Math.sqrt(1-s.w*s.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=s.x/t,this.y=s.y/t,this.z=s.z/t),this}setAxisAngleFromRotationMatrix(s){let t,i,r,n;const l=s.elements,h=l[0],c=l[4],u=l[8],p=l[1],f=l[5],m=l[9],g=l[2],C=l[6],I=l[10];if(Math.abs(c-p)<.01&&Math.abs(u-g)<.01&&Math.abs(m-C)<.01){if(Math.abs(c+p)<.1&&Math.abs(u+g)<.1&&Math.abs(m+C)<.1&&Math.abs(h+f+I-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(h+1)/2,x=(f+1)/2,F=(I+1)/2,O=(c+p)/4,R=(u+g)/4,L=(m+C)/4;return S>x&&S>F?S<.01?(i=0,r=.707106781,n=.707106781):(i=Math.sqrt(S),r=O/i,n=R/i):x>F?x<.01?(i=.707106781,r=0,n=.707106781):(r=Math.sqrt(x),i=O/r,n=L/r):F<.01?(i=.707106781,r=.707106781,n=0):(n=Math.sqrt(F),i=R/n,r=L/n),this.set(i,r,n,t),this}let E=Math.sqrt((C-m)*(C-m)+(u-g)*(u-g)+(p-c)*(p-c));return Math.abs(E)<.001&&(E=1),this.x=(C-m)/E,this.y=(u-g)/E,this.z=(p-c)/E,this.w=Math.acos((h+f+I-1)/2),this}min(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this.z=Math.min(this.z,s.z),this.w=Math.min(this.w,s.w),this}max(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this.z=Math.max(this.z,s.z),this.w=Math.max(this.w,s.w),this}clamp(s,t){return this.x=Math.max(s.x,Math.min(t.x,this.x)),this.y=Math.max(s.y,Math.min(t.y,this.y)),this.z=Math.max(s.z,Math.min(t.z,this.z)),this.w=Math.max(s.w,Math.min(t.w,this.w)),this}clampScalar(s,t){return this.x=Math.max(s,Math.min(t,this.x)),this.y=Math.max(s,Math.min(t,this.y)),this.z=Math.max(s,Math.min(t,this.z)),this.w=Math.max(s,Math.min(t,this.w)),this}clampLength(s,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(s,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(s){return this.x*s.x+this.y*s.y+this.z*s.z+this.w*s.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(s){return this.normalize().multiplyScalar(s)}lerp(s,t){return this.x+=(s.x-this.x)*t,this.y+=(s.y-this.y)*t,this.z+=(s.z-this.z)*t,this.w+=(s.w-this.w)*t,this}lerpVectors(s,t,i){return this.x=s.x+(t.x-s.x)*i,this.y=s.y+(t.y-s.y)*i,this.z=s.z+(t.z-s.z)*i,this.w=s.w+(t.w-s.w)*i,this}equals(s){return s.x===this.x&&s.y===this.y&&s.z===this.z&&s.w===this.w}fromArray(s,t=0){return this.x=s[t],this.y=s[t+1],this.z=s[t+2],this.w=s[t+3],this}toArray(s=[],t=0){return s[t]=this.x,s[t+1]=this.y,s[t+2]=this.z,s[t+3]=this.w,s}fromBufferAttribute(s,t,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=s.getX(t),this.y=s.getY(t),this.z=s.getZ(t),this.w=s.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Qt.prototype.isVector4=!0;class zs extends cl{constructor(s,t,i={}){super(),this.width=s,this.height=t,this.depth=1,this.scissor=new Qt(0,0,s,t),this.scissorTest=!1,this.viewport=new Qt(0,0,s,t),this.texture=new Ys(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:s,height:t,depth:1},this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:js,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}setTexture(s){s.image={width:this.width,height:this.height,depth:this.depth},this.texture=s}setSize(s,t,i=1){(this.width!==s||this.height!==t||this.depth!==i)&&(this.width=s,this.height=t,this.depth=i,this.texture.image.width=s,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,s,t),this.scissor.set(0,0,s,t)}clone(){return new this.constructor().copy(this)}copy(s){return this.width=s.width,this.height=s.height,this.depth=s.depth,this.viewport.copy(s.viewport),this.texture=s.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,this.depthTexture=s.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}zs.prototype.isWebGLRenderTarget=!0;class Rk extends zs{constructor(s,t,i){super(s,t);const r=this.texture;this.texture=[];for(let n=0;n<i;n++)this.texture[n]=r.clone()}setSize(s,t,i=1){if(this.width!==s||this.height!==t||this.depth!==i){this.width=s,this.height=t,this.depth=i;for(let r=0,n=this.texture.length;r<n;r++)this.texture[r].image.width=s,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,s,t),this.scissor.set(0,0,s,t),this}copy(s){this.dispose(),this.width=s.width,this.height=s.height,this.depth=s.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,this.depthTexture=s.depthTexture,this.texture.length=0;for(let t=0,i=s.texture.length;t<i;t++)this.texture[t]=s.texture[t].clone();return this}}Rk.prototype.isWebGLMultipleRenderTargets=!0;class SI extends zs{constructor(s,t,i={}){super(s,t,i),this.samples=4,this.ignoreDepthForMultisampleCopy=i.ignoreDepth!==void 0?i.ignoreDepth:!0,this.useRenderToTexture=i.useRenderToTexture!==void 0?i.useRenderToTexture:!1,this.useRenderbuffer=this.useRenderToTexture===!1}copy(s){return super.copy.call(this,s),this.samples=s.samples,this.useRenderToTexture=s.useRenderToTexture,this.useRenderbuffer=s.useRenderbuffer,this}}SI.prototype.isWebGLMultisampleRenderTarget=!0;class Ts{constructor(s=0,t=0,i=0,r=1){this._x=s,this._y=t,this._z=i,this._w=r}static slerp(s,t,i,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(s,t,r)}static slerpFlat(s,t,i,r,n,o,a){let l=i[r+0],h=i[r+1],c=i[r+2],u=i[r+3];const p=n[o+0],f=n[o+1],m=n[o+2],g=n[o+3];if(a===0){s[t+0]=l,s[t+1]=h,s[t+2]=c,s[t+3]=u;return}if(a===1){s[t+0]=p,s[t+1]=f,s[t+2]=m,s[t+3]=g;return}if(u!==g||l!==p||h!==f||c!==m){let C=1-a;const I=l*p+h*f+c*m+u*g,E=I>=0?1:-1,S=1-I*I;if(S>Number.EPSILON){const F=Math.sqrt(S),O=Math.atan2(F,I*E);C=Math.sin(C*O)/F,a=Math.sin(a*O)/F}const x=a*E;if(l=l*C+p*x,h=h*C+f*x,c=c*C+m*x,u=u*C+g*x,C===1-a){const F=1/Math.sqrt(l*l+h*h+c*c+u*u);l*=F,h*=F,c*=F,u*=F}}s[t]=l,s[t+1]=h,s[t+2]=c,s[t+3]=u}static multiplyQuaternionsFlat(s,t,i,r,n,o){const a=i[r],l=i[r+1],h=i[r+2],c=i[r+3],u=n[o],p=n[o+1],f=n[o+2],m=n[o+3];return s[t]=a*m+c*u+l*f-h*p,s[t+1]=l*m+c*p+h*u-a*f,s[t+2]=h*m+c*f+a*p-l*u,s[t+3]=c*m-a*u-l*p-h*f,s}get x(){return this._x}set x(s){this._x=s,this._onChangeCallback()}get y(){return this._y}set y(s){this._y=s,this._onChangeCallback()}get z(){return this._z}set z(s){this._z=s,this._onChangeCallback()}get w(){return this._w}set w(s){this._w=s,this._onChangeCallback()}set(s,t,i,r){return this._x=s,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(s){return this._x=s.x,this._y=s.y,this._z=s.z,this._w=s.w,this._onChangeCallback(),this}setFromEuler(s,t){if(!(s&&s.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=s._x,r=s._y,n=s._z,o=s._order,a=Math.cos,l=Math.sin,h=a(i/2),c=a(r/2),u=a(n/2),p=l(i/2),f=l(r/2),m=l(n/2);switch(o){case"XYZ":this._x=p*c*u+h*f*m,this._y=h*f*u-p*c*m,this._z=h*c*m+p*f*u,this._w=h*c*u-p*f*m;break;case"YXZ":this._x=p*c*u+h*f*m,this._y=h*f*u-p*c*m,this._z=h*c*m-p*f*u,this._w=h*c*u+p*f*m;break;case"ZXY":this._x=p*c*u-h*f*m,this._y=h*f*u+p*c*m,this._z=h*c*m+p*f*u,this._w=h*c*u-p*f*m;break;case"ZYX":this._x=p*c*u-h*f*m,this._y=h*f*u+p*c*m,this._z=h*c*m-p*f*u,this._w=h*c*u+p*f*m;break;case"YZX":this._x=p*c*u+h*f*m,this._y=h*f*u+p*c*m,this._z=h*c*m-p*f*u,this._w=h*c*u-p*f*m;break;case"XZY":this._x=p*c*u-h*f*m,this._y=h*f*u-p*c*m,this._z=h*c*m+p*f*u,this._w=h*c*u+p*f*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(s,t){const i=t/2,r=Math.sin(i);return this._x=s.x*r,this._y=s.y*r,this._z=s.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(s){const t=s.elements,i=t[0],r=t[4],n=t[8],o=t[1],a=t[5],l=t[9],h=t[2],c=t[6],u=t[10],p=i+a+u;if(p>0){const f=.5/Math.sqrt(p+1);this._w=.25/f,this._x=(c-l)*f,this._y=(n-h)*f,this._z=(o-r)*f}else if(i>a&&i>u){const f=2*Math.sqrt(1+i-a-u);this._w=(c-l)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(n+h)/f}else if(a>u){const f=2*Math.sqrt(1+a-i-u);this._w=(n-h)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(l+c)/f}else{const f=2*Math.sqrt(1+u-i-a);this._w=(o-r)/f,this._x=(n+h)/f,this._y=(l+c)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(s,t){let i=s.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(s.x)>Math.abs(s.z)?(this._x=-s.y,this._y=s.x,this._z=0,this._w=i):(this._x=0,this._y=-s.z,this._z=s.y,this._w=i)):(this._x=s.y*t.z-s.z*t.y,this._y=s.z*t.x-s.x*t.z,this._z=s.x*t.y-s.y*t.x,this._w=i),this.normalize()}angleTo(s){return 2*Math.acos(Math.abs(Ci(this.dot(s),-1,1)))}rotateTowards(s,t){const i=this.angleTo(s);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(s,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(s){return this._x*s._x+this._y*s._y+this._z*s._z+this._w*s._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let s=this.length();return s===0?(this._x=0,this._y=0,this._z=0,this._w=1):(s=1/s,this._x=this._x*s,this._y=this._y*s,this._z=this._z*s,this._w=this._w*s),this._onChangeCallback(),this}multiply(s,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(s,t)):this.multiplyQuaternions(this,s)}premultiply(s){return this.multiplyQuaternions(s,this)}multiplyQuaternions(s,t){const i=s._x,r=s._y,n=s._z,o=s._w,a=t._x,l=t._y,h=t._z,c=t._w;return this._x=i*c+o*a+r*h-n*l,this._y=r*c+o*l+n*a-i*h,this._z=n*c+o*h+i*l-r*a,this._w=o*c-i*a-r*l-n*h,this._onChangeCallback(),this}slerp(s,t){if(t===0)return this;if(t===1)return this.copy(s);const i=this._x,r=this._y,n=this._z,o=this._w;let a=o*s._w+i*s._x+r*s._y+n*s._z;if(a<0?(this._w=-s._w,this._x=-s._x,this._y=-s._y,this._z=-s._z,a=-a):this.copy(s),a>=1)return this._w=o,this._x=i,this._y=r,this._z=n,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-t;return this._w=f*o+t*this._w,this._x=f*i+t*this._x,this._y=f*r+t*this._y,this._z=f*n+t*this._z,this.normalize(),this._onChangeCallback(),this}const h=Math.sqrt(l),c=Math.atan2(h,a),u=Math.sin((1-t)*c)/h,p=Math.sin(t*c)/h;return this._w=o*u+this._w*p,this._x=i*u+this._x*p,this._y=r*u+this._y*p,this._z=n*u+this._z*p,this._onChangeCallback(),this}slerpQuaternions(s,t,i){this.copy(s).slerp(t,i)}random(){const s=Math.random(),t=Math.sqrt(1-s),i=Math.sqrt(s),r=2*Math.PI*Math.random(),n=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(n),i*Math.cos(n),t*Math.sin(r))}equals(s){return s._x===this._x&&s._y===this._y&&s._z===this._z&&s._w===this._w}fromArray(s,t=0){return this._x=s[t],this._y=s[t+1],this._z=s[t+2],this._w=s[t+3],this._onChangeCallback(),this}toArray(s=[],t=0){return s[t]=this._x,s[t+1]=this._y,s[t+2]=this._z,s[t+3]=this._w,s}fromBufferAttribute(s,t){return this._x=s.getX(t),this._y=s.getY(t),this._z=s.getZ(t),this._w=s.getW(t),this}_onChange(s){return this._onChangeCallback=s,this}_onChangeCallback(){}}Ts.prototype.isQuaternion=!0;class H{constructor(s=0,t=0,i=0){this.x=s,this.y=t,this.z=i}set(s,t,i){return i===void 0&&(i=this.z),this.x=s,this.y=t,this.z=i,this}setScalar(s){return this.x=s,this.y=s,this.z=s,this}setX(s){return this.x=s,this}setY(s){return this.y=s,this}setZ(s){return this.z=s,this}setComponent(s,t){switch(s){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+s)}return this}getComponent(s){switch(s){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+s)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(s){return this.x=s.x,this.y=s.y,this.z=s.z,this}add(s,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(s,t)):(this.x+=s.x,this.y+=s.y,this.z+=s.z,this)}addScalar(s){return this.x+=s,this.y+=s,this.z+=s,this}addVectors(s,t){return this.x=s.x+t.x,this.y=s.y+t.y,this.z=s.z+t.z,this}addScaledVector(s,t){return this.x+=s.x*t,this.y+=s.y*t,this.z+=s.z*t,this}sub(s,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(s,t)):(this.x-=s.x,this.y-=s.y,this.z-=s.z,this)}subScalar(s){return this.x-=s,this.y-=s,this.z-=s,this}subVectors(s,t){return this.x=s.x-t.x,this.y=s.y-t.y,this.z=s.z-t.z,this}multiply(s,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(s,t)):(this.x*=s.x,this.y*=s.y,this.z*=s.z,this)}multiplyScalar(s){return this.x*=s,this.y*=s,this.z*=s,this}multiplyVectors(s,t){return this.x=s.x*t.x,this.y=s.y*t.y,this.z=s.z*t.z,this}applyEuler(s){return s&&s.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(iv.setFromEuler(s))}applyAxisAngle(s,t){return this.applyQuaternion(iv.setFromAxisAngle(s,t))}applyMatrix3(s){const t=this.x,i=this.y,r=this.z,n=s.elements;return this.x=n[0]*t+n[3]*i+n[6]*r,this.y=n[1]*t+n[4]*i+n[7]*r,this.z=n[2]*t+n[5]*i+n[8]*r,this}applyNormalMatrix(s){return this.applyMatrix3(s).normalize()}applyMatrix4(s){const t=this.x,i=this.y,r=this.z,n=s.elements,o=1/(n[3]*t+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*t+n[4]*i+n[8]*r+n[12])*o,this.y=(n[1]*t+n[5]*i+n[9]*r+n[13])*o,this.z=(n[2]*t+n[6]*i+n[10]*r+n[14])*o,this}applyQuaternion(s){const t=this.x,i=this.y,r=this.z,n=s.x,o=s.y,a=s.z,l=s.w,h=l*t+o*r-a*i,c=l*i+a*t-n*r,u=l*r+n*i-o*t,p=-n*t-o*i-a*r;return this.x=h*l+p*-n+c*-a-u*-o,this.y=c*l+p*-o+u*-n-h*-a,this.z=u*l+p*-a+h*-o-c*-n,this}project(s){return this.applyMatrix4(s.matrixWorldInverse).applyMatrix4(s.projectionMatrix)}unproject(s){return this.applyMatrix4(s.projectionMatrixInverse).applyMatrix4(s.matrixWorld)}transformDirection(s){const t=this.x,i=this.y,r=this.z,n=s.elements;return this.x=n[0]*t+n[4]*i+n[8]*r,this.y=n[1]*t+n[5]*i+n[9]*r,this.z=n[2]*t+n[6]*i+n[10]*r,this.normalize()}divide(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z,this}divideScalar(s){return this.multiplyScalar(1/s)}min(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this.z=Math.min(this.z,s.z),this}max(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this.z=Math.max(this.z,s.z),this}clamp(s,t){return this.x=Math.max(s.x,Math.min(t.x,this.x)),this.y=Math.max(s.y,Math.min(t.y,this.y)),this.z=Math.max(s.z,Math.min(t.z,this.z)),this}clampScalar(s,t){return this.x=Math.max(s,Math.min(t,this.x)),this.y=Math.max(s,Math.min(t,this.y)),this.z=Math.max(s,Math.min(t,this.z)),this}clampLength(s,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(s,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(s){return this.x*s.x+this.y*s.y+this.z*s.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(s){return this.normalize().multiplyScalar(s)}lerp(s,t){return this.x+=(s.x-this.x)*t,this.y+=(s.y-this.y)*t,this.z+=(s.z-this.z)*t,this}lerpVectors(s,t,i){return this.x=s.x+(t.x-s.x)*i,this.y=s.y+(t.y-s.y)*i,this.z=s.z+(t.z-s.z)*i,this}cross(s,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(s,t)):this.crossVectors(this,s)}crossVectors(s,t){const i=s.x,r=s.y,n=s.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-n*a,this.y=n*o-i*l,this.z=i*a-r*o,this}projectOnVector(s){const t=s.lengthSq();if(t===0)return this.set(0,0,0);const i=s.dot(this)/t;return this.copy(s).multiplyScalar(i)}projectOnPlane(s){return MT.copy(this).projectOnVector(s),this.sub(MT)}reflect(s){return this.sub(MT.copy(s).multiplyScalar(2*this.dot(s)))}angleTo(s){const t=Math.sqrt(this.lengthSq()*s.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(s)/t;return Math.acos(Ci(i,-1,1))}distanceTo(s){return Math.sqrt(this.distanceToSquared(s))}distanceToSquared(s){const t=this.x-s.x,i=this.y-s.y,r=this.z-s.z;return t*t+i*i+r*r}manhattanDistanceTo(s){return Math.abs(this.x-s.x)+Math.abs(this.y-s.y)+Math.abs(this.z-s.z)}setFromSpherical(s){return this.setFromSphericalCoords(s.radius,s.phi,s.theta)}setFromSphericalCoords(s,t,i){const r=Math.sin(t)*s;return this.x=r*Math.sin(i),this.y=Math.cos(t)*s,this.z=r*Math.cos(i),this}setFromCylindrical(s){return this.setFromCylindricalCoords(s.radius,s.theta,s.y)}setFromCylindricalCoords(s,t,i){return this.x=s*Math.sin(t),this.y=i,this.z=s*Math.cos(t),this}setFromMatrixPosition(s){const t=s.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(s){const t=this.setFromMatrixColumn(s,0).length(),i=this.setFromMatrixColumn(s,1).length(),r=this.setFromMatrixColumn(s,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(s,t){return this.fromArray(s.elements,t*4)}setFromMatrix3Column(s,t){return this.fromArray(s.elements,t*3)}equals(s){return s.x===this.x&&s.y===this.y&&s.z===this.z}fromArray(s,t=0){return this.x=s[t],this.y=s[t+1],this.z=s[t+2],this}toArray(s=[],t=0){return s[t]=this.x,s[t+1]=this.y,s[t+2]=this.z,s}fromBufferAttribute(s,t,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=s.getX(t),this.y=s.getY(t),this.z=s.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const s=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-s**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=s,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}H.prototype.isVector3=!0;const MT=new H,iv=new Ts;class gs{constructor(s=new H(1/0,1/0,1/0),t=new H(-1/0,-1/0,-1/0)){this.min=s,this.max=t}set(s,t){return this.min.copy(s),this.max.copy(t),this}setFromArray(s){let t=1/0,i=1/0,r=1/0,n=-1/0,o=-1/0,a=-1/0;for(let l=0,h=s.length;l<h;l+=3){const c=s[l],u=s[l+1],p=s[l+2];c<t&&(t=c),u<i&&(i=u),p<r&&(r=p),c>n&&(n=c),u>o&&(o=u),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(n,o,a),this}setFromBufferAttribute(s){let t=1/0,i=1/0,r=1/0,n=-1/0,o=-1/0,a=-1/0;for(let l=0,h=s.count;l<h;l++){const c=s.getX(l),u=s.getY(l),p=s.getZ(l);c<t&&(t=c),u<i&&(i=u),p<r&&(r=p),c>n&&(n=c),u>o&&(o=u),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(n,o,a),this}setFromPoints(s){this.makeEmpty();for(let t=0,i=s.length;t<i;t++)this.expandByPoint(s[t]);return this}setFromCenterAndSize(s,t){const i=Pc.copy(t).multiplyScalar(.5);return this.min.copy(s).sub(i),this.max.copy(s).add(i),this}setFromObject(s){return this.makeEmpty(),this.expandByObject(s)}clone(){return new this.constructor().copy(this)}copy(s){return this.min.copy(s.min),this.max.copy(s.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(s){return this.isEmpty()?s.set(0,0,0):s.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(s){return this.isEmpty()?s.set(0,0,0):s.subVectors(this.max,this.min)}expandByPoint(s){return this.min.min(s),this.max.max(s),this}expandByVector(s){return this.min.sub(s),this.max.add(s),this}expandByScalar(s){return this.min.addScalar(-s),this.max.addScalar(s),this}expandByObject(s){s.updateWorldMatrix(!1,!1);const t=s.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),NT.copy(t.boundingBox),NT.applyMatrix4(s.matrixWorld),this.union(NT));const i=s.children;for(let r=0,n=i.length;r<n;r++)this.expandByObject(i[r]);return this}containsPoint(s){return!(s.x<this.min.x||s.x>this.max.x||s.y<this.min.y||s.y>this.max.y||s.z<this.min.z||s.z>this.max.z)}containsBox(s){return this.min.x<=s.min.x&&s.max.x<=this.max.x&&this.min.y<=s.min.y&&s.max.y<=this.max.y&&this.min.z<=s.min.z&&s.max.z<=this.max.z}getParameter(s,t){return t.set((s.x-this.min.x)/(this.max.x-this.min.x),(s.y-this.min.y)/(this.max.y-this.min.y),(s.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(s){return!(s.max.x<this.min.x||s.min.x>this.max.x||s.max.y<this.min.y||s.min.y>this.max.y||s.max.z<this.min.z||s.min.z>this.max.z)}intersectsSphere(s){return this.clampPoint(s.center,Pc),Pc.distanceToSquared(s.center)<=s.radius*s.radius}intersectsPlane(s){let t,i;return s.normal.x>0?(t=s.normal.x*this.min.x,i=s.normal.x*this.max.x):(t=s.normal.x*this.max.x,i=s.normal.x*this.min.x),s.normal.y>0?(t+=s.normal.y*this.min.y,i+=s.normal.y*this.max.y):(t+=s.normal.y*this.max.y,i+=s.normal.y*this.min.y),s.normal.z>0?(t+=s.normal.z*this.min.z,i+=s.normal.z*this.max.z):(t+=s.normal.z*this.max.z,i+=s.normal.z*this.min.z),t<=-s.constant&&i>=-s.constant}intersectsTriangle(s){if(this.isEmpty())return!1;this.getCenter(Ac),Bp.subVectors(this.max,Ac),jl.subVectors(s.a,Ac),zl.subVectors(s.b,Ac),Wl.subVectors(s.c,Ac),vo.subVectors(zl,jl),Co.subVectors(Wl,zl),Ca.subVectors(jl,Wl);let t=[0,-vo.z,vo.y,0,-Co.z,Co.y,0,-Ca.z,Ca.y,vo.z,0,-vo.x,Co.z,0,-Co.x,Ca.z,0,-Ca.x,-vo.y,vo.x,0,-Co.y,Co.x,0,-Ca.y,Ca.x,0];return!LT(t,jl,zl,Wl,Bp)||(t=[1,0,0,0,1,0,0,0,1],!LT(t,jl,zl,Wl,Bp))?!1:(kp.crossVectors(vo,Co),t=[kp.x,kp.y,kp.z],LT(t,jl,zl,Wl,Bp))}clampPoint(s,t){return t.copy(s).clamp(this.min,this.max)}distanceToPoint(s){return Pc.copy(s).clamp(this.min,this.max).sub(s).length()}getBoundingSphere(s){return this.getCenter(s.center),s.radius=this.getSize(Pc).length()*.5,s}intersect(s){return this.min.max(s.min),this.max.min(s.max),this.isEmpty()&&this.makeEmpty(),this}union(s){return this.min.min(s.min),this.max.max(s.max),this}applyMatrix4(s){return this.isEmpty()?this:(Hn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(s),Hn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(s),Hn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(s),Hn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(s),Hn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(s),Hn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(s),Hn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(s),Hn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(s),this.setFromPoints(Hn),this)}translate(s){return this.min.add(s),this.max.add(s),this}equals(s){return s.min.equals(this.min)&&s.max.equals(this.max)}}gs.prototype.isBox3=!0;const Hn=[new H,new H,new H,new H,new H,new H,new H,new H],Pc=new H,NT=new gs,jl=new H,zl=new H,Wl=new H,vo=new H,Co=new H,Ca=new H,Ac=new H,Bp=new H,kp=new H,_a=new H;function LT(e,s,t,i,r){for(let n=0,o=e.length-3;n<=o;n+=3){_a.fromArray(e,n);const a=r.x*Math.abs(_a.x)+r.y*Math.abs(_a.y)+r.z*Math.abs(_a.z),l=s.dot(_a),h=t.dot(_a),c=i.dot(_a);if(Math.max(-Math.max(l,h,c),Math.min(l,h,c))>a)return!1}return!0}const Pk=new gs,rv=new H,UT=new H,HT=new H;class Mr{constructor(s=new H,t=-1){this.center=s,this.radius=t}set(s,t){return this.center.copy(s),this.radius=t,this}setFromPoints(s,t){const i=this.center;t!==void 0?i.copy(t):Pk.setFromPoints(s).getCenter(i);let r=0;for(let n=0,o=s.length;n<o;n++)r=Math.max(r,i.distanceToSquared(s[n]));return this.radius=Math.sqrt(r),this}copy(s){return this.center.copy(s.center),this.radius=s.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(s){return s.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(s){return s.distanceTo(this.center)-this.radius}intersectsSphere(s){const t=this.radius+s.radius;return s.center.distanceToSquared(this.center)<=t*t}intersectsBox(s){return s.intersectsSphere(this)}intersectsPlane(s){return Math.abs(s.distanceToPoint(this.center))<=this.radius}clampPoint(s,t){const i=this.center.distanceToSquared(s);return t.copy(s),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(s){return this.isEmpty()?(s.makeEmpty(),s):(s.set(this.center,this.center),s.expandByScalar(this.radius),s)}applyMatrix4(s){return this.center.applyMatrix4(s),this.radius=this.radius*s.getMaxScaleOnAxis(),this}translate(s){return this.center.add(s),this}expandByPoint(s){HT.subVectors(s,this.center);const t=HT.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.add(HT.multiplyScalar(r/i)),this.radius+=r}return this}union(s){return UT.subVectors(s.center,this.center).normalize().multiplyScalar(s.radius),this.expandByPoint(rv.copy(s.center).add(UT)),this.expandByPoint(rv.copy(s.center).sub(UT)),this}equals(s){return s.center.equals(this.center)&&s.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Gn=new H,GT=new H,Vp=new H,_o=new H,BT=new H,jp=new H,kT=new H;class ho{constructor(s=new H,t=new H(0,0,-1)){this.origin=s,this.direction=t}set(s,t){return this.origin.copy(s),this.direction.copy(t),this}copy(s){return this.origin.copy(s.origin),this.direction.copy(s.direction),this}at(s,t){return t.copy(this.direction).multiplyScalar(s).add(this.origin)}lookAt(s){return this.direction.copy(s).sub(this.origin).normalize(),this}recast(s){return this.origin.copy(this.at(s,Gn)),this}closestPointToPoint(s,t){t.subVectors(s,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(s){return Math.sqrt(this.distanceSqToPoint(s))}distanceSqToPoint(s){const t=Gn.subVectors(s,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(s):(Gn.copy(this.direction).multiplyScalar(t).add(this.origin),Gn.distanceToSquared(s))}distanceSqToSegment(s,t,i,r){GT.copy(s).add(t).multiplyScalar(.5),Vp.copy(t).sub(s).normalize(),_o.copy(this.origin).sub(GT);const n=s.distanceTo(t)*.5,o=-this.direction.dot(Vp),a=_o.dot(this.direction),l=-_o.dot(Vp),h=_o.lengthSq(),c=Math.abs(1-o*o);let u,p,f,m;if(c>0)if(u=o*l-a,p=o*a-l,m=n*c,u>=0)if(p>=-m)if(p<=m){const g=1/c;u*=g,p*=g,f=u*(u+o*p+2*a)+p*(o*u+p+2*l)+h}else p=n,u=Math.max(0,-(o*p+a)),f=-u*u+p*(p+2*l)+h;else p=-n,u=Math.max(0,-(o*p+a)),f=-u*u+p*(p+2*l)+h;else p<=-m?(u=Math.max(0,-(-o*n+a)),p=u>0?-n:Math.min(Math.max(-n,-l),n),f=-u*u+p*(p+2*l)+h):p<=m?(u=0,p=Math.min(Math.max(-n,-l),n),f=p*(p+2*l)+h):(u=Math.max(0,-(o*n+a)),p=u>0?n:Math.min(Math.max(-n,-l),n),f=-u*u+p*(p+2*l)+h);else p=o>0?-n:n,u=Math.max(0,-(o*p+a)),f=-u*u+p*(p+2*l)+h;return i&&i.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy(Vp).multiplyScalar(p).add(GT),f}intersectSphere(s,t){Gn.subVectors(s.center,this.origin);const i=Gn.dot(this.direction),r=Gn.dot(Gn)-i*i,n=s.radius*s.radius;if(r>n)return null;const o=Math.sqrt(n-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(s){return this.distanceSqToPoint(s.center)<=s.radius*s.radius}distanceToPlane(s){const t=s.normal.dot(this.direction);if(t===0)return s.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(s.normal)+s.constant)/t;return i>=0?i:null}intersectPlane(s,t){const i=this.distanceToPlane(s);return i===null?null:this.at(i,t)}intersectsPlane(s){const t=s.distanceToPoint(this.origin);return t===0||s.normal.dot(this.direction)*t<0}intersectBox(s,t){let i,r,n,o,a,l;const h=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,p=this.origin;return h>=0?(i=(s.min.x-p.x)*h,r=(s.max.x-p.x)*h):(i=(s.max.x-p.x)*h,r=(s.min.x-p.x)*h),c>=0?(n=(s.min.y-p.y)*c,o=(s.max.y-p.y)*c):(n=(s.max.y-p.y)*c,o=(s.min.y-p.y)*c),i>o||n>r||((n>i||i!==i)&&(i=n),(o<r||r!==r)&&(r=o),u>=0?(a=(s.min.z-p.z)*u,l=(s.max.z-p.z)*u):(a=(s.max.z-p.z)*u,l=(s.min.z-p.z)*u),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(s){return this.intersectBox(s,Gn)!==null}intersectTriangle(s,t,i,r,n){BT.subVectors(t,s),jp.subVectors(i,s),kT.crossVectors(BT,jp);let o=this.direction.dot(kT),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;_o.subVectors(this.origin,s);const l=a*this.direction.dot(jp.crossVectors(_o,jp));if(l<0)return null;const h=a*this.direction.dot(BT.cross(_o));if(h<0||l+h>o)return null;const c=-a*_o.dot(kT);return c<0?null:this.at(c/o,n)}applyMatrix4(s){return this.origin.applyMatrix4(s),this.direction.transformDirection(s),this}equals(s){return s.origin.equals(this.origin)&&s.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class rt{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(s,t,i,r,n,o,a,l,h,c,u,p,f,m,g,C){const I=this.elements;return I[0]=s,I[4]=t,I[8]=i,I[12]=r,I[1]=n,I[5]=o,I[9]=a,I[13]=l,I[2]=h,I[6]=c,I[10]=u,I[14]=p,I[3]=f,I[7]=m,I[11]=g,I[15]=C,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new rt().fromArray(this.elements)}copy(s){const t=this.elements,i=s.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(s){const t=this.elements,i=s.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(s){const t=s.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(s,t,i){return s.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(s,t,i){return this.set(s.x,t.x,i.x,0,s.y,t.y,i.y,0,s.z,t.z,i.z,0,0,0,0,1),this}extractRotation(s){const t=this.elements,i=s.elements,r=1/Yl.setFromMatrixColumn(s,0).length(),n=1/Yl.setFromMatrixColumn(s,1).length(),o=1/Yl.setFromMatrixColumn(s,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*n,t[5]=i[5]*n,t[6]=i[6]*n,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(s){s&&s.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,i=s.x,r=s.y,n=s.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),h=Math.sin(r),c=Math.cos(n),u=Math.sin(n);if(s.order==="XYZ"){const p=o*c,f=o*u,m=a*c,g=a*u;t[0]=l*c,t[4]=-l*u,t[8]=h,t[1]=f+m*h,t[5]=p-g*h,t[9]=-a*l,t[2]=g-p*h,t[6]=m+f*h,t[10]=o*l}else if(s.order==="YXZ"){const p=l*c,f=l*u,m=h*c,g=h*u;t[0]=p+g*a,t[4]=m*a-f,t[8]=o*h,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=f*a-m,t[6]=g+p*a,t[10]=o*l}else if(s.order==="ZXY"){const p=l*c,f=l*u,m=h*c,g=h*u;t[0]=p-g*a,t[4]=-o*u,t[8]=m+f*a,t[1]=f+m*a,t[5]=o*c,t[9]=g-p*a,t[2]=-o*h,t[6]=a,t[10]=o*l}else if(s.order==="ZYX"){const p=o*c,f=o*u,m=a*c,g=a*u;t[0]=l*c,t[4]=m*h-f,t[8]=p*h+g,t[1]=l*u,t[5]=g*h+p,t[9]=f*h-m,t[2]=-h,t[6]=a*l,t[10]=o*l}else if(s.order==="YZX"){const p=o*l,f=o*h,m=a*l,g=a*h;t[0]=l*c,t[4]=g-p*u,t[8]=m*u+f,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-h*c,t[6]=f*u+m,t[10]=p-g*u}else if(s.order==="XZY"){const p=o*l,f=o*h,m=a*l,g=a*h;t[0]=l*c,t[4]=-u,t[8]=h*c,t[1]=p*u+g,t[5]=o*c,t[9]=f*u-m,t[2]=m*u-f,t[6]=a*c,t[10]=g*u+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(s){return this.compose(Ak,s,Ok)}lookAt(s,t,i){const r=this.elements;return sr.subVectors(s,t),sr.lengthSq()===0&&(sr.z=1),sr.normalize(),wo.crossVectors(i,sr),wo.lengthSq()===0&&(Math.abs(i.z)===1?sr.x+=1e-4:sr.z+=1e-4,sr.normalize(),wo.crossVectors(i,sr)),wo.normalize(),zp.crossVectors(sr,wo),r[0]=wo.x,r[4]=zp.x,r[8]=sr.x,r[1]=wo.y,r[5]=zp.y,r[9]=sr.y,r[2]=wo.z,r[6]=zp.z,r[10]=sr.z,this}multiply(s,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(s,t)):this.multiplyMatrices(this,s)}premultiply(s){return this.multiplyMatrices(s,this)}multiplyMatrices(s,t){const i=s.elements,r=t.elements,n=this.elements,o=i[0],a=i[4],l=i[8],h=i[12],c=i[1],u=i[5],p=i[9],f=i[13],m=i[2],g=i[6],C=i[10],I=i[14],E=i[3],S=i[7],x=i[11],F=i[15],O=r[0],R=r[4],L=r[8],G=r[12],V=r[1],B=r[5],oe=r[9],$=r[13],Z=r[2],te=r[6],ee=r[10],J=r[14],ie=r[3],re=r[7],ae=r[11],le=r[15];return n[0]=o*O+a*V+l*Z+h*ie,n[4]=o*R+a*B+l*te+h*re,n[8]=o*L+a*oe+l*ee+h*ae,n[12]=o*G+a*$+l*J+h*le,n[1]=c*O+u*V+p*Z+f*ie,n[5]=c*R+u*B+p*te+f*re,n[9]=c*L+u*oe+p*ee+f*ae,n[13]=c*G+u*$+p*J+f*le,n[2]=m*O+g*V+C*Z+I*ie,n[6]=m*R+g*B+C*te+I*re,n[10]=m*L+g*oe+C*ee+I*ae,n[14]=m*G+g*$+C*J+I*le,n[3]=E*O+S*V+x*Z+F*ie,n[7]=E*R+S*B+x*te+F*re,n[11]=E*L+S*oe+x*ee+F*ae,n[15]=E*G+S*$+x*J+F*le,this}multiplyScalar(s){const t=this.elements;return t[0]*=s,t[4]*=s,t[8]*=s,t[12]*=s,t[1]*=s,t[5]*=s,t[9]*=s,t[13]*=s,t[2]*=s,t[6]*=s,t[10]*=s,t[14]*=s,t[3]*=s,t[7]*=s,t[11]*=s,t[15]*=s,this}determinant(){const s=this.elements,t=s[0],i=s[4],r=s[8],n=s[12],o=s[1],a=s[5],l=s[9],h=s[13],c=s[2],u=s[6],p=s[10],f=s[14],m=s[3],g=s[7],C=s[11],I=s[15];return m*(+n*l*u-r*h*u-n*a*p+i*h*p+r*a*f-i*l*f)+g*(+t*l*f-t*h*p+n*o*p-r*o*f+r*h*c-n*l*c)+C*(+t*h*u-t*a*f-n*o*u+i*o*f+n*a*c-i*h*c)+I*(-r*a*c-t*l*u+t*a*p+r*o*u-i*o*p+i*l*c)}transpose(){const s=this.elements;let t;return t=s[1],s[1]=s[4],s[4]=t,t=s[2],s[2]=s[8],s[8]=t,t=s[6],s[6]=s[9],s[9]=t,t=s[3],s[3]=s[12],s[12]=t,t=s[7],s[7]=s[13],s[13]=t,t=s[11],s[11]=s[14],s[14]=t,this}setPosition(s,t,i){const r=this.elements;return s.isVector3?(r[12]=s.x,r[13]=s.y,r[14]=s.z):(r[12]=s,r[13]=t,r[14]=i),this}invert(){const s=this.elements,t=s[0],i=s[1],r=s[2],n=s[3],o=s[4],a=s[5],l=s[6],h=s[7],c=s[8],u=s[9],p=s[10],f=s[11],m=s[12],g=s[13],C=s[14],I=s[15],E=u*C*h-g*p*h+g*l*f-a*C*f-u*l*I+a*p*I,S=m*p*h-c*C*h-m*l*f+o*C*f+c*l*I-o*p*I,x=c*g*h-m*u*h+m*a*f-o*g*f-c*a*I+o*u*I,F=m*u*l-c*g*l-m*a*p+o*g*p+c*a*C-o*u*C,O=t*E+i*S+r*x+n*F;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/O;return s[0]=E*R,s[1]=(g*p*n-u*C*n-g*r*f+i*C*f+u*r*I-i*p*I)*R,s[2]=(a*C*n-g*l*n+g*r*h-i*C*h-a*r*I+i*l*I)*R,s[3]=(u*l*n-a*p*n-u*r*h+i*p*h+a*r*f-i*l*f)*R,s[4]=S*R,s[5]=(c*C*n-m*p*n+m*r*f-t*C*f-c*r*I+t*p*I)*R,s[6]=(m*l*n-o*C*n-m*r*h+t*C*h+o*r*I-t*l*I)*R,s[7]=(o*p*n-c*l*n+c*r*h-t*p*h-o*r*f+t*l*f)*R,s[8]=x*R,s[9]=(m*u*n-c*g*n-m*i*f+t*g*f+c*i*I-t*u*I)*R,s[10]=(o*g*n-m*a*n+m*i*h-t*g*h-o*i*I+t*a*I)*R,s[11]=(c*a*n-o*u*n-c*i*h+t*u*h+o*i*f-t*a*f)*R,s[12]=F*R,s[13]=(c*g*r-m*u*r+m*i*p-t*g*p-c*i*C+t*u*C)*R,s[14]=(m*a*r-o*g*r-m*i*l+t*g*l+o*i*C-t*a*C)*R,s[15]=(o*u*r-c*a*r+c*i*l-t*u*l-o*i*p+t*a*p)*R,this}scale(s){const t=this.elements,i=s.x,r=s.y,n=s.z;return t[0]*=i,t[4]*=r,t[8]*=n,t[1]*=i,t[5]*=r,t[9]*=n,t[2]*=i,t[6]*=r,t[10]*=n,t[3]*=i,t[7]*=r,t[11]*=n,this}getMaxScaleOnAxis(){const s=this.elements,t=s[0]*s[0]+s[1]*s[1]+s[2]*s[2],i=s[4]*s[4]+s[5]*s[5]+s[6]*s[6],r=s[8]*s[8]+s[9]*s[9]+s[10]*s[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(s,t,i){return this.set(1,0,0,s,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(s){const t=Math.cos(s),i=Math.sin(s);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(s){const t=Math.cos(s),i=Math.sin(s);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(s){const t=Math.cos(s),i=Math.sin(s);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(s,t){const i=Math.cos(t),r=Math.sin(t),n=1-i,o=s.x,a=s.y,l=s.z,h=n*o,c=n*a;return this.set(h*o+i,h*a-r*l,h*l+r*a,0,h*a+r*l,c*a+i,c*l-r*o,0,h*l-r*a,c*l+r*o,n*l*l+i,0,0,0,0,1),this}makeScale(s,t,i){return this.set(s,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(s,t,i,r,n,o){return this.set(1,i,n,0,s,1,o,0,t,r,1,0,0,0,0,1),this}compose(s,t,i){const r=this.elements,n=t._x,o=t._y,a=t._z,l=t._w,h=n+n,c=o+o,u=a+a,p=n*h,f=n*c,m=n*u,g=o*c,C=o*u,I=a*u,E=l*h,S=l*c,x=l*u,F=i.x,O=i.y,R=i.z;return r[0]=(1-(g+I))*F,r[1]=(f+x)*F,r[2]=(m-S)*F,r[3]=0,r[4]=(f-x)*O,r[5]=(1-(p+I))*O,r[6]=(C+E)*O,r[7]=0,r[8]=(m+S)*R,r[9]=(C-E)*R,r[10]=(1-(p+g))*R,r[11]=0,r[12]=s.x,r[13]=s.y,r[14]=s.z,r[15]=1,this}decompose(s,t,i){const r=this.elements;let n=Yl.set(r[0],r[1],r[2]).length();const o=Yl.set(r[4],r[5],r[6]).length(),a=Yl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(n=-n),s.x=r[12],s.y=r[13],s.z=r[14],Vr.copy(this);const h=1/n,c=1/o,u=1/a;return Vr.elements[0]*=h,Vr.elements[1]*=h,Vr.elements[2]*=h,Vr.elements[4]*=c,Vr.elements[5]*=c,Vr.elements[6]*=c,Vr.elements[8]*=u,Vr.elements[9]*=u,Vr.elements[10]*=u,t.setFromRotationMatrix(Vr),i.x=n,i.y=o,i.z=a,this}makePerspective(s,t,i,r,n,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*n/(t-s),h=2*n/(i-r),c=(t+s)/(t-s),u=(i+r)/(i-r),p=-(o+n)/(o-n),f=-2*o*n/(o-n);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=h,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(s,t,i,r,n,o){const a=this.elements,l=1/(t-s),h=1/(i-r),c=1/(o-n),u=(t+s)*l,p=(i+r)*h,f=(o+n)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*h,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(s){const t=this.elements,i=s.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(s,t=0){for(let i=0;i<16;i++)this.elements[i]=s[i+t];return this}toArray(s=[],t=0){const i=this.elements;return s[t]=i[0],s[t+1]=i[1],s[t+2]=i[2],s[t+3]=i[3],s[t+4]=i[4],s[t+5]=i[5],s[t+6]=i[6],s[t+7]=i[7],s[t+8]=i[8],s[t+9]=i[9],s[t+10]=i[10],s[t+11]=i[11],s[t+12]=i[12],s[t+13]=i[13],s[t+14]=i[14],s[t+15]=i[15],s}}rt.prototype.isMatrix4=!0;const Yl=new H,Vr=new rt,Ak=new H(0,0,0),Ok=new H(1,1,1),wo=new H,zp=new H,sr=new H,nv=new rt,ov=new Ts;class ul{constructor(s=0,t=0,i=0,r=ul.DefaultOrder){this._x=s,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(s){this._x=s,this._onChangeCallback()}get y(){return this._y}set y(s){this._y=s,this._onChangeCallback()}get z(){return this._z}set z(s){this._z=s,this._onChangeCallback()}get order(){return this._order}set order(s){this._order=s,this._onChangeCallback()}set(s,t,i,r=this._order){return this._x=s,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(s){return this._x=s._x,this._y=s._y,this._z=s._z,this._order=s._order,this._onChangeCallback(),this}setFromRotationMatrix(s,t=this._order,i=!0){const r=s.elements,n=r[0],o=r[4],a=r[8],l=r[1],h=r[5],c=r[9],u=r[2],p=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(Ci(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-o,n)):(this._x=Math.atan2(p,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Ci(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(l,h)):(this._y=Math.atan2(-u,n),this._z=0);break;case"ZXY":this._x=Math.asin(Ci(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(l,n));break;case"ZYX":this._y=Math.asin(-Ci(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(p,f),this._z=Math.atan2(l,n)):(this._x=0,this._z=Math.atan2(-o,h));break;case"YZX":this._z=Math.asin(Ci(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,h),this._y=Math.atan2(-u,n)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-Ci(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,h),this._y=Math.atan2(a,n)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(s,t,i){return nv.makeRotationFromQuaternion(s),this.setFromRotationMatrix(nv,t,i)}setFromVector3(s,t=this._order){return this.set(s.x,s.y,s.z,t)}reorder(s){return ov.setFromEuler(this),this.setFromQuaternion(ov,s)}equals(s){return s._x===this._x&&s._y===this._y&&s._z===this._z&&s._order===this._order}fromArray(s){return this._x=s[0],this._y=s[1],this._z=s[2],s[3]!==void 0&&(this._order=s[3]),this._onChangeCallback(),this}toArray(s=[],t=0){return s[t]=this._x,s[t+1]=this._y,s[t+2]=this._z,s[t+3]=this._order,s}toVector3(s){return s?s.set(this._x,this._y,this._z):new H(this._x,this._y,this._z)}_onChange(s){return this._onChangeCallback=s,this}_onChangeCallback(){}}ul.prototype.isEuler=!0;ul.DefaultOrder="XYZ";ul.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class iS{constructor(){this.mask=1}set(s){this.mask=(1<<s|0)>>>0}enable(s){this.mask|=1<<s|0}enableAll(){this.mask=-1}toggle(s){this.mask^=1<<s|0}disable(s){this.mask&=~(1<<s|0)}disableAll(){this.mask=0}test(s){return(this.mask&s.mask)!==0}isEnabled(s){return(this.mask&(1<<s|0))!==0}}let Dk=0;const av=new H,Xl=new Ts,Bn=new rt,Wp=new H,Oc=new H,Mk=new H,Nk=new Ts,lv=new H(1,0,0),hv=new H(0,1,0),cv=new H(0,0,1),Lk={type:"added"},uv={type:"removed"};class jt extends cl{constructor(){super(),Object.defineProperty(this,"id",{value:Dk++}),this.uuid=Ar(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=jt.DefaultUp.clone();const s=new H,t=new ul,i=new Ts,r=new H(1,1,1);function n(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(n),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:s},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new rt},normalMatrix:{value:new Ks}}),this.matrix=new rt,this.matrixWorld=new rt,this.matrixAutoUpdate=jt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new iS,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(s){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(s),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(s){return this.quaternion.premultiply(s),this}setRotationFromAxisAngle(s,t){this.quaternion.setFromAxisAngle(s,t)}setRotationFromEuler(s){this.quaternion.setFromEuler(s,!0)}setRotationFromMatrix(s){this.quaternion.setFromRotationMatrix(s)}setRotationFromQuaternion(s){this.quaternion.copy(s)}rotateOnAxis(s,t){return Xl.setFromAxisAngle(s,t),this.quaternion.multiply(Xl),this}rotateOnWorldAxis(s,t){return Xl.setFromAxisAngle(s,t),this.quaternion.premultiply(Xl),this}rotateX(s){return this.rotateOnAxis(lv,s)}rotateY(s){return this.rotateOnAxis(hv,s)}rotateZ(s){return this.rotateOnAxis(cv,s)}translateOnAxis(s,t){return av.copy(s).applyQuaternion(this.quaternion),this.position.add(av.multiplyScalar(t)),this}translateX(s){return this.translateOnAxis(lv,s)}translateY(s){return this.translateOnAxis(hv,s)}translateZ(s){return this.translateOnAxis(cv,s)}localToWorld(s){return s.applyMatrix4(this.matrixWorld)}worldToLocal(s){return s.applyMatrix4(Bn.copy(this.matrixWorld).invert())}lookAt(s,t,i){s.isVector3?Wp.copy(s):Wp.set(s,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Oc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Bn.lookAt(Oc,Wp,this.up):Bn.lookAt(Wp,Oc,this.up),this.quaternion.setFromRotationMatrix(Bn),r&&(Bn.extractRotation(r.matrixWorld),Xl.setFromRotationMatrix(Bn),this.quaternion.premultiply(Xl.invert()))}add(s){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return s===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",s),this):(s&&s.isObject3D?(s.parent!==null&&s.parent.remove(s),s.parent=this,this.children.push(s),s.dispatchEvent(Lk)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",s),this)}remove(s){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(s);return t!==-1&&(s.parent=null,this.children.splice(t,1),s.dispatchEvent(uv)),this}removeFromParent(){const s=this.parent;return s!==null&&s.remove(this),this}clear(){for(let s=0;s<this.children.length;s++){const t=this.children[s];t.parent=null,t.dispatchEvent(uv)}return this.children.length=0,this}attach(s){return this.updateWorldMatrix(!0,!1),Bn.copy(this.matrixWorld).invert(),s.parent!==null&&(s.parent.updateWorldMatrix(!0,!1),Bn.multiply(s.parent.matrixWorld)),s.applyMatrix4(Bn),this.add(s),s.updateWorldMatrix(!1,!0),this}getObjectById(s){return this.getObjectByProperty("id",s)}getObjectByName(s){return this.getObjectByProperty("name",s)}getObjectByProperty(s,t){if(this[s]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(s,t);if(o!==void 0)return o}}getWorldPosition(s){return this.updateWorldMatrix(!0,!1),s.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(s){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Oc,s,Mk),s}getWorldScale(s){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Oc,Nk,s),s}getWorldDirection(s){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return s.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(s){s(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(s)}traverseVisible(s){if(this.visible===!1)return;s(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(s)}traverseAncestors(s){const t=this.parent;t!==null&&(s(t),t.traverseAncestors(s))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(s){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||s)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,s=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(s)}updateWorldMatrix(s,t){const i=this.parent;if(s===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let n=0,o=r.length;n<o;n++)r[n].updateWorldMatrix(!1,!0)}}toJSON(s){const t=s===void 0||typeof s=="string",i={};t&&(s={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function n(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(s)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(s).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(s).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=n(s.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let h=0,c=l.length;h<c;h++){const u=l[h];n(s.shapes,u)}else n(s.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(n(s.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,h=this.material.length;l<h;l++)a.push(n(s.materials,this.material[l]));r.material=a}else r.material=n(s.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(s).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(n(s.animations,l))}}if(t){const a=o(s.geometries),l=o(s.materials),h=o(s.textures),c=o(s.images),u=o(s.shapes),p=o(s.skeletons),f=o(s.animations);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),h.length>0&&(i.textures=h),c.length>0&&(i.images=c),u.length>0&&(i.shapes=u),p.length>0&&(i.skeletons=p),f.length>0&&(i.animations=f)}return i.object=r,i;function o(a){const l=[];for(const h in a){const c=a[h];delete c.metadata,l.push(c)}return l}}clone(s){return new this.constructor().copy(this,s)}copy(s,t=!0){if(this.name=s.name,this.up.copy(s.up),this.position.copy(s.position),this.rotation.order=s.rotation.order,this.quaternion.copy(s.quaternion),this.scale.copy(s.scale),this.matrix.copy(s.matrix),this.matrixWorld.copy(s.matrixWorld),this.matrixAutoUpdate=s.matrixAutoUpdate,this.matrixWorldNeedsUpdate=s.matrixWorldNeedsUpdate,this.layers.mask=s.layers.mask,this.visible=s.visible,this.castShadow=s.castShadow,this.receiveShadow=s.receiveShadow,this.frustumCulled=s.frustumCulled,this.renderOrder=s.renderOrder,this.userData=JSON.parse(JSON.stringify(s.userData)),t===!0)for(let i=0;i<s.children.length;i++){const r=s.children[i];this.add(r.clone())}return this}}jt.DefaultUp=new H(0,1,0);jt.DefaultMatrixAutoUpdate=!0;jt.prototype.isObject3D=!0;const jr=new H,kn=new H,VT=new H,Vn=new H,ql=new H,Ql=new H,pv=new H,jT=new H,zT=new H,WT=new H;class xs{constructor(s=new H,t=new H,i=new H){this.a=s,this.b=t,this.c=i}static getNormal(s,t,i,r){r.subVectors(i,t),jr.subVectors(s,t),r.cross(jr);const n=r.lengthSq();return n>0?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)}static getBarycoord(s,t,i,r,n){jr.subVectors(r,t),kn.subVectors(i,t),VT.subVectors(s,t);const o=jr.dot(jr),a=jr.dot(kn),l=jr.dot(VT),h=kn.dot(kn),c=kn.dot(VT),u=o*h-a*a;if(u===0)return n.set(-2,-1,-1);const p=1/u,f=(h*l-a*c)*p,m=(o*c-a*l)*p;return n.set(1-f-m,m,f)}static containsPoint(s,t,i,r){return this.getBarycoord(s,t,i,r,Vn),Vn.x>=0&&Vn.y>=0&&Vn.x+Vn.y<=1}static getUV(s,t,i,r,n,o,a,l){return this.getBarycoord(s,t,i,r,Vn),l.set(0,0),l.addScaledVector(n,Vn.x),l.addScaledVector(o,Vn.y),l.addScaledVector(a,Vn.z),l}static isFrontFacing(s,t,i,r){return jr.subVectors(i,t),kn.subVectors(s,t),jr.cross(kn).dot(r)<0}set(s,t,i){return this.a.copy(s),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(s,t,i,r){return this.a.copy(s[t]),this.b.copy(s[i]),this.c.copy(s[r]),this}setFromAttributeAndIndices(s,t,i,r){return this.a.fromBufferAttribute(s,t),this.b.fromBufferAttribute(s,i),this.c.fromBufferAttribute(s,r),this}clone(){return new this.constructor().copy(this)}copy(s){return this.a.copy(s.a),this.b.copy(s.b),this.c.copy(s.c),this}getArea(){return jr.subVectors(this.c,this.b),kn.subVectors(this.a,this.b),jr.cross(kn).length()*.5}getMidpoint(s){return s.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(s){return xs.getNormal(this.a,this.b,this.c,s)}getPlane(s){return s.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(s,t){return xs.getBarycoord(s,this.a,this.b,this.c,t)}getUV(s,t,i,r,n){return xs.getUV(s,this.a,this.b,this.c,t,i,r,n)}containsPoint(s){return xs.containsPoint(s,this.a,this.b,this.c)}isFrontFacing(s){return xs.isFrontFacing(this.a,this.b,this.c,s)}intersectsBox(s){return s.intersectsTriangle(this)}closestPointToPoint(s,t){const i=this.a,r=this.b,n=this.c;let o,a;ql.subVectors(r,i),Ql.subVectors(n,i),jT.subVectors(s,i);const l=ql.dot(jT),h=Ql.dot(jT);if(l<=0&&h<=0)return t.copy(i);zT.subVectors(s,r);const c=ql.dot(zT),u=Ql.dot(zT);if(c>=0&&u<=c)return t.copy(r);const p=l*u-c*h;if(p<=0&&l>=0&&c<=0)return o=l/(l-c),t.copy(i).addScaledVector(ql,o);WT.subVectors(s,n);const f=ql.dot(WT),m=Ql.dot(WT);if(m>=0&&f<=m)return t.copy(n);const g=f*h-l*m;if(g<=0&&h>=0&&m<=0)return a=h/(h-m),t.copy(i).addScaledVector(Ql,a);const C=c*m-f*u;if(C<=0&&u-c>=0&&f-m>=0)return pv.subVectors(n,r),a=(u-c)/(u-c+(f-m)),t.copy(r).addScaledVector(pv,a);const I=1/(C+g+p);return o=g*I,a=p*I,t.copy(i).addScaledVector(ql,o).addScaledVector(Ql,a)}equals(s){return s.a.equals(this.a)&&s.b.equals(this.b)&&s.c.equals(this.c)}}let Uk=0;class Ws extends cl{constructor(){super(),Object.defineProperty(this,"id",{value:Uk++}),this.uuid=Ar(),this.name="",this.type="Material",this.fog=!0,this.blending=du,this.side=sa,this.vertexColors=!1,this.opacity=1,this.format=Ds,this.transparent=!1,this.blendSrc=jw,this.blendDst=zw,this.blendEquation=Ho,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=uy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=dk,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=OT,this.stencilZFail=OT,this.stencilZPass=OT,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(s){this._alphaTest>0!=s>0&&this.version++,this._alphaTest=s}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(s){if(s!==void 0)for(const t in s){const i=s[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===Vw;continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(s){const t=s===void 0||typeof s=="string";t&&(s={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(s).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(s).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(s).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(s).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(s).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(s).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(s).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(s).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(s).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(s).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(s).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(s).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(s).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(s).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(s).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(s).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(s).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(s).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(s).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(s).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(s).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==du&&(i.blending=this.blending),this.side!==sa&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.format!==Ds&&(i.format=this.format),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(n){const o=[];for(const a in n){const l=n[a];delete l.metadata,o.push(l)}return o}if(t){const n=r(s.textures),o=r(s.images);n.length>0&&(i.textures=n),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(s){this.name=s.name,this.fog=s.fog,this.blending=s.blending,this.side=s.side,this.vertexColors=s.vertexColors,this.opacity=s.opacity,this.format=s.format,this.transparent=s.transparent,this.blendSrc=s.blendSrc,this.blendDst=s.blendDst,this.blendEquation=s.blendEquation,this.blendSrcAlpha=s.blendSrcAlpha,this.blendDstAlpha=s.blendDstAlpha,this.blendEquationAlpha=s.blendEquationAlpha,this.depthFunc=s.depthFunc,this.depthTest=s.depthTest,this.depthWrite=s.depthWrite,this.stencilWriteMask=s.stencilWriteMask,this.stencilFunc=s.stencilFunc,this.stencilRef=s.stencilRef,this.stencilFuncMask=s.stencilFuncMask,this.stencilFail=s.stencilFail,this.stencilZFail=s.stencilZFail,this.stencilZPass=s.stencilZPass,this.stencilWrite=s.stencilWrite;const t=s.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let n=0;n!==r;++n)i[n]=t[n].clone()}return this.clippingPlanes=i,this.clipIntersection=s.clipIntersection,this.clipShadows=s.clipShadows,this.shadowSide=s.shadowSide,this.colorWrite=s.colorWrite,this.precision=s.precision,this.polygonOffset=s.polygonOffset,this.polygonOffsetFactor=s.polygonOffsetFactor,this.polygonOffsetUnits=s.polygonOffsetUnits,this.dithering=s.dithering,this.alphaTest=s.alphaTest,this.alphaToCoverage=s.alphaToCoverage,this.premultipliedAlpha=s.premultipliedAlpha,this.visible=s.visible,this.toneMapped=s.toneMapped,this.userData=JSON.parse(JSON.stringify(s.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(s){s===!0&&this.version++}}Ws.prototype.isMaterial=!0;const rS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},zr={h:0,s:0,l:0},Yp={h:0,s:0,l:0};function YT(e,s,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+(s-e)*6*t:t<1/2?s:t<2/3?e+(s-e)*6*(2/3-t):e}function XT(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function qT(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}class it{constructor(s,t,i){return t===void 0&&i===void 0?this.set(s):this.setRGB(s,t,i)}set(s){return s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s),this}setScalar(s){return this.r=s,this.g=s,this.b=s,this}setHex(s){return s=Math.floor(s),this.r=(s>>16&255)/255,this.g=(s>>8&255)/255,this.b=(s&255)/255,this}setRGB(s,t,i){return this.r=s,this.g=t,this.b=i,this}setHSL(s,t,i){if(s=wI(s,1),t=Ci(t,0,1),i=Ci(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,n=2*i-r;this.r=YT(n,r,s+1/3),this.g=YT(n,r,s),this.b=YT(n,r,s-1/3)}return this}setStyle(s){function t(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+s+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(s)){let r;const n=i[1],o=i[2];switch(n){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const a=parseFloat(r[1])/360,l=parseInt(r[2],10)/100,h=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(a,l,h)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(s)){const r=i[1],n=r.length;if(n===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(n===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return s&&s.length>0?this.setColorName(s):this}setColorName(s){const t=rS[s.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+s),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(s){return this.r=s.r,this.g=s.g,this.b=s.b,this}copyGammaToLinear(s,t=2){return this.r=Math.pow(s.r,t),this.g=Math.pow(s.g,t),this.b=Math.pow(s.b,t),this}copyLinearToGamma(s,t=2){const i=t>0?1/t:1;return this.r=Math.pow(s.r,i),this.g=Math.pow(s.g,i),this.b=Math.pow(s.b,i),this}convertGammaToLinear(s){return this.copyGammaToLinear(this,s),this}convertLinearToGamma(s){return this.copyLinearToGamma(this,s),this}copySRGBToLinear(s){return this.r=XT(s.r),this.g=XT(s.g),this.b=XT(s.b),this}copyLinearToSRGB(s){return this.r=qT(s.r),this.g=qT(s.g),this.b=qT(s.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(s){const t=this.r,i=this.g,r=this.b,n=Math.max(t,i,r),o=Math.min(t,i,r);let a,l;const h=(o+n)/2;if(o===n)a=0,l=0;else{const c=n-o;switch(l=h<=.5?c/(n+o):c/(2-n-o),n){case t:a=(i-r)/c+(i<r?6:0);break;case i:a=(r-t)/c+2;break;case r:a=(t-i)/c+4;break}a/=6}return s.h=a,s.s=l,s.l=h,s}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(s,t,i){return this.getHSL(zr),zr.h+=s,zr.s+=t,zr.l+=i,this.setHSL(zr.h,zr.s,zr.l),this}add(s){return this.r+=s.r,this.g+=s.g,this.b+=s.b,this}addColors(s,t){return this.r=s.r+t.r,this.g=s.g+t.g,this.b=s.b+t.b,this}addScalar(s){return this.r+=s,this.g+=s,this.b+=s,this}sub(s){return this.r=Math.max(0,this.r-s.r),this.g=Math.max(0,this.g-s.g),this.b=Math.max(0,this.b-s.b),this}multiply(s){return this.r*=s.r,this.g*=s.g,this.b*=s.b,this}multiplyScalar(s){return this.r*=s,this.g*=s,this.b*=s,this}lerp(s,t){return this.r+=(s.r-this.r)*t,this.g+=(s.g-this.g)*t,this.b+=(s.b-this.b)*t,this}lerpColors(s,t,i){return this.r=s.r+(t.r-s.r)*i,this.g=s.g+(t.g-s.g)*i,this.b=s.b+(t.b-s.b)*i,this}lerpHSL(s,t){this.getHSL(zr),s.getHSL(Yp);const i=mu(zr.h,Yp.h,t),r=mu(zr.s,Yp.s,t),n=mu(zr.l,Yp.l,t);return this.setHSL(i,r,n),this}equals(s){return s.r===this.r&&s.g===this.g&&s.b===this.b}fromArray(s,t=0){return this.r=s[t],this.g=s[t+1],this.b=s[t+2],this}toArray(s=[],t=0){return s[t]=this.r,s[t+1]=this.g,s[t+2]=this.b,s}fromBufferAttribute(s,t){return this.r=s.getX(t),this.g=s.getY(t),this.b=s.getZ(t),s.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}it.NAMES=rS;it.prototype.isColor=!0;it.prototype.r=1;it.prototype.g=1;it.prototype.b=1;class wi extends Ws{constructor(s){super(),this.type="MeshBasicMaterial",this.color=new it(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Kd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.map=s.map,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.specularMap=s.specularMap,this.alphaMap=s.alphaMap,this.envMap=s.envMap,this.combine=s.combine,this.reflectivity=s.reflectivity,this.refractionRatio=s.refractionRatio,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this}}wi.prototype.isMeshBasicMaterial=!0;const ms=new H,Xp=new Re;class Rt{constructor(s,t,i){if(Array.isArray(s))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=s,this.itemSize=t,this.count=s!==void 0?s.length/t:0,this.normalized=i===!0,this.usage=Ou,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(s){s===!0&&this.version++}setUsage(s){return this.usage=s,this}copy(s){return this.name=s.name,this.array=new s.array.constructor(s.array),this.itemSize=s.itemSize,this.count=s.count,this.normalized=s.normalized,this.usage=s.usage,this}copyAt(s,t,i){s*=this.itemSize,i*=t.itemSize;for(let r=0,n=this.itemSize;r<n;r++)this.array[s+r]=t.array[i+r];return this}copyArray(s){return this.array.set(s),this}copyColorsArray(s){const t=this.array;let i=0;for(let r=0,n=s.length;r<n;r++){let o=s[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new it),t[i++]=o.r,t[i++]=o.g,t[i++]=o.b}return this}copyVector2sArray(s){const t=this.array;let i=0;for(let r=0,n=s.length;r<n;r++){let o=s[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Re),t[i++]=o.x,t[i++]=o.y}return this}copyVector3sArray(s){const t=this.array;let i=0;for(let r=0,n=s.length;r<n;r++){let o=s[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new H),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z}return this}copyVector4sArray(s){const t=this.array;let i=0;for(let r=0,n=s.length;r<n;r++){let o=s[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Qt),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z,t[i++]=o.w}return this}applyMatrix3(s){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Xp.fromBufferAttribute(this,t),Xp.applyMatrix3(s),this.setXY(t,Xp.x,Xp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ms.fromBufferAttribute(this,t),ms.applyMatrix3(s),this.setXYZ(t,ms.x,ms.y,ms.z);return this}applyMatrix4(s){for(let t=0,i=this.count;t<i;t++)ms.x=this.getX(t),ms.y=this.getY(t),ms.z=this.getZ(t),ms.applyMatrix4(s),this.setXYZ(t,ms.x,ms.y,ms.z);return this}applyNormalMatrix(s){for(let t=0,i=this.count;t<i;t++)ms.x=this.getX(t),ms.y=this.getY(t),ms.z=this.getZ(t),ms.applyNormalMatrix(s),this.setXYZ(t,ms.x,ms.y,ms.z);return this}transformDirection(s){for(let t=0,i=this.count;t<i;t++)ms.x=this.getX(t),ms.y=this.getY(t),ms.z=this.getZ(t),ms.transformDirection(s),this.setXYZ(t,ms.x,ms.y,ms.z);return this}set(s,t=0){return this.array.set(s,t),this}getX(s){return this.array[s*this.itemSize]}setX(s,t){return this.array[s*this.itemSize]=t,this}getY(s){return this.array[s*this.itemSize+1]}setY(s,t){return this.array[s*this.itemSize+1]=t,this}getZ(s){return this.array[s*this.itemSize+2]}setZ(s,t){return this.array[s*this.itemSize+2]=t,this}getW(s){return this.array[s*this.itemSize+3]}setW(s,t){return this.array[s*this.itemSize+3]=t,this}setXY(s,t,i){return s*=this.itemSize,this.array[s+0]=t,this.array[s+1]=i,this}setXYZ(s,t,i,r){return s*=this.itemSize,this.array[s+0]=t,this.array[s+1]=i,this.array[s+2]=r,this}setXYZW(s,t,i,r,n){return s*=this.itemSize,this.array[s+0]=t,this.array[s+1]=i,this.array[s+2]=r,this.array[s+3]=n,this}onUpload(s){return this.onUploadCallback=s,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const s={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(s.name=this.name),this.usage!==Ou&&(s.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(s.updateRange=this.updateRange),s}}Rt.prototype.isBufferAttribute=!0;class nS extends Rt{constructor(s,t,i){super(new Uint16Array(s),t,i)}}class oS extends Rt{constructor(s,t,i){super(new Uint32Array(s),t,i)}}class Hk extends Rt{constructor(s,t,i){super(new Uint16Array(s),t,i)}}Hk.prototype.isFloat16BufferAttribute=!0;class wt extends Rt{constructor(s,t,i){super(new Float32Array(s),t,i)}}let Gk=0;const vr=new rt,QT=new jt,$l=new H,ir=new gs,Dc=new gs,Xs=new H;class _t extends cl{constructor(){super(),Object.defineProperty(this,"id",{value:Gk++}),this.uuid=Ar(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(s){return Array.isArray(s)?this.index=new(sS(s)>65535?oS:nS)(s,1):this.index=s,this}getAttribute(s){return this.attributes[s]}setAttribute(s,t){return this.attributes[s]=t,this}deleteAttribute(s){return delete this.attributes[s],this}hasAttribute(s){return this.attributes[s]!==void 0}addGroup(s,t,i=0){this.groups.push({start:s,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(s,t){this.drawRange.start=s,this.drawRange.count=t}applyMatrix4(s){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(s),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const n=new Ks().getNormalMatrix(s);i.applyNormalMatrix(n),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(s),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(s){return vr.makeRotationFromQuaternion(s),this.applyMatrix4(vr),this}rotateX(s){return vr.makeRotationX(s),this.applyMatrix4(vr),this}rotateY(s){return vr.makeRotationY(s),this.applyMatrix4(vr),this}rotateZ(s){return vr.makeRotationZ(s),this.applyMatrix4(vr),this}translate(s,t,i){return vr.makeTranslation(s,t,i),this.applyMatrix4(vr),this}scale(s,t,i){return vr.makeScale(s,t,i),this.applyMatrix4(vr),this}lookAt(s){return QT.lookAt(s),QT.updateMatrix(),this.applyMatrix4(QT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter($l).negate(),this.translate($l.x,$l.y,$l.z),this}setFromPoints(s){const t=[];for(let i=0,r=s.length;i<r;i++){const n=s[i];t.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new wt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new gs);const s=this.attributes.position,t=this.morphAttributes.position;if(s&&s.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(s!==void 0){if(this.boundingBox.setFromBufferAttribute(s),t)for(let i=0,r=t.length;i<r;i++){const n=t[i];ir.setFromBufferAttribute(n),this.morphTargetsRelative?(Xs.addVectors(this.boundingBox.min,ir.min),this.boundingBox.expandByPoint(Xs),Xs.addVectors(this.boundingBox.max,ir.max),this.boundingBox.expandByPoint(Xs)):(this.boundingBox.expandByPoint(ir.min),this.boundingBox.expandByPoint(ir.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Mr);const s=this.attributes.position,t=this.morphAttributes.position;if(s&&s.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new H,1/0);return}if(s){const i=this.boundingSphere.center;if(ir.setFromBufferAttribute(s),t)for(let n=0,o=t.length;n<o;n++){const a=t[n];Dc.setFromBufferAttribute(a),this.morphTargetsRelative?(Xs.addVectors(ir.min,Dc.min),ir.expandByPoint(Xs),Xs.addVectors(ir.max,Dc.max),ir.expandByPoint(Xs)):(ir.expandByPoint(Dc.min),ir.expandByPoint(Dc.max))}ir.getCenter(i);let r=0;for(let n=0,o=s.count;n<o;n++)Xs.fromBufferAttribute(s,n),r=Math.max(r,i.distanceToSquared(Xs));if(t)for(let n=0,o=t.length;n<o;n++){const a=t[n],l=this.morphTargetsRelative;for(let h=0,c=a.count;h<c;h++)Xs.fromBufferAttribute(a,h),l&&($l.fromBufferAttribute(s,h),Xs.add($l)),r=Math.max(r,i.distanceToSquared(Xs))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const s=this.index,t=this.attributes;if(s===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=s.array,r=t.position.array,n=t.normal.array,o=t.uv.array,a=r.length/3;t.tangent===void 0&&this.setAttribute("tangent",new Rt(new Float32Array(4*a),4));const l=t.tangent.array,h=[],c=[];for(let V=0;V<a;V++)h[V]=new H,c[V]=new H;const u=new H,p=new H,f=new H,m=new Re,g=new Re,C=new Re,I=new H,E=new H;function S(V,B,oe){u.fromArray(r,V*3),p.fromArray(r,B*3),f.fromArray(r,oe*3),m.fromArray(o,V*2),g.fromArray(o,B*2),C.fromArray(o,oe*2),p.sub(u),f.sub(u),g.sub(m),C.sub(m);const $=1/(g.x*C.y-C.x*g.y);!isFinite($)||(I.copy(p).multiplyScalar(C.y).addScaledVector(f,-g.y).multiplyScalar($),E.copy(f).multiplyScalar(g.x).addScaledVector(p,-C.x).multiplyScalar($),h[V].add(I),h[B].add(I),h[oe].add(I),c[V].add(E),c[B].add(E),c[oe].add(E))}let x=this.groups;x.length===0&&(x=[{start:0,count:i.length}]);for(let V=0,B=x.length;V<B;++V){const oe=x[V],$=oe.start,Z=oe.count;for(let te=$,ee=$+Z;te<ee;te+=3)S(i[te+0],i[te+1],i[te+2])}const F=new H,O=new H,R=new H,L=new H;function G(V){R.fromArray(n,V*3),L.copy(R);const B=h[V];F.copy(B),F.sub(R.multiplyScalar(R.dot(B))).normalize(),O.crossVectors(L,B);const $=O.dot(c[V])<0?-1:1;l[V*4]=F.x,l[V*4+1]=F.y,l[V*4+2]=F.z,l[V*4+3]=$}for(let V=0,B=x.length;V<B;++V){const oe=x[V],$=oe.start,Z=oe.count;for(let te=$,ee=$+Z;te<ee;te+=3)G(i[te+0]),G(i[te+1]),G(i[te+2])}}computeVertexNormals(){const s=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Rt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,f=i.count;p<f;p++)i.setXYZ(p,0,0,0);const r=new H,n=new H,o=new H,a=new H,l=new H,h=new H,c=new H,u=new H;if(s)for(let p=0,f=s.count;p<f;p+=3){const m=s.getX(p+0),g=s.getX(p+1),C=s.getX(p+2);r.fromBufferAttribute(t,m),n.fromBufferAttribute(t,g),o.fromBufferAttribute(t,C),c.subVectors(o,n),u.subVectors(r,n),c.cross(u),a.fromBufferAttribute(i,m),l.fromBufferAttribute(i,g),h.fromBufferAttribute(i,C),a.add(c),l.add(c),h.add(c),i.setXYZ(m,a.x,a.y,a.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(C,h.x,h.y,h.z)}else for(let p=0,f=t.count;p<f;p+=3)r.fromBufferAttribute(t,p+0),n.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),c.subVectors(o,n),u.subVectors(r,n),c.cross(u),i.setXYZ(p+0,c.x,c.y,c.z),i.setXYZ(p+1,c.x,c.y,c.z),i.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(s,t){if(!(s&&s.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",s);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const r in i){if(s.attributes[r]===void 0)continue;const o=i[r].array,a=s.attributes[r],l=a.array,h=a.itemSize*t,c=Math.min(l.length,o.length-h);for(let u=0,p=h;u<c;u++,p++)o[p]=l[u]}return this}normalizeNormals(){const s=this.attributes.normal;for(let t=0,i=s.count;t<i;t++)Xs.fromBufferAttribute(s,t),Xs.normalize(),s.setXYZ(t,Xs.x,Xs.y,Xs.z)}toNonIndexed(){function s(a,l){const h=a.array,c=a.itemSize,u=a.normalized,p=new h.constructor(l.length*c);let f=0,m=0;for(let g=0,C=l.length;g<C;g++){a.isInterleavedBufferAttribute?f=l[g]*a.data.stride+a.offset:f=l[g]*c;for(let I=0;I<c;I++)p[m++]=h[f++]}return new Rt(p,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new _t,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],h=s(l,i);t.setAttribute(a,h)}const n=this.morphAttributes;for(const a in n){const l=[],h=n[a];for(let c=0,u=h.length;c<u;c++){const p=h[c],f=s(p,i);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const h=o[a];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const s={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),Object.keys(this.userData).length>0&&(s.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const h in l)l[h]!==void 0&&(s[h]=l[h]);return s}s.data={attributes:{}};const t=this.index;t!==null&&(s.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const h=i[l];s.data.attributes[l]=h.toJSON(s.data)}const r={};let n=!1;for(const l in this.morphAttributes){const h=this.morphAttributes[l],c=[];for(let u=0,p=h.length;u<p;u++){const f=h[u];c.push(f.toJSON(s.data))}c.length>0&&(r[l]=c,n=!0)}n&&(s.data.morphAttributes=r,s.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(s.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(s.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),s}clone(){return new this.constructor().copy(this)}copy(s){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=s.name;const i=s.index;i!==null&&this.setIndex(i.clone(t));const r=s.attributes;for(const h in r){const c=r[h];this.setAttribute(h,c.clone(t))}const n=s.morphAttributes;for(const h in n){const c=[],u=n[h];for(let p=0,f=u.length;p<f;p++)c.push(u[p].clone(t));this.morphAttributes[h]=c}this.morphTargetsRelative=s.morphTargetsRelative;const o=s.groups;for(let h=0,c=o.length;h<c;h++){const u=o[h];this.addGroup(u.start,u.count,u.materialIndex)}const a=s.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=s.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=s.drawRange.start,this.drawRange.count=s.drawRange.count,this.userData=s.userData,s.parameters!==void 0&&(this.parameters=Object.assign({},s.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}_t.prototype.isBufferGeometry=!0;const fv=new rt,Zl=new ho,$T=new Mr,So=new H,xo=new H,bo=new H,ZT=new H,KT=new H,JT=new H,qp=new H,Qp=new H,$p=new H,Zp=new Re,Kp=new Re,Jp=new Re,eg=new H,ef=new H;class Qe extends jt{constructor(s=new _t,t=new wi){super(),this.type="Mesh",this.geometry=s,this.material=t,this.updateMorphTargets()}copy(s){return super.copy(s),s.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=s.morphTargetInfluences.slice()),s.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},s.morphTargetDictionary)),this.material=s.material,this.geometry=s.geometry,this}updateMorphTargets(){const s=this.geometry;if(s.isBufferGeometry){const t=s.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let n=0,o=r.length;n<o;n++){const a=r[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=n}}}}else{const t=s.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(s,t){const i=this.geometry,r=this.material,n=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),$T.copy(i.boundingSphere),$T.applyMatrix4(n),s.ray.intersectsSphere($T)===!1)||(fv.copy(n).invert(),Zl.copy(s.ray).applyMatrix4(fv),i.boundingBox!==null&&Zl.intersectsBox(i.boundingBox)===!1))return;let o;if(i.isBufferGeometry){const a=i.index,l=i.attributes.position,h=i.morphAttributes.position,c=i.morphTargetsRelative,u=i.attributes.uv,p=i.attributes.uv2,f=i.groups,m=i.drawRange;if(a!==null)if(Array.isArray(r))for(let g=0,C=f.length;g<C;g++){const I=f[g],E=r[I.materialIndex],S=Math.max(I.start,m.start),x=Math.min(a.count,Math.min(I.start+I.count,m.start+m.count));for(let F=S,O=x;F<O;F+=3){const R=a.getX(F),L=a.getX(F+1),G=a.getX(F+2);o=tf(this,E,s,Zl,l,h,c,u,p,R,L,G),o&&(o.faceIndex=Math.floor(F/3),o.face.materialIndex=I.materialIndex,t.push(o))}}else{const g=Math.max(0,m.start),C=Math.min(a.count,m.start+m.count);for(let I=g,E=C;I<E;I+=3){const S=a.getX(I),x=a.getX(I+1),F=a.getX(I+2);o=tf(this,r,s,Zl,l,h,c,u,p,S,x,F),o&&(o.faceIndex=Math.floor(I/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let g=0,C=f.length;g<C;g++){const I=f[g],E=r[I.materialIndex],S=Math.max(I.start,m.start),x=Math.min(l.count,Math.min(I.start+I.count,m.start+m.count));for(let F=S,O=x;F<O;F+=3){const R=F,L=F+1,G=F+2;o=tf(this,E,s,Zl,l,h,c,u,p,R,L,G),o&&(o.faceIndex=Math.floor(F/3),o.face.materialIndex=I.materialIndex,t.push(o))}}else{const g=Math.max(0,m.start),C=Math.min(l.count,m.start+m.count);for(let I=g,E=C;I<E;I+=3){const S=I,x=I+1,F=I+2;o=tf(this,r,s,Zl,l,h,c,u,p,S,x,F),o&&(o.faceIndex=Math.floor(I/3),t.push(o))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Qe.prototype.isMesh=!0;function Bk(e,s,t,i,r,n,o,a){let l;if(s.side===Us?l=i.intersectTriangle(o,n,r,!0,a):l=i.intersectTriangle(r,n,o,s.side!==qi,a),l===null)return null;ef.copy(a),ef.applyMatrix4(e.matrixWorld);const h=t.ray.origin.distanceTo(ef);return h<t.near||h>t.far?null:{distance:h,point:ef.clone(),object:e}}function tf(e,s,t,i,r,n,o,a,l,h,c,u){So.fromBufferAttribute(r,h),xo.fromBufferAttribute(r,c),bo.fromBufferAttribute(r,u);const p=e.morphTargetInfluences;if(n&&p){qp.set(0,0,0),Qp.set(0,0,0),$p.set(0,0,0);for(let m=0,g=n.length;m<g;m++){const C=p[m],I=n[m];C!==0&&(ZT.fromBufferAttribute(I,h),KT.fromBufferAttribute(I,c),JT.fromBufferAttribute(I,u),o?(qp.addScaledVector(ZT,C),Qp.addScaledVector(KT,C),$p.addScaledVector(JT,C)):(qp.addScaledVector(ZT.sub(So),C),Qp.addScaledVector(KT.sub(xo),C),$p.addScaledVector(JT.sub(bo),C)))}So.add(qp),xo.add(Qp),bo.add($p)}e.isSkinnedMesh&&(e.boneTransform(h,So),e.boneTransform(c,xo),e.boneTransform(u,bo));const f=Bk(e,s,t,i,So,xo,bo,eg);if(f){a&&(Zp.fromBufferAttribute(a,h),Kp.fromBufferAttribute(a,c),Jp.fromBufferAttribute(a,u),f.uv=xs.getUV(eg,So,xo,bo,Zp,Kp,Jp,new Re)),l&&(Zp.fromBufferAttribute(l,h),Kp.fromBufferAttribute(l,c),Jp.fromBufferAttribute(l,u),f.uv2=xs.getUV(eg,So,xo,bo,Zp,Kp,Jp,new Re));const m={a:h,b:c,c:u,normal:new H,materialIndex:0};xs.getNormal(So,xo,bo,m.normal),f.face=m}return f}class Ls extends _t{constructor(s=1,t=1,i=1,r=1,n=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:s,height:t,depth:i,widthSegments:r,heightSegments:n,depthSegments:o};const a=this;r=Math.floor(r),n=Math.floor(n),o=Math.floor(o);const l=[],h=[],c=[],u=[];let p=0,f=0;m("z","y","x",-1,-1,i,t,s,o,n,0),m("z","y","x",1,-1,i,t,-s,o,n,1),m("x","z","y",1,1,s,i,t,r,o,2),m("x","z","y",1,-1,s,i,-t,r,o,3),m("x","y","z",1,-1,s,t,i,r,n,4),m("x","y","z",-1,-1,s,t,-i,r,n,5),this.setIndex(l),this.setAttribute("position",new wt(h,3)),this.setAttribute("normal",new wt(c,3)),this.setAttribute("uv",new wt(u,2));function m(g,C,I,E,S,x,F,O,R,L,G){const V=x/R,B=F/L,oe=x/2,$=F/2,Z=O/2,te=R+1,ee=L+1;let J=0,ie=0;const re=new H;for(let ae=0;ae<ee;ae++){const le=ae*B-$;for(let me=0;me<te;me++){const Te=me*V-oe;re[g]=Te*E,re[C]=le*S,re[I]=Z,h.push(re.x,re.y,re.z),re[g]=0,re[C]=0,re[I]=O>0?1:-1,c.push(re.x,re.y,re.z),u.push(me/R),u.push(1-ae/L),J+=1}}for(let ae=0;ae<L;ae++)for(let le=0;le<R;le++){const me=p+le+te*ae,Te=p+le+te*(ae+1),Ce=p+(le+1)+te*(ae+1),Ue=p+(le+1)+te*ae;l.push(me,Te,Ue),l.push(Te,Ce,Ue),ie+=6}a.addGroup(f,ie,G),f+=ie,p+=J}}static fromJSON(s){return new Ls(s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments)}}function kh(e){const s={};for(const t in e){s[t]={};for(const i in e[t]){const r=e[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?s[t][i]=r.clone():Array.isArray(r)?s[t][i]=r.slice():s[t][i]=r}}return s}function yi(e){const s={};for(let t=0;t<e.length;t++){const i=kh(e[t]);for(const r in i)s[r]=i[r]}return s}const Kn={clone:kh,merge:yi};var kk=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Vk=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Zs extends Ws{constructor(s){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=kk,this.fragmentShader=Vk,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,s!==void 0&&(s.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(s))}copy(s){return super.copy(s),this.fragmentShader=s.fragmentShader,this.vertexShader=s.vertexShader,this.uniforms=kh(s.uniforms),this.defines=Object.assign({},s.defines),this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.lights=s.lights,this.clipping=s.clipping,this.extensions=Object.assign({},s.extensions),this.glslVersion=s.glslVersion,this}toJSON(s){const t=super.toJSON(s);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(s).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}Zs.prototype.isShaderMaterial=!0;class xI extends jt{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new rt,this.projectionMatrix=new rt,this.projectionMatrixInverse=new rt}copy(s,t){return super.copy(s,t),this.matrixWorldInverse.copy(s.matrixWorldInverse),this.projectionMatrix.copy(s.projectionMatrix),this.projectionMatrixInverse.copy(s.projectionMatrixInverse),this}getWorldDirection(s){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return s.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(s){super.updateMatrixWorld(s),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(s,t){super.updateWorldMatrix(s,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}xI.prototype.isCamera=!0;class ui extends xI{constructor(s=50,t=1,i=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=s,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(s,t){return super.copy(s,t),this.fov=s.fov,this.zoom=s.zoom,this.near=s.near,this.far=s.far,this.focus=s.focus,this.aspect=s.aspect,this.view=s.view===null?null:Object.assign({},s.view),this.filmGauge=s.filmGauge,this.filmOffset=s.filmOffset,this}setFocalLength(s){const t=.5*this.getFilmHeight()/s;this.fov=Mu*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const s=Math.tan(Fh*.5*this.fov);return .5*this.getFilmHeight()/s}getEffectiveFOV(){return Mu*2*Math.atan(Math.tan(Fh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(s,t,i,r,n,o){this.aspect=s/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=s,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const s=this.near;let t=s*Math.tan(Fh*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,n=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,h=o.fullHeight;n+=o.offsetX*r/l,t-=o.offsetY*i/h,r*=o.width/l,i*=o.height/h}const a=this.filmOffset;a!==0&&(n+=s*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+r,t,t-i,s,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(s){const t=super.toJSON(s);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}ui.prototype.isPerspectiveCamera=!0;const Kl=90,Jl=1;class bI extends jt{constructor(s,t,i){if(super(),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const r=new ui(Kl,Jl,s,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new H(1,0,0)),this.add(r);const n=new ui(Kl,Jl,s,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new H(-1,0,0)),this.add(n);const o=new ui(Kl,Jl,s,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new H(0,1,0)),this.add(o);const a=new ui(Kl,Jl,s,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new H(0,-1,0)),this.add(a);const l=new ui(Kl,Jl,s,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new H(0,0,1)),this.add(l);const h=new ui(Kl,Jl,s,t);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new H(0,0,-1)),this.add(h)}update(s,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,n,o,a,l,h]=this.children,c=s.xr.enabled,u=s.getRenderTarget();s.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,s.setRenderTarget(i,0),s.render(t,r),s.setRenderTarget(i,1),s.render(t,n),s.setRenderTarget(i,2),s.render(t,o),s.setRenderTarget(i,3),s.render(t,a),s.setRenderTarget(i,4),s.render(t,l),i.texture.generateMipmaps=p,s.setRenderTarget(i,5),s.render(t,h),s.setRenderTarget(u),s.xr.enabled=c}}class tm extends Ys{constructor(s,t,i,r,n,o,a,l,h,c){s=s!==void 0?s:[],t=t!==void 0?t:Ju,super(s,t,i,r,n,o,a,l,h,c),this.flipY=!1}get images(){return this.image}set images(s){this.image=s}}tm.prototype.isCubeTexture=!0;class aS extends zs{constructor(s,t,i){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=i),super(s,s,t),t=t||{},this.texture=new tm(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:js,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(s,t){this.texture.type=t.type,this.texture.format=Ds,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Ls(5,5,5),n=new Zs({name:"CubemapFromEquirect",uniforms:kh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Us,blending:ci});n.uniforms.tEquirect.value=t;const o=new Qe(r,n),a=t.minFilter;return t.minFilter===ll&&(t.minFilter=js),new bI(1,10,this).update(s,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(s,t,i,r){const n=s.getRenderTarget();for(let o=0;o<6;o++)s.setRenderTarget(this,o),s.clear(t,i,r);s.setRenderTarget(n)}}aS.prototype.isWebGLCubeRenderTarget=!0;const tg=new H,jk=new H,zk=new Ks;class Bi{constructor(s=new H(1,0,0),t=0){this.normal=s,this.constant=t}set(s,t){return this.normal.copy(s),this.constant=t,this}setComponents(s,t,i,r){return this.normal.set(s,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(s,t){return this.normal.copy(s),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(s,t,i){const r=tg.subVectors(i,t).cross(jk.subVectors(s,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,s),this}copy(s){return this.normal.copy(s.normal),this.constant=s.constant,this}normalize(){const s=1/this.normal.length();return this.normal.multiplyScalar(s),this.constant*=s,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(s){return this.normal.dot(s)+this.constant}distanceToSphere(s){return this.distanceToPoint(s.center)-s.radius}projectPoint(s,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(s)).add(s)}intersectLine(s,t){const i=s.delta(tg),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(s.start)===0?t.copy(s.start):null;const n=-(s.start.dot(this.normal)+this.constant)/r;return n<0||n>1?null:t.copy(i).multiplyScalar(n).add(s.start)}intersectsLine(s){const t=this.distanceToPoint(s.start),i=this.distanceToPoint(s.end);return t<0&&i>0||i<0&&t>0}intersectsBox(s){return s.intersectsPlane(this)}intersectsSphere(s){return s.intersectsPlane(this)}coplanarPoint(s){return s.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(s,t){const i=t||zk.getNormalMatrix(s),r=this.coplanarPoint(tg).applyMatrix4(s),n=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(n),this}translate(s){return this.constant-=s.dot(this.normal),this}equals(s){return s.normal.equals(this.normal)&&s.constant===this.constant}clone(){return new this.constructor().copy(this)}}Bi.prototype.isPlane=!0;const eh=new Mr,sf=new H;class sm{constructor(s=new Bi,t=new Bi,i=new Bi,r=new Bi,n=new Bi,o=new Bi){this.planes=[s,t,i,r,n,o]}set(s,t,i,r,n,o){const a=this.planes;return a[0].copy(s),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(n),a[5].copy(o),this}copy(s){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(s.planes[i]);return this}setFromProjectionMatrix(s){const t=this.planes,i=s.elements,r=i[0],n=i[1],o=i[2],a=i[3],l=i[4],h=i[5],c=i[6],u=i[7],p=i[8],f=i[9],m=i[10],g=i[11],C=i[12],I=i[13],E=i[14],S=i[15];return t[0].setComponents(a-r,u-l,g-p,S-C).normalize(),t[1].setComponents(a+r,u+l,g+p,S+C).normalize(),t[2].setComponents(a+n,u+h,g+f,S+I).normalize(),t[3].setComponents(a-n,u-h,g-f,S-I).normalize(),t[4].setComponents(a-o,u-c,g-m,S-E).normalize(),t[5].setComponents(a+o,u+c,g+m,S+E).normalize(),this}intersectsObject(s){const t=s.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),eh.copy(t.boundingSphere).applyMatrix4(s.matrixWorld),this.intersectsSphere(eh)}intersectsSprite(s){return eh.center.set(0,0,0),eh.radius=.7071067811865476,eh.applyMatrix4(s.matrixWorld),this.intersectsSphere(eh)}intersectsSphere(s){const t=this.planes,i=s.center,r=-s.radius;for(let n=0;n<6;n++)if(t[n].distanceToPoint(i)<r)return!1;return!0}intersectsBox(s){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(sf.x=r.normal.x>0?s.max.x:s.min.x,sf.y=r.normal.y>0?s.max.y:s.min.y,sf.z=r.normal.z>0?s.max.z:s.min.z,r.distanceToPoint(sf)<0)return!1}return!0}containsPoint(s){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(s)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function lS(){let e=null,s=!1,t=null,i=null;function r(n,o){t(n,o),i=e.requestAnimationFrame(r)}return{start:function(){s!==!0&&t!==null&&(i=e.requestAnimationFrame(r),s=!0)},stop:function(){e.cancelAnimationFrame(i),s=!1},setAnimationLoop:function(n){t=n},setContext:function(n){e=n}}}function Wk(e,s){const t=s.isWebGL2,i=new WeakMap;function r(h,c){const u=h.array,p=h.usage,f=e.createBuffer();e.bindBuffer(c,f),e.bufferData(c,u,p),h.onUploadCallback();let m=5126;return u instanceof Float32Array?m=5126:u instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):u instanceof Uint16Array?h.isFloat16BufferAttribute?t?m=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):m=5123:u instanceof Int16Array?m=5122:u instanceof Uint32Array?m=5125:u instanceof Int32Array?m=5124:u instanceof Int8Array?m=5120:(u instanceof Uint8Array||u instanceof Uint8ClampedArray)&&(m=5121),{buffer:f,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:h.version}}function n(h,c,u){const p=c.array,f=c.updateRange;e.bindBuffer(u,h),f.count===-1?e.bufferSubData(u,0,p):(t?e.bufferSubData(u,f.offset*p.BYTES_PER_ELEMENT,p,f.offset,f.count):e.bufferSubData(u,f.offset*p.BYTES_PER_ELEMENT,p.subarray(f.offset,f.offset+f.count)),f.count=-1)}function o(h){return h.isInterleavedBufferAttribute&&(h=h.data),i.get(h)}function a(h){h.isInterleavedBufferAttribute&&(h=h.data);const c=i.get(h);c&&(e.deleteBuffer(c.buffer),i.delete(h))}function l(h,c){if(h.isGLBufferAttribute){const p=i.get(h);(!p||p.version<h.version)&&i.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version});return}h.isInterleavedBufferAttribute&&(h=h.data);const u=i.get(h);u===void 0?i.set(h,r(h,c)):u.version<h.version&&(n(u.buffer,h,c),u.version=h.version)}return{get:o,remove:a,update:l}}class tc extends _t{constructor(s=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:s,height:t,widthSegments:i,heightSegments:r};const n=s/2,o=t/2,a=Math.floor(i),l=Math.floor(r),h=a+1,c=l+1,u=s/a,p=t/l,f=[],m=[],g=[],C=[];for(let I=0;I<c;I++){const E=I*p-o;for(let S=0;S<h;S++){const x=S*u-n;m.push(x,-E,0),g.push(0,0,1),C.push(S/a),C.push(1-I/l)}}for(let I=0;I<l;I++)for(let E=0;E<a;E++){const S=E+h*I,x=E+h*(I+1),F=E+1+h*(I+1),O=E+1+h*I;f.push(S,x,O),f.push(x,F,O)}this.setIndex(f),this.setAttribute("position",new wt(m,3)),this.setAttribute("normal",new wt(g,3)),this.setAttribute("uv",new wt(C,2))}static fromJSON(s){return new tc(s.width,s.height,s.widthSegments,s.heightSegments)}}var Yk=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Xk=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qk=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Qk=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,$k=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Zk=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Kk="vec3 transformed = vec3( position );",Jk=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,eV=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,tV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,sV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,iV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,rV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,nV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,oV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,aV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,lV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,hV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,cV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,uV=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,pV=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,fV=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,dV=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,mV=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,TV=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,gV="gl_FragColor = linearToOutputTexel( gl_FragColor );",yV=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}`,IV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,EV=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,vV=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,CV=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,_V=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,wV=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,SV=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,xV=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,bV=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,FV=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,RV=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,PV=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,AV=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,OV=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,DV=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,MV=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,NV=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,LV=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,UV=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,HV=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,GV=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,BV=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,kV=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,VV=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,jV=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,zV=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,WV=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,YV=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,XV=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,qV=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,QV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,$V=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ZV=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,KV=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,JV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,ej=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,tj=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,sj=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,ij=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,rj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,nj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,oj=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,aj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,lj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,hj=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,cj=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,uj=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,pj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,fj=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,dj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,mj=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Tj=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,gj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,yj=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ij=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Ej=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,vj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Cj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,_j=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,wj=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,Sj=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,xj=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,bj=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Fj=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Rj=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Pj=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Aj=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,Oj=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Dj=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Mj=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Nj=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Lj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Uj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Hj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Gj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Bj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,kj=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Vj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,jj=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,zj=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Wj=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Yj=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Xj=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,qj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Qj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,$j=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Zj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Kj=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Jj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ez=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tz=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sz=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,iz=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rz=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,nz=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,oz=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,az=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lz=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,hz=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cz=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uz=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pz=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dz=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mz=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Tz=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Mt={alphamap_fragment:Yk,alphamap_pars_fragment:Xk,alphatest_fragment:qk,alphatest_pars_fragment:Qk,aomap_fragment:$k,aomap_pars_fragment:Zk,begin_vertex:Kk,beginnormal_vertex:Jk,bsdfs:eV,bumpmap_pars_fragment:tV,clipping_planes_fragment:sV,clipping_planes_pars_fragment:iV,clipping_planes_pars_vertex:rV,clipping_planes_vertex:nV,color_fragment:oV,color_pars_fragment:aV,color_pars_vertex:lV,color_vertex:hV,common:cV,cube_uv_reflection_fragment:uV,defaultnormal_vertex:pV,displacementmap_pars_vertex:fV,displacementmap_vertex:dV,emissivemap_fragment:mV,emissivemap_pars_fragment:TV,encodings_fragment:gV,encodings_pars_fragment:yV,envmap_fragment:IV,envmap_common_pars_fragment:EV,envmap_pars_fragment:vV,envmap_pars_vertex:CV,envmap_physical_pars_fragment:DV,envmap_vertex:_V,fog_vertex:wV,fog_pars_vertex:SV,fog_fragment:xV,fog_pars_fragment:bV,gradientmap_pars_fragment:FV,lightmap_fragment:RV,lightmap_pars_fragment:PV,lights_lambert_vertex:AV,lights_pars_begin:OV,lights_toon_fragment:MV,lights_toon_pars_fragment:NV,lights_phong_fragment:LV,lights_phong_pars_fragment:UV,lights_physical_fragment:HV,lights_physical_pars_fragment:GV,lights_fragment_begin:BV,lights_fragment_maps:kV,lights_fragment_end:VV,logdepthbuf_fragment:jV,logdepthbuf_pars_fragment:zV,logdepthbuf_pars_vertex:WV,logdepthbuf_vertex:YV,map_fragment:XV,map_pars_fragment:qV,map_particle_fragment:QV,map_particle_pars_fragment:$V,metalnessmap_fragment:ZV,metalnessmap_pars_fragment:KV,morphnormal_vertex:JV,morphtarget_pars_vertex:ej,morphtarget_vertex:tj,normal_fragment_begin:sj,normal_fragment_maps:ij,normal_pars_fragment:rj,normal_pars_vertex:nj,normal_vertex:oj,normalmap_pars_fragment:aj,clearcoat_normal_fragment_begin:lj,clearcoat_normal_fragment_maps:hj,clearcoat_pars_fragment:cj,output_fragment:uj,packing:pj,premultiplied_alpha_fragment:fj,project_vertex:dj,dithering_fragment:mj,dithering_pars_fragment:Tj,roughnessmap_fragment:gj,roughnessmap_pars_fragment:yj,shadowmap_pars_fragment:Ij,shadowmap_pars_vertex:Ej,shadowmap_vertex:vj,shadowmask_pars_fragment:Cj,skinbase_vertex:_j,skinning_pars_vertex:wj,skinning_vertex:Sj,skinnormal_vertex:xj,specularmap_fragment:bj,specularmap_pars_fragment:Fj,tonemapping_fragment:Rj,tonemapping_pars_fragment:Pj,transmission_fragment:Aj,transmission_pars_fragment:Oj,uv_pars_fragment:Dj,uv_pars_vertex:Mj,uv_vertex:Nj,uv2_pars_fragment:Lj,uv2_pars_vertex:Uj,uv2_vertex:Hj,worldpos_vertex:Gj,background_vert:Bj,background_frag:kj,cube_vert:Vj,cube_frag:jj,depth_vert:zj,depth_frag:Wj,distanceRGBA_vert:Yj,distanceRGBA_frag:Xj,equirect_vert:qj,equirect_frag:Qj,linedashed_vert:$j,linedashed_frag:Zj,meshbasic_vert:Kj,meshbasic_frag:Jj,meshlambert_vert:ez,meshlambert_frag:tz,meshmatcap_vert:sz,meshmatcap_frag:iz,meshnormal_vert:rz,meshnormal_frag:nz,meshphong_vert:oz,meshphong_frag:az,meshphysical_vert:lz,meshphysical_frag:hz,meshtoon_vert:cz,meshtoon_frag:uz,points_vert:pz,points_frag:fz,shadow_vert:dz,shadow_frag:mz,sprite_vert:Tz,sprite_frag:gz},st={common:{diffuse:{value:new it(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ks},uv2Transform:{value:new Ks},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Re(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new it(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new it(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ks}},sprite:{diffuse:{value:new it(16777215)},opacity:{value:1},center:{value:new Re(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ks}}},ki={basic:{uniforms:yi([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:yi([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.fog,st.lights,{emissive:{value:new it(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:yi([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new it(0)},specular:{value:new it(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:yi([st.common,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.roughnessmap,st.metalnessmap,st.fog,st.lights,{emissive:{value:new it(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:yi([st.common,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.gradientmap,st.fog,st.lights,{emissive:{value:new it(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:yi([st.common,st.bumpmap,st.normalmap,st.displacementmap,st.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:yi([st.points,st.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:yi([st.common,st.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:yi([st.common,st.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:yi([st.common,st.bumpmap,st.normalmap,st.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:yi([st.sprite,st.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ks},t2D:{value:null}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},cube:{uniforms:yi([st.envmap,{opacity:{value:1}}]),vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:yi([st.common,st.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:yi([st.lights,st.fog,{color:{value:new it(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};ki.physical={uniforms:yi([ki.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Re(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new it(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Re},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new it(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new it(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};function yz(e,s,t,i,r){const n=new it(0);let o=0,a,l,h=null,c=0,u=null;function p(m,g){let C=!1,I=g.isScene===!0?g.background:null;I&&I.isTexture&&(I=s.get(I));const E=e.xr,S=E.getSession&&E.getSession();S&&S.environmentBlendMode==="additive"&&(I=null),I===null?f(n,o):I&&I.isColor&&(f(I,1),C=!0),(e.autoClear||C)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),I&&(I.isCubeTexture||I.mapping===Jd)?(l===void 0&&(l=new Qe(new Ls(1,1,1),new Zs({name:"BackgroundCubeMaterial",uniforms:kh(ki.cube.uniforms),vertexShader:ki.cube.vertexShader,fragmentShader:ki.cube.fragmentShader,side:Us,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(x,F,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=I,l.material.uniforms.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,(h!==I||c!==I.version||u!==e.toneMapping)&&(l.material.needsUpdate=!0,h=I,c=I.version,u=e.toneMapping),m.unshift(l,l.geometry,l.material,0,0,null)):I&&I.isTexture&&(a===void 0&&(a=new Qe(new tc(2,2),new Zs({name:"BackgroundMaterial",uniforms:kh(ki.background.uniforms),vertexShader:ki.background.vertexShader,fragmentShader:ki.background.fragmentShader,side:sa,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=I,I.matrixAutoUpdate===!0&&I.updateMatrix(),a.material.uniforms.uvTransform.value.copy(I.matrix),(h!==I||c!==I.version||u!==e.toneMapping)&&(a.material.needsUpdate=!0,h=I,c=I.version,u=e.toneMapping),m.unshift(a,a.geometry,a.material,0,0,null))}function f(m,g){t.buffers.color.setClear(m.r,m.g,m.b,g,r)}return{getClearColor:function(){return n},setClearColor:function(m,g=1){n.set(m),o=g,f(n,o)},getClearAlpha:function(){return o},setClearAlpha:function(m){o=m,f(n,o)},render:p}}function Iz(e,s,t,i){const r=e.getParameter(34921),n=i.isWebGL2?null:s.get("OES_vertex_array_object"),o=i.isWebGL2||n!==null,a={},l=g(null);let h=l;function c($,Z,te,ee,J){let ie=!1;if(o){const re=m(ee,te,Z);h!==re&&(h=re,p(h.object)),ie=C(ee,J),ie&&I(ee,J)}else{const re=Z.wireframe===!0;(h.geometry!==ee.id||h.program!==te.id||h.wireframe!==re)&&(h.geometry=ee.id,h.program=te.id,h.wireframe=re,ie=!0)}$.isInstancedMesh===!0&&(ie=!0),J!==null&&t.update(J,34963),ie&&(R($,Z,te,ee),J!==null&&e.bindBuffer(34963,t.get(J).buffer))}function u(){return i.isWebGL2?e.createVertexArray():n.createVertexArrayOES()}function p($){return i.isWebGL2?e.bindVertexArray($):n.bindVertexArrayOES($)}function f($){return i.isWebGL2?e.deleteVertexArray($):n.deleteVertexArrayOES($)}function m($,Z,te){const ee=te.wireframe===!0;let J=a[$.id];J===void 0&&(J={},a[$.id]=J);let ie=J[Z.id];ie===void 0&&(ie={},J[Z.id]=ie);let re=ie[ee];return re===void 0&&(re=g(u()),ie[ee]=re),re}function g($){const Z=[],te=[],ee=[];for(let J=0;J<r;J++)Z[J]=0,te[J]=0,ee[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Z,enabledAttributes:te,attributeDivisors:ee,object:$,attributes:{},index:null}}function C($,Z){const te=h.attributes,ee=$.attributes;let J=0;for(const ie in ee){const re=te[ie],ae=ee[ie];if(re===void 0||re.attribute!==ae||re.data!==ae.data)return!0;J++}return h.attributesNum!==J||h.index!==Z}function I($,Z){const te={},ee=$.attributes;let J=0;for(const ie in ee){const re=ee[ie],ae={};ae.attribute=re,re.data&&(ae.data=re.data),te[ie]=ae,J++}h.attributes=te,h.attributesNum=J,h.index=Z}function E(){const $=h.newAttributes;for(let Z=0,te=$.length;Z<te;Z++)$[Z]=0}function S($){x($,0)}function x($,Z){const te=h.newAttributes,ee=h.enabledAttributes,J=h.attributeDivisors;te[$]=1,ee[$]===0&&(e.enableVertexAttribArray($),ee[$]=1),J[$]!==Z&&((i.isWebGL2?e:s.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"]($,Z),J[$]=Z)}function F(){const $=h.newAttributes,Z=h.enabledAttributes;for(let te=0,ee=Z.length;te<ee;te++)Z[te]!==$[te]&&(e.disableVertexAttribArray(te),Z[te]=0)}function O($,Z,te,ee,J,ie){i.isWebGL2===!0&&(te===5124||te===5125)?e.vertexAttribIPointer($,Z,te,J,ie):e.vertexAttribPointer($,Z,te,ee,J,ie)}function R($,Z,te,ee){if(i.isWebGL2===!1&&($.isInstancedMesh||ee.isInstancedBufferGeometry)&&s.get("ANGLE_instanced_arrays")===null)return;E();const J=ee.attributes,ie=te.getAttributes(),re=Z.defaultAttributeValues;for(const ae in ie){const le=ie[ae];if(le.location>=0){let me=J[ae];if(me===void 0&&(ae==="instanceMatrix"&&$.instanceMatrix&&(me=$.instanceMatrix),ae==="instanceColor"&&$.instanceColor&&(me=$.instanceColor)),me!==void 0){const Te=me.normalized,Ce=me.itemSize,Ue=t.get(me);if(Ue===void 0)continue;const ye=Ue.buffer,Be=Ue.type,Ze=Ue.bytesPerElement;if(me.isInterleavedBufferAttribute){const ke=me.data,Ne=ke.stride,ct=me.offset;if(ke&&ke.isInstancedInterleavedBuffer){for(let we=0;we<le.locationSize;we++)x(le.location+we,ke.meshPerAttribute);$.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=ke.meshPerAttribute*ke.count)}else for(let we=0;we<le.locationSize;we++)S(le.location+we);e.bindBuffer(34962,ye);for(let we=0;we<le.locationSize;we++)O(le.location+we,Ce/le.locationSize,Be,Te,Ne*Ze,(ct+Ce/le.locationSize*we)*Ze)}else{if(me.isInstancedBufferAttribute){for(let ke=0;ke<le.locationSize;ke++)x(le.location+ke,me.meshPerAttribute);$.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let ke=0;ke<le.locationSize;ke++)S(le.location+ke);e.bindBuffer(34962,ye);for(let ke=0;ke<le.locationSize;ke++)O(le.location+ke,Ce/le.locationSize,Be,Te,Ce*Ze,Ce/le.locationSize*ke*Ze)}}else if(re!==void 0){const Te=re[ae];if(Te!==void 0)switch(Te.length){case 2:e.vertexAttrib2fv(le.location,Te);break;case 3:e.vertexAttrib3fv(le.location,Te);break;case 4:e.vertexAttrib4fv(le.location,Te);break;default:e.vertexAttrib1fv(le.location,Te)}}}}F()}function L(){B();for(const $ in a){const Z=a[$];for(const te in Z){const ee=Z[te];for(const J in ee)f(ee[J].object),delete ee[J];delete Z[te]}delete a[$]}}function G($){if(a[$.id]===void 0)return;const Z=a[$.id];for(const te in Z){const ee=Z[te];for(const J in ee)f(ee[J].object),delete ee[J];delete Z[te]}delete a[$.id]}function V($){for(const Z in a){const te=a[Z];if(te[$.id]===void 0)continue;const ee=te[$.id];for(const J in ee)f(ee[J].object),delete ee[J];delete te[$.id]}}function B(){oe(),h!==l&&(h=l,p(h.object))}function oe(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:c,reset:B,resetDefaultState:oe,dispose:L,releaseStatesOfGeometry:G,releaseStatesOfProgram:V,initAttributes:E,enableAttribute:S,disableUnusedAttributes:F}}function Ez(e,s,t,i){const r=i.isWebGL2;let n;function o(h){n=h}function a(h,c){e.drawArrays(n,h,c),t.update(c,n,1)}function l(h,c,u){if(u===0)return;let p,f;if(r)p=e,f="drawArraysInstanced";else if(p=s.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[f](n,h,c,u),t.update(c,n,u)}this.setMode=o,this.render=a,this.renderInstances=l}function vz(e,s,t){let i;function r(){if(i!==void 0)return i;if(s.has("EXT_texture_filter_anisotropic")===!0){const R=s.get("EXT_texture_filter_anisotropic");i=e.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function n(R){if(R==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=n(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const h=o||s.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,u=e.getParameter(34930),p=e.getParameter(35660),f=e.getParameter(3379),m=e.getParameter(34076),g=e.getParameter(34921),C=e.getParameter(36347),I=e.getParameter(36348),E=e.getParameter(36349),S=p>0,x=o||s.has("OES_texture_float"),F=S&&x,O=o?e.getParameter(36183):0;return{isWebGL2:o,drawBuffers:h,getMaxAnisotropy:r,getMaxPrecision:n,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:p,maxTextureSize:f,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:C,maxVaryings:I,maxFragmentUniforms:E,vertexTextures:S,floatFragmentTextures:x,floatVertexTextures:F,maxSamples:O}}function Cz(e){const s=this;let t=null,i=0,r=!1,n=!1;const o=new Bi,a=new Ks,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,p,f){const m=u.length!==0||p||i!==0||r;return r=p,t=c(u,f,0),i=u.length,m},this.beginShadows=function(){n=!0,c(null)},this.endShadows=function(){n=!1,h()},this.setState=function(u,p,f){const m=u.clippingPlanes,g=u.clipIntersection,C=u.clipShadows,I=e.get(u);if(!r||m===null||m.length===0||n&&!C)n?c(null):h();else{const E=n?0:i,S=E*4;let x=I.clippingState||null;l.value=x,x=c(m,p,S,f);for(let F=0;F!==S;++F)x[F]=t[F];I.clippingState=x,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=E}};function h(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),s.numPlanes=i,s.numIntersection=0}function c(u,p,f,m){const g=u!==null?u.length:0;let C=null;if(g!==0){if(C=l.value,m!==!0||C===null){const I=f+g*4,E=p.matrixWorldInverse;a.getNormalMatrix(E),(C===null||C.length<I)&&(C=new Float32Array(I));for(let S=0,x=f;S!==g;++S,x+=4)o.copy(u[S]).applyMatrix4(E,a),o.normal.toArray(C,x),C[x+3]=o.constant}l.value=C,l.needsUpdate=!0}return s.numPlanes=g,s.numIntersection=0,C}}function _z(e){let s=new WeakMap;function t(o,a){return a===py?o.mapping=Ju:a===fy&&(o.mapping=ep),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===py||a===fy)if(s.has(o)){const l=s.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const h=e.getRenderTarget(),c=new aS(l.height/2);return c.fromEquirectangularTexture(e,o),s.set(o,c),e.setRenderTarget(h),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=s.get(a);l!==void 0&&(s.delete(a),l.dispose())}function n(){s=new WeakMap}return{get:i,dispose:n}}class oa extends xI{constructor(s=-1,t=1,i=1,r=-1,n=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=s,this.right=t,this.top=i,this.bottom=r,this.near=n,this.far=o,this.updateProjectionMatrix()}copy(s,t){return super.copy(s,t),this.left=s.left,this.right=s.right,this.top=s.top,this.bottom=s.bottom,this.near=s.near,this.far=s.far,this.zoom=s.zoom,this.view=s.view===null?null:Object.assign({},s.view),this}setViewOffset(s,t,i,r,n,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=s,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const s=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let n=i-s,o=i+s,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;n+=h*this.view.offsetX,o=n+h*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(n,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(s){const t=super.toJSON(s);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}oa.prototype.isOrthographicCamera=!0;class im extends Zs{constructor(s){super(s),this.type="RawShaderMaterial"}}im.prototype.isRawShaderMaterial=!0;const Rh=4,Wo=8,pn=Math.pow(2,Wo),hS=[.125,.215,.35,.446,.526,.582],cS=Wo-Rh+1+hS.length,th=20,il={[Qi]:0,[tl]:1,[_I]:2,[$w]:3,[Zw]:4,[Kw]:5,[CI]:6},sg=new oa,{_lodPlanes:Mc,_sizeLods:dv,_sigmas:rf}=xz(),mv=new it;let ig=null;const Na=(1+Math.sqrt(5))/2,sh=1/Na,Tv=[new H(1,1,1),new H(-1,1,1),new H(1,1,-1),new H(-1,1,-1),new H(0,Na,sh),new H(0,Na,-sh),new H(sh,0,Na),new H(-sh,0,Na),new H(Na,sh,0),new H(-Na,sh,0)];class wz{constructor(s){this._renderer=s,this._pingPongRenderTarget=null,this._blurMaterial=bz(th),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(s,t=0,i=.1,r=100){ig=this._renderer.getRenderTarget();const n=this._allocateTargets();return this._sceneToCubeUV(s,i,r,n),t>0&&this._blur(n,0,0,t),this._applyPMREM(n),this._cleanup(n),n}fromEquirectangular(s){return this._fromTexture(s)}fromCubemap(s){return this._fromTexture(s)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=Iv(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=yv(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let s=0;s<Mc.length;s++)Mc[s].dispose()}_cleanup(s){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(ig),s.scissorTest=!1,nf(s,0,0,s.width,s.height)}_fromTexture(s){ig=this._renderer.getRenderTarget();const t=this._allocateTargets(s);return this._textureToCubeUV(s,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(s){const t={magFilter:Ss,minFilter:Ss,generateMipmaps:!1,type:ia,format:w7,encoding:Sz(s)?s.encoding:_I,depthBuffer:!1},i=gv(t);return i.depthBuffer=!s,this._pingPongRenderTarget=gv(t),i}_compileMaterial(s){const t=new Qe(Mc[0],s);this._renderer.compile(t,sg)}_sceneToCubeUV(s,t,i,r){const a=new ui(90,1,t,i),l=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,p=c.outputEncoding,f=c.toneMapping;c.getClearColor(mv),c.toneMapping=qa,c.outputEncoding=Qi,c.autoClear=!1;const m=new wi({name:"PMREM.Background",side:Us,depthWrite:!1,depthTest:!1}),g=new Qe(new Ls,m);let C=!1;const I=s.background;I?I.isColor&&(m.color.copy(I),s.background=null,C=!0):(m.color.copy(mv),C=!0);for(let E=0;E<6;E++){const S=E%3;S==0?(a.up.set(0,l[E],0),a.lookAt(h[E],0,0)):S==1?(a.up.set(0,0,l[E]),a.lookAt(0,h[E],0)):(a.up.set(0,l[E],0),a.lookAt(0,0,h[E])),nf(r,S*pn,E>2?pn:0,pn,pn),c.setRenderTarget(r),C&&c.render(g,a),c.render(s,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=f,c.outputEncoding=p,c.autoClear=u,s.background=I}_setEncoding(s,t){s.value=il[t.encoding]}_textureToCubeUV(s,t){const i=this._renderer,r=s.mapping===Ju||s.mapping===ep;r?this._cubemapShader==null&&(this._cubemapShader=Iv()):this._equirectShader==null&&(this._equirectShader=yv());const n=r?this._cubemapShader:this._equirectShader,o=new Qe(Mc[0],n),a=n.uniforms;a.envMap.value=s,r||a.texelSize.value.set(1/s.image.width,1/s.image.height),this._setEncoding(a.inputEncoding,s),this._setEncoding(a.outputEncoding,t.texture),nf(t,0,0,3*pn,2*pn),i.setRenderTarget(t),i.render(o,sg)}_applyPMREM(s){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<cS;r++){const n=Math.sqrt(rf[r]*rf[r]-rf[r-1]*rf[r-1]),o=Tv[(r-1)%Tv.length];this._blur(s,r-1,r,n,o)}t.autoClear=i}_blur(s,t,i,r,n){const o=this._pingPongRenderTarget;this._halfBlur(s,o,t,i,r,"latitudinal",n),this._halfBlur(o,s,i,i,r,"longitudinal",n)}_halfBlur(s,t,i,r,n,o,a){const l=this._renderer,h=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new Qe(Mc[r],h),p=h.uniforms,f=dv[i]-1,m=isFinite(n)?Math.PI/(2*f):2*Math.PI/(2*th-1),g=n/m,C=isFinite(n)?1+Math.floor(c*g):th;C>th&&console.warn(`sigmaRadians, ${n}, is too large and will clip, as it requested ${C} samples when the maximum is set to ${th}`);const I=[];let E=0;for(let O=0;O<th;++O){const R=O/g,L=Math.exp(-R*R/2);I.push(L),O==0?E+=L:O<C&&(E+=2*L)}for(let O=0;O<I.length;O++)I[O]=I[O]/E;p.envMap.value=s.texture,p.samples.value=C,p.weights.value=I,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a),p.dTheta.value=m,p.mipInt.value=Wo-i,this._setEncoding(p.inputEncoding,s.texture),this._setEncoding(p.outputEncoding,s.texture);const S=dv[r],x=3*Math.max(0,pn-2*S),F=(r===0?0:2*pn)+2*S*(r>Wo-Rh?r-Wo+Rh:0);nf(t,x,F,3*S,2*S),l.setRenderTarget(t),l.render(u,sg)}}function Sz(e){return e===void 0||e.type!==ia?!1:e.encoding===Qi||e.encoding===tl||e.encoding===CI}function xz(){const e=[],s=[],t=[];let i=Wo;for(let r=0;r<cS;r++){const n=Math.pow(2,i);s.push(n);let o=1/n;r>Wo-Rh?o=hS[r-Wo+Rh-1]:r==0&&(o=0),t.push(o);const a=1/(n-1),l=-a/2,h=1+a/2,c=[l,l,h,l,h,h,l,l,h,h,l,h],u=6,p=6,f=3,m=2,g=1,C=new Float32Array(f*p*u),I=new Float32Array(m*p*u),E=new Float32Array(g*p*u);for(let x=0;x<u;x++){const F=x%3*2/3-1,O=x>2?0:-1,R=[F,O,0,F+2/3,O,0,F+2/3,O+1,0,F,O,0,F+2/3,O+1,0,F,O+1,0];C.set(R,f*p*x),I.set(c,m*p*x);const L=[x,x,x,x,x,x];E.set(L,g*p*x)}const S=new _t;S.setAttribute("position",new Rt(C,f)),S.setAttribute("uv",new Rt(I,m)),S.setAttribute("faceIndex",new Rt(E,g)),e.push(S),i>Rh&&i--}return{_lodPlanes:e,_sizeLods:s,_sigmas:t}}function gv(e){const s=new zs(3*pn,3*pn,e);return s.texture.mapping=Jd,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function nf(e,s,t,i,r){e.viewport.set(s,t,i,r),e.scissor.set(s,t,i,r)}function bz(e){const s=new Float32Array(e),t=new H(0,1,0);return new im({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:il[Qi]},outputEncoding:{value:il[Qi]}},vertexShader:FI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${RI()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:ci,depthTest:!1,depthWrite:!1})}function yv(){const e=new Re(1,1);return new im({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:il[Qi]},outputEncoding:{value:il[Qi]}},vertexShader:FI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${RI()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:ci,depthTest:!1,depthWrite:!1})}function Iv(){return new im({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:il[Qi]},outputEncoding:{value:il[Qi]}},vertexShader:FI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${RI()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:ci,depthTest:!1,depthWrite:!1})}function FI(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function RI(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function Fz(e){let s=new WeakMap,t=null;function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping,h=l===py||l===fy,c=l===Ju||l===ep;if(h||c){if(s.has(a))return s.get(a).texture;{const u=a.image;if(h&&u&&u.height>0||c&&u&&r(u)){const p=e.getRenderTarget();t===null&&(t=new wz(e));const f=h?t.fromEquirectangular(a):t.fromCubemap(a);return s.set(a,f),e.setRenderTarget(p),a.addEventListener("dispose",n),f.texture}else return null}}}return a}function r(a){let l=0;const h=6;for(let c=0;c<h;c++)a[c]!==void 0&&l++;return l===h}function n(a){const l=a.target;l.removeEventListener("dispose",n);const h=s.get(l);h!==void 0&&(s.delete(l),h.dispose())}function o(){s=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function Rz(e){const s={};function t(i){if(s[i]!==void 0)return s[i];let r;switch(i){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(i)}return s[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Pz(e,s,t,i){const r={},n=new WeakMap;function o(u){const p=u.target;p.index!==null&&s.remove(p.index);for(const m in p.attributes)s.remove(p.attributes[m]);p.removeEventListener("dispose",o),delete r[p.id];const f=n.get(p);f&&(s.remove(f),n.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(u,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(u){const p=u.attributes;for(const m in p)s.update(p[m],34962);const f=u.morphAttributes;for(const m in f){const g=f[m];for(let C=0,I=g.length;C<I;C++)s.update(g[C],34962)}}function h(u){const p=[],f=u.index,m=u.attributes.position;let g=0;if(f!==null){const E=f.array;g=f.version;for(let S=0,x=E.length;S<x;S+=3){const F=E[S+0],O=E[S+1],R=E[S+2];p.push(F,O,O,R,R,F)}}else{const E=m.array;g=m.version;for(let S=0,x=E.length/3-1;S<x;S+=3){const F=S+0,O=S+1,R=S+2;p.push(F,O,O,R,R,F)}}const C=new(sS(p)>65535?oS:nS)(p,1);C.version=g;const I=n.get(u);I&&s.remove(I),n.set(u,C)}function c(u){const p=n.get(u);if(p){const f=u.index;f!==null&&p.version<f.version&&h(u)}else h(u);return n.get(u)}return{get:a,update:l,getWireframeAttribute:c}}function Az(e,s,t,i){const r=i.isWebGL2;let n;function o(p){n=p}let a,l;function h(p){a=p.type,l=p.bytesPerElement}function c(p,f){e.drawElements(n,f,a,p*l),t.update(f,n,1)}function u(p,f,m){if(m===0)return;let g,C;if(r)g=e,C="drawElementsInstanced";else if(g=s.get("ANGLE_instanced_arrays"),C="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[C](n,f,a,p*l,m),t.update(f,n,m)}this.setMode=o,this.setIndex=h,this.render=c,this.renderInstances=u}function Oz(e){const s={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(n,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(n/3);break;case 1:t.lines+=a*(n/2);break;case 3:t.lines+=a*(n-1);break;case 2:t.lines+=a*n;break;case 0:t.points+=a*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:s,render:t,programs:null,autoReset:!0,reset:r,update:i}}class PI extends Ys{constructor(s=null,t=1,i=1,r=1){super(null),this.image={data:s,width:t,height:i,depth:r},this.magFilter=Ss,this.minFilter=Ss,this.wrapR=Oi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}PI.prototype.isDataTexture2DArray=!0;function Dz(e,s){return e[0]-s[0]}function Mz(e,s){return Math.abs(s[1])-Math.abs(e[1])}function Ev(e,s){let t=1;const i=s.isInterleavedBufferAttribute?s.data.array:s.array;i instanceof Int8Array?t=127:i instanceof Int16Array?t=32767:i instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),e.divideScalar(t)}function Nz(e,s,t){const i={},r=new Float32Array(8),n=new WeakMap,o=new H,a=[];for(let h=0;h<8;h++)a[h]=[h,0];function l(h,c,u,p){const f=h.morphTargetInfluences;if(s.isWebGL2===!0){const m=c.morphAttributes.position.length;let g=n.get(c);if(g===void 0||g.count!==m){g!==void 0&&g.texture.dispose();const E=c.morphAttributes.normal!==void 0,S=c.morphAttributes.position,x=c.morphAttributes.normal||[],F=c.attributes.position.count,O=E===!0?2:1;let R=F*O,L=1;R>s.maxTextureSize&&(L=Math.ceil(R/s.maxTextureSize),R=s.maxTextureSize);const G=new Float32Array(R*L*4*m),V=new PI(G,R,L,m);V.format=Ds,V.type=Zn;const B=O*4;for(let oe=0;oe<m;oe++){const $=S[oe],Z=x[oe],te=R*L*4*oe;for(let ee=0;ee<$.count;ee++){o.fromBufferAttribute($,ee),$.normalized===!0&&Ev(o,$);const J=ee*B;G[te+J+0]=o.x,G[te+J+1]=o.y,G[te+J+2]=o.z,G[te+J+3]=0,E===!0&&(o.fromBufferAttribute(Z,ee),Z.normalized===!0&&Ev(o,Z),G[te+J+4]=o.x,G[te+J+5]=o.y,G[te+J+6]=o.z,G[te+J+7]=0)}}g={count:m,texture:V,size:new Re(R,L)},n.set(c,g)}let C=0;for(let E=0;E<f.length;E++)C+=f[E];const I=c.morphTargetsRelative?1:1-C;p.getUniforms().setValue(e,"morphTargetBaseInfluence",I),p.getUniforms().setValue(e,"morphTargetInfluences",f),p.getUniforms().setValue(e,"morphTargetsTexture",g.texture,t),p.getUniforms().setValue(e,"morphTargetsTextureSize",g.size)}else{const m=f===void 0?0:f.length;let g=i[c.id];if(g===void 0||g.length!==m){g=[];for(let x=0;x<m;x++)g[x]=[x,0];i[c.id]=g}for(let x=0;x<m;x++){const F=g[x];F[0]=x,F[1]=f[x]}g.sort(Mz);for(let x=0;x<8;x++)x<m&&g[x][1]?(a[x][0]=g[x][0],a[x][1]=g[x][1]):(a[x][0]=Number.MAX_SAFE_INTEGER,a[x][1]=0);a.sort(Dz);const C=c.morphAttributes.position,I=c.morphAttributes.normal;let E=0;for(let x=0;x<8;x++){const F=a[x],O=F[0],R=F[1];O!==Number.MAX_SAFE_INTEGER&&R?(C&&c.getAttribute("morphTarget"+x)!==C[O]&&c.setAttribute("morphTarget"+x,C[O]),I&&c.getAttribute("morphNormal"+x)!==I[O]&&c.setAttribute("morphNormal"+x,I[O]),r[x]=R,E+=R):(C&&c.hasAttribute("morphTarget"+x)===!0&&c.deleteAttribute("morphTarget"+x),I&&c.hasAttribute("morphNormal"+x)===!0&&c.deleteAttribute("morphNormal"+x),r[x]=0)}const S=c.morphTargetsRelative?1:1-E;p.getUniforms().setValue(e,"morphTargetBaseInfluence",S),p.getUniforms().setValue(e,"morphTargetInfluences",r)}}return{update:l}}function Lz(e,s,t,i){let r=new WeakMap;function n(l){const h=i.render.frame,c=l.geometry,u=s.get(l,c);return r.get(u)!==h&&(s.update(u),r.set(u,h)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),u}function o(){r=new WeakMap}function a(l){const h=l.target;h.removeEventListener("dispose",a),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:n,dispose:o}}class uS extends Ys{constructor(s=null,t=1,i=1,r=1){super(null),this.image={data:s,width:t,height:i,depth:r},this.magFilter=Ss,this.minFilter=Ss,this.wrapR=Oi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}uS.prototype.isDataTexture3D=!0;const pS=new Ys,fS=new PI,dS=new uS,mS=new tm,vv=[],Cv=[],_v=new Float32Array(16),wv=new Float32Array(9),Sv=new Float32Array(4);function sc(e,s,t){const i=e[0];if(i<=0||i>0)return e;const r=s*t;let n=vv[r];if(n===void 0&&(n=new Float32Array(r),vv[r]=n),s!==0){i.toArray(n,0);for(let o=1,a=0;o!==s;++o)a+=t,e[o].toArray(n,a)}return n}function Di(e,s){if(e.length!==s.length)return!1;for(let t=0,i=e.length;t<i;t++)if(e[t]!==s[t])return!1;return!0}function bi(e,s){for(let t=0,i=s.length;t<i;t++)e[t]=s[t]}function rm(e,s){let t=Cv[s];t===void 0&&(t=new Int32Array(s),Cv[s]=t);for(let i=0;i!==s;++i)t[i]=e.allocateTextureUnit();return t}function Uz(e,s){const t=this.cache;t[0]!==s&&(e.uniform1f(this.addr,s),t[0]=s)}function Hz(e,s){const t=this.cache;if(s.x!==void 0)(t[0]!==s.x||t[1]!==s.y)&&(e.uniform2f(this.addr,s.x,s.y),t[0]=s.x,t[1]=s.y);else{if(Di(t,s))return;e.uniform2fv(this.addr,s),bi(t,s)}}function Gz(e,s){const t=this.cache;if(s.x!==void 0)(t[0]!==s.x||t[1]!==s.y||t[2]!==s.z)&&(e.uniform3f(this.addr,s.x,s.y,s.z),t[0]=s.x,t[1]=s.y,t[2]=s.z);else if(s.r!==void 0)(t[0]!==s.r||t[1]!==s.g||t[2]!==s.b)&&(e.uniform3f(this.addr,s.r,s.g,s.b),t[0]=s.r,t[1]=s.g,t[2]=s.b);else{if(Di(t,s))return;e.uniform3fv(this.addr,s),bi(t,s)}}function Bz(e,s){const t=this.cache;if(s.x!==void 0)(t[0]!==s.x||t[1]!==s.y||t[2]!==s.z||t[3]!==s.w)&&(e.uniform4f(this.addr,s.x,s.y,s.z,s.w),t[0]=s.x,t[1]=s.y,t[2]=s.z,t[3]=s.w);else{if(Di(t,s))return;e.uniform4fv(this.addr,s),bi(t,s)}}function kz(e,s){const t=this.cache,i=s.elements;if(i===void 0){if(Di(t,s))return;e.uniformMatrix2fv(this.addr,!1,s),bi(t,s)}else{if(Di(t,i))return;Sv.set(i),e.uniformMatrix2fv(this.addr,!1,Sv),bi(t,i)}}function Vz(e,s){const t=this.cache,i=s.elements;if(i===void 0){if(Di(t,s))return;e.uniformMatrix3fv(this.addr,!1,s),bi(t,s)}else{if(Di(t,i))return;wv.set(i),e.uniformMatrix3fv(this.addr,!1,wv),bi(t,i)}}function jz(e,s){const t=this.cache,i=s.elements;if(i===void 0){if(Di(t,s))return;e.uniformMatrix4fv(this.addr,!1,s),bi(t,s)}else{if(Di(t,i))return;_v.set(i),e.uniformMatrix4fv(this.addr,!1,_v),bi(t,i)}}function zz(e,s){const t=this.cache;t[0]!==s&&(e.uniform1i(this.addr,s),t[0]=s)}function Wz(e,s){const t=this.cache;Di(t,s)||(e.uniform2iv(this.addr,s),bi(t,s))}function Yz(e,s){const t=this.cache;Di(t,s)||(e.uniform3iv(this.addr,s),bi(t,s))}function Xz(e,s){const t=this.cache;Di(t,s)||(e.uniform4iv(this.addr,s),bi(t,s))}function qz(e,s){const t=this.cache;t[0]!==s&&(e.uniform1ui(this.addr,s),t[0]=s)}function Qz(e,s){const t=this.cache;Di(t,s)||(e.uniform2uiv(this.addr,s),bi(t,s))}function $z(e,s){const t=this.cache;Di(t,s)||(e.uniform3uiv(this.addr,s),bi(t,s))}function Zz(e,s){const t=this.cache;Di(t,s)||(e.uniform4uiv(this.addr,s),bi(t,s))}function Kz(e,s,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),t.safeSetTexture2D(s||pS,r)}function Jz(e,s,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(s||dS,r)}function eW(e,s,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),t.safeSetTextureCube(s||mS,r)}function tW(e,s,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(s||fS,r)}function sW(e){switch(e){case 5126:return Uz;case 35664:return Hz;case 35665:return Gz;case 35666:return Bz;case 35674:return kz;case 35675:return Vz;case 35676:return jz;case 5124:case 35670:return zz;case 35667:case 35671:return Wz;case 35668:case 35672:return Yz;case 35669:case 35673:return Xz;case 5125:return qz;case 36294:return Qz;case 36295:return $z;case 36296:return Zz;case 35678:case 36198:case 36298:case 36306:case 35682:return Kz;case 35679:case 36299:case 36307:return Jz;case 35680:case 36300:case 36308:case 36293:return eW;case 36289:case 36303:case 36311:case 36292:return tW}}function iW(e,s){e.uniform1fv(this.addr,s)}function rW(e,s){const t=sc(s,this.size,2);e.uniform2fv(this.addr,t)}function nW(e,s){const t=sc(s,this.size,3);e.uniform3fv(this.addr,t)}function oW(e,s){const t=sc(s,this.size,4);e.uniform4fv(this.addr,t)}function aW(e,s){const t=sc(s,this.size,4);e.uniformMatrix2fv(this.addr,!1,t)}function lW(e,s){const t=sc(s,this.size,9);e.uniformMatrix3fv(this.addr,!1,t)}function hW(e,s){const t=sc(s,this.size,16);e.uniformMatrix4fv(this.addr,!1,t)}function cW(e,s){e.uniform1iv(this.addr,s)}function uW(e,s){e.uniform2iv(this.addr,s)}function pW(e,s){e.uniform3iv(this.addr,s)}function fW(e,s){e.uniform4iv(this.addr,s)}function dW(e,s){e.uniform1uiv(this.addr,s)}function mW(e,s){e.uniform2uiv(this.addr,s)}function TW(e,s){e.uniform3uiv(this.addr,s)}function gW(e,s){e.uniform4uiv(this.addr,s)}function yW(e,s,t){const i=s.length,r=rm(t,i);e.uniform1iv(this.addr,r);for(let n=0;n!==i;++n)t.safeSetTexture2D(s[n]||pS,r[n])}function IW(e,s,t){const i=s.length,r=rm(t,i);e.uniform1iv(this.addr,r);for(let n=0;n!==i;++n)t.setTexture3D(s[n]||dS,r[n])}function EW(e,s,t){const i=s.length,r=rm(t,i);e.uniform1iv(this.addr,r);for(let n=0;n!==i;++n)t.safeSetTextureCube(s[n]||mS,r[n])}function vW(e,s,t){const i=s.length,r=rm(t,i);e.uniform1iv(this.addr,r);for(let n=0;n!==i;++n)t.setTexture2DArray(s[n]||fS,r[n])}function CW(e){switch(e){case 5126:return iW;case 35664:return rW;case 35665:return nW;case 35666:return oW;case 35674:return aW;case 35675:return lW;case 35676:return hW;case 5124:case 35670:return cW;case 35667:case 35671:return uW;case 35668:case 35672:return pW;case 35669:case 35673:return fW;case 5125:return dW;case 36294:return mW;case 36295:return TW;case 36296:return gW;case 35678:case 36198:case 36298:case 36306:case 35682:return yW;case 35679:case 36299:case 36307:return IW;case 35680:case 36300:case 36308:case 36293:return EW;case 36289:case 36303:case 36311:case 36292:return vW}}function _W(e,s,t){this.id=e,this.addr=t,this.cache=[],this.setValue=sW(s.type)}function TS(e,s,t){this.id=e,this.addr=t,this.cache=[],this.size=s.size,this.setValue=CW(s.type)}TS.prototype.updateCache=function(e){const s=this.cache;e instanceof Float32Array&&s.length!==e.length&&(this.cache=new Float32Array(e.length)),bi(s,e)};function gS(e){this.id=e,this.seq=[],this.map={}}gS.prototype.setValue=function(e,s,t){const i=this.seq;for(let r=0,n=i.length;r!==n;++r){const o=i[r];o.setValue(e,s[o.id],t)}};const rg=/(\w+)(\])?(\[|\.)?/g;function xv(e,s){e.seq.push(s),e.map[s.id]=s}function wW(e,s,t){const i=e.name,r=i.length;for(rg.lastIndex=0;;){const n=rg.exec(i),o=rg.lastIndex;let a=n[1];const l=n[2]==="]",h=n[3];if(l&&(a=a|0),h===void 0||h==="["&&o+2===r){xv(t,h===void 0?new _W(a,e,s):new TS(a,e,s));break}else{let u=t.map[a];u===void 0&&(u=new gS(a),xv(t,u)),t=u}}}function Yo(e,s){this.seq=[],this.map={};const t=e.getProgramParameter(s,35718);for(let i=0;i<t;++i){const r=e.getActiveUniform(s,i),n=e.getUniformLocation(s,r.name);wW(r,n,this)}}Yo.prototype.setValue=function(e,s,t,i){const r=this.map[s];r!==void 0&&r.setValue(e,t,i)};Yo.prototype.setOptional=function(e,s,t){const i=s[t];i!==void 0&&this.setValue(e,t,i)};Yo.upload=function(e,s,t,i){for(let r=0,n=s.length;r!==n;++r){const o=s[r],a=t[o.id];a.needsUpdate!==!1&&o.setValue(e,a.value,i)}};Yo.seqWithValue=function(e,s){const t=[];for(let i=0,r=e.length;i!==r;++i){const n=e[i];n.id in s&&t.push(n)}return t};function bv(e,s,t){const i=e.createShader(s);return e.shaderSource(i,t),e.compileShader(i),i}let SW=0;function xW(e){const s=e.split(`
`);for(let t=0;t<s.length;t++)s[t]=t+1+": "+s[t];return s.join(`
`)}function yS(e){switch(e){case Qi:return["Linear","( value )"];case tl:return["sRGB","( value )"];case _I:return["RGBE","( value )"];case $w:return["RGBM","( value, 7.0 )"];case Zw:return["RGBM","( value, 16.0 )"];case Kw:return["RGBD","( value, 256.0 )"];case CI:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Fv(e,s,t){const i=e.getShaderParameter(s,35713),r=e.getShaderInfoLog(s).trim();return i&&r===""?"":t.toUpperCase()+`

`+r+`

`+xW(e.getShaderSource(s))}function wa(e,s){const t=yS(s);return"vec4 "+e+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function bW(e,s){const t=yS(s);return"vec4 "+e+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function FW(e,s){let t;switch(s){case c7:t="Linear";break;case u7:t="Reinhard";break;case p7:t="OptimizedCineon";break;case f7:t="ACESFilmic";break;case d7:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",s),t="Linear"}return"vec3 "+e+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function RW(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(tu).join(`
`)}function PW(e){const s=[];for(const t in e){const i=e[t];i!==!1&&s.push("#define "+t+" "+i)}return s.join(`
`)}function AW(e,s){const t={},i=e.getProgramParameter(s,35721);for(let r=0;r<i;r++){const n=e.getActiveAttrib(s,r),o=n.name;let a=1;n.type===35674&&(a=2),n.type===35675&&(a=3),n.type===35676&&(a=4),t[o]={type:n.type,location:e.getAttribLocation(s,o),locationSize:a}}return t}function tu(e){return e!==""}function Rv(e,s){return e.replace(/NUM_DIR_LIGHTS/g,s.numDirLights).replace(/NUM_SPOT_LIGHTS/g,s.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,s.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,s.numPointLights).replace(/NUM_HEMI_LIGHTS/g,s.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,s.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,s.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,s.numPointLightShadows)}function Pv(e,s){return e.replace(/NUM_CLIPPING_PLANES/g,s.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,s.numClippingPlanes-s.numClipIntersection)}const OW=/^[ \t]*#include +<([\w\d./]+)>/gm;function my(e){return e.replace(OW,DW)}function DW(e,s){const t=Mt[s];if(t===void 0)throw new Error("Can not resolve #include <"+s+">");return my(t)}const MW=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,NW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Av(e){return e.replace(NW,IS).replace(MW,LW)}function LW(e,s,t,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),IS(e,s,t,i)}function IS(e,s,t,i){let r="";for(let n=parseInt(s);n<parseInt(t);n++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+n+" ]").replace(/UNROLLED_LOOP_INDEX/g,n);return r}function Ov(e){let s="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?s+=`
#define HIGH_PRECISION`:e.precision==="mediump"?s+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(s+=`
#define LOW_PRECISION`),s}function UW(e){let s="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===kw?s="SHADOWMAP_TYPE_PCF":e.shadowMapType===Y9?s="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===eu&&(s="SHADOWMAP_TYPE_VSM"),s}function HW(e){let s="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Ju:case ep:s="ENVMAP_TYPE_CUBE";break;case Jd:case II:s="ENVMAP_TYPE_CUBE_UV";break}return s}function GW(e){let s="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case ep:case II:s="ENVMAP_MODE_REFRACTION";break}return s}function BW(e){let s="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Kd:s="ENVMAP_BLENDING_MULTIPLY";break;case l7:s="ENVMAP_BLENDING_MIX";break;case h7:s="ENVMAP_BLENDING_ADD";break}return s}function kW(e,s,t,i){const r=e.getContext(),n=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=UW(t),h=HW(t),c=GW(t),u=BW(t),p=e.gammaFactor>0?e.gammaFactor:1,f=t.isWebGL2?"":RW(t),m=PW(n),g=r.createProgram();let C,I,E=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(C=[m].filter(tu).join(`
`),C.length>0&&(C+=`
`),I=[f,m].filter(tu).join(`
`),I.length>0&&(I+=`
`)):(C=[Ov(t),"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(tu).join(`
`),I=[f,Ov(t),"#define SHADER_NAME "+t.shaderName,m,"#define GAMMA_FACTOR "+p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==qa?"#define TONE_MAPPING":"",t.toneMapping!==qa?Mt.tonemapping_pars_fragment:"",t.toneMapping!==qa?FW("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===In?"#define OPAQUE":"",Mt.encodings_pars_fragment,t.map?wa("mapTexelToLinear",t.mapEncoding):"",t.matcap?wa("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?wa("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?wa("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularColorMap?wa("specularColorMapTexelToLinear",t.specularColorMapEncoding):"",t.sheenColorMap?wa("sheenColorMapTexelToLinear",t.sheenColorMapEncoding):"",t.lightMap?wa("lightMapTexelToLinear",t.lightMapEncoding):"",bW("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(tu).join(`
`)),o=my(o),o=Rv(o,t),o=Pv(o,t),a=my(a),a=Rv(a,t),a=Pv(a,t),o=Av(o),a=Av(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,C=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+C,I=["#define varying in",t.glslVersion===tv?"":"out highp vec4 pc_fragColor;",t.glslVersion===tv?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+I);const S=E+C+o,x=E+I+a,F=bv(r,35633,S),O=bv(r,35632,x);if(r.attachShader(g,F),r.attachShader(g,O),t.index0AttributeName!==void 0?r.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),e.debug.checkShaderErrors){const G=r.getProgramInfoLog(g).trim(),V=r.getShaderInfoLog(F).trim(),B=r.getShaderInfoLog(O).trim();let oe=!0,$=!0;if(r.getProgramParameter(g,35714)===!1){oe=!1;const Z=Fv(r,F,"vertex"),te=Fv(r,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,35715)+`

Program Info Log: `+G+`
`+Z+`
`+te)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(V===""||B==="")&&($=!1);$&&(this.diagnostics={runnable:oe,programLog:G,vertexShader:{log:V,prefix:C},fragmentShader:{log:B,prefix:I}})}r.deleteShader(F),r.deleteShader(O);let R;this.getUniforms=function(){return R===void 0&&(R=new Yo(r,g)),R};let L;return this.getAttributes=function(){return L===void 0&&(L=AW(r,g)),L},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=SW++,this.cacheKey=s,this.usedTimes=1,this.program=g,this.vertexShader=F,this.fragmentShader=O,this}function VW(e,s,t,i,r,n,o){const a=[],l=r.isWebGL2,h=r.logarithmicDepthBuffer,c=r.floatVertexTextures,u=r.maxVertexUniforms,p=r.vertexTextures;let f=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},g=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function C(R){const G=R.skeleton.bones;if(c)return 1024;{const B=Math.floor((u-20)/4),oe=Math.min(B,G.length);return oe<G.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+G.length+" bones. This GPU supports "+oe+"."),0):oe}}function I(R){let L;return R&&R.isTexture?L=R.encoding:R&&R.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),L=R.texture.encoding):L=Qi,L}function E(R,L,G,V,B){const oe=V.fog,$=R.isMeshStandardMaterial?V.environment:null,Z=(R.isMeshStandardMaterial?t:s).get(R.envMap||$),te=m[R.type],ee=B.isSkinnedMesh?C(B):0;R.precision!==null&&(f=r.getMaxPrecision(R.precision),f!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",f,"instead."));let J,ie;if(te){const Te=ki[te];J=Te.vertexShader,ie=Te.fragmentShader}else J=R.vertexShader,ie=R.fragmentShader;const re=e.getRenderTarget(),ae=R.alphaTest>0,le=R.clearcoat>0;return{isWebGL2:l,shaderID:te,shaderName:R.type,vertexShader:J,fragmentShader:ie,defines:R.defines,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:f,instancing:B.isInstancedMesh===!0,instancingColor:B.isInstancedMesh===!0&&B.instanceColor!==null,supportsVertexTextures:p,outputEncoding:re!==null?I(re.texture):e.outputEncoding,map:!!R.map,mapEncoding:I(R.map),matcap:!!R.matcap,matcapEncoding:I(R.matcap),envMap:!!Z,envMapMode:Z&&Z.mapping,envMapEncoding:I(Z),envMapCubeUV:!!Z&&(Z.mapping===Jd||Z.mapping===II),lightMap:!!R.lightMap,lightMapEncoding:I(R.lightMap),aoMap:!!R.aoMap,emissiveMap:!!R.emissiveMap,emissiveMapEncoding:I(R.emissiveMap),bumpMap:!!R.bumpMap,normalMap:!!R.normalMap,objectSpaceNormalMap:R.normalMapType===fk,tangentSpaceNormalMap:R.normalMapType===hl,clearcoat:le,clearcoatMap:le&&!!R.clearcoatMap,clearcoatRoughnessMap:le&&!!R.clearcoatRoughnessMap,clearcoatNormalMap:le&&!!R.clearcoatNormalMap,displacementMap:!!R.displacementMap,roughnessMap:!!R.roughnessMap,metalnessMap:!!R.metalnessMap,specularMap:!!R.specularMap,specularIntensityMap:!!R.specularIntensityMap,specularColorMap:!!R.specularColorMap,specularColorMapEncoding:I(R.specularColorMap),alphaMap:!!R.alphaMap,alphaTest:ae,gradientMap:!!R.gradientMap,sheen:R.sheen>0,sheenColorMap:!!R.sheenColorMap,sheenColorMapEncoding:I(R.sheenColorMap),sheenRoughnessMap:!!R.sheenRoughnessMap,transmission:R.transmission>0,transmissionMap:!!R.transmissionMap,thicknessMap:!!R.thicknessMap,combine:R.combine,vertexTangents:!!R.normalMap&&!!B.geometry&&!!B.geometry.attributes.tangent,vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!B.geometry&&!!B.geometry.attributes.color&&B.geometry.attributes.color.itemSize===4,vertexUvs:!!R.map||!!R.bumpMap||!!R.normalMap||!!R.specularMap||!!R.alphaMap||!!R.emissiveMap||!!R.roughnessMap||!!R.metalnessMap||!!R.clearcoatMap||!!R.clearcoatRoughnessMap||!!R.clearcoatNormalMap||!!R.displacementMap||!!R.transmissionMap||!!R.thicknessMap||!!R.specularIntensityMap||!!R.specularColorMap||!!R.sheenColorMap||R.sheenRoughnessMap,uvsVertexOnly:!(!!R.map||!!R.bumpMap||!!R.normalMap||!!R.specularMap||!!R.alphaMap||!!R.emissiveMap||!!R.roughnessMap||!!R.metalnessMap||!!R.clearcoatNormalMap||R.transmission>0||!!R.transmissionMap||!!R.thicknessMap||!!R.specularIntensityMap||!!R.specularColorMap||R.sheen>0||!!R.sheenColorMap||!!R.sheenRoughnessMap)&&!!R.displacementMap,fog:!!oe,useFog:R.fog,fogExp2:oe&&oe.isFogExp2,flatShading:!!R.flatShading,sizeAttenuation:R.sizeAttenuation,logarithmicDepthBuffer:h,skinning:B.isSkinnedMesh===!0&&ee>0,maxBones:ee,useVertexTexture:c,morphTargets:!!B.geometry&&!!B.geometry.morphAttributes.position,morphNormals:!!B.geometry&&!!B.geometry.morphAttributes.normal,morphTargetsCount:!!B.geometry&&!!B.geometry.morphAttributes.position?B.geometry.morphAttributes.position.length:0,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,format:R.format,dithering:R.dithering,shadowMapEnabled:e.shadowMap.enabled&&G.length>0,shadowMapType:e.shadowMap.type,toneMapping:R.toneMapped?e.toneMapping:qa,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===qi,flipSided:R.side===Us,depthPacking:R.depthPacking!==void 0?R.depthPacking:!1,index0AttributeName:R.index0AttributeName,extensionDerivatives:R.extensions&&R.extensions.derivatives,extensionFragDepth:R.extensions&&R.extensions.fragDepth,extensionDrawBuffers:R.extensions&&R.extensions.drawBuffers,extensionShaderTextureLOD:R.extensions&&R.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||i.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}}function S(R){const L=[];if(R.shaderID?L.push(R.shaderID):(L.push(sv(R.fragmentShader)),L.push(sv(R.vertexShader))),R.defines!==void 0)for(const G in R.defines)L.push(G),L.push(R.defines[G]);if(R.isRawShaderMaterial===!1){for(let G=0;G<g.length;G++)L.push(R[g[G]]);L.push(e.outputEncoding),L.push(e.gammaFactor)}return L.push(R.customProgramCacheKey),L.join()}function x(R){const L=m[R.type];let G;if(L){const V=ki[L];G=Kn.clone(V.uniforms)}else G=R.uniforms;return G}function F(R,L){let G;for(let V=0,B=a.length;V<B;V++){const oe=a[V];if(oe.cacheKey===L){G=oe,++G.usedTimes;break}}return G===void 0&&(G=new kW(e,L,R,n),a.push(G)),G}function O(R){if(--R.usedTimes===0){const L=a.indexOf(R);a[L]=a[a.length-1],a.pop(),R.destroy()}}return{getParameters:E,getProgramCacheKey:S,getUniforms:x,acquireProgram:F,releaseProgram:O,programs:a}}function jW(){let e=new WeakMap;function s(n){let o=e.get(n);return o===void 0&&(o={},e.set(n,o)),o}function t(n){e.delete(n)}function i(n,o,a){e.get(n)[o]=a}function r(){e=new WeakMap}return{get:s,remove:t,update:i,dispose:r}}function zW(e,s){return e.groupOrder!==s.groupOrder?e.groupOrder-s.groupOrder:e.renderOrder!==s.renderOrder?e.renderOrder-s.renderOrder:e.program!==s.program?e.program.id-s.program.id:e.material.id!==s.material.id?e.material.id-s.material.id:e.z!==s.z?e.z-s.z:e.id-s.id}function Dv(e,s){return e.groupOrder!==s.groupOrder?e.groupOrder-s.groupOrder:e.renderOrder!==s.renderOrder?e.renderOrder-s.renderOrder:e.z!==s.z?s.z-e.z:e.id-s.id}function Mv(e){const s=[];let t=0;const i=[],r=[],n=[],o={id:-1};function a(){t=0,i.length=0,r.length=0,n.length=0}function l(f,m,g,C,I,E){let S=s[t];const x=e.get(g);return S===void 0?(S={id:f.id,object:f,geometry:m,material:g,program:x.program||o,groupOrder:C,renderOrder:f.renderOrder,z:I,group:E},s[t]=S):(S.id=f.id,S.object=f,S.geometry=m,S.material=g,S.program=x.program||o,S.groupOrder=C,S.renderOrder=f.renderOrder,S.z=I,S.group=E),t++,S}function h(f,m,g,C,I,E){const S=l(f,m,g,C,I,E);g.transmission>0?r.push(S):g.transparent===!0?n.push(S):i.push(S)}function c(f,m,g,C,I,E){const S=l(f,m,g,C,I,E);g.transmission>0?r.unshift(S):g.transparent===!0?n.unshift(S):i.unshift(S)}function u(f,m){i.length>1&&i.sort(f||zW),r.length>1&&r.sort(m||Dv),n.length>1&&n.sort(m||Dv)}function p(){for(let f=t,m=s.length;f<m;f++){const g=s[f];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.program=null,g.group=null}}return{opaque:i,transmissive:r,transparent:n,init:a,push:h,unshift:c,finish:p,sort:u}}function WW(e){let s=new WeakMap;function t(r,n){let o;return s.has(r)===!1?(o=new Mv(e),s.set(r,[o])):n>=s.get(r).length?(o=new Mv(e),s.get(r).push(o)):o=s.get(r)[n],o}function i(){s=new WeakMap}return{get:t,dispose:i}}function YW(){const e={};return{get:function(s){if(e[s.id]!==void 0)return e[s.id];let t;switch(s.type){case"DirectionalLight":t={direction:new H,color:new it};break;case"SpotLight":t={position:new H,direction:new H,color:new it,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new H,color:new it,distance:0,decay:0};break;case"HemisphereLight":t={direction:new H,skyColor:new it,groundColor:new it};break;case"RectAreaLight":t={color:new it,position:new H,halfWidth:new H,halfHeight:new H};break}return e[s.id]=t,t}}}function XW(){const e={};return{get:function(s){if(e[s.id]!==void 0)return e[s.id];let t;switch(s.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[s.id]=t,t}}}let qW=0;function QW(e,s){return(s.castShadow?1:0)-(e.castShadow?1:0)}function $W(e,s){const t=new YW,i=XW(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let c=0;c<9;c++)r.probe.push(new H);const n=new H,o=new rt,a=new rt;function l(c,u){let p=0,f=0,m=0;for(let G=0;G<9;G++)r.probe[G].set(0,0,0);let g=0,C=0,I=0,E=0,S=0,x=0,F=0,O=0;c.sort(QW);const R=u!==!0?Math.PI:1;for(let G=0,V=c.length;G<V;G++){const B=c[G],oe=B.color,$=B.intensity,Z=B.distance,te=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)p+=oe.r*$*R,f+=oe.g*$*R,m+=oe.b*$*R;else if(B.isLightProbe)for(let ee=0;ee<9;ee++)r.probe[ee].addScaledVector(B.sh.coefficients[ee],$);else if(B.isDirectionalLight){const ee=t.get(B);if(ee.color.copy(B.color).multiplyScalar(B.intensity*R),B.castShadow){const J=B.shadow,ie=i.get(B);ie.shadowBias=J.bias,ie.shadowNormalBias=J.normalBias,ie.shadowRadius=J.radius,ie.shadowMapSize=J.mapSize,r.directionalShadow[g]=ie,r.directionalShadowMap[g]=te,r.directionalShadowMatrix[g]=B.shadow.matrix,x++}r.directional[g]=ee,g++}else if(B.isSpotLight){const ee=t.get(B);if(ee.position.setFromMatrixPosition(B.matrixWorld),ee.color.copy(oe).multiplyScalar($*R),ee.distance=Z,ee.coneCos=Math.cos(B.angle),ee.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),ee.decay=B.decay,B.castShadow){const J=B.shadow,ie=i.get(B);ie.shadowBias=J.bias,ie.shadowNormalBias=J.normalBias,ie.shadowRadius=J.radius,ie.shadowMapSize=J.mapSize,r.spotShadow[I]=ie,r.spotShadowMap[I]=te,r.spotShadowMatrix[I]=B.shadow.matrix,O++}r.spot[I]=ee,I++}else if(B.isRectAreaLight){const ee=t.get(B);ee.color.copy(oe).multiplyScalar($),ee.halfWidth.set(B.width*.5,0,0),ee.halfHeight.set(0,B.height*.5,0),r.rectArea[E]=ee,E++}else if(B.isPointLight){const ee=t.get(B);if(ee.color.copy(B.color).multiplyScalar(B.intensity*R),ee.distance=B.distance,ee.decay=B.decay,B.castShadow){const J=B.shadow,ie=i.get(B);ie.shadowBias=J.bias,ie.shadowNormalBias=J.normalBias,ie.shadowRadius=J.radius,ie.shadowMapSize=J.mapSize,ie.shadowCameraNear=J.camera.near,ie.shadowCameraFar=J.camera.far,r.pointShadow[C]=ie,r.pointShadowMap[C]=te,r.pointShadowMatrix[C]=B.shadow.matrix,F++}r.point[C]=ee,C++}else if(B.isHemisphereLight){const ee=t.get(B);ee.skyColor.copy(B.color).multiplyScalar($*R),ee.groundColor.copy(B.groundColor).multiplyScalar($*R),r.hemi[S]=ee,S++}}E>0&&(s.isWebGL2||e.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=st.LTC_FLOAT_1,r.rectAreaLTC2=st.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=st.LTC_HALF_1,r.rectAreaLTC2=st.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=f,r.ambient[2]=m;const L=r.hash;(L.directionalLength!==g||L.pointLength!==C||L.spotLength!==I||L.rectAreaLength!==E||L.hemiLength!==S||L.numDirectionalShadows!==x||L.numPointShadows!==F||L.numSpotShadows!==O)&&(r.directional.length=g,r.spot.length=I,r.rectArea.length=E,r.point.length=C,r.hemi.length=S,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=F,r.pointShadowMap.length=F,r.spotShadow.length=O,r.spotShadowMap.length=O,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=F,r.spotShadowMatrix.length=O,L.directionalLength=g,L.pointLength=C,L.spotLength=I,L.rectAreaLength=E,L.hemiLength=S,L.numDirectionalShadows=x,L.numPointShadows=F,L.numSpotShadows=O,r.version=qW++)}function h(c,u){let p=0,f=0,m=0,g=0,C=0;const I=u.matrixWorldInverse;for(let E=0,S=c.length;E<S;E++){const x=c[E];if(x.isDirectionalLight){const F=r.directional[p];F.direction.setFromMatrixPosition(x.matrixWorld),n.setFromMatrixPosition(x.target.matrixWorld),F.direction.sub(n),F.direction.transformDirection(I),p++}else if(x.isSpotLight){const F=r.spot[m];F.position.setFromMatrixPosition(x.matrixWorld),F.position.applyMatrix4(I),F.direction.setFromMatrixPosition(x.matrixWorld),n.setFromMatrixPosition(x.target.matrixWorld),F.direction.sub(n),F.direction.transformDirection(I),m++}else if(x.isRectAreaLight){const F=r.rectArea[g];F.position.setFromMatrixPosition(x.matrixWorld),F.position.applyMatrix4(I),a.identity(),o.copy(x.matrixWorld),o.premultiply(I),a.extractRotation(o),F.halfWidth.set(x.width*.5,0,0),F.halfHeight.set(0,x.height*.5,0),F.halfWidth.applyMatrix4(a),F.halfHeight.applyMatrix4(a),g++}else if(x.isPointLight){const F=r.point[f];F.position.setFromMatrixPosition(x.matrixWorld),F.position.applyMatrix4(I),f++}else if(x.isHemisphereLight){const F=r.hemi[C];F.direction.setFromMatrixPosition(x.matrixWorld),F.direction.transformDirection(I),F.direction.normalize(),C++}}}return{setup:l,setupView:h,state:r}}function Nv(e,s){const t=new $W(e,s),i=[],r=[];function n(){i.length=0,r.length=0}function o(u){i.push(u)}function a(u){r.push(u)}function l(u){t.setup(i,u)}function h(u){t.setupView(i,u)}return{init:n,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:h,pushLight:o,pushShadow:a}}function ZW(e,s){let t=new WeakMap;function i(n,o=0){let a;return t.has(n)===!1?(a=new Nv(e,s),t.set(n,[a])):o>=t.get(n).length?(a=new Nv(e,s),t.get(n).push(a)):a=t.get(n)[o],a}function r(){t=new WeakMap}return{get:i,dispose:r}}class nm extends Ws{constructor(s){super(),this.type="MeshDepthMaterial",this.depthPacking=pk,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(s)}copy(s){return super.copy(s),this.depthPacking=s.depthPacking,this.map=s.map,this.alphaMap=s.alphaMap,this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this}}nm.prototype.isMeshDepthMaterial=!0;class ES extends Ws{constructor(s){super(),this.type="MeshDistanceMaterial",this.referencePosition=new H,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(s)}copy(s){return super.copy(s),this.referencePosition.copy(s.referencePosition),this.nearDistance=s.nearDistance,this.farDistance=s.farDistance,this.map=s.map,this.alphaMap=s.alphaMap,this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this}}ES.prototype.isMeshDistanceMaterial=!0;const KW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,JW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function vS(e,s,t){let i=new sm;const r=new Re,n=new Re,o=new Qt,a=new nm({depthPacking:Jw}),l=new ES,h={},c=t.maxTextureSize,u={0:Us,1:sa,2:qi},p=new Zs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Re},radius:{value:4}},vertexShader:KW,fragmentShader:JW}),f=p.clone();f.defines.HORIZONTAL_PASS=1;const m=new _t;m.setAttribute("position",new Rt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Qe(m,p),C=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kw,this.render=function(x,F,O){if(C.enabled===!1||C.autoUpdate===!1&&C.needsUpdate===!1||x.length===0)return;const R=e.getRenderTarget(),L=e.getActiveCubeFace(),G=e.getActiveMipmapLevel(),V=e.state;V.setBlending(ci),V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);for(let B=0,oe=x.length;B<oe;B++){const $=x[B],Z=$.shadow;if(Z===void 0){console.warn("THREE.WebGLShadowMap:",$,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;r.copy(Z.mapSize);const te=Z.getFrameExtents();if(r.multiply(te),n.copy(Z.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(n.x=Math.floor(c/te.x),r.x=n.x*te.x,Z.mapSize.x=n.x),r.y>c&&(n.y=Math.floor(c/te.y),r.y=n.y*te.y,Z.mapSize.y=n.y)),Z.map===null&&!Z.isPointLightShadow&&this.type===eu){const J={minFilter:js,magFilter:js,format:Ds};Z.map=new zs(r.x,r.y,J),Z.map.texture.name=$.name+".shadowMap",Z.mapPass=new zs(r.x,r.y,J),Z.camera.updateProjectionMatrix()}if(Z.map===null){const J={minFilter:Ss,magFilter:Ss,format:Ds};Z.map=new zs(r.x,r.y,J),Z.map.texture.name=$.name+".shadowMap",Z.camera.updateProjectionMatrix()}e.setRenderTarget(Z.map),e.clear();const ee=Z.getViewportCount();for(let J=0;J<ee;J++){const ie=Z.getViewport(J);o.set(n.x*ie.x,n.y*ie.y,n.x*ie.z,n.y*ie.w),V.viewport(o),Z.updateMatrices($,J),i=Z.getFrustum(),S(F,O,Z.camera,$,this.type)}!Z.isPointLightShadow&&this.type===eu&&I(Z,O),Z.needsUpdate=!1}C.needsUpdate=!1,e.setRenderTarget(R,L,G)};function I(x,F){const O=s.update(g);p.defines.VSM_SAMPLES!==x.blurSamples&&(p.defines.VSM_SAMPLES=x.blurSamples,f.defines.VSM_SAMPLES=x.blurSamples,p.needsUpdate=!0,f.needsUpdate=!0),p.uniforms.shadow_pass.value=x.map.texture,p.uniforms.resolution.value=x.mapSize,p.uniforms.radius.value=x.radius,e.setRenderTarget(x.mapPass),e.clear(),e.renderBufferDirect(F,null,O,p,g,null),f.uniforms.shadow_pass.value=x.mapPass.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,e.setRenderTarget(x.map),e.clear(),e.renderBufferDirect(F,null,O,f,g,null)}function E(x,F,O,R,L,G,V){let B=null;const oe=R.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(oe!==void 0?B=oe:B=R.isPointLight===!0?l:a,e.localClippingEnabled&&O.clipShadows===!0&&O.clippingPlanes.length!==0||O.displacementMap&&O.displacementScale!==0||O.alphaMap&&O.alphaTest>0){const $=B.uuid,Z=O.uuid;let te=h[$];te===void 0&&(te={},h[$]=te);let ee=te[Z];ee===void 0&&(ee=B.clone(),te[Z]=ee),B=ee}return B.visible=O.visible,B.wireframe=O.wireframe,V===eu?B.side=O.shadowSide!==null?O.shadowSide:O.side:B.side=O.shadowSide!==null?O.shadowSide:u[O.side],B.alphaMap=O.alphaMap,B.alphaTest=O.alphaTest,B.clipShadows=O.clipShadows,B.clippingPlanes=O.clippingPlanes,B.clipIntersection=O.clipIntersection,B.displacementMap=O.displacementMap,B.displacementScale=O.displacementScale,B.displacementBias=O.displacementBias,B.wireframeLinewidth=O.wireframeLinewidth,B.linewidth=O.linewidth,R.isPointLight===!0&&B.isMeshDistanceMaterial===!0&&(B.referencePosition.setFromMatrixPosition(R.matrixWorld),B.nearDistance=L,B.farDistance=G),B}function S(x,F,O,R,L){if(x.visible===!1)return;if(x.layers.test(F.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&L===eu)&&(!x.frustumCulled||i.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,x.matrixWorld);const B=s.update(x),oe=x.material;if(Array.isArray(oe)){const $=B.groups;for(let Z=0,te=$.length;Z<te;Z++){const ee=$[Z],J=oe[ee.materialIndex];if(J&&J.visible){const ie=E(x,B,J,R,O.near,O.far,L);e.renderBufferDirect(O,null,B,ie,x,ee)}}}else if(oe.visible){const $=E(x,B,oe,R,O.near,O.far,L);e.renderBufferDirect(O,null,B,$,x,null)}}const V=x.children;for(let B=0,oe=V.length;B<oe;B++)S(V[B],F,O,R,L)}}function eY(e,s,t){const i=t.isWebGL2;function r(){let he=!1;const Ge=new Qt;let xe=null;const Ve=new Qt(0,0,0,0);return{setMask:function(qe){xe!==qe&&!he&&(e.colorMask(qe,qe,qe,qe),xe=qe)},setLocked:function(qe){he=qe},setClear:function(qe,at,tt,gt,Zt){Zt===!0&&(qe*=gt,at*=gt,tt*=gt),Ge.set(qe,at,tt,gt),Ve.equals(Ge)===!1&&(e.clearColor(qe,at,tt,gt),Ve.copy(Ge))},reset:function(){he=!1,xe=null,Ve.set(-1,0,0,0)}}}function n(){let he=!1,Ge=null,xe=null,Ve=null;return{setTest:function(qe){qe?Te(2929):Ce(2929)},setMask:function(qe){Ge!==qe&&!he&&(e.depthMask(qe),Ge=qe)},setFunc:function(qe){if(xe!==qe){if(qe)switch(qe){case t7:e.depthFunc(512);break;case s7:e.depthFunc(519);break;case i7:e.depthFunc(513);break;case uy:e.depthFunc(515);break;case r7:e.depthFunc(514);break;case n7:e.depthFunc(518);break;case o7:e.depthFunc(516);break;case a7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);xe=qe}},setLocked:function(qe){he=qe},setClear:function(qe){Ve!==qe&&(e.clearDepth(qe),Ve=qe)},reset:function(){he=!1,Ge=null,xe=null,Ve=null}}}function o(){let he=!1,Ge=null,xe=null,Ve=null,qe=null,at=null,tt=null,gt=null,Zt=null;return{setTest:function(It){he||(It?Te(2960):Ce(2960))},setMask:function(It){Ge!==It&&!he&&(e.stencilMask(It),Ge=It)},setFunc:function(It,es,Nt){(xe!==It||Ve!==es||qe!==Nt)&&(e.stencilFunc(It,es,Nt),xe=It,Ve=es,qe=Nt)},setOp:function(It,es,Nt){(at!==It||tt!==es||gt!==Nt)&&(e.stencilOp(It,es,Nt),at=It,tt=es,gt=Nt)},setLocked:function(It){he=It},setClear:function(It){Zt!==It&&(e.clearStencil(It),Zt=It)},reset:function(){he=!1,Ge=null,xe=null,Ve=null,qe=null,at=null,tt=null,gt=null,Zt=null}}}const a=new r,l=new n,h=new o;let c={},u={},p=null,f=!1,m=null,g=null,C=null,I=null,E=null,S=null,x=null,F=!1,O=null,R=null,L=null,G=null,V=null;const B=e.getParameter(35661);let oe=!1,$=0;const Z=e.getParameter(7938);Z.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(Z)[1]),oe=$>=1):Z.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),oe=$>=2);let te=null,ee={};const J=e.getParameter(3088),ie=e.getParameter(2978),re=new Qt().fromArray(J),ae=new Qt().fromArray(ie);function le(he,Ge,xe){const Ve=new Uint8Array(4),qe=e.createTexture();e.bindTexture(he,qe),e.texParameteri(he,10241,9728),e.texParameteri(he,10240,9728);for(let at=0;at<xe;at++)e.texImage2D(Ge+at,0,6408,1,1,0,6408,5121,Ve);return qe}const me={};me[3553]=le(3553,3553,1),me[34067]=le(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),h.setClear(0),Te(2929),l.setFunc(uy),ct(!1),we(GE),Te(2884),ke(ci);function Te(he){c[he]!==!0&&(e.enable(he),c[he]=!0)}function Ce(he){c[he]!==!1&&(e.disable(he),c[he]=!1)}function Ue(he,Ge){return u[he]!==Ge?(e.bindFramebuffer(he,Ge),u[he]=Ge,i&&(he===36009&&(u[36160]=Ge),he===36160&&(u[36009]=Ge)),!0):!1}function ye(he){return p!==he?(e.useProgram(he),p=he,!0):!1}const Be={[Ho]:32774,[X9]:32778,[q9]:32779};if(i)Be[jE]=32775,Be[zE]=32776;else{const he=s.get("EXT_blend_minmax");he!==null&&(Be[jE]=he.MIN_EXT,Be[zE]=he.MAX_EXT)}const Ze={[cy]:0,[Q9]:1,[$9]:768,[jw]:770,[e7]:776,[Yw]:774,[Ww]:772,[Z9]:769,[zw]:771,[J9]:775,[K9]:773};function ke(he,Ge,xe,Ve,qe,at,tt,gt){if(he===ci){f===!0&&(Ce(3042),f=!1);return}if(f===!1&&(Te(3042),f=!0),he!==hy){if(he!==m||gt!==F){if((g!==Ho||E!==Ho)&&(e.blendEquation(32774),g=Ho,E=Ho),gt)switch(he){case du:e.blendFuncSeparate(1,771,1,771);break;case BE:e.blendFunc(1,1);break;case kE:e.blendFuncSeparate(0,0,769,771);break;case VE:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}else switch(he){case du:e.blendFuncSeparate(770,771,1,771);break;case BE:e.blendFunc(770,1);break;case kE:e.blendFunc(0,769);break;case VE:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}C=null,I=null,S=null,x=null,m=he,F=gt}return}qe=qe||Ge,at=at||xe,tt=tt||Ve,(Ge!==g||qe!==E)&&(e.blendEquationSeparate(Be[Ge],Be[qe]),g=Ge,E=qe),(xe!==C||Ve!==I||at!==S||tt!==x)&&(e.blendFuncSeparate(Ze[xe],Ze[Ve],Ze[at],Ze[tt]),C=xe,I=Ve,S=at,x=tt),m=he,F=null}function Ne(he,Ge){he.side===qi?Ce(2884):Te(2884);let xe=he.side===Us;Ge&&(xe=!xe),ct(xe),he.blending===du&&he.transparent===!1?ke(ci):ke(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.premultipliedAlpha),l.setFunc(he.depthFunc),l.setTest(he.depthTest),l.setMask(he.depthWrite),a.setMask(he.colorWrite);const Ve=he.stencilWrite;h.setTest(Ve),Ve&&(h.setMask(he.stencilWriteMask),h.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),h.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),z(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?Te(32926):Ce(32926)}function ct(he){O!==he&&(he?e.frontFace(2304):e.frontFace(2305),O=he)}function we(he){he!==z9?(Te(2884),he!==R&&(he===GE?e.cullFace(1029):he===W9?e.cullFace(1028):e.cullFace(1032))):Ce(2884),R=he}function Y(he){he!==L&&(oe&&e.lineWidth(he),L=he)}function z(he,Ge,xe){he?(Te(32823),(G!==Ge||V!==xe)&&(e.polygonOffset(Ge,xe),G=Ge,V=xe)):Ce(32823)}function pe(he){he?Te(3089):Ce(3089)}function ge(he){he===void 0&&(he=33984+B-1),te!==he&&(e.activeTexture(he),te=he)}function Ee(he,Ge){te===null&&ge();let xe=ee[te];xe===void 0&&(xe={type:void 0,texture:void 0},ee[te]=xe),(xe.type!==he||xe.texture!==Ge)&&(e.bindTexture(he,Ge||me[he]),xe.type=he,xe.texture=Ge)}function be(){const he=ee[te];he!==void 0&&he.type!==void 0&&(e.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function De(){try{e.compressedTexImage2D.apply(e,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Me(){try{e.texSubImage2D.apply(e,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function q(){try{e.texStorage2D.apply(e,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function k(){try{e.texImage2D.apply(e,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ie(){try{e.texImage3D.apply(e,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function de(he){re.equals(he)===!1&&(e.scissor(he.x,he.y,he.z,he.w),re.copy(he))}function Pe(he){ae.equals(he)===!1&&(e.viewport(he.x,he.y,he.z,he.w),ae.copy(he))}function He(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),i===!0&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),c={},te=null,ee={},u={},p=null,f=!1,m=null,g=null,C=null,I=null,E=null,S=null,x=null,F=!1,O=null,R=null,L=null,G=null,V=null,re.set(0,0,e.canvas.width,e.canvas.height),ae.set(0,0,e.canvas.width,e.canvas.height),a.reset(),l.reset(),h.reset()}return{buffers:{color:a,depth:l,stencil:h},enable:Te,disable:Ce,bindFramebuffer:Ue,useProgram:ye,setBlending:ke,setMaterial:Ne,setFlipSided:ct,setCullFace:we,setLineWidth:Y,setPolygonOffset:z,setScissorTest:pe,activeTexture:ge,bindTexture:Ee,unbindTexture:be,compressedTexImage2D:De,texImage2D:k,texImage3D:Ie,texStorage2D:q,texSubImage2D:Me,scissor:de,viewport:Pe,reset:He}}function tY(e,s,t,i,r,n,o){const a=r.isWebGL2,l=r.maxTextures,h=r.maxCubemapSize,c=r.maxTextureSize,u=r.maxSamples,f=s.has("WEBGL_multisampled_render_to_texture")?s.get("WEBGL_multisampled_render_to_texture"):void 0,m=new WeakMap;let g,C=!1;try{C=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function I(q,k){return C?new OffscreenCanvas(q,k):em("canvas")}function E(q,k,Ie,de){let Pe=1;if((q.width>de||q.height>de)&&(Pe=de/Math.max(q.width,q.height)),Pe<1||k===!0)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap){const He=k?tS:Math.floor,he=He(Pe*q.width),Ge=He(Pe*q.height);g===void 0&&(g=I(he,Ge));const xe=Ie?I(he,Ge):g;return xe.width=he,xe.height=Ge,xe.getContext("2d").drawImage(q,0,0,he,Ge),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+q.width+"x"+q.height+") to ("+he+"x"+Ge+")."),xe}else return"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+q.width+"x"+q.height+")."),q;return q}function S(q){return dy(q.width)&&dy(q.height)}function x(q){return a?!1:q.wrapS!==Oi||q.wrapT!==Oi||q.minFilter!==Ss&&q.minFilter!==js}function F(q,k){return q.generateMipmaps&&k&&q.minFilter!==Ss&&q.minFilter!==js}function O(q){e.generateMipmap(q)}function R(q,k,Ie){if(a===!1)return k;if(q!==null){if(e[q]!==void 0)return e[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let de=k;return k===6403&&(Ie===5126&&(de=33326),Ie===5131&&(de=33325),Ie===5121&&(de=33321)),k===6407&&(Ie===5126&&(de=34837),Ie===5131&&(de=34843),Ie===5121&&(de=32849)),k===6408&&(Ie===5126&&(de=34836),Ie===5131&&(de=34842),Ie===5121&&(de=32856)),(de===33325||de===33326||de===34842||de===34836)&&s.get("EXT_color_buffer_float"),de}function L(q,k,Ie){return F(q,Ie)===!0?Math.log2(Math.max(k.width,k.height))+1:q.mipmaps.length>0?q.mipmaps.length:1}function G(q){return q===Ss||q===hd||q===cd?9728:9729}function V(q){const k=q.target;k.removeEventListener("dispose",V),oe(k),k.isVideoTexture&&m.delete(k),o.memory.textures--}function B(q){const k=q.target;k.removeEventListener("dispose",B),$(k)}function oe(q){const k=i.get(q);k.__webglInit!==void 0&&(e.deleteTexture(k.__webglTexture),i.remove(q))}function $(q){const k=q.texture,Ie=i.get(q),de=i.get(k);if(!!q){if(de.__webglTexture!==void 0&&(e.deleteTexture(de.__webglTexture),o.memory.textures--),q.depthTexture&&q.depthTexture.dispose(),q.isWebGLCubeRenderTarget)for(let Pe=0;Pe<6;Pe++)e.deleteFramebuffer(Ie.__webglFramebuffer[Pe]),Ie.__webglDepthbuffer&&e.deleteRenderbuffer(Ie.__webglDepthbuffer[Pe]);else e.deleteFramebuffer(Ie.__webglFramebuffer),Ie.__webglDepthbuffer&&e.deleteRenderbuffer(Ie.__webglDepthbuffer),Ie.__webglMultisampledFramebuffer&&e.deleteFramebuffer(Ie.__webglMultisampledFramebuffer),Ie.__webglColorRenderbuffer&&e.deleteRenderbuffer(Ie.__webglColorRenderbuffer),Ie.__webglDepthRenderbuffer&&e.deleteRenderbuffer(Ie.__webglDepthRenderbuffer);if(q.isWebGLMultipleRenderTargets)for(let Pe=0,He=k.length;Pe<He;Pe++){const he=i.get(k[Pe]);he.__webglTexture&&(e.deleteTexture(he.__webglTexture),o.memory.textures--),i.remove(k[Pe])}i.remove(k),i.remove(q)}}let Z=0;function te(){Z=0}function ee(){const q=Z;return q>=l&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+l),Z+=1,q}function J(q,k){const Ie=i.get(q);if(q.isVideoTexture&&ge(q),q.version>0&&Ie.__version!==q.version){const de=q.image;if(de===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(de.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ue(Ie,q,k);return}}t.activeTexture(33984+k),t.bindTexture(3553,Ie.__webglTexture)}function ie(q,k){const Ie=i.get(q);if(q.version>0&&Ie.__version!==q.version){Ue(Ie,q,k);return}t.activeTexture(33984+k),t.bindTexture(35866,Ie.__webglTexture)}function re(q,k){const Ie=i.get(q);if(q.version>0&&Ie.__version!==q.version){Ue(Ie,q,k);return}t.activeTexture(33984+k),t.bindTexture(32879,Ie.__webglTexture)}function ae(q,k){const Ie=i.get(q);if(q.version>0&&Ie.__version!==q.version){ye(Ie,q,k);return}t.activeTexture(33984+k),t.bindTexture(34067,Ie.__webglTexture)}const le={[Ja]:10497,[Oi]:33071,[Au]:33648},me={[Ss]:9728,[hd]:9984,[cd]:9986,[js]:9729,[EI]:9985,[ll]:9987};function Te(q,k,Ie){if(Ie?(e.texParameteri(q,10242,le[k.wrapS]),e.texParameteri(q,10243,le[k.wrapT]),(q===32879||q===35866)&&e.texParameteri(q,32882,le[k.wrapR]),e.texParameteri(q,10240,me[k.magFilter]),e.texParameteri(q,10241,me[k.minFilter])):(e.texParameteri(q,10242,33071),e.texParameteri(q,10243,33071),(q===32879||q===35866)&&e.texParameteri(q,32882,33071),(k.wrapS!==Oi||k.wrapT!==Oi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(q,10240,G(k.magFilter)),e.texParameteri(q,10241,G(k.minFilter)),k.minFilter!==Ss&&k.minFilter!==js&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),s.has("EXT_texture_filter_anisotropic")===!0){const de=s.get("EXT_texture_filter_anisotropic");if(k.type===Zn&&s.has("OES_texture_float_linear")===!1||a===!1&&k.type===xh&&s.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||i.get(k).__currentAnisotropy)&&(e.texParameterf(q,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,r.getMaxAnisotropy())),i.get(k).__currentAnisotropy=k.anisotropy)}}function Ce(q,k){q.__webglInit===void 0&&(q.__webglInit=!0,k.addEventListener("dispose",V),q.__webglTexture=e.createTexture(),o.memory.textures++)}function Ue(q,k,Ie){let de=3553;k.isDataTexture2DArray&&(de=35866),k.isDataTexture3D&&(de=32879),Ce(q,k),t.activeTexture(33984+Ie),t.bindTexture(de,q.__webglTexture),e.pixelStorei(37440,k.flipY),e.pixelStorei(37441,k.premultiplyAlpha),e.pixelStorei(3317,k.unpackAlignment),e.pixelStorei(37443,0);const Pe=x(k)&&S(k.image)===!1,He=E(k.image,Pe,!1,c),he=S(He)||a,Ge=n.convert(k.format);let xe=n.convert(k.type),Ve=R(k.internalFormat,Ge,xe,k.encoding);Te(de,k,he);let qe;const at=k.mipmaps;if(k.isDepthTexture)Ve=6402,a?k.type===Zn?Ve=36012:k.type===Qf?Ve=33190:k.type===bh?Ve=35056:Ve=33189:k.type===Zn&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===Qa&&Ve===6402&&k.type!==Hh&&k.type!==Qf&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=Hh,xe=n.convert(k.type)),k.format===Gh&&Ve===6402&&(Ve=34041,k.type!==bh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=bh,xe=n.convert(k.type))),t.texImage2D(3553,0,Ve,He.width,He.height,0,Ge,xe,null);else if(k.isDataTexture)if(at.length>0&&he){for(let tt=0,gt=at.length;tt<gt;tt++)qe=at[tt],t.texImage2D(3553,tt,Ve,qe.width,qe.height,0,Ge,xe,qe.data);k.generateMipmaps=!1}else t.texImage2D(3553,0,Ve,He.width,He.height,0,Ge,xe,He.data);else if(k.isCompressedTexture)for(let tt=0,gt=at.length;tt<gt;tt++)qe=at[tt],k.format!==Ds&&k.format!==In?Ge!==null?t.compressedTexImage2D(3553,tt,Ve,qe.width,qe.height,0,qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,tt,Ve,qe.width,qe.height,0,Ge,xe,qe.data);else if(k.isDataTexture2DArray)t.texImage3D(35866,0,Ve,He.width,He.height,He.depth,0,Ge,xe,He.data);else if(k.isDataTexture3D)t.texImage3D(32879,0,Ve,He.width,He.height,He.depth,0,Ge,xe,He.data);else{const tt=L(k,He,he),gt=a&&k.isVideoTexture!==!0,Zt=q.__version===void 0;if(at.length>0&&he){gt&&Zt&&t.texStorage2D(3553,tt,Ve,at[0].width,at[0].height);for(let It=0,es=at.length;It<es;It++)qe=at[It],gt?t.texSubImage2D(3553,It,0,0,Ge,xe,qe):t.texImage2D(3553,It,Ve,Ge,xe,qe);k.generateMipmaps=!1}else gt?(Zt&&t.texStorage2D(3553,tt,Ve,He.width,He.height),t.texSubImage2D(3553,0,0,0,Ge,xe,He)):t.texImage2D(3553,0,Ve,Ge,xe,He)}F(k,he)&&O(de),q.__version=k.version,k.onUpdate&&k.onUpdate(k)}function ye(q,k,Ie){if(k.image.length!==6)return;Ce(q,k),t.activeTexture(33984+Ie),t.bindTexture(34067,q.__webglTexture),e.pixelStorei(37440,k.flipY),e.pixelStorei(37441,k.premultiplyAlpha),e.pixelStorei(3317,k.unpackAlignment),e.pixelStorei(37443,0);const de=k&&(k.isCompressedTexture||k.image[0].isCompressedTexture),Pe=k.image[0]&&k.image[0].isDataTexture,He=[];for(let tt=0;tt<6;tt++)!de&&!Pe?He[tt]=E(k.image[tt],!1,!0,h):He[tt]=Pe?k.image[tt].image:k.image[tt];const he=He[0],Ge=S(he)||a,xe=n.convert(k.format),Ve=n.convert(k.type),qe=R(k.internalFormat,xe,Ve,k.encoding);Te(34067,k,Ge);let at;if(de)for(let tt=0;tt<6;tt++){at=He[tt].mipmaps;for(let gt=0;gt<at.length;gt++){const Zt=at[gt];k.format!==Ds&&k.format!==In?xe!==null?t.compressedTexImage2D(34069+tt,gt,qe,Zt.width,Zt.height,0,Zt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+tt,gt,qe,Zt.width,Zt.height,0,xe,Ve,Zt.data)}}else{at=k.mipmaps;for(let tt=0;tt<6;tt++)if(Pe){t.texImage2D(34069+tt,0,qe,He[tt].width,He[tt].height,0,xe,Ve,He[tt].data);for(let gt=0;gt<at.length;gt++){const It=at[gt].image[tt].image;t.texImage2D(34069+tt,gt+1,qe,It.width,It.height,0,xe,Ve,It.data)}}else{t.texImage2D(34069+tt,0,qe,xe,Ve,He[tt]);for(let gt=0;gt<at.length;gt++){const Zt=at[gt];t.texImage2D(34069+tt,gt+1,qe,xe,Ve,Zt.image[tt])}}}F(k,Ge)&&O(34067),q.__version=k.version,k.onUpdate&&k.onUpdate(k)}function Be(q,k,Ie,de,Pe){const He=n.convert(Ie.format),he=n.convert(Ie.type),Ge=R(Ie.internalFormat,He,he,Ie.encoding);i.get(k).__hasExternalTextures||(Pe===32879||Pe===35866?t.texImage3D(Pe,0,Ge,k.width,k.height,k.depth,0,He,he,null):t.texImage2D(Pe,0,Ge,k.width,k.height,0,He,he,null)),t.bindFramebuffer(36160,q),k.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,de,Pe,i.get(Ie).__webglTexture,0,pe(k)):e.framebufferTexture2D(36160,de,Pe,i.get(Ie).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ze(q,k,Ie){if(e.bindRenderbuffer(36161,q),k.depthBuffer&&!k.stencilBuffer){let de=33189;if(Ie||k.useRenderToTexture){const Pe=k.depthTexture;Pe&&Pe.isDepthTexture&&(Pe.type===Zn?de=36012:Pe.type===Qf&&(de=33190));const He=pe(k);k.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,He,de,k.width,k.height):e.renderbufferStorageMultisample(36161,He,de,k.width,k.height)}else e.renderbufferStorage(36161,de,k.width,k.height);e.framebufferRenderbuffer(36160,36096,36161,q)}else if(k.depthBuffer&&k.stencilBuffer){const de=pe(k);Ie&&k.useRenderbuffer?e.renderbufferStorageMultisample(36161,de,35056,k.width,k.height):k.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,de,35056,k.width,k.height):e.renderbufferStorage(36161,34041,k.width,k.height),e.framebufferRenderbuffer(36160,33306,36161,q)}else{const de=k.isWebGLMultipleRenderTargets===!0?k.texture[0]:k.texture,Pe=n.convert(de.format),He=n.convert(de.type),he=R(de.internalFormat,Pe,He,de.encoding),Ge=pe(k);Ie&&k.useRenderbuffer?e.renderbufferStorageMultisample(36161,Ge,he,k.width,k.height):k.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,Ge,he,k.width,k.height):e.renderbufferStorage(36161,he,k.width,k.height)}e.bindRenderbuffer(36161,null)}function ke(q,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,q),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),J(k.depthTexture,0);const de=i.get(k.depthTexture).__webglTexture,Pe=pe(k);if(k.depthTexture.format===Qa)k.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,de,0,Pe):e.framebufferTexture2D(36160,36096,3553,de,0);else if(k.depthTexture.format===Gh)k.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,de,0,Pe):e.framebufferTexture2D(36160,33306,3553,de,0);else throw new Error("Unknown depthTexture format")}function Ne(q){const k=i.get(q),Ie=q.isWebGLCubeRenderTarget===!0;if(q.depthTexture&&!k.__autoAllocateDepthBuffer){if(Ie)throw new Error("target.depthTexture not supported in Cube render targets");ke(k.__webglFramebuffer,q)}else if(Ie){k.__webglDepthbuffer=[];for(let de=0;de<6;de++)t.bindFramebuffer(36160,k.__webglFramebuffer[de]),k.__webglDepthbuffer[de]=e.createRenderbuffer(),Ze(k.__webglDepthbuffer[de],q,!1)}else t.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=e.createRenderbuffer(),Ze(k.__webglDepthbuffer,q,!1);t.bindFramebuffer(36160,null)}function ct(q,k,Ie){const de=i.get(q);k!==void 0&&Be(de.__webglFramebuffer,q,q.texture,36064,3553),Ie!==void 0&&Ne(q)}function we(q){const k=q.texture,Ie=i.get(q),de=i.get(k);q.addEventListener("dispose",B),q.isWebGLMultipleRenderTargets!==!0&&(de.__webglTexture===void 0&&(de.__webglTexture=e.createTexture()),de.__version=k.version,o.memory.textures++);const Pe=q.isWebGLCubeRenderTarget===!0,He=q.isWebGLMultipleRenderTargets===!0,he=k.isDataTexture3D||k.isDataTexture2DArray,Ge=S(q)||a;if(a&&k.format===In&&(k.type===Zn||k.type===xh)&&(k.format=Ds,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Pe){Ie.__webglFramebuffer=[];for(let xe=0;xe<6;xe++)Ie.__webglFramebuffer[xe]=e.createFramebuffer()}else if(Ie.__webglFramebuffer=e.createFramebuffer(),He)if(r.drawBuffers){const xe=q.texture;for(let Ve=0,qe=xe.length;Ve<qe;Ve++){const at=i.get(xe[Ve]);at.__webglTexture===void 0&&(at.__webglTexture=e.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(q.useRenderbuffer)if(a){Ie.__webglMultisampledFramebuffer=e.createFramebuffer(),Ie.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,Ie.__webglColorRenderbuffer);const xe=n.convert(k.format),Ve=n.convert(k.type),qe=R(k.internalFormat,xe,Ve,k.encoding),at=pe(q);e.renderbufferStorageMultisample(36161,at,qe,q.width,q.height),t.bindFramebuffer(36160,Ie.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,Ie.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),q.depthBuffer&&(Ie.__webglDepthRenderbuffer=e.createRenderbuffer(),Ze(Ie.__webglDepthRenderbuffer,q,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Pe){t.bindTexture(34067,de.__webglTexture),Te(34067,k,Ge);for(let xe=0;xe<6;xe++)Be(Ie.__webglFramebuffer[xe],q,k,36064,34069+xe);F(k,Ge)&&O(34067),t.unbindTexture()}else if(He){const xe=q.texture;for(let Ve=0,qe=xe.length;Ve<qe;Ve++){const at=xe[Ve],tt=i.get(at);t.bindTexture(3553,tt.__webglTexture),Te(3553,at,Ge),Be(Ie.__webglFramebuffer,q,at,36064+Ve,3553),F(at,Ge)&&O(3553)}t.unbindTexture()}else{let xe=3553;he&&(a?xe=k.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(xe,de.__webglTexture),Te(xe,k,Ge),Be(Ie.__webglFramebuffer,q,k,36064,xe),F(k,Ge)&&O(xe),t.unbindTexture()}q.depthBuffer&&Ne(q)}function Y(q){const k=S(q)||a,Ie=q.isWebGLMultipleRenderTargets===!0?q.texture:[q.texture];for(let de=0,Pe=Ie.length;de<Pe;de++){const He=Ie[de];if(F(He,k)){const he=q.isWebGLCubeRenderTarget?34067:3553,Ge=i.get(He).__webglTexture;t.bindTexture(he,Ge),O(he),t.unbindTexture()}}}function z(q){if(q.useRenderbuffer)if(a){const k=q.width,Ie=q.height;let de=16384;const Pe=[36064],He=q.stencilBuffer?33306:36096;q.depthBuffer&&Pe.push(He),q.ignoreDepthForMultisampleCopy||(q.depthBuffer&&(de|=256),q.stencilBuffer&&(de|=1024));const he=i.get(q);t.bindFramebuffer(36008,he.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,he.__webglFramebuffer),q.ignoreDepthForMultisampleCopy&&(e.invalidateFramebuffer(36008,[He]),e.invalidateFramebuffer(36009,[He])),e.blitFramebuffer(0,0,k,Ie,0,0,k,Ie,de,9728),e.invalidateFramebuffer(36008,Pe),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,he.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function pe(q){return a&&(q.useRenderbuffer||q.useRenderToTexture)?Math.min(u,q.samples):0}function ge(q){const k=o.render.frame;m.get(q)!==k&&(m.set(q,k),q.update())}let Ee=!1,be=!1;function De(q,k){q&&q.isWebGLRenderTarget&&(Ee===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Ee=!0),q=q.texture),J(q,k)}function Me(q,k){q&&q.isWebGLCubeRenderTarget&&(be===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),be=!0),q=q.texture),ae(q,k)}this.allocateTextureUnit=ee,this.resetTextureUnits=te,this.setTexture2D=J,this.setTexture2DArray=ie,this.setTexture3D=re,this.setTextureCube=ae,this.rebindTextures=ct,this.setupRenderTarget=we,this.updateRenderTargetMipmap=Y,this.updateMultisampleRenderTarget=z,this.setupDepthRenderbuffer=Ne,this.setupFrameBufferTexture=Be,this.safeSetTexture2D=De,this.safeSetTextureCube=Me}function sY(e,s,t){const i=t.isWebGL2;function r(n){let o;if(n===ia)return 5121;if(n===y7)return 32819;if(n===I7)return 32820;if(n===E7)return 33635;if(n===m7)return 5120;if(n===T7)return 5122;if(n===Hh)return 5123;if(n===g7)return 5124;if(n===Qf)return 5125;if(n===Zn)return 5126;if(n===xh)return i?5131:(o=s.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(n===v7)return 6406;if(n===In)return 6407;if(n===Ds)return 6408;if(n===C7)return 6409;if(n===_7)return 6410;if(n===Qa)return 6402;if(n===Gh)return 34041;if(n===S7)return 6403;if(n===x7)return 36244;if(n===b7)return 33319;if(n===F7)return 33320;if(n===R7)return 36248;if(n===P7)return 36249;if(n===WE||n===YE||n===XE||n===qE)if(o=s.get("WEBGL_compressed_texture_s3tc"),o!==null){if(n===WE)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===YE)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===XE)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===qE)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===QE||n===$E||n===ZE||n===KE)if(o=s.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(n===QE)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===$E)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===ZE)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===KE)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===A7)return o=s.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((n===JE||n===ev)&&(o=s.get("WEBGL_compressed_texture_etc"),o!==null)){if(n===JE)return o.COMPRESSED_RGB8_ETC2;if(n===ev)return o.COMPRESSED_RGBA8_ETC2_EAC}if(n===O7||n===D7||n===M7||n===N7||n===L7||n===U7||n===H7||n===G7||n===B7||n===k7||n===V7||n===j7||n===z7||n===W7||n===X7||n===q7||n===Q7||n===$7||n===Z7||n===K7||n===J7||n===ek||n===tk||n===sk||n===ik||n===rk||n===nk||n===ok)return o=s.get("WEBGL_compressed_texture_astc"),o!==null?n:null;if(n===Y7)return o=s.get("EXT_texture_compression_bptc"),o!==null?n:null;if(n===bh)return i?34042:(o=s.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}class CS extends ui{constructor(s=[]){super(),this.cameras=s}}CS.prototype.isArrayCamera=!0;class gn extends jt{constructor(){super(),this.type="Group"}}gn.prototype.isGroup=!0;const iY={type:"move"};class ng{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new gn,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new gn,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new gn,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(s){return this._targetRay!==null&&this._targetRay.dispatchEvent(s),this._grip!==null&&this._grip.dispatchEvent(s),this._hand!==null&&this._hand.dispatchEvent(s),this}disconnect(s){return this.dispatchEvent({type:"disconnected",data:s}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(s,t,i){let r=null,n=null,o=null;const a=this._targetRay,l=this._grip,h=this._hand;if(s&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(r=t.getPose(s.targetRaySpace,i),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(iY))),h&&s.hand){o=!0;for(const g of s.hand.values()){const C=t.getJointPose(g,i);if(h.joints[g.jointName]===void 0){const E=new gn;E.matrixAutoUpdate=!1,E.visible=!1,h.joints[g.jointName]=E,h.add(E)}const I=h.joints[g.jointName];C!==null&&(I.matrix.fromArray(C.transform.matrix),I.matrix.decompose(I.position,I.rotation,I.scale),I.jointRadius=C.radius),I.visible=C!==null}const c=h.joints["index-finger-tip"],u=h.joints["thumb-tip"],p=c.position.distanceTo(u.position),f=.02,m=.005;h.inputState.pinching&&p>f+m?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:s.handedness,target:this})):!h.inputState.pinching&&p<=f-m&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:s.handedness,target:this}))}else l!==null&&s.gripSpace&&(n=t.getPose(s.gripSpace,i),n!==null&&(l.matrix.fromArray(n.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),n.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(n.linearVelocity)):l.hasLinearVelocity=!1,n.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(n.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=n!==null),h!==null&&(h.visible=o!==null),this}}class Nu extends Ys{constructor(s,t,i,r,n,o,a,l,h,c){if(c=c!==void 0?c:Qa,c!==Qa&&c!==Gh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&c===Qa&&(i=Hh),i===void 0&&c===Gh&&(i=bh),super(null,r,n,o,a,l,c,i,h),this.image={width:s,height:t},this.magFilter=a!==void 0?a:Ss,this.minFilter=l!==void 0?l:Ss,this.flipY=!1,this.generateMipmaps=!1}}Nu.prototype.isDepthTexture=!0;class rY extends cl{constructor(s,t){super();const i=this;let r=null,n=1,o=null,a="local-floor";const l=s.extensions.has("WEBGL_multisampled_render_to_texture");let h=null,c=null,u=null,p=null,f=!1,m=null;const g=t.getContextAttributes();let C=null,I=null;const E=[],S=new Map,x=new ui;x.layers.enable(1),x.viewport=new Qt;const F=new ui;F.layers.enable(2),F.viewport=new Qt;const O=[x,F],R=new CS;R.layers.enable(1),R.layers.enable(2);let L=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let le=E[ae];return le===void 0&&(le=new ng,E[ae]=le),le.getTargetRaySpace()},this.getControllerGrip=function(ae){let le=E[ae];return le===void 0&&(le=new ng,E[ae]=le),le.getGripSpace()},this.getHand=function(ae){let le=E[ae];return le===void 0&&(le=new ng,E[ae]=le),le.getHandSpace()};function V(ae){const le=S.get(ae.inputSource);le&&le.dispatchEvent({type:ae.type,data:ae.inputSource})}function B(){S.forEach(function(ae,le){ae.disconnect(le)}),S.clear(),L=null,G=null,s.setRenderTarget(C),p=null,u=null,c=null,r=null,I=null,re.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){n=ae,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){a=ae,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getBaseLayer=function(){return u!==null?u:p},this.getBinding=function(){return c},this.getFrame=function(){return m},this.getSession=function(){return r},this.setSession=async function(ae){if(r=ae,r!==null){if(C=s.getRenderTarget(),r.addEventListener("select",V),r.addEventListener("selectstart",V),r.addEventListener("selectend",V),r.addEventListener("squeeze",V),r.addEventListener("squeezestart",V),r.addEventListener("squeezeend",V),r.addEventListener("end",B),r.addEventListener("inputsourceschange",oe),g.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||s.capabilities.isWebGL2===!1){const le={antialias:r.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:n};p=new XRWebGLLayer(r,t,le),r.updateRenderState({baseLayer:p}),I=new zs(p.framebufferWidth,p.framebufferHeight)}else{f=g.antialias;let le=null,me=null,Te=null;g.depth&&(Te=g.stencil?35056:33189,le=g.stencil?Gh:Qa,me=g.stencil?bh:Hh);const Ce={colorFormat:g.alpha||f?32856:32849,depthFormat:Te,scaleFactor:n};c=new XRWebGLBinding(r,t),u=c.createProjectionLayer(Ce),r.updateRenderState({layers:[u]}),f?I=new SI(u.textureWidth,u.textureHeight,{format:Ds,type:ia,depthTexture:new Nu(u.textureWidth,u.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,le),stencilBuffer:g.stencil,ignoreDepth:u.ignoreDepthValues,useRenderToTexture:l}):I=new zs(u.textureWidth,u.textureHeight,{format:g.alpha?Ds:In,type:ia,depthTexture:new Nu(u.textureWidth,u.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,le),stencilBuffer:g.stencil,ignoreDepth:u.ignoreDepthValues})}this.setFoveation(0),o=await r.requestReferenceSpace(a),re.setContext(r),re.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function oe(ae){const le=r.inputSources;for(let me=0;me<E.length;me++)S.set(le[me],E[me]);for(let me=0;me<ae.removed.length;me++){const Te=ae.removed[me],Ce=S.get(Te);Ce&&(Ce.dispatchEvent({type:"disconnected",data:Te}),S.delete(Te))}for(let me=0;me<ae.added.length;me++){const Te=ae.added[me],Ce=S.get(Te);Ce&&Ce.dispatchEvent({type:"connected",data:Te})}}const $=new H,Z=new H;function te(ae,le,me){$.setFromMatrixPosition(le.matrixWorld),Z.setFromMatrixPosition(me.matrixWorld);const Te=$.distanceTo(Z),Ce=le.projectionMatrix.elements,Ue=me.projectionMatrix.elements,ye=Ce[14]/(Ce[10]-1),Be=Ce[14]/(Ce[10]+1),Ze=(Ce[9]+1)/Ce[5],ke=(Ce[9]-1)/Ce[5],Ne=(Ce[8]-1)/Ce[0],ct=(Ue[8]+1)/Ue[0],we=ye*Ne,Y=ye*ct,z=Te/(-Ne+ct),pe=z*-Ne;le.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(pe),ae.translateZ(z),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert();const ge=ye+z,Ee=Be+z,be=we-pe,De=Y+(Te-pe),Me=Ze*Be/Ee*ge,q=ke*Be/Ee*ge;ae.projectionMatrix.makePerspective(be,De,Me,q,ge,Ee)}function ee(ae,le){le===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(le.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(r===null)return;R.near=F.near=x.near=ae.near,R.far=F.far=x.far=ae.far,(L!==R.near||G!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),L=R.near,G=R.far);const le=ae.parent,me=R.cameras;ee(R,le);for(let Ce=0;Ce<me.length;Ce++)ee(me[Ce],le);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),ae.position.copy(R.position),ae.quaternion.copy(R.quaternion),ae.scale.copy(R.scale),ae.matrix.copy(R.matrix),ae.matrixWorld.copy(R.matrixWorld);const Te=ae.children;for(let Ce=0,Ue=Te.length;Ce<Ue;Ce++)Te[Ce].updateMatrixWorld(!0);me.length===2?te(R,x,F):R.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(u!==null)return u.fixedFoveation;if(p!==null)return p.fixedFoveation},this.setFoveation=function(ae){u!==null&&(u.fixedFoveation=ae),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=ae)};let J=null;function ie(ae,le){if(h=le.getViewerPose(o),m=le,h!==null){const Te=h.views;p!==null&&(s.setRenderTargetFramebuffer(I,p.framebuffer),s.setRenderTarget(I));let Ce=!1;Te.length!==R.cameras.length&&(R.cameras.length=0,Ce=!0);for(let Ue=0;Ue<Te.length;Ue++){const ye=Te[Ue];let Be=null;if(p!==null)Be=p.getViewport(ye);else{const ke=c.getViewSubImage(u,ye);Be=ke.viewport,Ue===0&&(s.setRenderTargetTextures(I,ke.colorTexture,u.ignoreDepthValues?void 0:ke.depthStencilTexture),s.setRenderTarget(I))}const Ze=O[Ue];Ze.matrix.fromArray(ye.transform.matrix),Ze.projectionMatrix.fromArray(ye.projectionMatrix),Ze.viewport.set(Be.x,Be.y,Be.width,Be.height),Ue===0&&R.matrix.copy(Ze.matrix),Ce===!0&&R.cameras.push(Ze)}}const me=r.inputSources;for(let Te=0;Te<E.length;Te++){const Ce=E[Te],Ue=me[Te];Ce.update(Ue,le,o)}J&&J(ae,le),m=null}const re=new lS;re.setAnimationLoop(ie),this.setAnimationLoop=function(ae){J=ae},this.dispose=function(){}}}function nY(e){function s(I,E){I.fogColor.value.copy(E.color),E.isFog?(I.fogNear.value=E.near,I.fogFar.value=E.far):E.isFogExp2&&(I.fogDensity.value=E.density)}function t(I,E,S,x,F){E.isMeshBasicMaterial?i(I,E):E.isMeshLambertMaterial?(i(I,E),l(I,E)):E.isMeshToonMaterial?(i(I,E),c(I,E)):E.isMeshPhongMaterial?(i(I,E),h(I,E)):E.isMeshStandardMaterial?(i(I,E),E.isMeshPhysicalMaterial?p(I,E,F):u(I,E)):E.isMeshMatcapMaterial?(i(I,E),f(I,E)):E.isMeshDepthMaterial?(i(I,E),m(I,E)):E.isMeshDistanceMaterial?(i(I,E),g(I,E)):E.isMeshNormalMaterial?(i(I,E),C(I,E)):E.isLineBasicMaterial?(r(I,E),E.isLineDashedMaterial&&n(I,E)):E.isPointsMaterial?o(I,E,S,x):E.isSpriteMaterial?a(I,E):E.isShadowMaterial?(I.color.value.copy(E.color),I.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function i(I,E){I.opacity.value=E.opacity,E.color&&I.diffuse.value.copy(E.color),E.emissive&&I.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(I.map.value=E.map),E.alphaMap&&(I.alphaMap.value=E.alphaMap),E.specularMap&&(I.specularMap.value=E.specularMap),E.alphaTest>0&&(I.alphaTest.value=E.alphaTest);const S=e.get(E).envMap;S&&(I.envMap.value=S,I.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,I.reflectivity.value=E.reflectivity,I.ior.value=E.ior,I.refractionRatio.value=E.refractionRatio),E.lightMap&&(I.lightMap.value=E.lightMap,I.lightMapIntensity.value=E.lightMapIntensity),E.aoMap&&(I.aoMap.value=E.aoMap,I.aoMapIntensity.value=E.aoMapIntensity);let x;E.map?x=E.map:E.specularMap?x=E.specularMap:E.displacementMap?x=E.displacementMap:E.normalMap?x=E.normalMap:E.bumpMap?x=E.bumpMap:E.roughnessMap?x=E.roughnessMap:E.metalnessMap?x=E.metalnessMap:E.alphaMap?x=E.alphaMap:E.emissiveMap?x=E.emissiveMap:E.clearcoatMap?x=E.clearcoatMap:E.clearcoatNormalMap?x=E.clearcoatNormalMap:E.clearcoatRoughnessMap?x=E.clearcoatRoughnessMap:E.specularIntensityMap?x=E.specularIntensityMap:E.specularColorMap?x=E.specularColorMap:E.transmissionMap?x=E.transmissionMap:E.thicknessMap?x=E.thicknessMap:E.sheenColorMap?x=E.sheenColorMap:E.sheenRoughnessMap&&(x=E.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),I.uvTransform.value.copy(x.matrix));let F;E.aoMap?F=E.aoMap:E.lightMap&&(F=E.lightMap),F!==void 0&&(F.isWebGLRenderTarget&&(F=F.texture),F.matrixAutoUpdate===!0&&F.updateMatrix(),I.uv2Transform.value.copy(F.matrix))}function r(I,E){I.diffuse.value.copy(E.color),I.opacity.value=E.opacity}function n(I,E){I.dashSize.value=E.dashSize,I.totalSize.value=E.dashSize+E.gapSize,I.scale.value=E.scale}function o(I,E,S,x){I.diffuse.value.copy(E.color),I.opacity.value=E.opacity,I.size.value=E.size*S,I.scale.value=x*.5,E.map&&(I.map.value=E.map),E.alphaMap&&(I.alphaMap.value=E.alphaMap),E.alphaTest>0&&(I.alphaTest.value=E.alphaTest);let F;E.map?F=E.map:E.alphaMap&&(F=E.alphaMap),F!==void 0&&(F.matrixAutoUpdate===!0&&F.updateMatrix(),I.uvTransform.value.copy(F.matrix))}function a(I,E){I.diffuse.value.copy(E.color),I.opacity.value=E.opacity,I.rotation.value=E.rotation,E.map&&(I.map.value=E.map),E.alphaMap&&(I.alphaMap.value=E.alphaMap),E.alphaTest>0&&(I.alphaTest.value=E.alphaTest);let S;E.map?S=E.map:E.alphaMap&&(S=E.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),I.uvTransform.value.copy(S.matrix))}function l(I,E){E.emissiveMap&&(I.emissiveMap.value=E.emissiveMap)}function h(I,E){I.specular.value.copy(E.specular),I.shininess.value=Math.max(E.shininess,1e-4),E.emissiveMap&&(I.emissiveMap.value=E.emissiveMap),E.bumpMap&&(I.bumpMap.value=E.bumpMap,I.bumpScale.value=E.bumpScale,E.side===Us&&(I.bumpScale.value*=-1)),E.normalMap&&(I.normalMap.value=E.normalMap,I.normalScale.value.copy(E.normalScale),E.side===Us&&I.normalScale.value.negate()),E.displacementMap&&(I.displacementMap.value=E.displacementMap,I.displacementScale.value=E.displacementScale,I.displacementBias.value=E.displacementBias)}function c(I,E){E.gradientMap&&(I.gradientMap.value=E.gradientMap),E.emissiveMap&&(I.emissiveMap.value=E.emissiveMap),E.bumpMap&&(I.bumpMap.value=E.bumpMap,I.bumpScale.value=E.bumpScale,E.side===Us&&(I.bumpScale.value*=-1)),E.normalMap&&(I.normalMap.value=E.normalMap,I.normalScale.value.copy(E.normalScale),E.side===Us&&I.normalScale.value.negate()),E.displacementMap&&(I.displacementMap.value=E.displacementMap,I.displacementScale.value=E.displacementScale,I.displacementBias.value=E.displacementBias)}function u(I,E){I.roughness.value=E.roughness,I.metalness.value=E.metalness,E.roughnessMap&&(I.roughnessMap.value=E.roughnessMap),E.metalnessMap&&(I.metalnessMap.value=E.metalnessMap),E.emissiveMap&&(I.emissiveMap.value=E.emissiveMap),E.bumpMap&&(I.bumpMap.value=E.bumpMap,I.bumpScale.value=E.bumpScale,E.side===Us&&(I.bumpScale.value*=-1)),E.normalMap&&(I.normalMap.value=E.normalMap,I.normalScale.value.copy(E.normalScale),E.side===Us&&I.normalScale.value.negate()),E.displacementMap&&(I.displacementMap.value=E.displacementMap,I.displacementScale.value=E.displacementScale,I.displacementBias.value=E.displacementBias),e.get(E).envMap&&(I.envMapIntensity.value=E.envMapIntensity)}function p(I,E,S){u(I,E),I.ior.value=E.ior,E.sheen>0&&(I.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),I.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(I.sheenColorMap.value=E.sheenColorMap),E.sheenRoughnessMap&&(I.sheenRoughnessMap.value=E.sheenRoughnessMap)),E.clearcoat>0&&(I.clearcoat.value=E.clearcoat,I.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(I.clearcoatMap.value=E.clearcoatMap),E.clearcoatRoughnessMap&&(I.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap),E.clearcoatNormalMap&&(I.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),I.clearcoatNormalMap.value=E.clearcoatNormalMap,E.side===Us&&I.clearcoatNormalScale.value.negate())),E.transmission>0&&(I.transmission.value=E.transmission,I.transmissionSamplerMap.value=S.texture,I.transmissionSamplerSize.value.set(S.width,S.height),E.transmissionMap&&(I.transmissionMap.value=E.transmissionMap),I.thickness.value=E.thickness,E.thicknessMap&&(I.thicknessMap.value=E.thicknessMap),I.attenuationDistance.value=E.attenuationDistance,I.attenuationColor.value.copy(E.attenuationColor)),I.specularIntensity.value=E.specularIntensity,I.specularColor.value.copy(E.specularColor),E.specularIntensityMap&&(I.specularIntensityMap.value=E.specularIntensityMap),E.specularColorMap&&(I.specularColorMap.value=E.specularColorMap)}function f(I,E){E.matcap&&(I.matcap.value=E.matcap),E.bumpMap&&(I.bumpMap.value=E.bumpMap,I.bumpScale.value=E.bumpScale,E.side===Us&&(I.bumpScale.value*=-1)),E.normalMap&&(I.normalMap.value=E.normalMap,I.normalScale.value.copy(E.normalScale),E.side===Us&&I.normalScale.value.negate()),E.displacementMap&&(I.displacementMap.value=E.displacementMap,I.displacementScale.value=E.displacementScale,I.displacementBias.value=E.displacementBias)}function m(I,E){E.displacementMap&&(I.displacementMap.value=E.displacementMap,I.displacementScale.value=E.displacementScale,I.displacementBias.value=E.displacementBias)}function g(I,E){E.displacementMap&&(I.displacementMap.value=E.displacementMap,I.displacementScale.value=E.displacementScale,I.displacementBias.value=E.displacementBias),I.referencePosition.value.copy(E.referencePosition),I.nearDistance.value=E.nearDistance,I.farDistance.value=E.farDistance}function C(I,E){E.bumpMap&&(I.bumpMap.value=E.bumpMap,I.bumpScale.value=E.bumpScale,E.side===Us&&(I.bumpScale.value*=-1)),E.normalMap&&(I.normalMap.value=E.normalMap,I.normalScale.value.copy(E.normalScale),E.side===Us&&I.normalScale.value.negate()),E.displacementMap&&(I.displacementMap.value=E.displacementMap,I.displacementScale.value=E.displacementScale,I.displacementBias.value=E.displacementBias)}return{refreshFogUniforms:s,refreshMaterialUniforms:t}}function oY(){const e=em("canvas");return e.style.display="block",e}function is(e={}){const s=e.canvas!==void 0?e.canvas:oY(),t=e.context!==void 0?e.context:null,i=e.alpha!==void 0?e.alpha:!1,r=e.depth!==void 0?e.depth:!0,n=e.stencil!==void 0?e.stencil:!0,o=e.antialias!==void 0?e.antialias:!1,a=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,l=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,h=e.powerPreference!==void 0?e.powerPreference:"default",c=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let u=null,p=null;const f=[],m=[];this.domElement=s,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Qi,this.physicallyCorrectLights=!1,this.toneMapping=qa,this.toneMappingExposure=1;const g=this;let C=!1,I=0,E=0,S=null,x=-1,F=null;const O=new Qt,R=new Qt;let L=null,G=s.width,V=s.height,B=1,oe=null,$=null;const Z=new Qt(0,0,G,V),te=new Qt(0,0,G,V);let ee=!1;const J=[],ie=new sm;let re=!1,ae=!1,le=null;const me=new rt,Te=new H,Ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ue(){return S===null?B:1}let ye=t;function Be(K,fe){for(let Fe=0;Fe<K.length;Fe++){const ve=K[Fe],Oe=s.getContext(ve,fe);if(Oe!==null)return Oe}return null}try{const K={alpha:i,depth:r,stencil:n,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:h,failIfMajorPerformanceCaveat:c};if("setAttribute"in s&&s.setAttribute("data-engine",`three.js r${yI}`),s.addEventListener("webglcontextlost",tt,!1),s.addEventListener("webglcontextrestored",gt,!1),ye===null){const fe=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&fe.shift(),ye=Be(fe,K),ye===null)throw Be(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ye.getShaderPrecisionFormat===void 0&&(ye.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(K){throw console.error("THREE.WebGLRenderer: "+K.message),K}let Ze,ke,Ne,ct,we,Y,z,pe,ge,Ee,be,De,Me,q,k,Ie,de,Pe,He,he,Ge,xe,Ve;function qe(){Ze=new Rz(ye),ke=new vz(ye,Ze,e),Ze.init(ke),xe=new sY(ye,Ze,ke),Ne=new eY(ye,Ze,ke),J[0]=1029,ct=new Oz,we=new jW,Y=new tY(ye,Ze,Ne,we,ke,xe,ct),z=new _z(g),pe=new Fz(g),ge=new Wk(ye,ke),Ve=new Iz(ye,Ze,ge,ke),Ee=new Pz(ye,ge,ct,Ve),be=new Lz(ye,Ee,ge,ct),He=new Nz(ye,ke,Y),Ie=new Cz(we),De=new VW(g,z,pe,Ze,ke,Ve,Ie),Me=new nY(we),q=new WW(we),k=new ZW(Ze,ke),Pe=new yz(g,z,Ne,be,a),de=new vS(g,be,ke),he=new Ez(ye,Ze,ct,ke),Ge=new Az(ye,Ze,ct,ke),ct.programs=De.programs,g.capabilities=ke,g.extensions=Ze,g.properties=we,g.renderLists=q,g.shadowMap=de,g.state=Ne,g.info=ct}qe();const at=new rY(g,ye);this.xr=at,this.getContext=function(){return ye},this.getContextAttributes=function(){return ye.getContextAttributes()},this.forceContextLoss=function(){const K=Ze.get("WEBGL_lose_context");K&&K.loseContext()},this.forceContextRestore=function(){const K=Ze.get("WEBGL_lose_context");K&&K.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(K){K!==void 0&&(B=K,this.setSize(G,V,!1))},this.getSize=function(K){return K.set(G,V)},this.setSize=function(K,fe,Fe){if(at.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=K,V=fe,s.width=Math.floor(K*B),s.height=Math.floor(fe*B),Fe!==!1&&(s.style.width=K+"px",s.style.height=fe+"px"),this.setViewport(0,0,K,fe)},this.getDrawingBufferSize=function(K){return K.set(G*B,V*B).floor()},this.setDrawingBufferSize=function(K,fe,Fe){G=K,V=fe,B=Fe,s.width=Math.floor(K*Fe),s.height=Math.floor(fe*Fe),this.setViewport(0,0,K,fe)},this.getCurrentViewport=function(K){return K.copy(O)},this.getViewport=function(K){return K.copy(Z)},this.setViewport=function(K,fe,Fe,ve){K.isVector4?Z.set(K.x,K.y,K.z,K.w):Z.set(K,fe,Fe,ve),Ne.viewport(O.copy(Z).multiplyScalar(B).floor())},this.getScissor=function(K){return K.copy(te)},this.setScissor=function(K,fe,Fe,ve){K.isVector4?te.set(K.x,K.y,K.z,K.w):te.set(K,fe,Fe,ve),Ne.scissor(R.copy(te).multiplyScalar(B).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(K){Ne.setScissorTest(ee=K)},this.setOpaqueSort=function(K){oe=K},this.setTransparentSort=function(K){$=K},this.getClearColor=function(K){return K.copy(Pe.getClearColor())},this.setClearColor=function(){Pe.setClearColor.apply(Pe,arguments)},this.getClearAlpha=function(){return Pe.getClearAlpha()},this.setClearAlpha=function(){Pe.setClearAlpha.apply(Pe,arguments)},this.clear=function(K,fe,Fe){let ve=0;(K===void 0||K)&&(ve|=16384),(fe===void 0||fe)&&(ve|=256),(Fe===void 0||Fe)&&(ve|=1024),ye.clear(ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){s.removeEventListener("webglcontextlost",tt,!1),s.removeEventListener("webglcontextrestored",gt,!1),q.dispose(),k.dispose(),we.dispose(),z.dispose(),pe.dispose(),be.dispose(),Ve.dispose(),at.dispose(),at.removeEventListener("sessionstart",la),at.removeEventListener("sessionend",On),le&&(le.dispose(),le=null),vs.stop()};function tt(K){K.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function gt(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const K=ct.autoReset,fe=de.enabled,Fe=de.autoUpdate,ve=de.needsUpdate,Oe=de.type;qe(),ct.autoReset=K,de.enabled=fe,de.autoUpdate=Fe,de.needsUpdate=ve,de.type=Oe}function Zt(K){const fe=K.target;fe.removeEventListener("dispose",Zt),It(fe)}function It(K){es(K),we.remove(K)}function es(K){const fe=we.get(K).programs;fe!==void 0&&fe.forEach(function(Fe){De.releaseProgram(Fe)})}this.renderBufferDirect=function(K,fe,Fe,ve,Oe,dt){fe===null&&(fe=Ce);const We=Oe.isMesh&&Oe.matrixWorld.determinant()<0,xt=Dn(K,fe,Fe,ve,Oe);Ne.setMaterial(ve,We);let D=Fe.index;const lt=Fe.attributes.position;if(D===null){if(lt===void 0||lt.count===0)return}else if(D.count===0)return;let Ct=1;ve.wireframe===!0&&(D=Ee.getWireframeAttribute(Fe),Ct=2),Ve.setup(Oe,ve,xt,Fe,D);let Pt,fs=he;D!==null&&(Pt=ge.get(D),fs=Ge,fs.setIndex(Pt));const ii=D!==null?D.count:lt.count,Ft=Fe.drawRange.start*Ct,Mi=Fe.drawRange.count*Ct,zt=dt!==null?dt.start*Ct:0,ri=dt!==null?dt.count*Ct:1/0,nt=Math.max(Ft,zt),Nr=Math.min(ii,Ft+Mi,zt+ri)-1,mr=Math.max(0,Nr-nt+1);if(mr!==0){if(Oe.isMesh)ve.wireframe===!0?(Ne.setLineWidth(ve.wireframeLinewidth*Ue()),fs.setMode(1)):fs.setMode(4);else if(Oe.isLine){let rs=ve.linewidth;rs===void 0&&(rs=1),Ne.setLineWidth(rs*Ue()),Oe.isLineSegments?fs.setMode(1):Oe.isLineLoop?fs.setMode(2):fs.setMode(3)}else Oe.isPoints?fs.setMode(0):Oe.isSprite&&fs.setMode(4);if(Oe.isInstancedMesh)fs.renderInstances(nt,mr,Oe.count);else if(Fe.isInstancedBufferGeometry){const rs=Math.min(Fe.instanceCount,Fe._maxInstanceCount);fs.renderInstances(nt,mr,rs)}else fs.render(nt,mr)}},this.compile=function(K,fe){p=k.get(K),p.init(),m.push(p),K.traverseVisible(function(Fe){Fe.isLight&&Fe.layers.test(fe.layers)&&(p.pushLight(Fe),Fe.castShadow&&p.pushShadow(Fe))}),p.setupLights(g.physicallyCorrectLights),K.traverse(function(Fe){const ve=Fe.material;if(ve)if(Array.isArray(ve))for(let Oe=0;Oe<ve.length;Oe++){const dt=ve[Oe];Jr(dt,K,Fe)}else Jr(ve,K,Fe)}),m.pop(),p=null};let Nt=null;function ml(K){Nt&&Nt(K)}function la(){vs.stop()}function On(){vs.start()}const vs=new lS;vs.setAnimationLoop(ml),typeof window<"u"&&vs.setContext(window),this.setAnimationLoop=function(K){Nt=K,at.setAnimationLoop(K),K===null?vs.stop():vs.start()},at.addEventListener("sessionstart",la),at.addEventListener("sessionend",On),this.render=function(K,fe){if(fe!==void 0&&fe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;K.autoUpdate===!0&&K.updateMatrixWorld(),fe.parent===null&&fe.updateMatrixWorld(),at.enabled===!0&&at.isPresenting===!0&&(at.cameraAutoUpdate===!0&&at.updateCamera(fe),fe=at.getCamera()),K.isScene===!0&&K.onBeforeRender(g,K,fe,S),p=k.get(K,m.length),p.init(),m.push(p),me.multiplyMatrices(fe.projectionMatrix,fe.matrixWorldInverse),ie.setFromProjectionMatrix(me),ae=this.localClippingEnabled,re=Ie.init(this.clippingPlanes,ae,fe),u=q.get(K,f.length),u.init(),f.push(u),co(K,fe,0,g.sortObjects),u.finish(),g.sortObjects===!0&&u.sort(oe,$),re===!0&&Ie.beginShadows();const Fe=p.state.shadowsArray;if(de.render(Fe,K,fe),re===!0&&Ie.endShadows(),this.info.autoReset===!0&&this.info.reset(),Pe.render(u,K),p.setupLights(g.physicallyCorrectLights),fe.isArrayCamera){const ve=fe.cameras;for(let Oe=0,dt=ve.length;Oe<dt;Oe++){const We=ve[Oe];Tl(u,K,We,We.viewport)}}else Tl(u,K,fe);S!==null&&(Y.updateMultisampleRenderTarget(S),Y.updateRenderTargetMipmap(S)),K.isScene===!0&&K.onAfterRender(g,K,fe),Ne.buffers.depth.setTest(!0),Ne.buffers.depth.setMask(!0),Ne.buffers.color.setMask(!0),Ne.setPolygonOffset(!1),Ve.resetDefaultState(),x=-1,F=null,m.pop(),m.length>0?p=m[m.length-1]:p=null,f.pop(),f.length>0?u=f[f.length-1]:u=null};function co(K,fe,Fe,ve){if(K.visible===!1)return;if(K.layers.test(fe.layers)){if(K.isGroup)Fe=K.renderOrder;else if(K.isLOD)K.autoUpdate===!0&&K.update(fe);else if(K.isLight)p.pushLight(K),K.castShadow&&p.pushShadow(K);else if(K.isSprite){if(!K.frustumCulled||ie.intersectsSprite(K)){ve&&Te.setFromMatrixPosition(K.matrixWorld).applyMatrix4(me);const We=be.update(K),xt=K.material;xt.visible&&u.push(K,We,xt,Fe,Te.z,null)}}else if((K.isMesh||K.isLine||K.isPoints)&&(K.isSkinnedMesh&&K.skeleton.frame!==ct.render.frame&&(K.skeleton.update(),K.skeleton.frame=ct.render.frame),!K.frustumCulled||ie.intersectsObject(K))){ve&&Te.setFromMatrixPosition(K.matrixWorld).applyMatrix4(me);const We=be.update(K),xt=K.material;if(Array.isArray(xt)){const D=We.groups;for(let lt=0,Ct=D.length;lt<Ct;lt++){const Pt=D[lt],fs=xt[Pt.materialIndex];fs&&fs.visible&&u.push(K,We,fs,Fe,Te.z,Pt)}}else xt.visible&&u.push(K,We,xt,Fe,Te.z,null)}}const dt=K.children;for(let We=0,xt=dt.length;We<xt;We++)co(dt[We],fe,Fe,ve)}function Tl(K,fe,Fe,ve){const Oe=K.opaque,dt=K.transmissive,We=K.transparent;p.setupLightsView(Fe),dt.length>0&&cc(Oe,fe,Fe),ve&&Ne.viewport(O.copy(ve)),Oe.length>0&&ys(Oe,fe,Fe),dt.length>0&&ys(dt,fe,Fe),We.length>0&&ys(We,fe,Fe)}function cc(K,fe,Fe){if(le===null){const We=o===!0&&ke.isWebGL2===!0?SI:zs;le=new We(1024,1024,{generateMipmaps:!0,type:xe.convert(xh)!==null?xh:ia,minFilter:ll,magFilter:Ss,wrapS:Oi,wrapT:Oi,useRenderToTexture:Ze.has("WEBGL_multisampled_render_to_texture")})}const ve=g.getRenderTarget();g.setRenderTarget(le),g.clear();const Oe=g.toneMapping;g.toneMapping=qa,ys(K,fe,Fe),g.toneMapping=Oe,Y.updateMultisampleRenderTarget(le),Y.updateRenderTargetMipmap(le),g.setRenderTarget(ve)}function ys(K,fe,Fe){const ve=fe.isScene===!0?fe.overrideMaterial:null;for(let Oe=0,dt=K.length;Oe<dt;Oe++){const We=K[Oe],xt=We.object,D=We.geometry,lt=ve===null?We.material:ve,Ct=We.group;xt.layers.test(Fe.layers)&&$i(xt,fe,Fe,D,lt,Ct)}}function $i(K,fe,Fe,ve,Oe,dt){K.onBeforeRender(g,fe,Fe,ve,Oe,dt),K.modelViewMatrix.multiplyMatrices(Fe.matrixWorldInverse,K.matrixWorld),K.normalMatrix.getNormalMatrix(K.modelViewMatrix),Oe.onBeforeRender(g,fe,Fe,ve,K,dt),Oe.transparent===!0&&Oe.side===qi?(Oe.side=Us,Oe.needsUpdate=!0,g.renderBufferDirect(Fe,fe,ve,Oe,K,dt),Oe.side=sa,Oe.needsUpdate=!0,g.renderBufferDirect(Fe,fe,ve,Oe,K,dt),Oe.side=qi):g.renderBufferDirect(Fe,fe,ve,Oe,K,dt),K.onAfterRender(g,fe,Fe,ve,Oe,dt)}function Jr(K,fe,Fe){fe.isScene!==!0&&(fe=Ce);const ve=we.get(K),Oe=p.state.lights,dt=p.state.shadowsArray,We=Oe.state.version,xt=De.getParameters(K,Oe.state,dt,fe,Fe),D=De.getProgramCacheKey(xt);let lt=ve.programs;ve.environment=K.isMeshStandardMaterial?fe.environment:null,ve.fog=fe.fog,ve.envMap=(K.isMeshStandardMaterial?pe:z).get(K.envMap||ve.environment),lt===void 0&&(K.addEventListener("dispose",Zt),lt=new Map,ve.programs=lt);let Ct=lt.get(D);if(Ct!==void 0){if(ve.currentProgram===Ct&&ve.lightsStateVersion===We)return dr(K,xt),Ct}else xt.uniforms=De.getUniforms(K),K.onBuild(Fe,xt,g),K.onBeforeCompile(xt,g),Ct=De.acquireProgram(xt,D),lt.set(D,Ct),ve.uniforms=xt.uniforms;const Pt=ve.uniforms;(!K.isShaderMaterial&&!K.isRawShaderMaterial||K.clipping===!0)&&(Pt.clippingPlanes=Ie.uniform),dr(K,xt),ve.needsLights=uo(K),ve.lightsStateVersion=We,ve.needsLights&&(Pt.ambientLightColor.value=Oe.state.ambient,Pt.lightProbe.value=Oe.state.probe,Pt.directionalLights.value=Oe.state.directional,Pt.directionalLightShadows.value=Oe.state.directionalShadow,Pt.spotLights.value=Oe.state.spot,Pt.spotLightShadows.value=Oe.state.spotShadow,Pt.rectAreaLights.value=Oe.state.rectArea,Pt.ltc_1.value=Oe.state.rectAreaLTC1,Pt.ltc_2.value=Oe.state.rectAreaLTC2,Pt.pointLights.value=Oe.state.point,Pt.pointLightShadows.value=Oe.state.pointShadow,Pt.hemisphereLights.value=Oe.state.hemi,Pt.directionalShadowMap.value=Oe.state.directionalShadowMap,Pt.directionalShadowMatrix.value=Oe.state.directionalShadowMatrix,Pt.spotShadowMap.value=Oe.state.spotShadowMap,Pt.spotShadowMatrix.value=Oe.state.spotShadowMatrix,Pt.pointShadowMap.value=Oe.state.pointShadowMap,Pt.pointShadowMatrix.value=Oe.state.pointShadowMatrix);const fs=Ct.getUniforms(),ii=Yo.seqWithValue(fs.seq,Pt);return ve.currentProgram=Ct,ve.uniformsList=ii,Ct}function dr(K,fe){const Fe=we.get(K);Fe.outputEncoding=fe.outputEncoding,Fe.instancing=fe.instancing,Fe.skinning=fe.skinning,Fe.morphTargets=fe.morphTargets,Fe.morphNormals=fe.morphNormals,Fe.morphTargetsCount=fe.morphTargetsCount,Fe.numClippingPlanes=fe.numClippingPlanes,Fe.numIntersection=fe.numClipIntersection,Fe.vertexAlphas=fe.vertexAlphas,Fe.vertexTangents=fe.vertexTangents}function Dn(K,fe,Fe,ve,Oe){fe.isScene!==!0&&(fe=Ce),Y.resetTextureUnits();const dt=fe.fog,We=ve.isMeshStandardMaterial?fe.environment:null,xt=S===null?g.outputEncoding:S.texture.encoding,D=(ve.isMeshStandardMaterial?pe:z).get(ve.envMap||We),lt=ve.vertexColors===!0&&!!Fe.attributes.color&&Fe.attributes.color.itemSize===4,Ct=!!ve.normalMap&&!!Fe.attributes.tangent,Pt=!!Fe.morphAttributes.position,fs=!!Fe.morphAttributes.normal,ii=Fe.morphAttributes.position?Fe.morphAttributes.position.length:0,Ft=we.get(ve),Mi=p.state.lights;if(re===!0&&(ae===!0||K!==F)){const ni=K===F&&ve.id===x;Ie.setState(ve,K,ni)}let zt=!1;ve.version===Ft.__version?(Ft.needsLights&&Ft.lightsStateVersion!==Mi.state.version||Ft.outputEncoding!==xt||Oe.isInstancedMesh&&Ft.instancing===!1||!Oe.isInstancedMesh&&Ft.instancing===!0||Oe.isSkinnedMesh&&Ft.skinning===!1||!Oe.isSkinnedMesh&&Ft.skinning===!0||Ft.envMap!==D||ve.fog&&Ft.fog!==dt||Ft.numClippingPlanes!==void 0&&(Ft.numClippingPlanes!==Ie.numPlanes||Ft.numIntersection!==Ie.numIntersection)||Ft.vertexAlphas!==lt||Ft.vertexTangents!==Ct||Ft.morphTargets!==Pt||Ft.morphNormals!==fs||ke.isWebGL2===!0&&Ft.morphTargetsCount!==ii)&&(zt=!0):(zt=!0,Ft.__version=ve.version);let ri=Ft.currentProgram;zt===!0&&(ri=Jr(ve,fe,Oe));let nt=!1,Nr=!1,mr=!1;const rs=ri.getUniforms(),Ti=Ft.uniforms;if(Ne.useProgram(ri.program)&&(nt=!0,Nr=!0,mr=!0),ve.id!==x&&(x=ve.id,Nr=!0),nt||F!==K){if(rs.setValue(ye,"projectionMatrix",K.projectionMatrix),ke.logarithmicDepthBuffer&&rs.setValue(ye,"logDepthBufFC",2/(Math.log(K.far+1)/Math.LN2)),F!==K&&(F=K,Nr=!0,mr=!0),ve.isShaderMaterial||ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshStandardMaterial||ve.envMap){const ni=rs.map.cameraPosition;ni!==void 0&&ni.setValue(ye,Te.setFromMatrixPosition(K.matrixWorld))}(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial)&&rs.setValue(ye,"isOrthographic",K.isOrthographicCamera===!0),(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial||ve.isShadowMaterial||Oe.isSkinnedMesh)&&rs.setValue(ye,"viewMatrix",K.matrixWorldInverse)}if(Oe.isSkinnedMesh){rs.setOptional(ye,Oe,"bindMatrix"),rs.setOptional(ye,Oe,"bindMatrixInverse");const ni=Oe.skeleton;ni&&(ke.floatVertexTextures?(ni.boneTexture===null&&ni.computeBoneTexture(),rs.setValue(ye,"boneTexture",ni.boneTexture,Y),rs.setValue(ye,"boneTextureSize",ni.boneTextureSize)):rs.setOptional(ye,ni,"boneMatrices"))}return!!Fe&&(Fe.morphAttributes.position!==void 0||Fe.morphAttributes.normal!==void 0)&&He.update(Oe,Fe,ve,ri),(Nr||Ft.receiveShadow!==Oe.receiveShadow)&&(Ft.receiveShadow=Oe.receiveShadow,rs.setValue(ye,"receiveShadow",Oe.receiveShadow)),Nr&&(rs.setValue(ye,"toneMappingExposure",g.toneMappingExposure),Ft.needsLights&&ap(Ti,mr),dt&&ve.fog&&Me.refreshFogUniforms(Ti,dt),Me.refreshMaterialUniforms(Ti,ve,B,V,le),Yo.upload(ye,Ft.uniformsList,Ti,Y)),ve.isShaderMaterial&&ve.uniformsNeedUpdate===!0&&(Yo.upload(ye,Ft.uniformsList,Ti,Y),ve.uniformsNeedUpdate=!1),ve.isSpriteMaterial&&rs.setValue(ye,"center",Oe.center),rs.setValue(ye,"modelViewMatrix",Oe.modelViewMatrix),rs.setValue(ye,"normalMatrix",Oe.normalMatrix),rs.setValue(ye,"modelMatrix",Oe.matrixWorld),ri}function ap(K,fe){K.ambientLightColor.needsUpdate=fe,K.lightProbe.needsUpdate=fe,K.directionalLights.needsUpdate=fe,K.directionalLightShadows.needsUpdate=fe,K.pointLights.needsUpdate=fe,K.pointLightShadows.needsUpdate=fe,K.spotLights.needsUpdate=fe,K.spotLightShadows.needsUpdate=fe,K.rectAreaLights.needsUpdate=fe,K.hemisphereLights.needsUpdate=fe}function uo(K){return K.isMeshLambertMaterial||K.isMeshToonMaterial||K.isMeshPhongMaterial||K.isMeshStandardMaterial||K.isShadowMaterial||K.isShaderMaterial&&K.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(K,fe,Fe){we.get(K.texture).__webglTexture=fe,we.get(K.depthTexture).__webglTexture=Fe;const ve=we.get(K);ve.__hasExternalTextures=!0,ve.__hasExternalTextures&&(ve.__autoAllocateDepthBuffer=Fe===void 0,ve.__autoAllocateDepthBuffer||K.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),K.useRenderToTexture=!1,K.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(K,fe){const Fe=we.get(K);Fe.__webglFramebuffer=fe,Fe.__useDefaultFramebuffer=fe===void 0},this.setRenderTarget=function(K,fe=0,Fe=0){S=K,I=fe,E=Fe;let ve=!0;if(K){const D=we.get(K);D.__useDefaultFramebuffer!==void 0?(Ne.bindFramebuffer(36160,null),ve=!1):D.__webglFramebuffer===void 0?Y.setupRenderTarget(K):D.__hasExternalTextures&&Y.rebindTextures(K,we.get(K.texture).__webglTexture,we.get(K.depthTexture).__webglTexture)}let Oe=null,dt=!1,We=!1;if(K){const D=K.texture;(D.isDataTexture3D||D.isDataTexture2DArray)&&(We=!0);const lt=we.get(K).__webglFramebuffer;K.isWebGLCubeRenderTarget?(Oe=lt[fe],dt=!0):K.useRenderbuffer?Oe=we.get(K).__webglMultisampledFramebuffer:Oe=lt,O.copy(K.viewport),R.copy(K.scissor),L=K.scissorTest}else O.copy(Z).multiplyScalar(B).floor(),R.copy(te).multiplyScalar(B).floor(),L=ee;if(Ne.bindFramebuffer(36160,Oe)&&ke.drawBuffers&&ve){let D=!1;if(K)if(K.isWebGLMultipleRenderTargets){const lt=K.texture;if(J.length!==lt.length||J[0]!==36064){for(let Ct=0,Pt=lt.length;Ct<Pt;Ct++)J[Ct]=36064+Ct;J.length=lt.length,D=!0}}else(J.length!==1||J[0]!==36064)&&(J[0]=36064,J.length=1,D=!0);else(J.length!==1||J[0]!==1029)&&(J[0]=1029,J.length=1,D=!0);D&&(ke.isWebGL2?ye.drawBuffers(J):Ze.get("WEBGL_draw_buffers").drawBuffersWEBGL(J))}if(Ne.viewport(O),Ne.scissor(R),Ne.setScissorTest(L),dt){const D=we.get(K.texture);ye.framebufferTexture2D(36160,36064,34069+fe,D.__webglTexture,Fe)}else if(We){const D=we.get(K.texture),lt=fe||0;ye.framebufferTextureLayer(36160,36064,D.__webglTexture,Fe||0,lt)}x=-1},this.readRenderTargetPixels=function(K,fe,Fe,ve,Oe,dt,We){if(!(K&&K.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=we.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&We!==void 0&&(xt=xt[We]),xt){Ne.bindFramebuffer(36160,xt);try{const D=K.texture,lt=D.format,Ct=D.type;if(lt!==Ds&&xe.convert(lt)!==ye.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Pt=Ct===xh&&(Ze.has("EXT_color_buffer_half_float")||ke.isWebGL2&&Ze.has("EXT_color_buffer_float"));if(Ct!==ia&&xe.convert(Ct)!==ye.getParameter(35738)&&!(Ct===Zn&&(ke.isWebGL2||Ze.has("OES_texture_float")||Ze.has("WEBGL_color_buffer_float")))&&!Pt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye.checkFramebufferStatus(36160)===36053?fe>=0&&fe<=K.width-ve&&Fe>=0&&Fe<=K.height-Oe&&ye.readPixels(fe,Fe,ve,Oe,xe.convert(lt),xe.convert(Ct),dt):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const D=S!==null?we.get(S).__webglFramebuffer:null;Ne.bindFramebuffer(36160,D)}}},this.copyFramebufferToTexture=function(K,fe,Fe=0){const ve=Math.pow(2,-Fe),Oe=Math.floor(fe.image.width*ve),dt=Math.floor(fe.image.height*ve);let We=xe.convert(fe.format);ke.isWebGL2&&(We===6407&&(We=32849),We===6408&&(We=32856)),Y.setTexture2D(fe,0),ye.copyTexImage2D(3553,Fe,We,K.x,K.y,Oe,dt,0),Ne.unbindTexture()},this.copyTextureToTexture=function(K,fe,Fe,ve=0){const Oe=fe.image.width,dt=fe.image.height,We=xe.convert(Fe.format),xt=xe.convert(Fe.type);Y.setTexture2D(Fe,0),ye.pixelStorei(37440,Fe.flipY),ye.pixelStorei(37441,Fe.premultiplyAlpha),ye.pixelStorei(3317,Fe.unpackAlignment),fe.isDataTexture?ye.texSubImage2D(3553,ve,K.x,K.y,Oe,dt,We,xt,fe.image.data):fe.isCompressedTexture?ye.compressedTexSubImage2D(3553,ve,K.x,K.y,fe.mipmaps[0].width,fe.mipmaps[0].height,We,fe.mipmaps[0].data):ye.texSubImage2D(3553,ve,K.x,K.y,We,xt,fe.image),ve===0&&Fe.generateMipmaps&&ye.generateMipmap(3553),Ne.unbindTexture()},this.copyTextureToTexture3D=function(K,fe,Fe,ve,Oe=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const dt=K.max.x-K.min.x+1,We=K.max.y-K.min.y+1,xt=K.max.z-K.min.z+1,D=xe.convert(ve.format),lt=xe.convert(ve.type);let Ct;if(ve.isDataTexture3D)Y.setTexture3D(ve,0),Ct=32879;else if(ve.isDataTexture2DArray)Y.setTexture2DArray(ve,0),Ct=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ye.pixelStorei(37440,ve.flipY),ye.pixelStorei(37441,ve.premultiplyAlpha),ye.pixelStorei(3317,ve.unpackAlignment);const Pt=ye.getParameter(3314),fs=ye.getParameter(32878),ii=ye.getParameter(3316),Ft=ye.getParameter(3315),Mi=ye.getParameter(32877),zt=Fe.isCompressedTexture?Fe.mipmaps[0]:Fe.image;ye.pixelStorei(3314,zt.width),ye.pixelStorei(32878,zt.height),ye.pixelStorei(3316,K.min.x),ye.pixelStorei(3315,K.min.y),ye.pixelStorei(32877,K.min.z),Fe.isDataTexture||Fe.isDataTexture3D?ye.texSubImage3D(Ct,Oe,fe.x,fe.y,fe.z,dt,We,xt,D,lt,zt.data):Fe.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ye.compressedTexSubImage3D(Ct,Oe,fe.x,fe.y,fe.z,dt,We,xt,D,zt.data)):ye.texSubImage3D(Ct,Oe,fe.x,fe.y,fe.z,dt,We,xt,D,lt,zt),ye.pixelStorei(3314,Pt),ye.pixelStorei(32878,fs),ye.pixelStorei(3316,ii),ye.pixelStorei(3315,Ft),ye.pixelStorei(32877,Mi),Oe===0&&ve.generateMipmaps&&ye.generateMipmap(Ct),Ne.unbindTexture()},this.initTexture=function(K){Y.setTexture2D(K,0),Ne.unbindTexture()},this.resetState=function(){I=0,E=0,S=null,Ne.reset(),Ve.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}is.prototype.isWebGLRenderer=!0;class aY extends is{}aY.prototype.isWebGL1Renderer=!0;class Lu extends jt{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(s,t){return super.copy(s,t),s.background!==null&&(this.background=s.background.clone()),s.environment!==null&&(this.environment=s.environment.clone()),s.fog!==null&&(this.fog=s.fog.clone()),s.overrideMaterial!==null&&(this.overrideMaterial=s.overrideMaterial.clone()),this.autoUpdate=s.autoUpdate,this.matrixAutoUpdate=s.matrixAutoUpdate,this}toJSON(s){const t=super.toJSON(s);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}Lu.prototype.isScene=!0;class ic{constructor(s,t){this.array=s,this.stride=t,this.count=s!==void 0?s.length/t:0,this.usage=Ou,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ar()}onUploadCallback(){}set needsUpdate(s){s===!0&&this.version++}setUsage(s){return this.usage=s,this}copy(s){return this.array=new s.array.constructor(s.array),this.count=s.count,this.stride=s.stride,this.usage=s.usage,this}copyAt(s,t,i){s*=this.stride,i*=t.stride;for(let r=0,n=this.stride;r<n;r++)this.array[s+r]=t.array[i+r];return this}set(s,t=0){return this.array.set(s,t),this}clone(s){s.arrayBuffers===void 0&&(s.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ar()),s.arrayBuffers[this.array.buffer._uuid]===void 0&&(s.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(s.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(s){return this.onUploadCallback=s,this}toJSON(s){return s.arrayBuffers===void 0&&(s.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ar()),s.arrayBuffers[this.array.buffer._uuid]===void 0&&(s.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}ic.prototype.isInterleavedBuffer=!0;const Ns=new H;class xr{constructor(s,t,i,r=!1){this.name="",this.data=s,this.itemSize=t,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(s){this.data.needsUpdate=s}applyMatrix4(s){for(let t=0,i=this.data.count;t<i;t++)Ns.x=this.getX(t),Ns.y=this.getY(t),Ns.z=this.getZ(t),Ns.applyMatrix4(s),this.setXYZ(t,Ns.x,Ns.y,Ns.z);return this}applyNormalMatrix(s){for(let t=0,i=this.count;t<i;t++)Ns.x=this.getX(t),Ns.y=this.getY(t),Ns.z=this.getZ(t),Ns.applyNormalMatrix(s),this.setXYZ(t,Ns.x,Ns.y,Ns.z);return this}transformDirection(s){for(let t=0,i=this.count;t<i;t++)Ns.x=this.getX(t),Ns.y=this.getY(t),Ns.z=this.getZ(t),Ns.transformDirection(s),this.setXYZ(t,Ns.x,Ns.y,Ns.z);return this}setX(s,t){return this.data.array[s*this.data.stride+this.offset]=t,this}setY(s,t){return this.data.array[s*this.data.stride+this.offset+1]=t,this}setZ(s,t){return this.data.array[s*this.data.stride+this.offset+2]=t,this}setW(s,t){return this.data.array[s*this.data.stride+this.offset+3]=t,this}getX(s){return this.data.array[s*this.data.stride+this.offset]}getY(s){return this.data.array[s*this.data.stride+this.offset+1]}getZ(s){return this.data.array[s*this.data.stride+this.offset+2]}getW(s){return this.data.array[s*this.data.stride+this.offset+3]}setXY(s,t,i){return s=s*this.data.stride+this.offset,this.data.array[s+0]=t,this.data.array[s+1]=i,this}setXYZ(s,t,i,r){return s=s*this.data.stride+this.offset,this.data.array[s+0]=t,this.data.array[s+1]=i,this.data.array[s+2]=r,this}setXYZW(s,t,i,r,n){return s=s*this.data.stride+this.offset,this.data.array[s+0]=t,this.data.array[s+1]=i,this.data.array[s+2]=r,this.data.array[s+3]=n,this}clone(s){if(s===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)t.push(this.data.array[r+n])}return new Rt(new this.array.constructor(t),this.itemSize,this.normalized)}else return s.interleavedBuffers===void 0&&(s.interleavedBuffers={}),s.interleavedBuffers[this.data.uuid]===void 0&&(s.interleavedBuffers[this.data.uuid]=this.data.clone(s)),new xr(s.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(s){if(s===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)t.push(this.data.array[r+n])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return s.interleavedBuffers===void 0&&(s.interleavedBuffers={}),s.interleavedBuffers[this.data.uuid]===void 0&&(s.interleavedBuffers[this.data.uuid]=this.data.toJSON(s)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}xr.prototype.isInterleavedBufferAttribute=!0;class _S extends Ws{constructor(s){super(),this.type="SpriteMaterial",this.color=new it(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.map=s.map,this.alphaMap=s.alphaMap,this.rotation=s.rotation,this.sizeAttenuation=s.sizeAttenuation,this}}_S.prototype.isSpriteMaterial=!0;let ih;const Nc=new H,rh=new H,nh=new H,oh=new Re,Lc=new Re,wS=new rt,of=new H,Uc=new H,af=new H,Lv=new Re,og=new Re,Uv=new Re;class lY extends jt{constructor(s){if(super(),this.type="Sprite",ih===void 0){ih=new _t;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new ic(t,5);ih.setIndex([0,1,2,0,2,3]),ih.setAttribute("position",new xr(i,3,0,!1)),ih.setAttribute("uv",new xr(i,2,3,!1))}this.geometry=ih,this.material=s!==void 0?s:new _S,this.center=new Re(.5,.5)}raycast(s,t){s.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),rh.setFromMatrixScale(this.matrixWorld),wS.copy(s.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(s.camera.matrixWorldInverse,this.matrixWorld),nh.setFromMatrixPosition(this.modelViewMatrix),s.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&rh.multiplyScalar(-nh.z);const i=this.material.rotation;let r,n;i!==0&&(n=Math.cos(i),r=Math.sin(i));const o=this.center;lf(of.set(-.5,-.5,0),nh,o,rh,r,n),lf(Uc.set(.5,-.5,0),nh,o,rh,r,n),lf(af.set(.5,.5,0),nh,o,rh,r,n),Lv.set(0,0),og.set(1,0),Uv.set(1,1);let a=s.ray.intersectTriangle(of,Uc,af,!1,Nc);if(a===null&&(lf(Uc.set(-.5,.5,0),nh,o,rh,r,n),og.set(0,1),a=s.ray.intersectTriangle(of,af,Uc,!1,Nc),a===null))return;const l=s.ray.origin.distanceTo(Nc);l<s.near||l>s.far||t.push({distance:l,point:Nc.clone(),uv:xs.getUV(Nc,of,Uc,af,Lv,og,Uv,new Re),face:null,object:this})}copy(s){return super.copy(s),s.center!==void 0&&this.center.copy(s.center),this.material=s.material,this}}lY.prototype.isSprite=!0;function lf(e,s,t,i,r,n){oh.subVectors(e,t).addScalar(.5).multiply(i),r!==void 0?(Lc.x=n*oh.x-r*oh.y,Lc.y=r*oh.x+n*oh.y):Lc.copy(oh),e.copy(s),e.x+=Lc.x,e.y+=Lc.y,e.applyMatrix4(wS)}const Hv=new H,Gv=new Qt,Bv=new Qt,hY=new H,kv=new rt;class AI extends Qe{constructor(s,t){super(s,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new rt,this.bindMatrixInverse=new rt}copy(s){return super.copy(s),this.bindMode=s.bindMode,this.bindMatrix.copy(s.bindMatrix),this.bindMatrixInverse.copy(s.bindMatrixInverse),this.skeleton=s.skeleton,this}bind(s,t){this.skeleton=s,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const s=new Qt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){s.x=t.getX(i),s.y=t.getY(i),s.z=t.getZ(i),s.w=t.getW(i);const n=1/s.manhattanLength();n!==1/0?s.multiplyScalar(n):s.set(1,0,0,0),t.setXYZW(i,s.x,s.y,s.z,s.w)}}updateMatrixWorld(s){super.updateMatrixWorld(s),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(s,t){const i=this.skeleton,r=this.geometry;Gv.fromBufferAttribute(r.attributes.skinIndex,s),Bv.fromBufferAttribute(r.attributes.skinWeight,s),Hv.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let n=0;n<4;n++){const o=Bv.getComponent(n);if(o!==0){const a=Gv.getComponent(n);kv.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(hY.copy(Hv).applyMatrix4(kv),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}AI.prototype.isSkinnedMesh=!0;class OI extends jt{constructor(){super(),this.type="Bone"}}OI.prototype.isBone=!0;class SS extends Ys{constructor(s=null,t=1,i=1,r,n,o,a,l,h=Ss,c=Ss,u,p){super(null,o,a,l,h,c,r,n,u,p),this.image={data:s,width:t,height:i},this.magFilter=h,this.minFilter=c,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}SS.prototype.isDataTexture=!0;const Vv=new rt,cY=new rt;class DI{constructor(s=[],t=[]){this.uuid=Ar(),this.bones=s.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const s=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(s.length*16),t.length===0)this.calculateInverses();else if(s.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new rt)}}calculateInverses(){this.boneInverses.length=0;for(let s=0,t=this.bones.length;s<t;s++){const i=new rt;this.bones[s]&&i.copy(this.bones[s].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let s=0,t=this.bones.length;s<t;s++){const i=this.bones[s];i&&i.matrixWorld.copy(this.boneInverses[s]).invert()}for(let s=0,t=this.bones.length;s<t;s++){const i=this.bones[s];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const s=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let n=0,o=s.length;n<o;n++){const a=s[n]?s[n].matrixWorld:cY;Vv.multiplyMatrices(a,t[n]),Vv.toArray(i,n*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new DI(this.bones,this.boneInverses)}computeBoneTexture(){let s=Math.sqrt(this.bones.length*4);s=eS(s),s=Math.max(s,4);const t=new Float32Array(s*s*4);t.set(this.boneMatrices);const i=new SS(t,s,s,Ds,Zn);return this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=s,this}getBoneByName(s){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===s)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(s,t){this.uuid=s.uuid;for(let i=0,r=s.bones.length;i<r;i++){const n=s.bones[i];let o=t[n];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",n),o=new OI),this.bones.push(o),this.boneInverses.push(new rt().fromArray(s.boneInverses[i]))}return this.init(),this}toJSON(){const s={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};s.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,n=t.length;r<n;r++){const o=t[r];s.bones.push(o.uuid);const a=i[r];s.boneInverses.push(a.toArray())}return s}}class Ty extends Rt{constructor(s,t,i,r=1){typeof i=="number"&&(r=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(s,t,i),this.meshPerAttribute=r}copy(s){return super.copy(s),this.meshPerAttribute=s.meshPerAttribute,this}toJSON(){const s=super.toJSON();return s.meshPerAttribute=this.meshPerAttribute,s.isInstancedBufferAttribute=!0,s}}Ty.prototype.isInstancedBufferAttribute=!0;const jv=new rt,zv=new rt,hf=[],Hc=new Qe;class uY extends Qe{constructor(s,t,i){super(s,t),this.instanceMatrix=new Ty(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(s){return super.copy(s),this.instanceMatrix.copy(s.instanceMatrix),s.instanceColor!==null&&(this.instanceColor=s.instanceColor.clone()),this.count=s.count,this}getColorAt(s,t){t.fromArray(this.instanceColor.array,s*3)}getMatrixAt(s,t){t.fromArray(this.instanceMatrix.array,s*16)}raycast(s,t){const i=this.matrixWorld,r=this.count;if(Hc.geometry=this.geometry,Hc.material=this.material,Hc.material!==void 0)for(let n=0;n<r;n++){this.getMatrixAt(n,jv),zv.multiplyMatrices(i,jv),Hc.matrixWorld=zv,Hc.raycast(s,hf);for(let o=0,a=hf.length;o<a;o++){const l=hf[o];l.instanceId=n,l.object=this,t.push(l)}hf.length=0}}setColorAt(s,t){this.instanceColor===null&&(this.instanceColor=new Ty(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,s*3)}setMatrixAt(s,t){t.toArray(this.instanceMatrix.array,s*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}uY.prototype.isInstancedMesh=!0;class bn extends Ws{constructor(s){super(),this.type="LineBasicMaterial",this.color=new it(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.linewidth=s.linewidth,this.linecap=s.linecap,this.linejoin=s.linejoin,this}}bn.prototype.isLineBasicMaterial=!0;const Wv=new H,Yv=new H,Xv=new rt,ag=new ho,cf=new Mr;class Ai extends jt{constructor(s=new _t,t=new bn){super(),this.type="Line",this.geometry=s,this.material=t,this.updateMorphTargets()}copy(s){return super.copy(s),this.material=s.material,this.geometry=s.geometry,this}computeLineDistances(){const s=this.geometry;if(s.isBufferGeometry)if(s.index===null){const t=s.attributes.position,i=[0];for(let r=1,n=t.count;r<n;r++)Wv.fromBufferAttribute(t,r-1),Yv.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=Wv.distanceTo(Yv);s.setAttribute("lineDistance",new wt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else s.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(s,t){const i=this.geometry,r=this.matrixWorld,n=s.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),cf.copy(i.boundingSphere),cf.applyMatrix4(r),cf.radius+=n,s.ray.intersectsSphere(cf)===!1)return;Xv.copy(r).invert(),ag.copy(s.ray).applyMatrix4(Xv);const a=n/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,h=new H,c=new H,u=new H,p=new H,f=this.isLineSegments?2:1;if(i.isBufferGeometry){const m=i.index,C=i.attributes.position;if(m!==null){const I=Math.max(0,o.start),E=Math.min(m.count,o.start+o.count);for(let S=I,x=E-1;S<x;S+=f){const F=m.getX(S),O=m.getX(S+1);if(h.fromBufferAttribute(C,F),c.fromBufferAttribute(C,O),ag.distanceSqToSegment(h,c,p,u)>l)continue;p.applyMatrix4(this.matrixWorld);const L=s.ray.origin.distanceTo(p);L<s.near||L>s.far||t.push({distance:L,point:u.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const I=Math.max(0,o.start),E=Math.min(C.count,o.start+o.count);for(let S=I,x=E-1;S<x;S+=f){if(h.fromBufferAttribute(C,S),c.fromBufferAttribute(C,S+1),ag.distanceSqToSegment(h,c,p,u)>l)continue;p.applyMatrix4(this.matrixWorld);const O=s.ray.origin.distanceTo(p);O<s.near||O>s.far||t.push({distance:O,point:u.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const s=this.geometry;if(s.isBufferGeometry){const t=s.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let n=0,o=r.length;n<o;n++){const a=r[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=n}}}}else{const t=s.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Ai.prototype.isLine=!0;const qv=new H,Qv=new H;class Fn extends Ai{constructor(s,t){super(s,t),this.type="LineSegments"}computeLineDistances(){const s=this.geometry;if(s.isBufferGeometry)if(s.index===null){const t=s.attributes.position,i=[];for(let r=0,n=t.count;r<n;r+=2)qv.fromBufferAttribute(t,r),Qv.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+qv.distanceTo(Qv);s.setAttribute("lineDistance",new wt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else s.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Fn.prototype.isLineSegments=!0;class xS extends Ai{constructor(s,t){super(s,t),this.type="LineLoop"}}xS.prototype.isLineLoop=!0;class MI extends Ws{constructor(s){super(),this.type="PointsMaterial",this.color=new it(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.map=s.map,this.alphaMap=s.alphaMap,this.size=s.size,this.sizeAttenuation=s.sizeAttenuation,this}}MI.prototype.isPointsMaterial=!0;const $v=new rt,gy=new ho,uf=new Mr,pf=new H;class bS extends jt{constructor(s=new _t,t=new MI){super(),this.type="Points",this.geometry=s,this.material=t,this.updateMorphTargets()}copy(s){return super.copy(s),this.material=s.material,this.geometry=s.geometry,this}raycast(s,t){const i=this.geometry,r=this.matrixWorld,n=s.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),uf.copy(i.boundingSphere),uf.applyMatrix4(r),uf.radius+=n,s.ray.intersectsSphere(uf)===!1)return;$v.copy(r).invert(),gy.copy(s.ray).applyMatrix4($v);const a=n/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(i.isBufferGeometry){const h=i.index,u=i.attributes.position;if(h!==null){const p=Math.max(0,o.start),f=Math.min(h.count,o.start+o.count);for(let m=p,g=f;m<g;m++){const C=h.getX(m);pf.fromBufferAttribute(u,C),Zv(pf,C,l,r,s,t,this)}}else{const p=Math.max(0,o.start),f=Math.min(u.count,o.start+o.count);for(let m=p,g=f;m<g;m++)pf.fromBufferAttribute(u,m),Zv(pf,m,l,r,s,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const s=this.geometry;if(s.isBufferGeometry){const t=s.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let n=0,o=r.length;n<o;n++){const a=r[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=n}}}}else{const t=s.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}bS.prototype.isPoints=!0;function Zv(e,s,t,i,r,n,o){const a=gy.distanceSqToPoint(e);if(a<t){const l=new H;gy.closestPointToPoint(e,l),l.applyMatrix4(i);const h=r.ray.origin.distanceTo(l);if(h<r.near||h>r.far)return;n.push({distance:h,distanceToRay:Math.sqrt(a),point:l,index:s,face:null,object:o})}}class pY extends Ys{constructor(s,t,i,r,n,o,a,l,h){super(s,t,i,r,n,o,a,l,h),this.format=a!==void 0?a:In,this.minFilter=o!==void 0?o:js,this.magFilter=n!==void 0?n:js,this.generateMipmaps=!1;const c=this;function u(){c.needsUpdate=!0,s.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in s&&s.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const s=this.image;"requestVideoFrameCallback"in s===!1&&s.readyState>=s.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}pY.prototype.isVideoTexture=!0;class fY extends Ys{constructor(s,t,i,r,n,o,a,l,h,c,u,p){super(null,o,a,l,h,c,r,n,u,p),this.image={width:t,height:i},this.mipmaps=s,this.flipY=!1,this.generateMipmaps=!1}}fY.prototype.isCompressedTexture=!0;class dY extends Ys{constructor(s,t,i,r,n,o,a,l,h){super(s,t,i,r,n,o,a,l,h),this.needsUpdate=!0}}dY.prototype.isCanvasTexture=!0;class Qs extends _t{constructor(s=1,t=1,i=1,r=8,n=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:s,radiusBottom:t,height:i,radialSegments:r,heightSegments:n,openEnded:o,thetaStart:a,thetaLength:l};const h=this;r=Math.floor(r),n=Math.floor(n);const c=[],u=[],p=[],f=[];let m=0;const g=[],C=i/2;let I=0;E(),o===!1&&(s>0&&S(!0),t>0&&S(!1)),this.setIndex(c),this.setAttribute("position",new wt(u,3)),this.setAttribute("normal",new wt(p,3)),this.setAttribute("uv",new wt(f,2));function E(){const x=new H,F=new H;let O=0;const R=(t-s)/i;for(let L=0;L<=n;L++){const G=[],V=L/n,B=V*(t-s)+s;for(let oe=0;oe<=r;oe++){const $=oe/r,Z=$*l+a,te=Math.sin(Z),ee=Math.cos(Z);F.x=B*te,F.y=-V*i+C,F.z=B*ee,u.push(F.x,F.y,F.z),x.set(te,R,ee).normalize(),p.push(x.x,x.y,x.z),f.push($,1-V),G.push(m++)}g.push(G)}for(let L=0;L<r;L++)for(let G=0;G<n;G++){const V=g[G][L],B=g[G+1][L],oe=g[G+1][L+1],$=g[G][L+1];c.push(V,B,$),c.push(B,oe,$),O+=6}h.addGroup(I,O,0),I+=O}function S(x){const F=m,O=new Re,R=new H;let L=0;const G=x===!0?s:t,V=x===!0?1:-1;for(let oe=1;oe<=r;oe++)u.push(0,C*V,0),p.push(0,V,0),f.push(.5,.5),m++;const B=m;for(let oe=0;oe<=r;oe++){const Z=oe/r*l+a,te=Math.cos(Z),ee=Math.sin(Z);R.x=G*ee,R.y=C*V,R.z=G*te,u.push(R.x,R.y,R.z),p.push(0,V,0),O.x=te*.5+.5,O.y=ee*.5*V+.5,f.push(O.x,O.y),m++}for(let oe=0;oe<r;oe++){const $=F+oe,Z=B+oe;x===!0?c.push(Z,Z+1,$):c.push(Z+1,Z,$),L+=3}h.addGroup(I,L,x===!0?1:2),I+=L}}static fromJSON(s){return new Qs(s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength)}}class NI extends Qs{constructor(s=1,t=1,i=8,r=1,n=!1,o=0,a=Math.PI*2){super(0,s,t,i,r,n,o,a),this.type="ConeGeometry",this.parameters={radius:s,height:t,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:o,thetaLength:a}}static fromJSON(s){return new NI(s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength)}}class LI extends _t{constructor(s=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:s,indices:t,radius:i,detail:r};const n=[],o=[];a(r),h(i),c(),this.setAttribute("position",new wt(n,3)),this.setAttribute("normal",new wt(n.slice(),3)),this.setAttribute("uv",new wt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(E){const S=new H,x=new H,F=new H;for(let O=0;O<t.length;O+=3)f(t[O+0],S),f(t[O+1],x),f(t[O+2],F),l(S,x,F,E)}function l(E,S,x,F){const O=F+1,R=[];for(let L=0;L<=O;L++){R[L]=[];const G=E.clone().lerp(x,L/O),V=S.clone().lerp(x,L/O),B=O-L;for(let oe=0;oe<=B;oe++)oe===0&&L===O?R[L][oe]=G:R[L][oe]=G.clone().lerp(V,oe/B)}for(let L=0;L<O;L++)for(let G=0;G<2*(O-L)-1;G++){const V=Math.floor(G/2);G%2===0?(p(R[L][V+1]),p(R[L+1][V]),p(R[L][V])):(p(R[L][V+1]),p(R[L+1][V+1]),p(R[L+1][V]))}}function h(E){const S=new H;for(let x=0;x<n.length;x+=3)S.x=n[x+0],S.y=n[x+1],S.z=n[x+2],S.normalize().multiplyScalar(E),n[x+0]=S.x,n[x+1]=S.y,n[x+2]=S.z}function c(){const E=new H;for(let S=0;S<n.length;S+=3){E.x=n[S+0],E.y=n[S+1],E.z=n[S+2];const x=C(E)/2/Math.PI+.5,F=I(E)/Math.PI+.5;o.push(x,1-F)}m(),u()}function u(){for(let E=0;E<o.length;E+=6){const S=o[E+0],x=o[E+2],F=o[E+4],O=Math.max(S,x,F),R=Math.min(S,x,F);O>.9&&R<.1&&(S<.2&&(o[E+0]+=1),x<.2&&(o[E+2]+=1),F<.2&&(o[E+4]+=1))}}function p(E){n.push(E.x,E.y,E.z)}function f(E,S){const x=E*3;S.x=s[x+0],S.y=s[x+1],S.z=s[x+2]}function m(){const E=new H,S=new H,x=new H,F=new H,O=new Re,R=new Re,L=new Re;for(let G=0,V=0;G<n.length;G+=9,V+=6){E.set(n[G+0],n[G+1],n[G+2]),S.set(n[G+3],n[G+4],n[G+5]),x.set(n[G+6],n[G+7],n[G+8]),O.set(o[V+0],o[V+1]),R.set(o[V+2],o[V+3]),L.set(o[V+4],o[V+5]),F.copy(E).add(S).add(x).divideScalar(3);const B=C(F);g(O,V+0,E,B),g(R,V+2,S,B),g(L,V+4,x,B)}}function g(E,S,x,F){F<0&&E.x===1&&(o[S]=E.x-1),x.x===0&&x.z===0&&(o[S]=F/2/Math.PI+.5)}function C(E){return Math.atan2(E.z,-E.x)}function I(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}static fromJSON(s){return new LI(s.vertices,s.indices,s.radius,s.details)}}const ff=new H,df=new H,lg=new H,mf=new xs;class FS extends _t{constructor(s=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:s,thresholdAngle:t},s!==null){const r=Math.pow(10,4),n=Math.cos(Fh*t),o=s.getIndex(),a=s.getAttribute("position"),l=o?o.count:a.count,h=[0,0,0],c=["a","b","c"],u=new Array(3),p={},f=[];for(let m=0;m<l;m+=3){o?(h[0]=o.getX(m),h[1]=o.getX(m+1),h[2]=o.getX(m+2)):(h[0]=m,h[1]=m+1,h[2]=m+2);const{a:g,b:C,c:I}=mf;if(g.fromBufferAttribute(a,h[0]),C.fromBufferAttribute(a,h[1]),I.fromBufferAttribute(a,h[2]),mf.getNormal(lg),u[0]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,u[1]=`${Math.round(C.x*r)},${Math.round(C.y*r)},${Math.round(C.z*r)}`,u[2]=`${Math.round(I.x*r)},${Math.round(I.y*r)},${Math.round(I.z*r)}`,!(u[0]===u[1]||u[1]===u[2]||u[2]===u[0]))for(let E=0;E<3;E++){const S=(E+1)%3,x=u[E],F=u[S],O=mf[c[E]],R=mf[c[S]],L=`${x}_${F}`,G=`${F}_${x}`;G in p&&p[G]?(lg.dot(p[G].normal)<=n&&(f.push(O.x,O.y,O.z),f.push(R.x,R.y,R.z)),p[G]=null):L in p||(p[L]={index0:h[E],index1:h[S],normal:lg.clone()})}}for(const m in p)if(p[m]){const{index0:g,index1:C}=p[m];ff.fromBufferAttribute(a,g),df.fromBufferAttribute(a,C),f.push(ff.x,ff.y,ff.z),f.push(df.x,df.y,df.z)}this.setAttribute("position",new wt(f,3))}}}class Or{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(s,t){const i=this.getUtoTmapping(s);return this.getPoint(i,t)}getPoints(s=5){const t=[];for(let i=0;i<=s;i++)t.push(this.getPoint(i/s));return t}getSpacedPoints(s=5){const t=[];for(let i=0;i<=s;i++)t.push(this.getPointAt(i/s));return t}getLength(){const s=this.getLengths();return s[s.length-1]}getLengths(s=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===s+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),n=0;t.push(0);for(let o=1;o<=s;o++)i=this.getPoint(o/s),n+=i.distanceTo(r),t.push(n),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(s,t){const i=this.getLengths();let r=0;const n=i.length;let o;t?o=t:o=s*i[n-1];let a=0,l=n-1,h;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),h=i[r]-o,h<0)a=r+1;else if(h>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(n-1);const c=i[r],p=i[r+1]-c,f=(o-c)/p;return(r+f)/(n-1)}getTangent(s,t){let r=s-1e-4,n=s+1e-4;r<0&&(r=0),n>1&&(n=1);const o=this.getPoint(r),a=this.getPoint(n),l=t||(o.isVector2?new Re:new H);return l.copy(a).sub(o).normalize(),l}getTangentAt(s,t){const i=this.getUtoTmapping(s);return this.getTangent(i,t)}computeFrenetFrames(s,t){const i=new H,r=[],n=[],o=[],a=new H,l=new rt;for(let f=0;f<=s;f++){const m=f/s;r[f]=this.getTangentAt(m,new H)}n[0]=new H,o[0]=new H;let h=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),p=Math.abs(r[0].z);c<=h&&(h=c,i.set(1,0,0)),u<=h&&(h=u,i.set(0,1,0)),p<=h&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),n[0].crossVectors(r[0],a),o[0].crossVectors(r[0],n[0]);for(let f=1;f<=s;f++){if(n[f]=n[f-1].clone(),o[f]=o[f-1].clone(),a.crossVectors(r[f-1],r[f]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(Ci(r[f-1].dot(r[f]),-1,1));n[f].applyMatrix4(l.makeRotationAxis(a,m))}o[f].crossVectors(r[f],n[f])}if(t===!0){let f=Math.acos(Ci(n[0].dot(n[s]),-1,1));f/=s,r[0].dot(a.crossVectors(n[0],n[s]))>0&&(f=-f);for(let m=1;m<=s;m++)n[m].applyMatrix4(l.makeRotationAxis(r[m],f*m)),o[m].crossVectors(r[m],n[m])}return{tangents:r,normals:n,binormals:o}}clone(){return new this.constructor().copy(this)}copy(s){return this.arcLengthDivisions=s.arcLengthDivisions,this}toJSON(){const s={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return s.arcLengthDivisions=this.arcLengthDivisions,s.type=this.type,s}fromJSON(s){return this.arcLengthDivisions=s.arcLengthDivisions,this}}class om extends Or{constructor(s=0,t=0,i=1,r=1,n=0,o=Math.PI*2,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=s,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=n,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(s,t){const i=t||new Re,r=Math.PI*2;let n=this.aEndAngle-this.aStartAngle;const o=Math.abs(n)<Number.EPSILON;for(;n<0;)n+=r;for(;n>r;)n-=r;n<Number.EPSILON&&(o?n=0:n=r),this.aClockwise===!0&&!o&&(n===r?n=-r:n=n-r);const a=this.aStartAngle+s*n;let l=this.aX+this.xRadius*Math.cos(a),h=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),p=l-this.aX,f=h-this.aY;l=p*c-f*u+this.aX,h=p*u+f*c+this.aY}return i.set(l,h)}copy(s){return super.copy(s),this.aX=s.aX,this.aY=s.aY,this.xRadius=s.xRadius,this.yRadius=s.yRadius,this.aStartAngle=s.aStartAngle,this.aEndAngle=s.aEndAngle,this.aClockwise=s.aClockwise,this.aRotation=s.aRotation,this}toJSON(){const s=super.toJSON();return s.aX=this.aX,s.aY=this.aY,s.xRadius=this.xRadius,s.yRadius=this.yRadius,s.aStartAngle=this.aStartAngle,s.aEndAngle=this.aEndAngle,s.aClockwise=this.aClockwise,s.aRotation=this.aRotation,s}fromJSON(s){return super.fromJSON(s),this.aX=s.aX,this.aY=s.aY,this.xRadius=s.xRadius,this.yRadius=s.yRadius,this.aStartAngle=s.aStartAngle,this.aEndAngle=s.aEndAngle,this.aClockwise=s.aClockwise,this.aRotation=s.aRotation,this}}om.prototype.isEllipseCurve=!0;class RS extends om{constructor(s,t,i,r,n,o){super(s,t,i,i,r,n,o),this.type="ArcCurve"}}RS.prototype.isArcCurve=!0;function UI(){let e=0,s=0,t=0,i=0;function r(n,o,a,l){e=n,s=a,t=-3*n+3*o-2*a-l,i=2*n-2*o+a+l}return{initCatmullRom:function(n,o,a,l,h){r(o,a,h*(a-n),h*(l-o))},initNonuniformCatmullRom:function(n,o,a,l,h,c,u){let p=(o-n)/h-(a-n)/(h+c)+(a-o)/c,f=(a-o)/c-(l-o)/(c+u)+(l-a)/u;p*=c,f*=c,r(o,a,p,f)},calc:function(n){const o=n*n,a=o*n;return e+s*n+t*o+i*a}}}const Tf=new H,hg=new UI,cg=new UI,ug=new UI;class PS extends Or{constructor(s=[],t=!1,i="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=s,this.closed=t,this.curveType=i,this.tension=r}getPoint(s,t=new H){const i=t,r=this.points,n=r.length,o=(n-(this.closed?0:1))*s;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/n)+1)*n:l===0&&a===n-1&&(a=n-2,l=1);let h,c;this.closed||a>0?h=r[(a-1)%n]:(Tf.subVectors(r[0],r[1]).add(r[0]),h=Tf);const u=r[a%n],p=r[(a+1)%n];if(this.closed||a+2<n?c=r[(a+2)%n]:(Tf.subVectors(r[n-1],r[n-2]).add(r[n-1]),c=Tf),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let m=Math.pow(h.distanceToSquared(u),f),g=Math.pow(u.distanceToSquared(p),f),C=Math.pow(p.distanceToSquared(c),f);g<1e-4&&(g=1),m<1e-4&&(m=g),C<1e-4&&(C=g),hg.initNonuniformCatmullRom(h.x,u.x,p.x,c.x,m,g,C),cg.initNonuniformCatmullRom(h.y,u.y,p.y,c.y,m,g,C),ug.initNonuniformCatmullRom(h.z,u.z,p.z,c.z,m,g,C)}else this.curveType==="catmullrom"&&(hg.initCatmullRom(h.x,u.x,p.x,c.x,this.tension),cg.initCatmullRom(h.y,u.y,p.y,c.y,this.tension),ug.initCatmullRom(h.z,u.z,p.z,c.z,this.tension));return i.set(hg.calc(l),cg.calc(l),ug.calc(l)),i}copy(s){super.copy(s),this.points=[];for(let t=0,i=s.points.length;t<i;t++){const r=s.points[t];this.points.push(r.clone())}return this.closed=s.closed,this.curveType=s.curveType,this.tension=s.tension,this}toJSON(){const s=super.toJSON();s.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];s.points.push(r.toArray())}return s.closed=this.closed,s.curveType=this.curveType,s.tension=this.tension,s}fromJSON(s){super.fromJSON(s),this.points=[];for(let t=0,i=s.points.length;t<i;t++){const r=s.points[t];this.points.push(new H().fromArray(r))}return this.closed=s.closed,this.curveType=s.curveType,this.tension=s.tension,this}}PS.prototype.isCatmullRomCurve3=!0;function Kv(e,s,t,i,r){const n=(i-s)*.5,o=(r-t)*.5,a=e*e,l=e*a;return(2*t-2*i+n+o)*l+(-3*t+3*i-2*n-o)*a+n*e+t}function mY(e,s){const t=1-e;return t*t*s}function TY(e,s){return 2*(1-e)*e*s}function gY(e,s){return e*e*s}function Tu(e,s,t,i){return mY(e,s)+TY(e,t)+gY(e,i)}function yY(e,s){const t=1-e;return t*t*t*s}function IY(e,s){const t=1-e;return 3*t*t*e*s}function EY(e,s){return 3*(1-e)*e*e*s}function vY(e,s){return e*e*e*s}function gu(e,s,t,i,r){return yY(e,s)+IY(e,t)+EY(e,i)+vY(e,r)}class HI extends Or{constructor(s=new Re,t=new Re,i=new Re,r=new Re){super(),this.type="CubicBezierCurve",this.v0=s,this.v1=t,this.v2=i,this.v3=r}getPoint(s,t=new Re){const i=t,r=this.v0,n=this.v1,o=this.v2,a=this.v3;return i.set(gu(s,r.x,n.x,o.x,a.x),gu(s,r.y,n.y,o.y,a.y)),i}copy(s){return super.copy(s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this.v3.copy(s.v3),this}toJSON(){const s=super.toJSON();return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s.v3=this.v3.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this.v3.fromArray(s.v3),this}}HI.prototype.isCubicBezierCurve=!0;class AS extends Or{constructor(s=new H,t=new H,i=new H,r=new H){super(),this.type="CubicBezierCurve3",this.v0=s,this.v1=t,this.v2=i,this.v3=r}getPoint(s,t=new H){const i=t,r=this.v0,n=this.v1,o=this.v2,a=this.v3;return i.set(gu(s,r.x,n.x,o.x,a.x),gu(s,r.y,n.y,o.y,a.y),gu(s,r.z,n.z,o.z,a.z)),i}copy(s){return super.copy(s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this.v3.copy(s.v3),this}toJSON(){const s=super.toJSON();return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s.v3=this.v3.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this.v3.fromArray(s.v3),this}}AS.prototype.isCubicBezierCurve3=!0;class am extends Or{constructor(s=new Re,t=new Re){super(),this.type="LineCurve",this.v1=s,this.v2=t}getPoint(s,t=new Re){const i=t;return s===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(s).add(this.v1)),i}getPointAt(s,t){return this.getPoint(s,t)}getTangent(s,t){const i=t||new Re;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(s){return super.copy(s),this.v1.copy(s.v1),this.v2.copy(s.v2),this}toJSON(){const s=super.toJSON();return s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this}}am.prototype.isLineCurve=!0;class CY extends Or{constructor(s=new H,t=new H){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=s,this.v2=t}getPoint(s,t=new H){const i=t;return s===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(s).add(this.v1)),i}getPointAt(s,t){return this.getPoint(s,t)}copy(s){return super.copy(s),this.v1.copy(s.v1),this.v2.copy(s.v2),this}toJSON(){const s=super.toJSON();return s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this}}class GI extends Or{constructor(s=new Re,t=new Re,i=new Re){super(),this.type="QuadraticBezierCurve",this.v0=s,this.v1=t,this.v2=i}getPoint(s,t=new Re){const i=t,r=this.v0,n=this.v1,o=this.v2;return i.set(Tu(s,r.x,n.x,o.x),Tu(s,r.y,n.y,o.y)),i}copy(s){return super.copy(s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this}toJSON(){const s=super.toJSON();return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this}}GI.prototype.isQuadraticBezierCurve=!0;class OS extends Or{constructor(s=new H,t=new H,i=new H){super(),this.type="QuadraticBezierCurve3",this.v0=s,this.v1=t,this.v2=i}getPoint(s,t=new H){const i=t,r=this.v0,n=this.v1,o=this.v2;return i.set(Tu(s,r.x,n.x,o.x),Tu(s,r.y,n.y,o.y),Tu(s,r.z,n.z,o.z)),i}copy(s){return super.copy(s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this}toJSON(){const s=super.toJSON();return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this}}OS.prototype.isQuadraticBezierCurve3=!0;class BI extends Or{constructor(s=[]){super(),this.type="SplineCurve",this.points=s}getPoint(s,t=new Re){const i=t,r=this.points,n=(r.length-1)*s,o=Math.floor(n),a=n-o,l=r[o===0?o:o-1],h=r[o],c=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return i.set(Kv(a,l.x,h.x,c.x,u.x),Kv(a,l.y,h.y,c.y,u.y)),i}copy(s){super.copy(s),this.points=[];for(let t=0,i=s.points.length;t<i;t++){const r=s.points[t];this.points.push(r.clone())}return this}toJSON(){const s=super.toJSON();s.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];s.points.push(r.toArray())}return s}fromJSON(s){super.fromJSON(s),this.points=[];for(let t=0,i=s.points.length;t<i;t++){const r=s.points[t];this.points.push(new Re().fromArray(r))}return this}}BI.prototype.isSplineCurve=!0;var DS=Object.freeze({__proto__:null,ArcCurve:RS,CatmullRomCurve3:PS,CubicBezierCurve:HI,CubicBezierCurve3:AS,EllipseCurve:om,LineCurve:am,LineCurve3:CY,QuadraticBezierCurve:GI,QuadraticBezierCurve3:OS,SplineCurve:BI});class _Y extends Or{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(s){this.curves.push(s)}closePath(){const s=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);s.equals(t)||this.curves.push(new am(t,s))}getPoint(s,t){const i=s*this.getLength(),r=this.getCurveLengths();let n=0;for(;n<r.length;){if(r[n]>=i){const o=r[n]-i,a=this.curves[n],l=a.getLength(),h=l===0?0:1-o/l;return a.getPointAt(h,t)}n++}return null}getLength(){const s=this.getCurveLengths();return s[s.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const s=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),s.push(t);return this.cacheLengths=s,s}getSpacedPoints(s=40){const t=[];for(let i=0;i<=s;i++)t.push(this.getPoint(i/s));return this.autoClose&&t.push(t[0]),t}getPoints(s=12){const t=[];let i;for(let r=0,n=this.curves;r<n.length;r++){const o=n[r],a=o&&o.isEllipseCurve?s*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?s*o.points.length:s,l=o.getPoints(a);for(let h=0;h<l.length;h++){const c=l[h];i&&i.equals(c)||(t.push(c),i=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(s){super.copy(s),this.curves=[];for(let t=0,i=s.curves.length;t<i;t++){const r=s.curves[t];this.curves.push(r.clone())}return this.autoClose=s.autoClose,this}toJSON(){const s=super.toJSON();s.autoClose=this.autoClose,s.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];s.curves.push(r.toJSON())}return s}fromJSON(s){super.fromJSON(s),this.autoClose=s.autoClose,this.curves=[];for(let t=0,i=s.curves.length;t<i;t++){const r=s.curves[t];this.curves.push(new DS[r.type]().fromJSON(r))}return this}}class yy extends _Y{constructor(s){super(),this.type="Path",this.currentPoint=new Re,s&&this.setFromPoints(s)}setFromPoints(s){this.moveTo(s[0].x,s[0].y);for(let t=1,i=s.length;t<i;t++)this.lineTo(s[t].x,s[t].y);return this}moveTo(s,t){return this.currentPoint.set(s,t),this}lineTo(s,t){const i=new am(this.currentPoint.clone(),new Re(s,t));return this.curves.push(i),this.currentPoint.set(s,t),this}quadraticCurveTo(s,t,i,r){const n=new GI(this.currentPoint.clone(),new Re(s,t),new Re(i,r));return this.curves.push(n),this.currentPoint.set(i,r),this}bezierCurveTo(s,t,i,r,n,o){const a=new HI(this.currentPoint.clone(),new Re(s,t),new Re(i,r),new Re(n,o));return this.curves.push(a),this.currentPoint.set(n,o),this}splineThru(s){const t=[this.currentPoint.clone()].concat(s),i=new BI(t);return this.curves.push(i),this.currentPoint.copy(s[s.length-1]),this}arc(s,t,i,r,n,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(s+a,t+l,i,r,n,o),this}absarc(s,t,i,r,n,o){return this.absellipse(s,t,i,i,r,n,o),this}ellipse(s,t,i,r,n,o,a,l){const h=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(s+h,t+c,i,r,n,o,a,l),this}absellipse(s,t,i,r,n,o,a,l){const h=new om(s,t,i,r,n,o,a,l);if(this.curves.length>0){const u=h.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(h);const c=h.getPoint(1);return this.currentPoint.copy(c),this}copy(s){return super.copy(s),this.currentPoint.copy(s.currentPoint),this}toJSON(){const s=super.toJSON();return s.currentPoint=this.currentPoint.toArray(),s}fromJSON(s){return super.fromJSON(s),this.currentPoint.fromArray(s.currentPoint),this}}class tp extends yy{constructor(s){super(s),this.uuid=Ar(),this.type="Shape",this.holes=[]}getPointsHoles(s){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(s);return t}extractPoints(s){return{shape:this.getPoints(s),holes:this.getPointsHoles(s)}}copy(s){super.copy(s),this.holes=[];for(let t=0,i=s.holes.length;t<i;t++){const r=s.holes[t];this.holes.push(r.clone())}return this}toJSON(){const s=super.toJSON();s.uuid=this.uuid,s.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];s.holes.push(r.toJSON())}return s}fromJSON(s){super.fromJSON(s),this.uuid=s.uuid,this.holes=[];for(let t=0,i=s.holes.length;t<i;t++){const r=s.holes[t];this.holes.push(new yy().fromJSON(r))}return this}}const wY={triangulate:function(e,s,t=2){const i=s&&s.length,r=i?s[0]*t:e.length;let n=MS(e,0,r,t,!0);const o=[];if(!n||n.next===n.prev)return o;let a,l,h,c,u,p,f;if(i&&(n=RY(e,s,n,t)),e.length>80*t){a=h=e[0],l=c=e[1];for(let m=t;m<r;m+=t)u=e[m],p=e[m+1],u<a&&(a=u),p<l&&(l=p),u>h&&(h=u),p>c&&(c=p);f=Math.max(h-a,c-l),f=f!==0?1/f:0}return Uu(n,o,t,a,l,f),o}};function MS(e,s,t,i,r){let n,o;if(r===BY(e,s,t,i)>0)for(n=s;n<t;n+=i)o=Jv(n,e[n],e[n+1],o);else for(n=t-i;n>=s;n-=i)o=Jv(n,e[n],e[n+1],o);return o&&lm(o,o.next)&&(Gu(o),o=o.next),o}function ra(e,s){if(!e)return e;s||(s=e);let t=e,i;do if(i=!1,!t.steiner&&(lm(t,t.next)||Fs(t.prev,t,t.next)===0)){if(Gu(t),t=s=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==s);return s}function Uu(e,s,t,i,r,n,o){if(!e)return;!o&&n&&MY(e,i,r,n);let a=e,l,h;for(;e.prev!==e.next;){if(l=e.prev,h=e.next,n?xY(e,i,r,n):SY(e)){s.push(l.i/t),s.push(e.i/t),s.push(h.i/t),Gu(e),e=h.next,a=h.next;continue}if(e=h,e===a){o?o===1?(e=bY(ra(e),s,t),Uu(e,s,t,i,r,n,2)):o===2&&FY(e,s,t,i,r,n):Uu(ra(e),s,t,i,r,n,1);break}}}function SY(e){const s=e.prev,t=e,i=e.next;if(Fs(s,t,i)>=0)return!1;let r=e.next.next;for(;r!==e.prev;){if(gh(s.x,s.y,t.x,t.y,i.x,i.y,r.x,r.y)&&Fs(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function xY(e,s,t,i){const r=e.prev,n=e,o=e.next;if(Fs(r,n,o)>=0)return!1;const a=r.x<n.x?r.x<o.x?r.x:o.x:n.x<o.x?n.x:o.x,l=r.y<n.y?r.y<o.y?r.y:o.y:n.y<o.y?n.y:o.y,h=r.x>n.x?r.x>o.x?r.x:o.x:n.x>o.x?n.x:o.x,c=r.y>n.y?r.y>o.y?r.y:o.y:n.y>o.y?n.y:o.y,u=Iy(a,l,s,t,i),p=Iy(h,c,s,t,i);let f=e.prevZ,m=e.nextZ;for(;f&&f.z>=u&&m&&m.z<=p;){if(f!==e.prev&&f!==e.next&&gh(r.x,r.y,n.x,n.y,o.x,o.y,f.x,f.y)&&Fs(f.prev,f,f.next)>=0||(f=f.prevZ,m!==e.prev&&m!==e.next&&gh(r.x,r.y,n.x,n.y,o.x,o.y,m.x,m.y)&&Fs(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;f&&f.z>=u;){if(f!==e.prev&&f!==e.next&&gh(r.x,r.y,n.x,n.y,o.x,o.y,f.x,f.y)&&Fs(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;m&&m.z<=p;){if(m!==e.prev&&m!==e.next&&gh(r.x,r.y,n.x,n.y,o.x,o.y,m.x,m.y)&&Fs(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function bY(e,s,t){let i=e;do{const r=i.prev,n=i.next.next;!lm(r,n)&&NS(r,i,i.next,n)&&Hu(r,n)&&Hu(n,r)&&(s.push(r.i/t),s.push(i.i/t),s.push(n.i/t),Gu(i),Gu(i.next),i=e=n),i=i.next}while(i!==e);return ra(i)}function FY(e,s,t,i,r,n){let o=e;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&UY(o,a)){let l=LS(o,a);o=ra(o,o.next),l=ra(l,l.next),Uu(o,s,t,i,r,n),Uu(l,s,t,i,r,n);return}a=a.next}o=o.next}while(o!==e)}function RY(e,s,t,i){const r=[];let n,o,a,l,h;for(n=0,o=s.length;n<o;n++)a=s[n]*i,l=n<o-1?s[n+1]*i:e.length,h=MS(e,a,l,i,!1),h===h.next&&(h.steiner=!0),r.push(LY(h));for(r.sort(PY),n=0;n<r.length;n++)AY(r[n],t),t=ra(t,t.next);return t}function PY(e,s){return e.x-s.x}function AY(e,s){if(s=OY(e,s),s){const t=LS(s,e);ra(s,s.next),ra(t,t.next)}}function OY(e,s){let t=s;const i=e.x,r=e.y;let n=-1/0,o;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const p=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=i&&p>n){if(n=p,p===i){if(r===t.y)return t;if(r===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==s);if(!o)return null;if(i===n)return o;const a=o,l=o.x,h=o.y;let c=1/0,u;t=o;do i>=t.x&&t.x>=l&&i!==t.x&&gh(r<h?i:n,r,l,h,r<h?n:i,r,t.x,t.y)&&(u=Math.abs(r-t.y)/(i-t.x),Hu(t,e)&&(u<c||u===c&&(t.x>o.x||t.x===o.x&&DY(o,t)))&&(o=t,c=u)),t=t.next;while(t!==a);return o}function DY(e,s){return Fs(e.prev,e,s.prev)<0&&Fs(s.next,e,e.next)<0}function MY(e,s,t,i){let r=e;do r.z===null&&(r.z=Iy(r.x,r.y,s,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,NY(r)}function NY(e){let s,t,i,r,n,o,a,l,h=1;do{for(t=e,e=null,n=null,o=0;t;){for(o++,i=t,a=0,s=0;s<h&&(a++,i=i.nextZ,!!i);s++);for(l=h;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),n?n.nextZ=r:e=r,r.prevZ=n,n=r;t=i}n.nextZ=null,h*=2}while(o>1);return e}function Iy(e,s,t,i,r){return e=32767*(e-t)*r,s=32767*(s-i)*r,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,e|s<<1}function LY(e){let s=e,t=e;do(s.x<t.x||s.x===t.x&&s.y<t.y)&&(t=s),s=s.next;while(s!==e);return t}function gh(e,s,t,i,r,n,o,a){return(r-o)*(s-a)-(e-o)*(n-a)>=0&&(e-o)*(i-a)-(t-o)*(s-a)>=0&&(t-o)*(n-a)-(r-o)*(i-a)>=0}function UY(e,s){return e.next.i!==s.i&&e.prev.i!==s.i&&!HY(e,s)&&(Hu(e,s)&&Hu(s,e)&&GY(e,s)&&(Fs(e.prev,e,s.prev)||Fs(e,s.prev,s))||lm(e,s)&&Fs(e.prev,e,e.next)>0&&Fs(s.prev,s,s.next)>0)}function Fs(e,s,t){return(s.y-e.y)*(t.x-s.x)-(s.x-e.x)*(t.y-s.y)}function lm(e,s){return e.x===s.x&&e.y===s.y}function NS(e,s,t,i){const r=yf(Fs(e,s,t)),n=yf(Fs(e,s,i)),o=yf(Fs(t,i,e)),a=yf(Fs(t,i,s));return!!(r!==n&&o!==a||r===0&&gf(e,t,s)||n===0&&gf(e,i,s)||o===0&&gf(t,e,i)||a===0&&gf(t,s,i))}function gf(e,s,t){return s.x<=Math.max(e.x,t.x)&&s.x>=Math.min(e.x,t.x)&&s.y<=Math.max(e.y,t.y)&&s.y>=Math.min(e.y,t.y)}function yf(e){return e>0?1:e<0?-1:0}function HY(e,s){let t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==s.i&&t.next.i!==s.i&&NS(t,t.next,e,s))return!0;t=t.next}while(t!==e);return!1}function Hu(e,s){return Fs(e.prev,e,e.next)<0?Fs(e,s,e.next)>=0&&Fs(e,e.prev,s)>=0:Fs(e,s,e.prev)<0||Fs(e,e.next,s)<0}function GY(e,s){let t=e,i=!1;const r=(e.x+s.x)/2,n=(e.y+s.y)/2;do t.y>n!=t.next.y>n&&t.next.y!==t.y&&r<(t.next.x-t.x)*(n-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==e);return i}function LS(e,s){const t=new Ey(e.i,e.x,e.y),i=new Ey(s.i,s.x,s.y),r=e.next,n=s.prev;return e.next=s,s.prev=e,t.next=r,r.prev=t,i.next=t,t.prev=i,n.next=i,i.prev=n,i}function Jv(e,s,t,i){const r=new Ey(e,s,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Gu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ey(e,s,t){this.i=e,this.x=s,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function BY(e,s,t,i){let r=0;for(let n=s,o=t-i;n<t;n+=i)r+=(e[o]-e[n])*(e[n+1]+e[o+1]),o=n;return r}class Xo{static area(s){const t=s.length;let i=0;for(let r=t-1,n=0;n<t;r=n++)i+=s[r].x*s[n].y-s[n].x*s[r].y;return i*.5}static isClockWise(s){return Xo.area(s)<0}static triangulateShape(s,t){const i=[],r=[],n=[];eC(s),tC(i,s);let o=s.length;t.forEach(eC);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,tC(i,t[l]);const a=wY.triangulate(i,r);for(let l=0;l<a.length;l+=3)n.push(a.slice(l,l+3));return n}}function eC(e){const s=e.length;s>2&&e[s-1].equals(e[0])&&e.pop()}function tC(e,s){for(let t=0;t<s.length;t++)e.push(s[t].x),e.push(s[t].y)}class rc extends _t{constructor(s=new tp([new Re(.5,.5),new Re(-.5,.5),new Re(-.5,-.5),new Re(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:s,options:t},s=Array.isArray(s)?s:[s];const i=this,r=[],n=[];for(let a=0,l=s.length;a<l;a++){const h=s[a];o(h)}this.setAttribute("position",new wt(r,3)),this.setAttribute("uv",new wt(n,2)),this.computeVertexNormals();function o(a){const l=[],h=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1;let u=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,f=t.bevelThickness!==void 0?t.bevelThickness:.2,m=t.bevelSize!==void 0?t.bevelSize:f-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,C=t.bevelSegments!==void 0?t.bevelSegments:3;const I=t.extrudePath,E=t.UVGenerator!==void 0?t.UVGenerator:kY;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=t.amount);let S,x=!1,F,O,R,L;I&&(S=I.getSpacedPoints(c),x=!0,p=!1,F=I.computeFrenetFrames(c,!1),O=new H,R=new H,L=new H),p||(C=0,f=0,m=0,g=0);const G=a.extractPoints(h);let V=G.shape;const B=G.holes;if(!Xo.isClockWise(V)){V=V.reverse();for(let we=0,Y=B.length;we<Y;we++){const z=B[we];Xo.isClockWise(z)&&(B[we]=z.reverse())}}const $=Xo.triangulateShape(V,B),Z=V;for(let we=0,Y=B.length;we<Y;we++){const z=B[we];V=V.concat(z)}function te(we,Y,z){return Y||console.error("THREE.ExtrudeGeometry: vec does not exist"),Y.clone().multiplyScalar(z).add(we)}const ee=V.length,J=$.length;function ie(we,Y,z){let pe,ge,Ee;const be=we.x-Y.x,De=we.y-Y.y,Me=z.x-we.x,q=z.y-we.y,k=be*be+De*De,Ie=be*q-De*Me;if(Math.abs(Ie)>Number.EPSILON){const de=Math.sqrt(k),Pe=Math.sqrt(Me*Me+q*q),He=Y.x-De/de,he=Y.y+be/de,Ge=z.x-q/Pe,xe=z.y+Me/Pe,Ve=((Ge-He)*q-(xe-he)*Me)/(be*q-De*Me);pe=He+be*Ve-we.x,ge=he+De*Ve-we.y;const qe=pe*pe+ge*ge;if(qe<=2)return new Re(pe,ge);Ee=Math.sqrt(qe/2)}else{let de=!1;be>Number.EPSILON?Me>Number.EPSILON&&(de=!0):be<-Number.EPSILON?Me<-Number.EPSILON&&(de=!0):Math.sign(De)===Math.sign(q)&&(de=!0),de?(pe=-De,ge=be,Ee=Math.sqrt(k)):(pe=be,ge=De,Ee=Math.sqrt(k/2))}return new Re(pe/Ee,ge/Ee)}const re=[];for(let we=0,Y=Z.length,z=Y-1,pe=we+1;we<Y;we++,z++,pe++)z===Y&&(z=0),pe===Y&&(pe=0),re[we]=ie(Z[we],Z[z],Z[pe]);const ae=[];let le,me=re.concat();for(let we=0,Y=B.length;we<Y;we++){const z=B[we];le=[];for(let pe=0,ge=z.length,Ee=ge-1,be=pe+1;pe<ge;pe++,Ee++,be++)Ee===ge&&(Ee=0),be===ge&&(be=0),le[pe]=ie(z[pe],z[Ee],z[be]);ae.push(le),me=me.concat(le)}for(let we=0;we<C;we++){const Y=we/C,z=f*Math.cos(Y*Math.PI/2),pe=m*Math.sin(Y*Math.PI/2)+g;for(let ge=0,Ee=Z.length;ge<Ee;ge++){const be=te(Z[ge],re[ge],pe);Be(be.x,be.y,-z)}for(let ge=0,Ee=B.length;ge<Ee;ge++){const be=B[ge];le=ae[ge];for(let De=0,Me=be.length;De<Me;De++){const q=te(be[De],le[De],pe);Be(q.x,q.y,-z)}}}const Te=m+g;for(let we=0;we<ee;we++){const Y=p?te(V[we],me[we],Te):V[we];x?(R.copy(F.normals[0]).multiplyScalar(Y.x),O.copy(F.binormals[0]).multiplyScalar(Y.y),L.copy(S[0]).add(R).add(O),Be(L.x,L.y,L.z)):Be(Y.x,Y.y,0)}for(let we=1;we<=c;we++)for(let Y=0;Y<ee;Y++){const z=p?te(V[Y],me[Y],Te):V[Y];x?(R.copy(F.normals[we]).multiplyScalar(z.x),O.copy(F.binormals[we]).multiplyScalar(z.y),L.copy(S[we]).add(R).add(O),Be(L.x,L.y,L.z)):Be(z.x,z.y,u/c*we)}for(let we=C-1;we>=0;we--){const Y=we/C,z=f*Math.cos(Y*Math.PI/2),pe=m*Math.sin(Y*Math.PI/2)+g;for(let ge=0,Ee=Z.length;ge<Ee;ge++){const be=te(Z[ge],re[ge],pe);Be(be.x,be.y,u+z)}for(let ge=0,Ee=B.length;ge<Ee;ge++){const be=B[ge];le=ae[ge];for(let De=0,Me=be.length;De<Me;De++){const q=te(be[De],le[De],pe);x?Be(q.x,q.y+S[c-1].y,S[c-1].x+z):Be(q.x,q.y,u+z)}}}Ce(),Ue();function Ce(){const we=r.length/3;if(p){let Y=0,z=ee*Y;for(let pe=0;pe<J;pe++){const ge=$[pe];Ze(ge[2]+z,ge[1]+z,ge[0]+z)}Y=c+C*2,z=ee*Y;for(let pe=0;pe<J;pe++){const ge=$[pe];Ze(ge[0]+z,ge[1]+z,ge[2]+z)}}else{for(let Y=0;Y<J;Y++){const z=$[Y];Ze(z[2],z[1],z[0])}for(let Y=0;Y<J;Y++){const z=$[Y];Ze(z[0]+ee*c,z[1]+ee*c,z[2]+ee*c)}}i.addGroup(we,r.length/3-we,0)}function Ue(){const we=r.length/3;let Y=0;ye(Z,Y),Y+=Z.length;for(let z=0,pe=B.length;z<pe;z++){const ge=B[z];ye(ge,Y),Y+=ge.length}i.addGroup(we,r.length/3-we,1)}function ye(we,Y){let z=we.length;for(;--z>=0;){const pe=z;let ge=z-1;ge<0&&(ge=we.length-1);for(let Ee=0,be=c+C*2;Ee<be;Ee++){const De=ee*Ee,Me=ee*(Ee+1),q=Y+pe+De,k=Y+ge+De,Ie=Y+ge+Me,de=Y+pe+Me;ke(q,k,Ie,de)}}}function Be(we,Y,z){l.push(we),l.push(Y),l.push(z)}function Ze(we,Y,z){Ne(we),Ne(Y),Ne(z);const pe=r.length/3,ge=E.generateTopUV(i,r,pe-3,pe-2,pe-1);ct(ge[0]),ct(ge[1]),ct(ge[2])}function ke(we,Y,z,pe){Ne(we),Ne(Y),Ne(pe),Ne(Y),Ne(z),Ne(pe);const ge=r.length/3,Ee=E.generateSideWallUV(i,r,ge-6,ge-3,ge-2,ge-1);ct(Ee[0]),ct(Ee[1]),ct(Ee[3]),ct(Ee[1]),ct(Ee[2]),ct(Ee[3])}function Ne(we){r.push(l[we*3+0]),r.push(l[we*3+1]),r.push(l[we*3+2])}function ct(we){n.push(we.x),n.push(we.y)}}}toJSON(){const s=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return VY(t,i,s)}static fromJSON(s,t){const i=[];for(let n=0,o=s.shapes.length;n<o;n++){const a=t[s.shapes[n]];i.push(a)}const r=s.options.extrudePath;return r!==void 0&&(s.options.extrudePath=new DS[r.type]().fromJSON(r)),new rc(i,s.options)}}const kY={generateTopUV:function(e,s,t,i,r){const n=s[t*3],o=s[t*3+1],a=s[i*3],l=s[i*3+1],h=s[r*3],c=s[r*3+1];return[new Re(n,o),new Re(a,l),new Re(h,c)]},generateSideWallUV:function(e,s,t,i,r,n){const o=s[t*3],a=s[t*3+1],l=s[t*3+2],h=s[i*3],c=s[i*3+1],u=s[i*3+2],p=s[r*3],f=s[r*3+1],m=s[r*3+2],g=s[n*3],C=s[n*3+1],I=s[n*3+2];return Math.abs(a-c)<Math.abs(o-h)?[new Re(o,1-l),new Re(h,1-u),new Re(p,1-m),new Re(g,1-I)]:[new Re(a,1-l),new Re(c,1-u),new Re(f,1-m),new Re(C,1-I)]}};function VY(e,s,t){if(t.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const n=e[i];t.shapes.push(n.uuid)}else t.shapes.push(e.uuid);return s.extrudePath!==void 0&&(t.options.extrudePath=s.extrudePath.toJSON()),t}class yh extends LI{constructor(s=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,s,t),this.type="OctahedronGeometry",this.parameters={radius:s,detail:t}}static fromJSON(s){return new yh(s.radius,s.detail)}}class kI extends _t{constructor(s=new tp([new Re(0,.5),new Re(-.5,-.5),new Re(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:s,curveSegments:t};const i=[],r=[],n=[],o=[];let a=0,l=0;if(Array.isArray(s)===!1)h(s);else for(let c=0;c<s.length;c++)h(s[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new wt(r,3)),this.setAttribute("normal",new wt(n,3)),this.setAttribute("uv",new wt(o,2));function h(c){const u=r.length/3,p=c.extractPoints(t);let f=p.shape;const m=p.holes;Xo.isClockWise(f)===!1&&(f=f.reverse());for(let C=0,I=m.length;C<I;C++){const E=m[C];Xo.isClockWise(E)===!0&&(m[C]=E.reverse())}const g=Xo.triangulateShape(f,m);for(let C=0,I=m.length;C<I;C++){const E=m[C];f=f.concat(E)}for(let C=0,I=f.length;C<I;C++){const E=f[C];r.push(E.x,E.y,0),n.push(0,0,1),o.push(E.x,E.y)}for(let C=0,I=g.length;C<I;C++){const E=g[C],S=E[0]+u,x=E[1]+u,F=E[2]+u;i.push(S,x,F),l+=3}}}toJSON(){const s=super.toJSON(),t=this.parameters.shapes;return jY(t,s)}static fromJSON(s,t){const i=[];for(let r=0,n=s.shapes.length;r<n;r++){const o=t[s.shapes[r]];i.push(o)}return new kI(i,s.curveSegments)}}function jY(e,s){if(s.shapes=[],Array.isArray(e))for(let t=0,i=e.length;t<i;t++){const r=e[t];s.shapes.push(r.uuid)}else s.shapes.push(e.uuid);return s}class VI extends _t{constructor(s=1,t=32,i=16,r=0,n=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:s,widthSegments:t,heightSegments:i,phiStart:r,phiLength:n,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let h=0;const c=[],u=new H,p=new H,f=[],m=[],g=[],C=[];for(let I=0;I<=i;I++){const E=[],S=I/i;let x=0;I==0&&o==0?x=.5/t:I==i&&l==Math.PI&&(x=-.5/t);for(let F=0;F<=t;F++){const O=F/t;u.x=-s*Math.cos(r+O*n)*Math.sin(o+S*a),u.y=s*Math.cos(o+S*a),u.z=s*Math.sin(r+O*n)*Math.sin(o+S*a),m.push(u.x,u.y,u.z),p.copy(u).normalize(),g.push(p.x,p.y,p.z),C.push(O+x,1-S),E.push(h++)}c.push(E)}for(let I=0;I<i;I++)for(let E=0;E<t;E++){const S=c[I][E+1],x=c[I][E],F=c[I+1][E],O=c[I+1][E+1];(I!==0||o>0)&&f.push(S,x,O),(I!==i-1||l<Math.PI)&&f.push(x,F,O)}this.setIndex(f),this.setAttribute("position",new wt(m,3)),this.setAttribute("normal",new wt(g,3)),this.setAttribute("uv",new wt(C,2))}static fromJSON(s){return new VI(s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength)}}class Va extends _t{constructor(s=1,t=.4,i=8,r=6,n=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:s,tube:t,radialSegments:i,tubularSegments:r,arc:n},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],h=[],c=new H,u=new H,p=new H;for(let f=0;f<=i;f++)for(let m=0;m<=r;m++){const g=m/r*n,C=f/i*Math.PI*2;u.x=(s+t*Math.cos(C))*Math.cos(g),u.y=(s+t*Math.cos(C))*Math.sin(g),u.z=t*Math.sin(C),a.push(u.x,u.y,u.z),c.x=s*Math.cos(g),c.y=s*Math.sin(g),p.subVectors(u,c).normalize(),l.push(p.x,p.y,p.z),h.push(m/r),h.push(f/i)}for(let f=1;f<=i;f++)for(let m=1;m<=r;m++){const g=(r+1)*f+m-1,C=(r+1)*(f-1)+m-1,I=(r+1)*(f-1)+m,E=(r+1)*f+m;o.push(g,C,E),o.push(C,I,E)}this.setIndex(o),this.setAttribute("position",new wt(a,3)),this.setAttribute("normal",new wt(l,3)),this.setAttribute("uv",new wt(h,2))}static fromJSON(s){return new Va(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc)}}class zY extends _t{constructor(s=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:s},s!==null){const t=[],i=new Set,r=new H,n=new H;if(s.index!==null){const o=s.attributes.position,a=s.index;let l=s.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let h=0,c=l.length;h<c;++h){const u=l[h],p=u.start,f=u.count;for(let m=p,g=p+f;m<g;m+=3)for(let C=0;C<3;C++){const I=a.getX(m+C),E=a.getX(m+(C+1)%3);r.fromBufferAttribute(o,I),n.fromBufferAttribute(o,E),sC(r,n,i)===!0&&(t.push(r.x,r.y,r.z),t.push(n.x,n.y,n.z))}}}else{const o=s.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let h=0;h<3;h++){const c=3*a+h,u=3*a+(h+1)%3;r.fromBufferAttribute(o,c),n.fromBufferAttribute(o,u),sC(r,n,i)===!0&&(t.push(r.x,r.y,r.z),t.push(n.x,n.y,n.z))}}this.setAttribute("position",new wt(t,3))}}}function sC(e,s,t){const i=`${e.x},${e.y},${e.z}-${s.x},${s.y},${s.z}`,r=`${s.x},${s.y},${s.z}-${e.x},${e.y},${e.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i,r),!0)}class WY extends Ws{constructor(s){super(),this.type="ShadowMaterial",this.color=new it(0),this.transparent=!0,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this}}WY.prototype.isShadowMaterial=!0;class sp extends Ws{constructor(s){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new it(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(s)}copy(s){return super.copy(s),this.defines={STANDARD:""},this.color.copy(s.color),this.roughness=s.roughness,this.metalness=s.metalness,this.map=s.map,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.emissive.copy(s.emissive),this.emissiveMap=s.emissiveMap,this.emissiveIntensity=s.emissiveIntensity,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.roughnessMap=s.roughnessMap,this.metalnessMap=s.metalnessMap,this.alphaMap=s.alphaMap,this.envMap=s.envMap,this.envMapIntensity=s.envMapIntensity,this.refractionRatio=s.refractionRatio,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this.flatShading=s.flatShading,this}}sp.prototype.isMeshStandardMaterial=!0;class pl extends sp{constructor(s){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Re(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ci(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new it(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new it(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new it(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(s)}get sheen(){return this._sheen}set sheen(s){this._sheen>0!=s>0&&this.version++,this._sheen=s}get clearcoat(){return this._clearcoat}set clearcoat(s){this._clearcoat>0!=s>0&&this.version++,this._clearcoat=s}get transmission(){return this._transmission}set transmission(s){this._transmission>0!=s>0&&this.version++,this._transmission=s}copy(s){return super.copy(s),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=s.clearcoat,this.clearcoatMap=s.clearcoatMap,this.clearcoatRoughness=s.clearcoatRoughness,this.clearcoatRoughnessMap=s.clearcoatRoughnessMap,this.clearcoatNormalMap=s.clearcoatNormalMap,this.clearcoatNormalScale.copy(s.clearcoatNormalScale),this.ior=s.ior,this.sheen=s.sheen,this.sheenColor.copy(s.sheenColor),this.sheenColorMap=s.sheenColorMap,this.sheenRoughness=s.sheenRoughness,this.sheenRoughnessMap=s.sheenRoughnessMap,this.transmission=s.transmission,this.transmissionMap=s.transmissionMap,this.thickness=s.thickness,this.thicknessMap=s.thicknessMap,this.attenuationDistance=s.attenuationDistance,this.attenuationColor.copy(s.attenuationColor),this.specularIntensity=s.specularIntensity,this.specularIntensityMap=s.specularIntensityMap,this.specularColor.copy(s.specularColor),this.specularColorMap=s.specularColorMap,this}}pl.prototype.isMeshPhysicalMaterial=!0;class YY extends Ws{constructor(s){super(),this.type="MeshPhongMaterial",this.color=new it(16777215),this.specular=new it(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Kd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.specular.copy(s.specular),this.shininess=s.shininess,this.map=s.map,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.emissive.copy(s.emissive),this.emissiveMap=s.emissiveMap,this.emissiveIntensity=s.emissiveIntensity,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.specularMap=s.specularMap,this.alphaMap=s.alphaMap,this.envMap=s.envMap,this.combine=s.combine,this.reflectivity=s.reflectivity,this.refractionRatio=s.refractionRatio,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this.flatShading=s.flatShading,this}}YY.prototype.isMeshPhongMaterial=!0;class XY extends Ws{constructor(s){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new it(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.map=s.map,this.gradientMap=s.gradientMap,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.emissive.copy(s.emissive),this.emissiveMap=s.emissiveMap,this.emissiveIntensity=s.emissiveIntensity,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.alphaMap=s.alphaMap,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this}}XY.prototype.isMeshToonMaterial=!0;class jI extends Ws{constructor(s){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(s)}copy(s){return super.copy(s),this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.flatShading=s.flatShading,this}}jI.prototype.isMeshNormalMaterial=!0;class fl extends Ws{constructor(s){super(),this.type="MeshLambertMaterial",this.color=new it(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Kd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.map=s.map,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.emissive.copy(s.emissive),this.emissiveMap=s.emissiveMap,this.emissiveIntensity=s.emissiveIntensity,this.specularMap=s.specularMap,this.alphaMap=s.alphaMap,this.envMap=s.envMap,this.combine=s.combine,this.reflectivity=s.reflectivity,this.refractionRatio=s.refractionRatio,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this}}fl.prototype.isMeshLambertMaterial=!0;class qY extends Ws{constructor(s){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new it(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(s)}copy(s){return super.copy(s),this.defines={MATCAP:""},this.color.copy(s.color),this.matcap=s.matcap,this.map=s.map,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.alphaMap=s.alphaMap,this.flatShading=s.flatShading,this}}qY.prototype.isMeshMatcapMaterial=!0;class US extends bn{constructor(s){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(s)}copy(s){return super.copy(s),this.scale=s.scale,this.dashSize=s.dashSize,this.gapSize=s.gapSize,this}}US.prototype.isLineDashedMaterial=!0;const ws={arraySlice:function(e,s,t){return ws.isTypedArray(e)?new e.constructor(e.subarray(s,t!==void 0?t:e.length)):e.slice(s,t)},convertArray:function(e,s,t){return!e||!t&&e.constructor===s?e:typeof s.BYTES_PER_ELEMENT=="number"?new s(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function s(r,n){return e[r]-e[n]}const t=e.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(s),i},sortedArray:function(e,s,t){const i=e.length,r=new e.constructor(i);for(let n=0,o=0;o!==i;++n){const a=t[n]*s;for(let l=0;l!==s;++l)r[o++]=e[a+l]}return r},flattenJSON:function(e,s,t,i){let r=1,n=e[0];for(;n!==void 0&&n[i]===void 0;)n=e[r++];if(n===void 0)return;let o=n[i];if(o!==void 0)if(Array.isArray(o))do o=n[i],o!==void 0&&(s.push(n.time),t.push.apply(t,o)),n=e[r++];while(n!==void 0);else if(o.toArray!==void 0)do o=n[i],o!==void 0&&(s.push(n.time),o.toArray(t,t.length)),n=e[r++];while(n!==void 0);else do o=n[i],o!==void 0&&(s.push(n.time),t.push(o)),n=e[r++];while(n!==void 0)},subclip:function(e,s,t,i,r=30){const n=e.clone();n.name=s;const o=[];for(let l=0;l<n.tracks.length;++l){const h=n.tracks[l],c=h.getValueSize(),u=[],p=[];for(let f=0;f<h.times.length;++f){const m=h.times[f]*r;if(!(m<t||m>=i)){u.push(h.times[f]);for(let g=0;g<c;++g)p.push(h.values[f*c+g])}}u.length!==0&&(h.times=ws.convertArray(u,h.times.constructor),h.values=ws.convertArray(p,h.values.constructor),o.push(h))}n.tracks=o;let a=1/0;for(let l=0;l<n.tracks.length;++l)a>n.tracks[l].times[0]&&(a=n.tracks[l].times[0]);for(let l=0;l<n.tracks.length;++l)n.tracks[l].shift(-1*a);return n.resetDuration(),n},makeClipAdditive:function(e,s=0,t=e,i=30){i<=0&&(i=30);const r=t.tracks.length,n=s/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const h=e.tracks.find(function(I){return I.name===a.name&&I.ValueTypeName===l});if(h===void 0)continue;let c=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);let p=0;const f=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=f/3);const m=a.times.length-1;let g;if(n<=a.times[0]){const I=c,E=u-c;g=ws.arraySlice(a.values,I,E)}else if(n>=a.times[m]){const I=m*u+c,E=I+u-c;g=ws.arraySlice(a.values,I,E)}else{const I=a.createInterpolant(),E=c,S=u-c;I.evaluate(n),g=ws.arraySlice(I.resultBuffer,E,S)}l==="quaternion"&&new Ts().fromArray(g).normalize().conjugate().toArray(g);const C=h.times.length;for(let I=0;I<C;++I){const E=I*f+p;if(l==="quaternion")Ts.multiplyQuaternionsFlat(h.values,E,g,0,h.values,E);else{const S=f-p*2;for(let x=0;x<S;++x)h.values[E+x]-=g[x]}}}return e.blendMode=qw,e}};class ro{constructor(s,t,i,r){this.parameterPositions=s,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(s){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],n=t[i-1];e:{t:{let o;s:{i:if(!(s<r)){for(let a=i+2;;){if(r===void 0){if(s<n)break i;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,s,n)}if(i===a)break;if(n=r,r=t[++i],s<r)break t}o=t.length;break s}if(!(s>=n)){const a=t[1];s<a&&(i=2,n=a);for(let l=i-2;;){if(n===void 0)return this._cachedIndex=0,this.beforeStart_(0,s,r);if(i===l)break;if(r=n,n=t[--i-1],s>=n)break t}o=i,i=0;break s}break e}for(;i<o;){const a=i+o>>>1;s<t[a]?o=a:i=a+1}if(r=t[i],n=t[i-1],n===void 0)return this._cachedIndex=0,this.beforeStart_(0,s,r);if(r===void 0)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,n,s)}this._cachedIndex=i,this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,s,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(s){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=s*r;for(let o=0;o!==r;++o)t[o]=i[n+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}ro.prototype.beforeStart_=ro.prototype.copySampleValue_;ro.prototype.afterEnd_=ro.prototype.copySampleValue_;class QY extends ro{constructor(s,t,i,r){super(s,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:mh,endingEnd:mh}}intervalChanged_(s,t,i){const r=this.parameterPositions;let n=s-2,o=s+1,a=r[n],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Th:n=s,a=2*t-i;break;case ud:n=r.length-2,a=t+r[n]-r[n+1];break;default:n=s,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Th:o=s,l=2*i-t;break;case ud:o=1,l=i+r[1]-r[0];break;default:o=s-1,l=t}const h=(i-t)*.5,c=this.valueSize;this._weightPrev=h/(t-a),this._weightNext=h/(l-i),this._offsetPrev=n*c,this._offsetNext=o*c}interpolate_(s,t,i,r){const n=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=s*a,h=l-a,c=this._offsetPrev,u=this._offsetNext,p=this._weightPrev,f=this._weightNext,m=(i-t)/(r-t),g=m*m,C=g*m,I=-p*C+2*p*g-p*m,E=(1+p)*C+(-1.5-2*p)*g+(-.5+p)*m+1,S=(-1-f)*C+(1.5+f)*g+.5*m,x=f*C-f*g;for(let F=0;F!==a;++F)n[F]=I*o[c+F]+E*o[h+F]+S*o[l+F]+x*o[u+F];return n}}class HS extends ro{constructor(s,t,i,r){super(s,t,i,r)}interpolate_(s,t,i,r){const n=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=s*a,h=l-a,c=(i-t)/(r-t),u=1-c;for(let p=0;p!==a;++p)n[p]=o[h+p]*u+o[l+p]*c;return n}}class $Y extends ro{constructor(s,t,i,r){super(s,t,i,r)}interpolate_(s){return this.copySampleValue_(s-1)}}class Rn{constructor(s,t,i,r){if(s===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+s);this.name=s,this.times=ws.convertArray(t,this.TimeBufferType),this.values=ws.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(s){const t=s.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(s);else{i={name:s.name,times:ws.convertArray(s.times,Array),values:ws.convertArray(s.values,Array)};const r=s.getInterpolation();r!==s.DefaultInterpolation&&(i.interpolation=r)}return i.type=s.ValueTypeName,i}InterpolantFactoryMethodDiscrete(s){return new $Y(this.times,this.values,this.getValueSize(),s)}InterpolantFactoryMethodLinear(s){return new HS(this.times,this.values,this.getValueSize(),s)}InterpolantFactoryMethodSmooth(s){return new QY(this.times,this.values,this.getValueSize(),s)}setInterpolation(s){let t;switch(s){case Bh:t=this.InterpolantFactoryMethodDiscrete;break;case el:t=this.InterpolantFactoryMethodLinear;break;case AT:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(s!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Bh;case this.InterpolantFactoryMethodLinear:return el;case this.InterpolantFactoryMethodSmooth:return AT}}getValueSize(){return this.values.length/this.times.length}shift(s){if(s!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=s}return this}scale(s){if(s!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=s}return this}trim(s,t){const i=this.times,r=i.length;let n=0,o=r-1;for(;n!==r&&i[n]<s;)++n;for(;o!==-1&&i[o]>t;)--o;if(++o,n!==0||o!==r){n>=o&&(o=Math.max(o,1),n=o-1);const a=this.getValueSize();this.times=ws.arraySlice(i,n,o),this.values=ws.arraySlice(this.values,n*a,o*a)}return this}validate(){let s=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),s=!1);const i=this.times,r=this.values,n=i.length;n===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),s=!1);let o=null;for(let a=0;a!==n;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),s=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),s=!1;break}o=l}if(r!==void 0&&ws.isTypedArray(r))for(let a=0,l=r.length;a!==l;++a){const h=r[a];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,h),s=!1;break}}return s}optimize(){const s=ws.arraySlice(this.times),t=ws.arraySlice(this.values),i=this.getValueSize(),r=this.getInterpolation()===AT,n=s.length-1;let o=1;for(let a=1;a<n;++a){let l=!1;const h=s[a],c=s[a+1];if(h!==c&&(a!==1||h!==s[0]))if(r)l=!0;else{const u=a*i,p=u-i,f=u+i;for(let m=0;m!==i;++m){const g=t[u+m];if(g!==t[p+m]||g!==t[f+m]){l=!0;break}}}if(l){if(a!==o){s[o]=s[a];const u=a*i,p=o*i;for(let f=0;f!==i;++f)t[p+f]=t[u+f]}++o}}if(n>0){s[o]=s[n];for(let a=n*i,l=o*i,h=0;h!==i;++h)t[l+h]=t[a+h];++o}return o!==s.length?(this.times=ws.arraySlice(s,0,o),this.values=ws.arraySlice(t,0,o*i)):(this.times=s,this.values=t),this}clone(){const s=ws.arraySlice(this.times,0),t=ws.arraySlice(this.values,0),i=this.constructor,r=new i(this.name,s,t);return r.createInterpolant=this.createInterpolant,r}}Rn.prototype.TimeBufferType=Float32Array;Rn.prototype.ValueBufferType=Float32Array;Rn.prototype.DefaultInterpolation=el;class nc extends Rn{}nc.prototype.ValueTypeName="bool";nc.prototype.ValueBufferType=Array;nc.prototype.DefaultInterpolation=Bh;nc.prototype.InterpolantFactoryMethodLinear=void 0;nc.prototype.InterpolantFactoryMethodSmooth=void 0;class GS extends Rn{}GS.prototype.ValueTypeName="color";class Bu extends Rn{}Bu.prototype.ValueTypeName="number";class ZY extends ro{constructor(s,t,i,r){super(s,t,i,r)}interpolate_(s,t,i,r){const n=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let h=s*a;for(let c=h+a;h!==c;h+=4)Ts.slerpFlat(n,0,o,h-a,o,h,l);return n}}class rl extends Rn{InterpolantFactoryMethodLinear(s){return new ZY(this.times,this.values,this.getValueSize(),s)}}rl.prototype.ValueTypeName="quaternion";rl.prototype.DefaultInterpolation=el;rl.prototype.InterpolantFactoryMethodSmooth=void 0;class oc extends Rn{}oc.prototype.ValueTypeName="string";oc.prototype.ValueBufferType=Array;oc.prototype.DefaultInterpolation=Bh;oc.prototype.InterpolantFactoryMethodLinear=void 0;oc.prototype.InterpolantFactoryMethodSmooth=void 0;class ku extends Rn{}ku.prototype.ValueTypeName="vector";class vy{constructor(s,t=-1,i,r=vI){this.name=s,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ar(),this.duration<0&&this.resetDuration()}static parse(s){const t=[],i=s.tracks,r=1/(s.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(JY(i[o]).scale(r));const n=new this(s.name,s.duration,t,s.blendMode);return n.uuid=s.uuid,n}static toJSON(s){const t=[],i=s.tracks,r={name:s.name,duration:s.duration,tracks:t,uuid:s.uuid,blendMode:s.blendMode};for(let n=0,o=i.length;n!==o;++n)t.push(Rn.toJSON(i[n]));return r}static CreateFromMorphTargetSequence(s,t,i,r){const n=t.length,o=[];for(let a=0;a<n;a++){let l=[],h=[];l.push((a+n-1)%n,a,(a+1)%n),h.push(0,1,0);const c=ws.getKeyframeOrder(l);l=ws.sortedArray(l,1,c),h=ws.sortedArray(h,1,c),!r&&l[0]===0&&(l.push(n),h.push(h[0])),o.push(new Bu(".morphTargetInfluences["+t[a].name+"]",l,h).scale(1/i))}return new this(s,-1,o)}static findByName(s,t){let i=s;if(!Array.isArray(s)){const r=s;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(s,t,i){const r={},n=/^([\w-]*?)([\d]+)$/;for(let a=0,l=s.length;a<l;a++){const h=s[a],c=h.name.match(n);if(c&&c.length>1){const u=c[1];let p=r[u];p||(r[u]=p=[]),p.push(h)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(s,t){if(!s)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(u,p,f,m,g){if(f.length!==0){const C=[],I=[];ws.flattenJSON(f,C,I,m),C.length!==0&&g.push(new u(p,C,I))}},r=[],n=s.name||"default",o=s.fps||30,a=s.blendMode;let l=s.length||-1;const h=s.hierarchy||[];for(let u=0;u<h.length;u++){const p=h[u].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const f={};let m;for(m=0;m<p.length;m++)if(p[m].morphTargets)for(let g=0;g<p[m].morphTargets.length;g++)f[p[m].morphTargets[g]]=-1;for(const g in f){const C=[],I=[];for(let E=0;E!==p[m].morphTargets.length;++E){const S=p[m];C.push(S.time),I.push(S.morphTarget===g?1:0)}r.push(new Bu(".morphTargetInfluence["+g+"]",C,I))}l=f.length*(o||1)}else{const f=".bones["+t[u].name+"]";i(ku,f+".position",p,"pos",r),i(rl,f+".quaternion",p,"rot",r),i(ku,f+".scale",p,"scl",r)}}return r.length===0?null:new this(n,l,r,a)}resetDuration(){const s=this.tracks;let t=0;for(let i=0,r=s.length;i!==r;++i){const n=this.tracks[i];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this}trim(){for(let s=0;s<this.tracks.length;s++)this.tracks[s].trim(0,this.duration);return this}validate(){let s=!0;for(let t=0;t<this.tracks.length;t++)s=s&&this.tracks[t].validate();return s}optimize(){for(let s=0;s<this.tracks.length;s++)this.tracks[s].optimize();return this}clone(){const s=[];for(let t=0;t<this.tracks.length;t++)s.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,s,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function KY(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Bu;case"vector":case"vector2":case"vector3":case"vector4":return ku;case"color":return GS;case"quaternion":return rl;case"bool":case"boolean":return nc;case"string":return oc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function JY(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const s=KY(e.type);if(e.times===void 0){const t=[],i=[];ws.flattenJSON(e.keys,t,i,"value"),e.times=t,e.values=i}return s.parse!==void 0?s.parse(e):new s(e.name,e.times,e.values,e.interpolation)}const Vh={enabled:!1,files:{},add:function(e,s){this.enabled!==!1&&(this.files[e]=s)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class eX{constructor(s,t,i){const r=this;let n=!1,o=0,a=0,l;const h=[];this.onStart=void 0,this.onLoad=s,this.onProgress=t,this.onError=i,this.itemStart=function(c){a++,n===!1&&r.onStart!==void 0&&r.onStart(c,o,a),n=!0},this.itemEnd=function(c){o++,r.onProgress!==void 0&&r.onProgress(c,o,a),o===a&&(n=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(c){r.onError!==void 0&&r.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,u){return h.push(c,u),this},this.removeHandler=function(c){const u=h.indexOf(c);return u!==-1&&h.splice(u,2),this},this.getHandler=function(c){for(let u=0,p=h.length;u<p;u+=2){const f=h[u],m=h[u+1];if(f.global&&(f.lastIndex=0),f.test(c))return m}return null}}}const tX=new eX;class Pn{constructor(s){this.manager=s!==void 0?s:tX,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(s,t){const i=this;return new Promise(function(r,n){i.load(s,r,t,n)})}parse(){}setCrossOrigin(s){return this.crossOrigin=s,this}setWithCredentials(s){return this.withCredentials=s,this}setPath(s){return this.path=s,this}setResourcePath(s){return this.resourcePath=s,this}setRequestHeader(s){return this.requestHeader=s,this}}const jn={};class hm extends Pn{constructor(s){super(s)}load(s,t,i,r){s===void 0&&(s=""),this.path!==void 0&&(s=this.path+s),s=this.manager.resolveURL(s);const n=Vh.get(s);if(n!==void 0)return this.manager.itemStart(s),setTimeout(()=>{t&&t(n),this.manager.itemEnd(s)},0),n;if(jn[s]!==void 0){jn[s].push({onLoad:t,onProgress:i,onError:r});return}jn[s]=[],jn[s].push({onLoad:t,onProgress:i,onError:r});const o=new Request(s,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(o).then(a=>{if(a.status===200||a.status===0){a.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");const l=jn[s],h=a.body.getReader(),c=a.headers.get("Content-Length"),u=c?parseInt(c):0,p=u!==0;let f=0;return new ReadableStream({start(m){g();function g(){h.read().then(({done:C,value:I})=>{if(C)m.close();else{f+=I.byteLength;const E=new ProgressEvent("progress",{lengthComputable:p,loaded:f,total:u});for(let S=0,x=l.length;S<x;S++){const F=l[S];F.onProgress&&F.onProgress(E)}m.enqueue(I),g()}})}}})}else throw Error(`fetch for "${a.url}" responded with ${a.status}: ${a.statusText}`)}).then(a=>{const l=new Response(a);switch(this.responseType){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(h=>new DOMParser().parseFromString(h,this.mimeType));case"json":return l.json();default:return l.text()}}).then(a=>{Vh.add(s,a);const l=jn[s];delete jn[s];for(let h=0,c=l.length;h<c;h++){const u=l[h];u.onLoad&&u.onLoad(a)}this.manager.itemEnd(s)}).catch(a=>{const l=jn[s];delete jn[s];for(let h=0,c=l.length;h<c;h++){const u=l[h];u.onError&&u.onError(a)}this.manager.itemError(s),this.manager.itemEnd(s)}),this.manager.itemStart(s)}setResponseType(s){return this.responseType=s,this}setMimeType(s){return this.mimeType=s,this}}class BS extends Pn{constructor(s){super(s)}load(s,t,i,r){this.path!==void 0&&(s=this.path+s),s=this.manager.resolveURL(s);const n=this,o=Vh.get(s);if(o!==void 0)return n.manager.itemStart(s),setTimeout(function(){t&&t(o),n.manager.itemEnd(s)},0),o;const a=em("img");function l(){c(),Vh.add(s,this),t&&t(this),n.manager.itemEnd(s)}function h(u){c(),r&&r(u),n.manager.itemError(s),n.manager.itemEnd(s)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",h,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",h,!1),s.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),n.manager.itemStart(s),a.src=s,a}}class sX extends Pn{constructor(s){super(s)}load(s,t,i,r){const n=new tm,o=new BS(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(h){o.load(s[h],function(c){n.images[h]=c,a++,a===6&&(n.needsUpdate=!0,t&&t(n))},void 0,r)}for(let h=0;h<s.length;++h)l(h);return n}}class kS extends Pn{constructor(s){super(s)}load(s,t,i,r){const n=new Ys,o=new BS(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(s,function(a){n.image=a,n.needsUpdate=!0,t!==void 0&&t(n)},i,r),n}}class Cn extends jt{constructor(s,t=1){super(),this.type="Light",this.color=new it(s),this.intensity=t}dispose(){}copy(s){return super.copy(s),this.color.copy(s.color),this.intensity=s.intensity,this}toJSON(s){const t=super.toJSON(s);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}Cn.prototype.isLight=!0;class iX extends Cn{constructor(s,t,i){super(s,i),this.type="HemisphereLight",this.position.copy(jt.DefaultUp),this.updateMatrix(),this.groundColor=new it(t)}copy(s){return Cn.prototype.copy.call(this,s),this.groundColor.copy(s.groundColor),this}}iX.prototype.isHemisphereLight=!0;const iC=new rt,rC=new H,nC=new H;class zI{constructor(s){this.camera=s,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Re(512,512),this.map=null,this.mapPass=null,this.matrix=new rt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new sm,this._frameExtents=new Re(1,1),this._viewportCount=1,this._viewports=[new Qt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(s){const t=this.camera,i=this.matrix;rC.setFromMatrixPosition(s.matrixWorld),t.position.copy(rC),nC.setFromMatrixPosition(s.target.matrixWorld),t.lookAt(nC),t.updateMatrixWorld(),iC.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(iC),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(t.projectionMatrix),i.multiply(t.matrixWorldInverse)}getViewport(s){return this._viewports[s]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(s){return this.camera=s.camera.clone(),this.bias=s.bias,this.radius=s.radius,this.mapSize.copy(s.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const s={};return this.bias!==0&&(s.bias=this.bias),this.normalBias!==0&&(s.normalBias=this.normalBias),this.radius!==1&&(s.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(s.mapSize=this.mapSize.toArray()),s.camera=this.camera.toJSON(!1).object,delete s.camera.matrix,s}}class VS extends zI{constructor(){super(new ui(50,1,.5,500)),this.focus=1}updateMatrices(s){const t=this.camera,i=Mu*2*s.angle*this.focus,r=this.mapSize.width/this.mapSize.height,n=s.distance||t.far;(i!==t.fov||r!==t.aspect||n!==t.far)&&(t.fov=i,t.aspect=r,t.far=n,t.updateProjectionMatrix()),super.updateMatrices(s)}copy(s){return super.copy(s),this.focus=s.focus,this}}VS.prototype.isSpotLightShadow=!0;class jS extends Cn{constructor(s,t,i=0,r=Math.PI/3,n=0,o=1){super(s,t),this.type="SpotLight",this.position.copy(jt.DefaultUp),this.updateMatrix(),this.target=new jt,this.distance=i,this.angle=r,this.penumbra=n,this.decay=o,this.shadow=new VS}get power(){return this.intensity*Math.PI}set power(s){this.intensity=s/Math.PI}dispose(){this.shadow.dispose()}copy(s){return super.copy(s),this.distance=s.distance,this.angle=s.angle,this.penumbra=s.penumbra,this.decay=s.decay,this.target=s.target.clone(),this.shadow=s.shadow.clone(),this}}jS.prototype.isSpotLight=!0;const oC=new rt,Gc=new H,pg=new H;class zS extends zI{constructor(){super(new ui(90,1,.5,500)),this._frameExtents=new Re(4,2),this._viewportCount=6,this._viewports=[new Qt(2,1,1,1),new Qt(0,1,1,1),new Qt(3,1,1,1),new Qt(1,1,1,1),new Qt(3,0,1,1),new Qt(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(s,t=0){const i=this.camera,r=this.matrix,n=s.distance||i.far;n!==i.far&&(i.far=n,i.updateProjectionMatrix()),Gc.setFromMatrixPosition(s.matrixWorld),i.position.copy(Gc),pg.copy(i.position),pg.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(pg),i.updateMatrixWorld(),r.makeTranslation(-Gc.x,-Gc.y,-Gc.z),oC.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oC)}}zS.prototype.isPointLightShadow=!0;class WS extends Cn{constructor(s,t,i=0,r=1){super(s,t),this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new zS}get power(){return this.intensity*4*Math.PI}set power(s){this.intensity=s/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(s){return super.copy(s),this.distance=s.distance,this.decay=s.decay,this.shadow=s.shadow.clone(),this}}WS.prototype.isPointLight=!0;class YS extends zI{constructor(){super(new oa(-5,5,5,-5,.5,500))}}YS.prototype.isDirectionalLightShadow=!0;class pd extends Cn{constructor(s,t){super(s,t),this.type="DirectionalLight",this.position.copy(jt.DefaultUp),this.updateMatrix(),this.target=new jt,this.shadow=new YS}dispose(){this.shadow.dispose()}copy(s){return super.copy(s),this.target=s.target.clone(),this.shadow=s.shadow.clone(),this}}pd.prototype.isDirectionalLight=!0;class XS extends Cn{constructor(s,t){super(s,t),this.type="AmbientLight"}}XS.prototype.isAmbientLight=!0;class rX extends Cn{constructor(s,t,i=10,r=10){super(s,t),this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(s){this.intensity=s/(this.width*this.height*Math.PI)}copy(s){return super.copy(s),this.width=s.width,this.height=s.height,this}toJSON(s){const t=super.toJSON(s);return t.object.width=this.width,t.object.height=this.height,t}}rX.prototype.isRectAreaLight=!0;class qS{constructor(){this.coefficients=[];for(let s=0;s<9;s++)this.coefficients.push(new H)}set(s){for(let t=0;t<9;t++)this.coefficients[t].copy(s[t]);return this}zero(){for(let s=0;s<9;s++)this.coefficients[s].set(0,0,0);return this}getAt(s,t){const i=s.x,r=s.y,n=s.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*n),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*n)),t.addScaledVector(o[6],.315392*(3*n*n-1)),t.addScaledVector(o[7],1.092548*(i*n)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(s,t){const i=s.x,r=s.y,n=s.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*n),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*n),t.addScaledVector(o[6],.743125*n*n-.247708),t.addScaledVector(o[7],2*.429043*i*n),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(s){for(let t=0;t<9;t++)this.coefficients[t].add(s.coefficients[t]);return this}addScaledSH(s,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(s.coefficients[i],t);return this}scale(s){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(s);return this}lerp(s,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(s.coefficients[i],t);return this}equals(s){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(s.coefficients[t]))return!1;return!0}copy(s){return this.set(s.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(s,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(s,t+r*3);return this}toArray(s=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(s,t+r*3);return s}static getBasisAt(s,t){const i=s.x,r=s.y,n=s.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*n,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*n,t[6]=.315392*(3*n*n-1),t[7]=1.092548*i*n,t[8]=.546274*(i*i-r*r)}}qS.prototype.isSphericalHarmonics3=!0;class WI extends Cn{constructor(s=new qS,t=1){super(void 0,t),this.sh=s}copy(s){return super.copy(s),this.sh.copy(s.sh),this}fromJSON(s){return this.intensity=s.intensity,this.sh.fromArray(s.sh),this}toJSON(s){const t=super.toJSON(s);return t.object.sh=this.sh.toArray(),t}}WI.prototype.isLightProbe=!0;class qo{static decodeText(s){if(typeof TextDecoder<"u")return new TextDecoder().decode(s);let t="";for(let i=0,r=s.length;i<r;i++)t+=String.fromCharCode(s[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(s){const t=s.lastIndexOf("/");return t===-1?"./":s.substr(0,t+1)}static resolveURL(s,t){return typeof s!="string"||s===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(s)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(s)||/^data:.*,.*$/i.test(s)||/^blob:.*$/i.test(s)?s:t+s)}}class QS extends _t{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(s){return super.copy(s),this.instanceCount=s.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const s=super.toJSON(this);return s.instanceCount=this.instanceCount,s.isInstancedBufferGeometry=!0,s}}QS.prototype.isInstancedBufferGeometry=!0;class $S extends Pn{constructor(s){super(s),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(s){return this.options=s,this}load(s,t,i,r){s===void 0&&(s=""),this.path!==void 0&&(s=this.path+s),s=this.manager.resolveURL(s);const n=this,o=Vh.get(s);if(o!==void 0)return n.manager.itemStart(s),setTimeout(function(){t&&t(o),n.manager.itemEnd(s)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(s,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(n.options,{colorSpaceConversion:"none"}))}).then(function(l){Vh.add(s,l),t&&t(l),n.manager.itemEnd(s)}).catch(function(l){r&&r(l),n.manager.itemError(s),n.manager.itemEnd(s)}),n.manager.itemStart(s)}}$S.prototype.isImageBitmapLoader=!0;let If;const nX={getContext:function(){return If===void 0&&(If=new(window.AudioContext||window.webkitAudioContext)),If},setContext:function(e){If=e}};class oX extends Pn{constructor(s){super(s)}load(s,t,i,r){const n=this,o=new hm(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(s,function(a){try{const l=a.slice(0);nX.getContext().decodeAudioData(l,function(c){t(c)})}catch(l){r?r(l):console.error(l),n.manager.itemError(s)}},i,r)}}class aX extends WI{constructor(s,t,i=1){super(void 0,i);const r=new it().set(s),n=new it().set(t),o=new H(r.r,r.g,r.b),a=new H(n.r,n.g,n.b),l=Math.sqrt(Math.PI),h=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(h)}}aX.prototype.isHemisphereLightProbe=!0;class lX extends WI{constructor(s,t=1){super(void 0,t);const i=new it().set(s);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}lX.prototype.isAmbientLightProbe=!0;class ZS{constructor(s=!0){this.autoStart=s,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=aC(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let s=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=aC();s=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=s}return s}}function aC(){return(typeof performance>"u"?Date:performance).now()}class hX extends jt{constructor(s){super(),this.type="Audio",this.listener=s,this.context=s.context,this.gain=this.context.createGain(),this.gain.connect(s.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(s){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=s,this.connect(),this}setMediaElementSource(s){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(s),this.connect(),this}setMediaStreamSource(s){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(s),this.connect(),this}setBuffer(s){return this.buffer=s,this.sourceType="buffer",this.autoplay&&this.play(),this}play(s=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+s;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let s=1,t=this.filters.length;s<t;s++)this.filters[s-1].connect(this.filters[s]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let s=1,t=this.filters.length;s<t;s++)this.filters[s-1].disconnect(this.filters[s]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(s){return s||(s=[]),this._connected===!0?(this.disconnect(),this.filters=s.slice(),this.connect()):this.filters=s.slice(),this}setDetune(s){if(this.detune=s,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(s){return this.setFilters(s?[s]:[])}setPlaybackRate(s){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=s,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(s){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=s,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(s){return this.loopStart=s,this}setLoopEnd(s){return this.loopEnd=s,this}getVolume(){return this.gain.gain.value}setVolume(s){return this.gain.gain.setTargetAtTime(s,this.context.currentTime,.01),this}}class cX{constructor(s,t,i){this.binding=s,this.valueSize=i;let r,n,o;switch(t){case"quaternion":r=this._slerp,n=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,n=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,n=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=n,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(s,t){const i=this.buffer,r=this.valueSize,n=s*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[n+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,n,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(s){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,s,i),this.cumulativeWeightAdditive+=s}apply(s){const t=this.valueSize,i=this.buffer,r=s*t+t,n=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,n<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-n,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,h=t+t;l!==h;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const s=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;s.getValue(t,r);for(let n=i,o=r;n!==o;++n)t[n]=t[r+n%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const s=this.valueSize*3;this.binding.setValue(this.buffer,s)}_setAdditiveIdentityNumeric(){const s=this._addIndex*this.valueSize,t=s+this.valueSize;for(let i=s;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const s=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[s+i]}_select(s,t,i,r,n){if(r>=.5)for(let o=0;o!==n;++o)s[t+o]=s[i+o]}_slerp(s,t,i,r){Ts.slerpFlat(s,t,s,t,s,i,r)}_slerpAdditive(s,t,i,r,n){const o=this._workIndex*n;Ts.multiplyQuaternionsFlat(s,o,s,t,s,i),Ts.slerpFlat(s,t,s,t,s,o,r)}_lerp(s,t,i,r,n){const o=1-r;for(let a=0;a!==n;++a){const l=t+a;s[l]=s[l]*o+s[i+a]*r}}_lerpAdditive(s,t,i,r,n){for(let o=0;o!==n;++o){const a=t+o;s[a]=s[a]+s[i+o]*r}}}const YI="\\[\\]\\.:\\/",uX=new RegExp("["+YI+"]","g"),XI="[^"+YI+"]",pX="[^"+YI.replace("\\.","")+"]",fX=/((?:WC+[\/:])*)/.source.replace("WC",XI),dX=/(WCOD+)?/.source.replace("WCOD",pX),mX=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",XI),TX=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",XI),gX=new RegExp("^"+fX+dX+mX+TX+"$"),yX=["material","materials","bones"];class IX{constructor(s,t,i){const r=i||qt.parseTrackName(t);this._targetGroup=s,this._bindings=s.subscribe_(t,r)}getValue(s,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(s,t)}setValue(s,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r)i[r].setValue(s,t)}bind(){const s=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=s.length;t!==i;++t)s[t].bind()}unbind(){const s=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=s.length;t!==i;++t)s[t].unbind()}}class qt{constructor(s,t,i){this.path=t,this.parsedPath=i||qt.parseTrackName(t),this.node=qt.findNode(s,this.parsedPath.nodeName)||s,this.rootNode=s,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(s,t,i){return s&&s.isAnimationObjectGroup?new qt.Composite(s,t,i):new qt(s,t,i)}static sanitizeNodeName(s){return s.replace(/\s/g,"_").replace(uX,"")}static parseTrackName(s){const t=gX.exec(s);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+s);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const n=i.nodeName.substring(r+1);yX.indexOf(n)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=n)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+s);return i}static findNode(s,t){if(!t||t===""||t==="."||t===-1||t===s.name||t===s.uuid)return s;if(s.skeleton){const i=s.skeleton.getBoneByName(t);if(i!==void 0)return i}if(s.children){const i=function(n){for(let o=0;o<n.length;o++){const a=n[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(s.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(s,t){s[t]=this.targetObject[this.propertyName]}_getValue_array(s,t){const i=this.resolvedProperty;for(let r=0,n=i.length;r!==n;++r)s[t++]=i[r]}_getValue_arrayElement(s,t){s[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(s,t){this.resolvedProperty.toArray(s,t)}_setValue_direct(s,t){this.targetObject[this.propertyName]=s[t]}_setValue_direct_setNeedsUpdate(s,t){this.targetObject[this.propertyName]=s[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(s,t){this.targetObject[this.propertyName]=s[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(s,t){const i=this.resolvedProperty;for(let r=0,n=i.length;r!==n;++r)i[r]=s[t++]}_setValue_array_setNeedsUpdate(s,t){const i=this.resolvedProperty;for(let r=0,n=i.length;r!==n;++r)i[r]=s[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(s,t){const i=this.resolvedProperty;for(let r=0,n=i.length;r!==n;++r)i[r]=s[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(s,t){this.resolvedProperty[this.propertyIndex]=s[t]}_setValue_arrayElement_setNeedsUpdate(s,t){this.resolvedProperty[this.propertyIndex]=s[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(s,t){this.resolvedProperty[this.propertyIndex]=s[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(s,t){this.resolvedProperty.fromArray(s,t)}_setValue_fromArray_setNeedsUpdate(s,t){this.resolvedProperty.fromArray(s,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(s,t){this.resolvedProperty.fromArray(s,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(s,t){this.bind(),this.getValue(s,t)}_setValue_unbound(s,t){this.bind(),this.setValue(s,t)}bind(){let s=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let n=t.propertyIndex;if(s||(s=qt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=s),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!s){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let h=t.objectIndex;switch(i){case"materials":if(!s.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!s.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}s=s.material.materials;break;case"bones":if(!s.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}s=s.skeleton.bones;for(let c=0;c<s.length;c++)if(s[c].name===h){h=c;break}break;default:if(s[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}s=s[i]}if(h!==void 0){if(s[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,s);return}s=s[h]}}const o=s[r];if(o===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",s);return}let a=this.Versioning.None;this.targetObject=s,s.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:s.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(n!==void 0){if(r==="morphTargetInfluences"){if(!s.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(s.geometry.isBufferGeometry){if(!s.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}s.morphTargetDictionary[n]!==void 0&&(n=s.morphTargetDictionary[n])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=n}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}qt.Composite=IX;qt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};qt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};qt.prototype.GetterByBindingType=[qt.prototype._getValue_direct,qt.prototype._getValue_array,qt.prototype._getValue_arrayElement,qt.prototype._getValue_toArray];qt.prototype.SetterByBindingTypeAndVersioning=[[qt.prototype._setValue_direct,qt.prototype._setValue_direct_setNeedsUpdate,qt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qt.prototype._setValue_array,qt.prototype._setValue_array_setNeedsUpdate,qt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qt.prototype._setValue_arrayElement,qt.prototype._setValue_arrayElement_setNeedsUpdate,qt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qt.prototype._setValue_fromArray,qt.prototype._setValue_fromArray_setNeedsUpdate,qt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class EX{constructor(s,t,i=null,r=t.blendMode){this._mixer=s,this._clip=t,this._localRoot=i,this.blendMode=r;const n=t.tracks,o=n.length,a=new Array(o),l={endingStart:mh,endingEnd:mh};for(let h=0;h!==o;++h){const c=n[h].createInterpolant(null);a[h]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lk,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(s){return this._startTime=s,this}setLoop(s,t){return this.loop=s,this.repetitions=t,this}setEffectiveWeight(s){return this.weight=s,this._effectiveWeight=this.enabled?s:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(s){return this._scheduleFading(s,0,1)}fadeOut(s){return this._scheduleFading(s,1,0)}crossFadeFrom(s,t,i){if(s.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,n=s._clip.duration,o=n/r,a=r/n;s.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(s,t,i){return s.crossFadeFrom(this,t,i)}stopFading(){const s=this._weightInterpolant;return s!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(s)),this}setEffectiveTimeScale(s){return this.timeScale=s,this._effectiveTimeScale=this.paused?0:s,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(s){return this.timeScale=this._clip.duration/s,this.stopWarping()}syncWith(s){return this.time=s.time,this.timeScale=s.timeScale,this.stopWarping()}halt(s){return this.warp(this._effectiveTimeScale,0,s)}warp(s,t,i){const r=this._mixer,n=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,h=a.sampleValues;return l[0]=n,l[1]=n+i,h[0]=s/o,h[1]=t/o,this}stopWarping(){const s=this._timeScaleInterpolant;return s!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(s)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(s,t,i,r){if(!this.enabled){this._updateWeight(s);return}const n=this._startTime;if(n!==null){const l=(s-n)*i;if(l<0||i===0)return;this._startTime=null,t=i*l}t*=this._updateTimeScale(s);const o=this._updateTime(t),a=this._updateWeight(s);if(a>0){const l=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case qw:for(let c=0,u=l.length;c!==u;++c)l[c].evaluate(o),h[c].accumulateAdditive(a);break;case vI:default:for(let c=0,u=l.length;c!==u;++c)l[c].evaluate(o),h[c].accumulate(r,a)}}}_updateWeight(s){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(s)[0];t*=r,s>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(s){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(t*=i.evaluate(s)[0],s>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(s){const t=this._clip.duration,i=this.loop;let r=this.time+s,n=this._loopCount;const o=i===hk;if(s===0)return n===-1?r:o&&(n&1)===1?t-r:r;if(i===ak){n===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:s<0?-1:1})}}else{if(n===-1&&(s>=0?(n=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,n+=Math.abs(a);const l=this.repetitions-n;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=s>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:s>0?1:-1});else{if(l===1){const h=s<0;this._setEndings(h,!h,o)}else this._setEndings(!1,!1,o);this._loopCount=n,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(n&1)===1)return t-r}return r}_setEndings(s,t,i){const r=this._interpolantSettings;i?(r.endingStart=Th,r.endingEnd=Th):(s?r.endingStart=this.zeroSlopeAtStart?Th:mh:r.endingStart=ud,t?r.endingEnd=this.zeroSlopeAtEnd?Th:mh:r.endingEnd=ud)}_scheduleFading(s,t,i){const r=this._mixer,n=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=n,l[0]=t,a[1]=n+s,l[1]=i,this}}class vX extends cl{constructor(s){super(),this._root=s,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(s,t){const i=s._localRoot||this._root,r=s._clip.tracks,n=r.length,o=s._propertyBindings,a=s._interpolants,l=i.uuid,h=this._bindingsByRootAndName;let c=h[l];c===void 0&&(c={},h[l]=c);for(let u=0;u!==n;++u){const p=r[u],f=p.name;let m=c[f];if(m!==void 0)o[u]=m;else{if(m=o[u],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,f));continue}const g=t&&t._propertyBindings[u].binding.parsedPath;m=new cX(qt.create(i,f,g),p.ValueTypeName,p.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,f),o[u]=m}a[u].resultBuffer=m.buffer}}_activateAction(s){if(!this._isActiveAction(s)){if(s._cacheIndex===null){const i=(s._localRoot||this._root).uuid,r=s._clip.uuid,n=this._actionsByClip[r];this._bindAction(s,n&&n.knownActions[0]),this._addInactiveAction(s,r,i)}const t=s._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const n=t[i];n.useCount++===0&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(s)}}_deactivateAction(s){if(this._isActiveAction(s)){const t=s._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const n=t[i];--n.useCount===0&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(s)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const s=this;this.stats={actions:{get total(){return s._actions.length},get inUse(){return s._nActiveActions}},bindings:{get total(){return s._bindings.length},get inUse(){return s._nActiveBindings}},controlInterpolants:{get total(){return s._controlInterpolants.length},get inUse(){return s._nActiveControlInterpolants}}}}_isActiveAction(s){const t=s._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(s,t,i){const r=this._actions,n=this._actionsByClip;let o=n[t];if(o===void 0)o={knownActions:[s],actionByRoot:{}},s._byClipCacheIndex=0,n[t]=o;else{const a=o.knownActions;s._byClipCacheIndex=a.length,a.push(s)}s._cacheIndex=r.length,r.push(s),o.actionByRoot[i]=s}_removeInactiveAction(s){const t=this._actions,i=t[t.length-1],r=s._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),s._cacheIndex=null;const n=s._clip.uuid,o=this._actionsByClip,a=o[n],l=a.knownActions,h=l[l.length-1],c=s._byClipCacheIndex;h._byClipCacheIndex=c,l[c]=h,l.pop(),s._byClipCacheIndex=null;const u=a.actionByRoot,p=(s._localRoot||this._root).uuid;delete u[p],l.length===0&&delete o[n],this._removeInactiveBindingsForAction(s)}_removeInactiveBindingsForAction(s){const t=s._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const n=t[i];--n.referenceCount===0&&this._removeInactiveBinding(n)}}_lendAction(s){const t=this._actions,i=s._cacheIndex,r=this._nActiveActions++,n=t[r];s._cacheIndex=r,t[r]=s,n._cacheIndex=i,t[i]=n}_takeBackAction(s){const t=this._actions,i=s._cacheIndex,r=--this._nActiveActions,n=t[r];s._cacheIndex=r,t[r]=s,n._cacheIndex=i,t[i]=n}_addInactiveBinding(s,t,i){const r=this._bindingsByRootAndName,n=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=s,s._cacheIndex=n.length,n.push(s)}_removeInactiveBinding(s){const t=this._bindings,i=s.binding,r=i.rootNode.uuid,n=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],h=s._cacheIndex;l._cacheIndex=h,t[h]=l,t.pop(),delete a[n],Object.keys(a).length===0&&delete o[r]}_lendBinding(s){const t=this._bindings,i=s._cacheIndex,r=this._nActiveBindings++,n=t[r];s._cacheIndex=r,t[r]=s,n._cacheIndex=i,t[i]=n}_takeBackBinding(s){const t=this._bindings,i=s._cacheIndex,r=--this._nActiveBindings,n=t[r];s._cacheIndex=r,t[r]=s,n._cacheIndex=i,t[i]=n}_lendControlInterpolant(){const s=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=s[t];return i===void 0&&(i=new HS(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=t,s[t]=i),i}_takeBackControlInterpolant(s){const t=this._controlInterpolants,i=s.__cacheIndex,r=--this._nActiveControlInterpolants,n=t[r];s.__cacheIndex=r,t[r]=s,n.__cacheIndex=i,t[i]=n}clipAction(s,t,i){const r=t||this._root,n=r.uuid;let o=typeof s=="string"?vy.findByName(r,s):s;const a=o!==null?o.uuid:s,l=this._actionsByClip[a];let h=null;if(i===void 0&&(o!==null?i=o.blendMode:i=vI),l!==void 0){const u=l.actionByRoot[n];if(u!==void 0&&u.blendMode===i)return u;h=l.knownActions[0],o===null&&(o=h._clip)}if(o===null)return null;const c=new EX(this,o,t,i);return this._bindAction(c,h),this._addInactiveAction(c,a,n),c}existingAction(s,t){const i=t||this._root,r=i.uuid,n=typeof s=="string"?vy.findByName(i,s):s,o=n?n.uuid:s,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const s=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)s[i].stop();return this}update(s){s*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=s,n=Math.sign(s),o=this._accuIndex^=1;for(let h=0;h!==i;++h)t[h]._update(r,s,n,o);const a=this._bindings,l=this._nActiveBindings;for(let h=0;h!==l;++h)a[h].apply(o);return this}setTime(s){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(s)}getRoot(){return this._root}uncacheClip(s){const t=this._actions,i=s.uuid,r=this._actionsByClip,n=r[i];if(n!==void 0){const o=n.knownActions;for(let a=0,l=o.length;a!==l;++a){const h=o[a];this._deactivateAction(h);const c=h._cacheIndex,u=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(h)}delete r[i]}}uncacheRoot(s){const t=s.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,n=r[t];if(n!==void 0)for(const o in n){const a=n[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(s,t){const i=this.existingAction(s,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}vX.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class fd extends ic{constructor(s,t,i=1){super(s,t),this.meshPerAttribute=i}copy(s){return super.copy(s),this.meshPerAttribute=s.meshPerAttribute,this}clone(s){const t=super.clone(s);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(s){const t=super.toJSON(s);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}fd.prototype.isInstancedInterleavedBuffer=!0;class qI{constructor(s,t,i=0,r=1/0){this.ray=new ho(s,t),this.near=i,this.far=r,this.camera=null,this.layers=new iS,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(s,t){this.ray.set(s,t)}setFromCamera(s,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(s.x,s.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(s.x,s.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(s,t=!0,i=[]){return Cy(s,this,i,t),i.sort(lC),i}intersectObjects(s,t=!0,i=[]){for(let r=0,n=s.length;r<n;r++)Cy(s[r],this,i,t);return i.sort(lC),i}}function lC(e,s){return e.distance-s.distance}function Cy(e,s,t,i){if(e.layers.test(s.layers)&&e.raycast(s,t),i===!0){const r=e.children;for(let n=0,o=r.length;n<o;n++)Cy(r[n],s,t,!0)}}class CX{constructor(s=1,t=0,i=0){return this.radius=s,this.phi=t,this.theta=i,this}set(s,t,i){return this.radius=s,this.phi=t,this.theta=i,this}copy(s){return this.radius=s.radius,this.phi=s.phi,this.theta=s.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(s){return this.setFromCartesianCoords(s.x,s.y,s.z)}setFromCartesianCoords(s,t,i){return this.radius=Math.sqrt(s*s+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(s,i),this.phi=Math.acos(Ci(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const hC=new H,Ef=new H;class Es{constructor(s=new H,t=new H){this.start=s,this.end=t}set(s,t){return this.start.copy(s),this.end.copy(t),this}copy(s){return this.start.copy(s.start),this.end.copy(s.end),this}getCenter(s){return s.addVectors(this.start,this.end).multiplyScalar(.5)}delta(s){return s.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(s,t){return this.delta(t).multiplyScalar(s).add(this.start)}closestPointToPointParameter(s,t){hC.subVectors(s,this.start),Ef.subVectors(this.end,this.start);const i=Ef.dot(Ef);let n=Ef.dot(hC)/i;return t&&(n=Ci(n,0,1)),n}closestPointToPoint(s,t,i){const r=this.closestPointToPointParameter(s,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(s){return this.start.applyMatrix4(s),this.end.applyMatrix4(s),this}equals(s){return s.start.equals(this.start)&&s.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Fo=new H,vf=new rt,fg=new rt;class _X extends Fn{constructor(s){const t=KS(s),i=new _t,r=[],n=[],o=new it(0,0,1),a=new it(0,1,0);for(let h=0;h<t.length;h++){const c=t[h];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),n.push(o.r,o.g,o.b),n.push(a.r,a.g,a.b))}i.setAttribute("position",new wt(r,3)),i.setAttribute("color",new wt(n,3));const l=new bn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=s,this.bones=t,this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(s){const t=this.bones,i=this.geometry,r=i.getAttribute("position");fg.copy(this.root.matrixWorld).invert();for(let n=0,o=0;n<t.length;n++){const a=t[n];a.parent&&a.parent.isBone&&(vf.multiplyMatrices(fg,a.matrixWorld),Fo.setFromMatrixPosition(vf),r.setXYZ(o,Fo.x,Fo.y,Fo.z),vf.multiplyMatrices(fg,a.parent.matrixWorld),Fo.setFromMatrixPosition(vf),r.setXYZ(o+1,Fo.x,Fo.y,Fo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(s)}}function KS(e){const s=[];e&&e.isBone&&s.push(e);for(let t=0;t<e.children.length;t++)s.push.apply(s,KS(e.children[t]));return s}class JS extends Fn{constructor(s=10,t=10,i=4473924,r=8947848){i=new it(i),r=new it(r);const n=t/2,o=s/t,a=s/2,l=[],h=[];for(let p=0,f=0,m=-a;p<=t;p++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const g=p===n?i:r;g.toArray(h,f),f+=3,g.toArray(h,f),f+=3,g.toArray(h,f),f+=3,g.toArray(h,f),f+=3}const c=new _t;c.setAttribute("position",new wt(l,3)),c.setAttribute("color",new wt(h,3));const u=new bn({vertexColors:!0,toneMapped:!1});super(c,u),this.type="GridHelper"}}class wX extends Fn{constructor(s=1){const t=[0,0,0,s,0,0,0,0,0,0,s,0,0,0,0,0,0,s],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new _t;r.setAttribute("position",new wt(t,3)),r.setAttribute("color",new wt(i,3));const n=new bn({vertexColors:!0,toneMapped:!1});super(r,n),this.type="AxesHelper"}setColors(s,t,i){const r=new it,n=this.geometry.attributes.color.array;return r.set(s),r.toArray(n,0),r.toArray(n,3),r.set(t),r.toArray(n,6),r.toArray(n,9),r.set(i),r.toArray(n,12),r.toArray(n,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const SX=new Float32Array(1);new Int32Array(SX.buffer);Or.create=function(e,s){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Or.prototype),e.prototype.constructor=e,e.prototype.getPoint=s,e};yy.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)};JS.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};_X.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Pn.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),qo.extractUrlBase(e)};Pn.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};gs.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)};gs.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};gs.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)};gs.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)};gs.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)};Mr.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};sm.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};Es.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Ks.prototype.flattenToArrayOffset=function(e,s){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,s)};Ks.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)};Ks.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Ks.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)};Ks.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Ks.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()};rt.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)};rt.prototype.flattenToArrayOffset=function(e,s){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,s)};rt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new H().setFromMatrixColumn(this,3)};rt.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)};rt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};rt.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)};rt.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)};rt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};rt.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)};rt.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)};rt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};rt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};rt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};rt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};rt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};rt.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)};rt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};rt.prototype.makeFrustum=function(e,s,t,i,r,n){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,s,i,t,r,n)};rt.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()};Bi.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};Ts.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)};Ts.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};ho.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)};ho.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)};ho.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)};xs.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};xs.prototype.barycoordFromPoint=function(e,s){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,s)};xs.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)};xs.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)};xs.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)};xs.barycoordFromPoint=function(e,s,t,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),xs.getBarycoord(e,s,t,i,r)};xs.normal=function(e,s,t,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),xs.getNormal(e,s,t,i)};tp.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)};tp.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new rc(this,e)};tp.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new kI(this,e)};Re.prototype.fromAttribute=function(e,s,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,s,t)};Re.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)};Re.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};H.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};H.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};H.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)};H.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)};H.prototype.getColumnFromMatrix=function(e,s){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(s,e)};H.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)};H.prototype.fromAttribute=function(e,s,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,s,t)};H.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)};H.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Qt.prototype.fromAttribute=function(e,s,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,s,t)};Qt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};jt.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)};jt.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};jt.prototype.translate=function(e,s){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(s,e)};jt.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};jt.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)};Object.defineProperties(jt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Qe.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Qe.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),ck},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});AI.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};ui.prototype.setLens=function(e,s){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),s!==void 0&&(this.filmGauge=s),this.setFocalLength(e)};Object.defineProperties(Cn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(Rt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Du},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Du)}}});Rt.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Du:Ou),this};Rt.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Rt.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};_t.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)};_t.prototype.addAttribute=function(e,s){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(s&&s.isBufferAttribute)&&!(s&&s.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Rt(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(s),this):this.setAttribute(e,s)};_t.prototype.addDrawCall=function(e,s,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,s)};_t.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};_t.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};_t.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)};_t.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)};Object.defineProperties(_t.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});ic.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Du:Ou),this};ic.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};rc.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};rc.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};rc.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Lu.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(Ws.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new it}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===Vw}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(Zs.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});is.prototype.clearTarget=function(e,s,t,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(s,t,i)};is.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)};is.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};is.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};is.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};is.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};is.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};is.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};is.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};is.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};is.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};is.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};is.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};is.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};is.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)};is.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};is.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};is.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};is.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};is.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};is.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};is.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};is.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};is.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};is.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(is.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?tl:Qi}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(vS.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(zs.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});hX.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const s=this;return new oX().load(e,function(i){s.setBuffer(i)}),this};bI.prototype.updateCubeMap=function(e,s){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,s)};bI.prototype.clear=function(e,s,t,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,s,t,i)};ec.crossOrigin=void 0;ec.loadTexture=function(e,s,t,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new kS;r.setCrossOrigin(this.crossOrigin);const n=r.load(e,t,void 0,i);return s&&(n.mapping=s),n};ec.loadTextureCube=function(e,s,t,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new sX;r.setCrossOrigin(this.crossOrigin);const n=r.load(e,t,void 0,i);return s&&(n.mapping=s),n};ec.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ec.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:yI}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=yI);const Sa=new qI,Gi=new H,Ro=new H,_s=new Ts,cC={X:new H(1,0,0),Y:new H(0,1,0),Z:new H(0,0,1)},uC={type:"change"},pC={type:"mouseDown"},fC={type:"mouseUp",mode:null},xX={type:"objectChange"};class ex extends jt{constructor(s,t){super(),t===void 0&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),this.visible=!1,this.domElement=t,this.domElement.style.touchAction="none";const i=new tx;this._gizmo=i,this.add(i);const r=new sx;this._plane=r,this.add(r);const n=this;function o(E,S){let x=S;Object.defineProperty(n,E,{get:function(){return x!==void 0?x:S},set:function(F){x!==F&&(x=F,r[E]=F,i[E]=F,n.dispatchEvent({type:E+"-changed",value:F}),n.dispatchEvent(uC))}}),n[E]=S,r[E]=S,i[E]=S}o("camera",s),o("object",void 0),o("enabled",!0),o("axis",null),o("mode","translate"),o("translationSnap",null),o("rotationSnap",null),o("scaleSnap",null),o("space","world"),o("size",1),o("dragging",!1),o("showX",!0),o("showY",!0),o("showZ",!0);const a=new H,l=new H,h=new Ts,c=new Ts,u=new H,p=new Ts,f=new H,m=new H,g=new H,C=0,I=new H;o("worldPosition",a),o("worldPositionStart",l),o("worldQuaternion",h),o("worldQuaternionStart",c),o("cameraPosition",u),o("cameraQuaternion",p),o("pointStart",f),o("pointEnd",m),o("rotationAxis",g),o("rotationAngle",C),o("eye",I),this._offset=new H,this._startNorm=new H,this._endNorm=new H,this._cameraScale=new H,this._parentPosition=new H,this._parentQuaternion=new Ts,this._parentQuaternionInv=new Ts,this._parentScale=new H,this._worldScaleStart=new H,this._worldQuaternionInv=new Ts,this._worldScale=new H,this._positionStart=new H,this._quaternionStart=new Ts,this._scaleStart=new H,this._getPointer=bX.bind(this),this._onPointerDown=RX.bind(this),this._onPointerHover=FX.bind(this),this._onPointerMove=PX.bind(this),this._onPointerUp=AX.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(s){if(this.object===void 0||this.dragging===!0)return;Sa.setFromCamera(s,this.camera);const t=dg(this._gizmo.picker[this.mode],Sa);t?this.axis=t.object.name:this.axis=null}pointerDown(s){if(!(this.object===void 0||this.dragging===!0||s.button!==0)&&this.axis!==null){Sa.setFromCamera(s,this.camera);const t=dg(this._plane,Sa,!0);t&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)),this.dragging=!0,pC.mode=this.mode,this.dispatchEvent(pC)}}pointerMove(s){const t=this.axis,i=this.mode,r=this.object;let n=this.space;if(i==="scale"?n="local":(t==="E"||t==="XYZE"||t==="XYZ")&&(n="world"),r===void 0||t===null||this.dragging===!1||s.button!==-1)return;Sa.setFromCamera(s,this.camera);const o=dg(this._plane,Sa,!0);if(!!o){if(this.pointEnd.copy(o.point).sub(this.worldPositionStart),i==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),n==="local"&&t!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),t.indexOf("X")===-1&&(this._offset.x=0),t.indexOf("Y")===-1&&(this._offset.y=0),t.indexOf("Z")===-1&&(this._offset.z=0),n==="local"&&t!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),r.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(n==="local"&&(r.position.applyQuaternion(_s.copy(this._quaternionStart).invert()),t.search("X")!==-1&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),t.search("Y")!==-1&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),t.search("Z")!==-1&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.position.applyQuaternion(this._quaternionStart)),n==="world"&&(r.parent&&r.position.add(Gi.setFromMatrixPosition(r.parent.matrixWorld)),t.search("X")!==-1&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),t.search("Y")!==-1&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),t.search("Z")!==-1&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.parent&&r.position.sub(Gi.setFromMatrixPosition(r.parent.matrixWorld))));else if(i==="scale"){if(t.search("XYZ")!==-1){let a=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(a*=-1),Ro.set(a,a,a)}else Gi.copy(this.pointStart),Ro.copy(this.pointEnd),Gi.applyQuaternion(this._worldQuaternionInv),Ro.applyQuaternion(this._worldQuaternionInv),Ro.divide(Gi),t.search("X")===-1&&(Ro.x=1),t.search("Y")===-1&&(Ro.y=1),t.search("Z")===-1&&(Ro.z=1);r.scale.copy(this._scaleStart).multiply(Ro),this.scaleSnap&&(t.search("X")!==-1&&(r.scale.x=Math.round(r.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search("Y")!==-1&&(r.scale.y=Math.round(r.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search("Z")!==-1&&(r.scale.z=Math.round(r.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(i==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const a=20/this.worldPosition.distanceTo(Gi.setFromMatrixPosition(this.camera.matrixWorld));t==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):t==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(Gi.copy(this.rotationAxis).cross(this.eye))*a):(t==="X"||t==="Y"||t==="Z")&&(this.rotationAxis.copy(cC[t]),Gi.copy(cC[t]),n==="local"&&Gi.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(Gi.cross(this.eye).normalize())*a),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),n==="local"&&t!=="E"&&t!=="XYZE"?(r.quaternion.copy(this._quaternionStart),r.quaternion.multiply(_s.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),r.quaternion.copy(_s.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),r.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(uC),this.dispatchEvent(xX)}}pointerUp(s){s.button===0&&(this.dragging&&this.axis!==null&&(fC.mode=this.mode,this.dispatchEvent(fC)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse(function(s){s.geometry&&s.geometry.dispose(),s.material&&s.material.dispose()})}attach(s){return this.object=s,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}getRaycaster(){return Sa}getMode(){return this.mode}setMode(s){this.mode=s}setTranslationSnap(s){this.translationSnap=s}setRotationSnap(s){this.rotationSnap=s}setScaleSnap(s){this.scaleSnap=s}setSize(s){this.size=s}setSpace(s){this.space=s}update(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}}ex.prototype.isTransformControls=!0;function bX(e){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};{const s=this.domElement.getBoundingClientRect();return{x:(e.clientX-s.left)/s.width*2-1,y:-(e.clientY-s.top)/s.height*2+1,button:e.button}}}function FX(e){if(!!this.enabled)switch(e.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(e));break}}function RX(e){!this.enabled||(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(e)),this.pointerDown(this._getPointer(e)))}function PX(e){!this.enabled||this.pointerMove(this._getPointer(e))}function AX(e){!this.enabled||(this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(e)))}function dg(e,s,t){const i=s.intersectObject(e,!0);for(let r=0;r<i.length;r++)if(i[r].object.visible||t)return i[r];return!1}const Cf=new ul,hs=new H(0,1,0),dC=new H(0,0,0),mC=new rt,_f=new Ts,$f=new Ts,nn=new H,TC=new rt,su=new H(1,0,0),La=new H(0,1,0),iu=new H(0,0,1),wf=new H,Bc=new H,kc=new H;class tx extends jt{constructor(){super(),this.type="TransformControlsGizmo";const s=new wi({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),t=new bn({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),i=s.clone();i.opacity=.15;const r=t.clone();r.opacity=.5;const n=s.clone();n.color.setHex(16711680);const o=s.clone();o.color.setHex(65280);const a=s.clone();a.color.setHex(255);const l=s.clone();l.color.setHex(16711680),l.opacity=.5;const h=s.clone();h.color.setHex(65280),h.opacity=.5;const c=s.clone();c.color.setHex(255),c.opacity=.5;const u=s.clone();u.opacity=.25;const p=s.clone();p.color.setHex(16776960),p.opacity=.25,s.clone().color.setHex(16776960);const m=s.clone();m.color.setHex(7895160);const g=new Qs(0,.04,.1,12);g.translate(0,.05,0);const C=new Ls(.08,.08,.08);C.translate(0,.04,0);const I=new _t;I.setAttribute("position",new wt([0,0,0,1,0,0],3));const E=new Qs(.0075,.0075,.5,3);E.translate(0,.25,0);function S(te,ee){const J=new Va(te,.0075,3,64,ee*Math.PI*2);return J.rotateY(Math.PI/2),J.rotateX(Math.PI/2),J}function x(){const te=new _t;return te.setAttribute("position",new wt([0,0,0,1,1,1],3)),te}const F={X:[[new Qe(g,n),[.5,0,0],[0,0,-Math.PI/2]],[new Qe(g,n),[-.5,0,0],[0,0,Math.PI/2]],[new Qe(E,n),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new Qe(g,o),[0,.5,0]],[new Qe(g,o),[0,-.5,0],[Math.PI,0,0]],[new Qe(E,o)]],Z:[[new Qe(g,a),[0,0,.5],[Math.PI/2,0,0]],[new Qe(g,a),[0,0,-.5],[-Math.PI/2,0,0]],[new Qe(E,a),null,[Math.PI/2,0,0]]],XYZ:[[new Qe(new yh(.1,0),u.clone()),[0,0,0]]],XY:[[new Qe(new Ls(.15,.15,.01),c.clone()),[.15,.15,0]]],YZ:[[new Qe(new Ls(.15,.15,.01),l.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Qe(new Ls(.15,.15,.01),h.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},O={X:[[new Qe(new Qs(.2,0,.6,4),i),[.3,0,0],[0,0,-Math.PI/2]],[new Qe(new Qs(.2,0,.6,4),i),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Qe(new Qs(.2,0,.6,4),i),[0,.3,0]],[new Qe(new Qs(.2,0,.6,4),i),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Qe(new Qs(.2,0,.6,4),i),[0,0,.3],[Math.PI/2,0,0]],[new Qe(new Qs(.2,0,.6,4),i),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new Qe(new yh(.2,0),i)]],XY:[[new Qe(new Ls(.2,.2,.01),i),[.15,.15,0]]],YZ:[[new Qe(new Ls(.2,.2,.01),i),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Qe(new Ls(.2,.2,.01),i),[.15,0,.15],[-Math.PI/2,0,0]]]},R={START:[[new Qe(new yh(.01,2),r),null,null,null,"helper"]],END:[[new Qe(new yh(.01,2),r),null,null,null,"helper"]],DELTA:[[new Ai(x(),r),null,null,null,"helper"]],X:[[new Ai(I,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Ai(I,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Ai(I,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},L={XYZE:[[new Qe(S(.5,1),m),null,[0,Math.PI/2,0]]],X:[[new Qe(S(.5,.5),n)]],Y:[[new Qe(S(.5,.5),o),null,[0,0,-Math.PI/2]]],Z:[[new Qe(S(.5,.5),a),null,[0,Math.PI/2,0]]],E:[[new Qe(S(.75,1),p),null,[0,Math.PI/2,0]]]},G={AXIS:[[new Ai(I,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},V={XYZE:[[new Qe(new VI(.25,10,8),i)]],X:[[new Qe(new Va(.5,.1,4,24),i),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Qe(new Va(.5,.1,4,24),i),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Qe(new Va(.5,.1,4,24),i),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Qe(new Va(.75,.1,2,24),i)]]},B={X:[[new Qe(C,n),[.5,0,0],[0,0,-Math.PI/2]],[new Qe(E,n),[0,0,0],[0,0,-Math.PI/2]],[new Qe(C,n),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new Qe(C,o),[0,.5,0]],[new Qe(E,o)],[new Qe(C,o),[0,-.5,0],[0,0,Math.PI]]],Z:[[new Qe(C,a),[0,0,.5],[Math.PI/2,0,0]],[new Qe(E,a),[0,0,0],[Math.PI/2,0,0]],[new Qe(C,a),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new Qe(new Ls(.15,.15,.01),c),[.15,.15,0]]],YZ:[[new Qe(new Ls(.15,.15,.01),l),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Qe(new Ls(.15,.15,.01),h),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Qe(new Ls(.1,.1,.1),u.clone())]]},oe={X:[[new Qe(new Qs(.2,0,.6,4),i),[.3,0,0],[0,0,-Math.PI/2]],[new Qe(new Qs(.2,0,.6,4),i),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Qe(new Qs(.2,0,.6,4),i),[0,.3,0]],[new Qe(new Qs(.2,0,.6,4),i),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Qe(new Qs(.2,0,.6,4),i),[0,0,.3],[Math.PI/2,0,0]],[new Qe(new Qs(.2,0,.6,4),i),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new Qe(new Ls(.2,.2,.01),i),[.15,.15,0]]],YZ:[[new Qe(new Ls(.2,.2,.01),i),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Qe(new Ls(.2,.2,.01),i),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Qe(new Ls(.2,.2,.2),i),[0,0,0]]]},$={X:[[new Ai(I,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Ai(I,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Ai(I,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function Z(te){const ee=new jt;for(const J in te)for(let ie=te[J].length;ie--;){const re=te[J][ie][0].clone(),ae=te[J][ie][1],le=te[J][ie][2],me=te[J][ie][3],Te=te[J][ie][4];re.name=J,re.tag=Te,ae&&re.position.set(ae[0],ae[1],ae[2]),le&&re.rotation.set(le[0],le[1],le[2]),me&&re.scale.set(me[0],me[1],me[2]),re.updateMatrix();const Ce=re.geometry.clone();Ce.applyMatrix4(re.matrix),re.geometry=Ce,re.renderOrder=1/0,re.position.set(0,0,0),re.rotation.set(0,0,0),re.scale.set(1,1,1),ee.add(re)}return ee}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=Z(F)),this.add(this.gizmo.rotate=Z(L)),this.add(this.gizmo.scale=Z(B)),this.add(this.picker.translate=Z(O)),this.add(this.picker.rotate=Z(V)),this.add(this.picker.scale=Z(oe)),this.add(this.helper.translate=Z(R)),this.add(this.helper.rotate=Z(G)),this.add(this.helper.scale=Z($)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(s){const i=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:$f;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let r=[];r=r.concat(this.picker[this.mode].children),r=r.concat(this.gizmo[this.mode].children),r=r.concat(this.helper[this.mode].children);for(let n=0;n<r.length;n++){const o=r[n];o.visible=!0,o.rotation.set(0,0,0),o.position.copy(this.worldPosition);let a;if(this.camera.isOrthographicCamera?a=(this.camera.top-this.camera.bottom)/this.camera.zoom:a=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),o.scale.set(1,1,1).multiplyScalar(a*this.size/4),o.tag==="helper"){o.visible=!1,o.name==="AXIS"?(o.position.copy(this.worldPositionStart),o.visible=!!this.axis,this.axis==="X"&&(_s.setFromEuler(Cf.set(0,0,0)),o.quaternion.copy(i).multiply(_s),Math.abs(hs.copy(su).applyQuaternion(i).dot(this.eye))>.9&&(o.visible=!1)),this.axis==="Y"&&(_s.setFromEuler(Cf.set(0,0,Math.PI/2)),o.quaternion.copy(i).multiply(_s),Math.abs(hs.copy(La).applyQuaternion(i).dot(this.eye))>.9&&(o.visible=!1)),this.axis==="Z"&&(_s.setFromEuler(Cf.set(0,Math.PI/2,0)),o.quaternion.copy(i).multiply(_s),Math.abs(hs.copy(iu).applyQuaternion(i).dot(this.eye))>.9&&(o.visible=!1)),this.axis==="XYZE"&&(_s.setFromEuler(Cf.set(0,Math.PI/2,0)),hs.copy(this.rotationAxis),o.quaternion.setFromRotationMatrix(mC.lookAt(dC,hs,La)),o.quaternion.multiply(_s),o.visible=this.dragging),this.axis==="E"&&(o.visible=!1)):o.name==="START"?(o.position.copy(this.worldPositionStart),o.visible=this.dragging):o.name==="END"?(o.position.copy(this.worldPosition),o.visible=this.dragging):o.name==="DELTA"?(o.position.copy(this.worldPositionStart),o.quaternion.copy(this.worldQuaternionStart),Gi.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),Gi.applyQuaternion(this.worldQuaternionStart.clone().invert()),o.scale.copy(Gi),o.visible=this.dragging):(o.quaternion.copy(i),this.dragging?o.position.copy(this.worldPositionStart):o.position.copy(this.worldPosition),this.axis&&(o.visible=this.axis.search(o.name)!==-1));continue}o.quaternion.copy(i),this.mode==="translate"||this.mode==="scale"?(o.name==="X"&&Math.abs(hs.copy(su).applyQuaternion(i).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="Y"&&Math.abs(hs.copy(La).applyQuaternion(i).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="Z"&&Math.abs(hs.copy(iu).applyQuaternion(i).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="XY"&&Math.abs(hs.copy(iu).applyQuaternion(i).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="YZ"&&Math.abs(hs.copy(su).applyQuaternion(i).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="XZ"&&Math.abs(hs.copy(La).applyQuaternion(i).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1)):this.mode==="rotate"&&(_f.copy(i),hs.copy(this.eye).applyQuaternion(_s.copy(i).invert()),o.name.search("E")!==-1&&o.quaternion.setFromRotationMatrix(mC.lookAt(this.eye,dC,La)),o.name==="X"&&(_s.setFromAxisAngle(su,Math.atan2(-hs.y,hs.z)),_s.multiplyQuaternions(_f,_s),o.quaternion.copy(_s)),o.name==="Y"&&(_s.setFromAxisAngle(La,Math.atan2(hs.x,hs.z)),_s.multiplyQuaternions(_f,_s),o.quaternion.copy(_s)),o.name==="Z"&&(_s.setFromAxisAngle(iu,Math.atan2(hs.y,hs.x)),_s.multiplyQuaternions(_f,_s),o.quaternion.copy(_s))),o.visible=o.visible&&(o.name.indexOf("X")===-1||this.showX),o.visible=o.visible&&(o.name.indexOf("Y")===-1||this.showY),o.visible=o.visible&&(o.name.indexOf("Z")===-1||this.showZ),o.visible=o.visible&&(o.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),o.material._color=o.material._color||o.material.color.clone(),o.material._opacity=o.material._opacity||o.material.opacity,o.material.color.copy(o.material._color),o.material.opacity=o.material._opacity,this.enabled&&this.axis&&(o.name===this.axis||this.axis.split("").some(function(l){return o.name===l}))&&(o.material.color.setHex(16776960),o.material.opacity=1)}super.updateMatrixWorld(s)}}tx.prototype.isTransformControlsGizmo=!0;class sx extends Qe{constructor(){super(new tc(1e5,1e5,2,2),new wi({visible:!1,wireframe:!0,side:qi,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane"}updateMatrixWorld(s){let t=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(t="local"),wf.copy(su).applyQuaternion(t==="local"?this.worldQuaternion:$f),Bc.copy(La).applyQuaternion(t==="local"?this.worldQuaternion:$f),kc.copy(iu).applyQuaternion(t==="local"?this.worldQuaternion:$f),hs.copy(Bc),this.mode){case"translate":case"scale":switch(this.axis){case"X":hs.copy(this.eye).cross(wf),nn.copy(wf).cross(hs);break;case"Y":hs.copy(this.eye).cross(Bc),nn.copy(Bc).cross(hs);break;case"Z":hs.copy(this.eye).cross(kc),nn.copy(kc).cross(hs);break;case"XY":nn.copy(kc);break;case"YZ":nn.copy(wf);break;case"XZ":hs.copy(kc),nn.copy(Bc);break;case"XYZ":case"E":nn.set(0,0,0);break}break;case"rotate":default:nn.set(0,0,0)}nn.length()===0?this.quaternion.copy(this.cameraQuaternion):(TC.lookAt(Gi.set(0,0,0),nn,hs),this.quaternion.setFromRotationMatrix(TC)),super.updateMatrixWorld(s)}}sx.prototype.isTransformControlsPlane=!0;const gC=new gs,Sf=new H;class QI extends QS{constructor(){super(),this.type="LineSegmentsGeometry";const s=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],i=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(i),this.setAttribute("position",new wt(s,3)),this.setAttribute("uv",new wt(t,2))}applyMatrix4(s){const t=this.attributes.instanceStart,i=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(s),i.applyMatrix4(s),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(s){let t;s instanceof Float32Array?t=s:Array.isArray(s)&&(t=new Float32Array(s));const i=new fd(t,6,1);return this.setAttribute("instanceStart",new xr(i,3,0)),this.setAttribute("instanceEnd",new xr(i,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(s){let t;s instanceof Float32Array?t=s:Array.isArray(s)&&(t=new Float32Array(s));const i=new fd(t,6,1);return this.setAttribute("instanceColorStart",new xr(i,3,0)),this.setAttribute("instanceColorEnd",new xr(i,3,3)),this}fromWireframeGeometry(s){return this.setPositions(s.attributes.position.array),this}fromEdgesGeometry(s){return this.setPositions(s.attributes.position.array),this}fromMesh(s){return this.fromWireframeGeometry(new zY(s.geometry)),this}fromLineSegments(s){const t=s.geometry;if(t.isGeometry){console.error("THREE.LineSegmentsGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.");return}else t.isBufferGeometry&&this.setPositions(t.attributes.position.array);return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new gs);const s=this.attributes.instanceStart,t=this.attributes.instanceEnd;s!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(s),gC.setFromBufferAttribute(t),this.boundingBox.union(gC))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Mr),this.boundingBox===null&&this.computeBoundingBox();const s=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(s!==void 0&&t!==void 0){const i=this.boundingSphere.center;this.boundingBox.getCenter(i);let r=0;for(let n=0,o=s.count;n<o;n++)Sf.fromBufferAttribute(s,n),r=Math.max(r,i.distanceToSquared(Sf)),Sf.fromBufferAttribute(t,n),r=Math.max(r,i.distanceToSquared(Sf));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(s){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(s)}}QI.prototype.isLineSegmentsGeometry=!0;st.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Re(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};ki.line={uniforms:Kn.merge([st.common,st.fog,st.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				// get the offset direction as perpendicular to the view vector
				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 offset;
				if ( position.y < 0.5 ) {

					offset = normalize( cross( start.xyz, worldDir ) );

				} else {

					offset = normalize( cross( end.xyz, worldDir ) );

				}

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// extend the line bounds to encompass  endcaps
					start.xyz += - worldDir * linewidth * 0.5;
					end.xyz += worldDir * linewidth * 0.5;

					// shift the position of the quad so it hugs the forward edge of the line
					offset.xy -= dir * forwardOffset;
					offset.z += 0.5;

				#endif

				// endcaps
				if ( position.y > 1.0 || position.y < 0.0 ) {

					offset.xy += dir * 2.0 * forwardOffset;

				}

				// adjust for linewidth
				offset *= linewidth * 0.5;

				// set the world position
				worldPos = ( position.y < 0.5 ) ? start : end;
				worldPos.xyz += offset;

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segements overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <encodings_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class Vu extends Zs{constructor(s){super({type:"LineMaterial",uniforms:Kn.clone(ki.line.uniforms),vertexShader:ki.line.vertexShader,fragmentShader:ki.line.fragmentShader,clipping:!0}),Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set(t){Boolean(t)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)},set:function(t){Boolean(t)!==Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),t===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(s)}}Vu.prototype.isLineMaterial=!0;const yC=new H,IC=new H,ai=new Qt,li=new Qt,on=new Qt,mg=new H,Tg=new rt,Cr=new Es,EC=new H,zn=new gs,xf=new Mr,an=new Qt;function vC(e,s,t,i){return an.set(0,0,-s,1).applyMatrix4(e.projectionMatrix),an.multiplyScalar(1/an.w),an.x=t/i.width,an.y=t/i.height,an.applyMatrix4(e.projectionMatrixInverse),an.multiplyScalar(1/an.w),Math.abs(Math.max(an.x,an.y))}class ix extends Qe{constructor(s=new QI,t=new Vu({color:Math.random()*16777215})){super(s,t),this.type="LineSegments2"}computeLineDistances(){const s=this.geometry,t=s.attributes.instanceStart,i=s.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let o=0,a=0,l=t.count;o<l;o++,a+=2)yC.fromBufferAttribute(t,o),IC.fromBufferAttribute(i,o),r[a]=a===0?0:r[a-1],r[a+1]=r[a]+yC.distanceTo(IC);const n=new fd(r,2,1);return s.setAttribute("instanceDistanceStart",new xr(n,1,0)),s.setAttribute("instanceDistanceEnd",new xr(n,1,1)),this}raycast(s,t){s.camera===null&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');const i=s.params.Line2!==void 0&&s.params.Line2.threshold||0,r=s.ray,n=s.camera,o=n.projectionMatrix,a=this.matrixWorld,l=this.geometry,h=this.material,c=h.resolution,u=h.linewidth+i,p=l.attributes.instanceStart,f=l.attributes.instanceEnd,m=-n.near;l.boundingSphere===null&&l.computeBoundingSphere(),xf.copy(l.boundingSphere).applyMatrix4(a);const g=Math.max(n.near,xf.distanceToPoint(r.origin)),C=vC(n,g,u,c);if(xf.radius+=C,s.ray.intersectsSphere(xf)===!1)return;l.boundingBox===null&&l.computeBoundingBox(),zn.copy(l.boundingBox).applyMatrix4(a);const I=Math.max(n.near,zn.distanceToPoint(r.origin)),E=vC(n,I,u,c);if(zn.max.x+=E,zn.max.y+=E,zn.max.z+=E,zn.min.x-=E,zn.min.y-=E,zn.min.z-=E,s.ray.intersectsBox(zn)!==!1){r.at(1,on),on.w=1,on.applyMatrix4(n.matrixWorldInverse),on.applyMatrix4(o),on.multiplyScalar(1/on.w),on.x*=c.x/2,on.y*=c.y/2,on.z=0,mg.copy(on),Tg.multiplyMatrices(n.matrixWorldInverse,a);for(let x=0,F=p.count;x<F;x++){ai.fromBufferAttribute(p,x),li.fromBufferAttribute(f,x),ai.w=1,li.w=1,ai.applyMatrix4(Tg),li.applyMatrix4(Tg);var S=ai.z>m&&li.z>m;if(S)continue;if(ai.z>m){const V=ai.z-li.z,B=(ai.z-m)/V;ai.lerp(li,B)}else if(li.z>m){const V=li.z-ai.z,B=(li.z-m)/V;li.lerp(ai,B)}ai.applyMatrix4(o),li.applyMatrix4(o),ai.multiplyScalar(1/ai.w),li.multiplyScalar(1/li.w),ai.x*=c.x/2,ai.y*=c.y/2,li.x*=c.x/2,li.y*=c.y/2,Cr.start.copy(ai),Cr.start.z=0,Cr.end.copy(li),Cr.end.z=0;const O=Cr.closestPointToPointParameter(mg,!0);Cr.at(O,EC);const R=sl.lerp(ai.z,li.z,O),L=R>=-1&&R<=1,G=mg.distanceTo(EC)<u*.5;if(L&&G){Cr.start.fromBufferAttribute(p,x),Cr.end.fromBufferAttribute(f,x),Cr.start.applyMatrix4(a),Cr.end.applyMatrix4(a);const V=new H,B=new H;r.distanceSqToSegment(Cr.start,Cr.end,B,V),t.push({point:B,pointOnLine:V,distance:r.origin.distanceTo(B),object:this,face:null,faceIndex:x,uv:null,uv2:null})}}}}}ix.prototype.isLineSegments2=!0;var OX=Object.defineProperty,CC=Object.getOwnPropertySymbols,DX=Object.prototype.hasOwnProperty,MX=Object.prototype.propertyIsEnumerable,_C=(e,s,t)=>s in e?OX(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,dd=(e,s)=>{for(var t in s||(s={}))DX.call(s,t)&&_C(e,t,s[t]);if(CC)for(var t of CC(s))MX.call(s,t)&&_C(e,t,s[t]);return e},Ii=e=>{if(typeof require<"u")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')},$I=(e,s)=>function(){return s||(0,e[Object.keys(e)[0]])((s={exports:{}}).exports,s),s.exports},Ui=(e,s,t)=>new Promise((i,r)=>{var n=l=>{try{a(t.next(l))}catch(h){r(h)}},o=l=>{try{a(t.throw(l))}catch(h){r(h)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(n,o);a((t=t.apply(e,s)).next())}),rx=$I({"(disabled):crypto"(){}}),NX=$I({"dist/web-ifc-mt.js"(e,s){var t=function(){var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(r){r=r||{};function n(){return Te.buffer!=de&&tt(Te.buffer),Pe}function o(){return Te.buffer!=de&&tt(Te.buffer),He}function a(){return Te.buffer!=de&&tt(Te.buffer),he}function l(){return Te.buffer!=de&&tt(Te.buffer),Ge}function h(){return Te.buffer!=de&&tt(Te.buffer),xe}function c(){return Te.buffer!=de&&tt(Te.buffer),Ve}function u(){return Te.buffer!=de&&tt(Te.buffer),qe}function p(){return Te.buffer!=de&&tt(Te.buffer),at}var f=typeof r<"u"?r:{},m,g;f.ready=new Promise(function(d,T){m=d,g=T});var C={},I;for(I in f)f.hasOwnProperty(I)&&(C[I]=f[I]);var E="./this.program",S=function(d,T){throw T},x=typeof window=="object",F=typeof importScripts=="function",O=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",R=f.ENVIRONMENT_IS_PTHREAD||!1,L="";function G(d){return f.locateFile?f.locateFile(d,L):L+d}var V,B,oe,$,Z;if(O){F?L=Ii("path").dirname(L)+"/":L=__dirname+"/",V=function(T,_){return $||($=Ii("fs")),Z||(Z=Ii("path")),T=Z.normalize(T),$.readFileSync(T,_?null:"utf8")},oe=function(T){var _=V(T,!0);return _.buffer||(_=new Uint8Array(_)),ye(_.buffer),_},B=function(T,_,P){$||($=Ii("fs")),Z||(Z=Ii("path")),T=Z.normalize(T),$.readFile(T,function(N,j){N?P(N):_(j.buffer)})},process.argv.length>1&&(E=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(d){if(!(d instanceof Bl))throw d}),process.on("unhandledRejection",fe),S=function(d,T){if(On())throw process.exitCode=d,T;process.exit(d)},f.inspect=function(){return"[Emscripten Module object]"};var te;try{te=Ii("worker_threads")}catch(d){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),d}global.Worker=te.Worker}else(x||F)&&(F?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),i&&(L=i),L.indexOf("blob:")!==0?L=L.substr(0,L.lastIndexOf("/")+1):L="",O?(V=function(T,_){return $||($=Ii("fs")),Z||(Z=Ii("path")),T=Z.normalize(T),$.readFileSync(T,_?null:"utf8")},oe=function(T){var _=V(T,!0);return _.buffer||(_=new Uint8Array(_)),ye(_.buffer),_},B=function(T,_,P){$||($=Ii("fs")),Z||(Z=Ii("path")),T=Z.normalize(T),$.readFile(T,function(N,j){N?P(N):_(j.buffer)})}):(V=function(d){var T=new XMLHttpRequest;return T.open("GET",d,!1),T.send(null),T.responseText},F&&(oe=function(d){var T=new XMLHttpRequest;return T.open("GET",d,!1),T.responseType="arraybuffer",T.send(null),new Uint8Array(T.response)}),B=function(d,T,_){var P=new XMLHttpRequest;P.open("GET",d,!0),P.responseType="arraybuffer",P.onload=function(){if(P.status==200||P.status==0&&P.response){T(P.response);return}_()},P.onerror=_,P.send(null)}));O&&typeof performance>"u"&&(global.performance=Ii("perf_hooks").performance);var ee=f.print||console.log.bind(console),J=f.printErr||console.warn.bind(console);for(I in C)C.hasOwnProperty(I)&&(f[I]=C[I]);C=null,f.arguments&&f.arguments,f.thisProgram&&(E=f.thisProgram),f.quit&&(S=f.quit);var ie=16;function re(d,T){return T||(T=ie),Math.ceil(d/T)*T}function ae(d){ae.shown||(ae.shown={}),ae.shown[d]||(ae.shown[d]=1,J(d))}var le;f.wasmBinary&&(le=f.wasmBinary);var me=f.noExitRuntime||!0;typeof WebAssembly!="object"&&fe("no native wasm support detected");var Te,Ce,Ue=!1;function ye(d,T){d||fe("Assertion failed: "+T)}function Be(d){var T=new TextDecoder(d);this.decode=function(_){return _.buffer instanceof SharedArrayBuffer&&(_=new Uint8Array(_)),T.decode.call(T,_)}}var Ze=typeof TextDecoder<"u"?new Be("utf8"):void 0;function ke(d,T,_){T>>>=0;for(var P=T+_,N=T;d[N>>>0]&&!(N>=P);)++N;if(N-T>16&&d.subarray&&Ze)return Ze.decode(d.subarray(T>>>0,N>>>0));for(var j="";T<N;){var W=d[T++>>>0];if(!(W&128)){j+=String.fromCharCode(W);continue}var se=d[T++>>>0]&63;if((W&224)==192){j+=String.fromCharCode((W&31)<<6|se);continue}var ce=d[T++>>>0]&63;if((W&240)==224?W=(W&15)<<12|se<<6|ce:W=(W&7)<<18|se<<12|ce<<6|d[T++>>>0]&63,W<65536)j+=String.fromCharCode(W);else{var _e=W-65536;j+=String.fromCharCode(55296|_e>>10,56320|_e&1023)}}return j}function Ne(d,T){return d>>>=0,d?ke(o(),d,T):""}function ct(d,T,_,P){if(_>>>=0,!(P>0))return 0;for(var N=_,j=_+P-1,W=0;W<d.length;++W){var se=d.charCodeAt(W);if(se>=55296&&se<=57343){var ce=d.charCodeAt(++W);se=65536+((se&1023)<<10)|ce&1023}if(se<=127){if(_>=j)break;T[_++>>>0]=se}else if(se<=2047){if(_+1>=j)break;T[_++>>>0]=192|se>>6,T[_++>>>0]=128|se&63}else if(se<=65535){if(_+2>=j)break;T[_++>>>0]=224|se>>12,T[_++>>>0]=128|se>>6&63,T[_++>>>0]=128|se&63}else{if(_+3>=j)break;T[_++>>>0]=240|se>>18,T[_++>>>0]=128|se>>12&63,T[_++>>>0]=128|se>>6&63,T[_++>>>0]=128|se&63}}return T[_>>>0]=0,_-N}function we(d,T,_){return ct(d,o(),T,_)}function Y(d){for(var T=0,_=0;_<d.length;++_){var P=d.charCodeAt(_);P>=55296&&P<=57343&&(P=65536+((P&1023)<<10)|d.charCodeAt(++_)&1023),P<=127?++T:P<=2047?T+=2:P<=65535?T+=3:T+=4}return T}var z=typeof TextDecoder<"u"?new Be("utf-16le"):void 0;function pe(d,T){for(var _=d,P=_>>1,N=P+T/2;!(P>=N)&&l()[P>>>0];)++P;if(_=P<<1,_-d>32&&z)return z.decode(o().subarray(d>>>0,_>>>0));for(var j="",W=0;!(W>=T/2);++W){var se=a()[d+W*2>>>1];if(se==0)break;j+=String.fromCharCode(se)}return j}function ge(d,T,_){if(_===void 0&&(_=2147483647),_<2)return 0;_-=2;for(var P=T,N=_<d.length*2?_/2:d.length,j=0;j<N;++j){var W=d.charCodeAt(j);a()[T>>>1]=W,T+=2}return a()[T>>>1]=0,T-P}function Ee(d){return d.length*2}function be(d,T){for(var _=0,P="";!(_>=T/4);){var N=h()[d+_*4>>>2];if(N==0)break;if(++_,N>=65536){var j=N-65536;P+=String.fromCharCode(55296|j>>10,56320|j&1023)}else P+=String.fromCharCode(N)}return P}function De(d,T,_){if(T>>>=0,_===void 0&&(_=2147483647),_<4)return 0;for(var P=T,N=P+_-4,j=0;j<d.length;++j){var W=d.charCodeAt(j);if(W>=55296&&W<=57343){var se=d.charCodeAt(++j);W=65536+((W&1023)<<10)|se&1023}if(h()[T>>>2]=W,T+=4,T+4>N)break}return h()[T>>>2]=0,T-P}function Me(d){for(var T=0,_=0;_<d.length;++_){var P=d.charCodeAt(_);P>=55296&&P<=57343&&++_,T+=4}return T}function q(d,T){n().set(d,T>>>0)}function k(d,T,_){for(var P=0;P<d.length;++P)n()[T++>>>0]=d.charCodeAt(P);_||(n()[T>>>0]=0)}function Ie(d,T){return d%T>0&&(d+=T-d%T),d}var de,Pe,He,he,Ge,xe,Ve,qe,at;R&&(de=f.buffer);function tt(d){de=d,f.HEAP8=Pe=new Int8Array(d),f.HEAP16=he=new Int16Array(d),f.HEAP32=xe=new Int32Array(d),f.HEAPU8=He=new Uint8Array(d),f.HEAPU16=Ge=new Uint16Array(d),f.HEAPU32=Ve=new Uint32Array(d),f.HEAPF32=qe=new Float32Array(d),f.HEAPF64=at=new Float64Array(d)}var gt=f.INITIAL_MEMORY||16777216;if(R)Te=f.wasmMemory,de=f.buffer;else if(f.wasmMemory)Te=f.wasmMemory;else if(Te=new WebAssembly.Memory({initial:gt/65536,maximum:65536,shared:!0}),!(Te.buffer instanceof SharedArrayBuffer))throw J("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),O&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");Te&&(de=Te.buffer),gt=de.byteLength,tt(de);var Zt,It=[],es=[],Nt=[],ml=[],la=0;function On(){return me||la>0}function vs(){if(!R){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)ys(f.preRun.shift());ii(It)}}function co(){R||(!f.noFSInit&&!M.init.initialized&&M.init(),M.ignorePermissions=!1,ii(es))}function Tl(){R||ii(Nt)}function cc(){if(!R){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)Jr(f.postRun.shift());ii(ml)}}function ys(d){It.unshift(d)}function $i(d){es.unshift(d)}function Jr(d){ml.unshift(d)}var dr=0,Dn=null;function ap(d){return d}function uo(d){dr++,f.monitorRunDependencies&&f.monitorRunDependencies(dr)}function K(d){if(dr--,f.monitorRunDependencies&&f.monitorRunDependencies(dr),dr==0&&Dn){var T=Dn;Dn=null,T()}}f.preloadedImages={},f.preloadedAudios={};function fe(d){f.onAbort&&f.onAbort(d),R&&console.error("Pthread aborting at "+new Error().stack),d+="",J(d),Ue=!0,d="abort("+d+"). Build with -s ASSERTIONS=1 for more info.";var T=new WebAssembly.RuntimeError(d);throw g(T),T}var Fe="data:application/octet-stream;base64,";function ve(d){return d.startsWith(Fe)}function Oe(d){return d.startsWith("file://")}var dt;dt="web-ifc-mt.wasm",ve(dt)||(dt=G(dt));function We(d){try{if(d==dt&&le)return new Uint8Array(le);if(oe)return oe(d);throw"both async and sync fetching of the wasm failed"}catch(T){fe(T)}}function xt(){if(!le&&(x||F)){if(typeof fetch=="function"&&!Oe(dt))return fetch(dt,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+dt+"'";return d.arrayBuffer()}).catch(function(){return We(dt)});if(B)return new Promise(function(d,T){B(dt,function(_){d(new Uint8Array(_))},T)})}return Promise.resolve().then(function(){return We(dt)})}function D(){var d={a:B6};function T(W,se){var ce=W.exports;if(f.asm=ce,Zt=f.asm.ta,$i(f.asm.oa),nt.tlsInitFunctions.push(f.asm.sa),Ce=se,!R){var _e=nt.unusedWorkers.length;nt.unusedWorkers.forEach(function(Ae){nt.loadWasmModuleToWorker(Ae,function(){--_e||K()})})}}R||uo();function _(W){T(W.instance,W.module)}function P(W){return xt().then(function(se){var ce=WebAssembly.instantiate(se,d);return ce}).then(W,function(se){J("failed to asynchronously prepare wasm: "+se),fe(se)})}function N(){return!le&&typeof WebAssembly.instantiateStreaming=="function"&&!ve(dt)&&!Oe(dt)&&typeof fetch=="function"?fetch(dt,{credentials:"same-origin"}).then(function(W){var se=WebAssembly.instantiateStreaming(W,d);return se.then(_,function(ce){return J("wasm streaming compile failed: "+ce),J("falling back to ArrayBuffer instantiation"),P(_)})}):P(_)}if(f.instantiateWasm)try{var j=f.instantiateWasm(d,T);return j}catch(W){return J("Module.instantiateWasm callback failed with error: "+W),!1}return N().catch(g),{}}var lt,Ct,Pt={44848:function(){throw"Canceled!"},44866:function(d,T){setTimeout(function(){Z0(d,T)},0)}};function fs(){nt.initRuntime()}function ii(d){for(;d.length>0;){var T=d.shift();if(typeof T=="function"){T(f);continue}var _=T.func;typeof _=="number"?T.arg===void 0?Zt.get(_)():Zt.get(_)(T.arg):_(T.arg===void 0?null:T.arg)}}function Ft(d,T){if(d<=0||d>n().length||d&!0||T<0)return-28;if(T==0)return 0;T>=2147483647&&(T=1/0);var _=Atomics.load(h(),Gl>>2),P=0;if(_==d){var N=Atomics.compareExchange(h(),Gl>>2,_,0);if(N==_&&(--T,P=1,T<=0))return 1}var j=Atomics.notify(h(),d>>2,T);if(j>=0)return j+P;throw"Atomics.notify returned an unexpected value "+j}f._emscripten_futex_wake=Ft;function Mi(d){if(R)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!d)throw"Internal Error! Null pthread_ptr in killThread!";h()[d+12>>>2]=0;var T=nt.pthreads[d];T.worker.terminate(),nt.freeThreadData(T),nt.runningWorkers.splice(nt.runningWorkers.indexOf(T.worker),1),T.worker.pthread=void 0}function zt(d){if(R)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!d)throw"Internal Error! Null pthread_ptr in cancelThread!";var T=nt.pthreads[d];T.worker.postMessage({cmd:"cancel"})}function ri(d){if(R)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!d)throw"Internal Error! Null pthread_ptr in cleanupThread!";var T=nt.pthreads[d];if(T){h()[d+12>>>2]=0;var _=T.worker;nt.returnWorkerToPool(_)}}var nt={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var d=navigator.hardwareConcurrency,T=0;T<d;++T)nt.allocateUnusedWorker()},initRuntime:function(){for(var d=sn(228),T=0;T<228/4;++T)c()[d/4+T>>>0]=0;h()[d+12>>>2]=d;var _=d+152;h()[_>>>2]=_;for(var P=sn(512),T=0;T<128;++T)c()[P/4+T>>>0]=0;Atomics.store(c(),d+100>>2,P),Atomics.store(c(),d+40>>2,d),vT(d,!F,1),$0(d)},initWorker:function(){},pthreads:{},threadExitHandlers:[],runExitHandlers:function(){for(;nt.threadExitHandlers.length>0;)nt.threadExitHandlers.pop()();sE()},runExitHandlersAndDeinitThread:function(d,T){Atomics.store(c(),d+56>>2,1),Atomics.store(c(),d+60>>2,0),nt.runExitHandlers(),Atomics.store(c(),d+4>>2,T),Atomics.store(c(),d+0>>2,1),Ft(d+0,2147483647),vT(0,0,0)},setExitStatus:function(d){},threadExit:function(d){var T=bc();T&&(nt.runExitHandlersAndDeinitThread(T,d),R&&postMessage({cmd:"exit"}))},threadCancel:function(){nt.runExitHandlersAndDeinitThread(bc(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var d in nt.pthreads){var T=nt.pthreads[d];T&&T.worker&&nt.returnWorkerToPool(T.worker)}nt.pthreads={};for(var _=0;_<nt.unusedWorkers.length;++_){var P=nt.unusedWorkers[_];P.terminate()}nt.unusedWorkers=[];for(var _=0;_<nt.runningWorkers.length;++_){var P=nt.runningWorkers[_],T=P.pthread;nt.freeThreadData(T),P.terminate()}nt.runningWorkers=[]},freeThreadData:function(d){if(!!d){if(d.threadInfoStruct){var T=h()[d.threadInfoStruct+100>>>2];h()[d.threadInfoStruct+100>>>2]=0,tr(T),tr(d.threadInfoStruct)}d.threadInfoStruct=0,d.allocatedOwnStack&&d.stackBase&&tr(d.stackBase),d.stackBase=0,d.worker&&(d.worker.pthread=null)}},returnWorkerToPool:function(d){nt.runWithoutMainThreadQueuedCalls(function(){delete nt.pthreads[d.pthread.threadInfoStruct],nt.unusedWorkers.push(d),nt.runningWorkers.splice(nt.runningWorkers.indexOf(d),1),nt.freeThreadData(d.pthread),d.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(d){h()[rE>>>2]=0;try{d()}finally{h()[rE>>>2]=1}},receiveObjectTransfer:function(d){},threadInit:function(){for(var d in nt.tlsInitFunctions)nt.tlsInitFunctions[d]()},loadWasmModuleToWorker:function(d,T){d.onmessage=function(_){var P=_.data,N=P.cmd;if(d.pthread&&(nt.currentProxiedOperationCallerThread=d.pthread.threadInfoStruct),P.targetThread&&P.targetThread!=bc()){var j=nt.pthreads[P.targetThread];j?j.worker.postMessage(_.data,P.transferList):console.error('Internal error! Worker sent a message "'+N+'" to target pthread '+P.targetThread+", but that thread no longer exists!"),nt.currentProxiedOperationCallerThread=void 0;return}if(N==="processQueuedMainThreadWork")IT();else if(N==="spawnThread")Y0(_.data);else if(N==="cleanupThread")ri(P.thread);else if(N==="killThread")Mi(P.thread);else if(N==="cancelThread")zt(P.thread);else if(N==="loaded")d.loaded=!0,T&&T(d),d.runPthread&&(d.runPthread(),delete d.runPthread);else if(N==="print")ee("Thread "+P.threadId+": "+P.text);else if(N==="printErr")J("Thread "+P.threadId+": "+P.text);else if(N==="alert")alert("Thread "+P.threadId+": "+P.text);else if(N==="exit"){var W=d.pthread&&Atomics.load(c(),d.pthread.threadInfoStruct+64>>2);W&&nt.returnWorkerToPool(d)}else if(N==="exitProcess")try{nE(P.returnCode)}catch(se){if(se instanceof Bl)return;throw se}else N==="cancelDone"?nt.returnWorkerToPool(d):N==="objectTransfer"?nt.receiveObjectTransfer(_.data):_.data.target==="setimmediate"?d.postMessage(_.data):J("worker sent an unknown command "+N);nt.currentProxiedOperationCallerThread=void 0},d.onerror=function(_){J("pthread sent an error! "+_.filename+":"+_.lineno+": "+_.message)},O&&(d.on("message",function(_){d.onmessage({data:_})}),d.on("error",function(_){d.onerror(_)}),d.on("exit",function(_){})),d.postMessage({cmd:"load",urlOrBlob:f.mainScriptUrlOrBlob||i,wasmMemory:Te,wasmModule:Ce})},allocateUnusedWorker:function(){var d=G("web-ifc-mt.worker.js");nt.unusedWorkers.push(new Worker(d))},getNewWorker:function(){return nt.unusedWorkers.length==0&&(nt.allocateUnusedWorker(),nt.loadWasmModuleToWorker(nt.unusedWorkers[0])),nt.unusedWorkers.pop()},busySpinWait:function(d){for(var T=performance.now()+d;performance.now()<T;);}};function Nr(d,T){iE(d,T),Fc(d)}f.establishStackSpace=Nr;function mr(d,T){return Zt.get(d)(T)}f.invokeEntryPoint=mr;function rs(d,T,_,P){fe("Assertion failed: "+Ne(d)+", at: "+[T?Ne(T):"unknown filename",_,P?Ne(P):"unknown function"])}var Ti;O?Ti=function(){var d=process.hrtime();return d[0]*1e3+d[1]/1e6}:R?Ti=function(){return performance.now()-f.__performance_now_clock_drift}:Ti=function(){return performance.now()};var ni=!0;function uc(d){return h()[tE()>>>2]=d,d}function gl(d,T){var _;if(d===0)_=Date.now();else if((d===1||d===4)&&ni)_=Ti();else return uc(28),-1;return h()[T>>>2]=_/1e3|0,h()[T+4>>>2]=_%1e3*1e3*1e3|0,0}function en(d){return sn(d+16)+16}function ym(d,T){if(R)return v(1,1,d,T)}function yl(d,T){nt.threadExitHandlers.push(function(){Zt.get(d)(T)})}function Im(d){this.excPtr=d,this.ptr=d-16,this.set_type=function(T){h()[this.ptr+4>>>2]=T},this.get_type=function(){return h()[this.ptr+4>>>2]},this.set_destructor=function(T){h()[this.ptr+8>>>2]=T},this.get_destructor=function(){return h()[this.ptr+8>>>2]},this.set_refcount=function(T){h()[this.ptr>>>2]=T},this.set_caught=function(T){T=T?1:0,n()[this.ptr+12>>>0]=T},this.get_caught=function(){return n()[this.ptr+12>>>0]!=0},this.set_rethrown=function(T){T=T?1:0,n()[this.ptr+13>>>0]=T},this.get_rethrown=function(){return n()[this.ptr+13>>>0]!=0},this.init=function(T,_){this.set_type(T),this.set_destructor(_),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){Atomics.add(h(),this.ptr+0>>2,1)},this.release_ref=function(){var T=Atomics.sub(h(),this.ptr+0>>2,1);return T===1}}function Em(d,T,_){var P=new Im(d);throw P.init(T,_),d}var Lt={splitPath:function(d){var T=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return T.exec(d).slice(1)},normalizeArray:function(d,T){for(var _=0,P=d.length-1;P>=0;P--){var N=d[P];N==="."?d.splice(P,1):N===".."?(d.splice(P,1),_++):_&&(d.splice(P,1),_--)}if(T)for(;_;_--)d.unshift("..");return d},normalize:function(d){var T=d.charAt(0)==="/",_=d.substr(-1)==="/";return d=Lt.normalizeArray(d.split("/").filter(function(P){return!!P}),!T).join("/"),!d&&!T&&(d="."),d&&_&&(d+="/"),(T?"/":"")+d},dirname:function(d){var T=Lt.splitPath(d),_=T[0],P=T[1];return!_&&!P?".":(P&&(P=P.substr(0,P.length-1)),_+P)},basename:function(d){if(d==="/")return"/";d=Lt.normalize(d),d=d.replace(/\/$/,"");var T=d.lastIndexOf("/");return T===-1?d:d.substr(T+1)},extname:function(d){return Lt.splitPath(d)[3]},join:function(){var d=Array.prototype.slice.call(arguments,0);return Lt.normalize(d.join("/"))},join2:function(d,T){return Lt.normalize(d+"/"+T)}};function vm(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var d=new Uint8Array(1);return function(){return crypto.getRandomValues(d),d[0]}}else if(O)try{var T=rx();return function(){return T.randomBytes(1)[0]}}catch{}return function(){fe("randomDevice")}}var Tr={resolve:function(){for(var d="",T=!1,_=arguments.length-1;_>=-1&&!T;_--){var P=_>=0?arguments[_]:M.cwd();if(typeof P!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!P)return"";d=P+"/"+d,T=P.charAt(0)==="/"}return d=Lt.normalizeArray(d.split("/").filter(function(N){return!!N}),!T).join("/"),(T?"/":"")+d||"."},relative:function(d,T){d=Tr.resolve(d).substr(1),T=Tr.resolve(T).substr(1);function _(_e){for(var Ae=0;Ae<_e.length&&_e[Ae]==="";Ae++);for(var $e=_e.length-1;$e>=0&&_e[$e]==="";$e--);return Ae>$e?[]:_e.slice(Ae,$e-Ae+1)}for(var P=_(d.split("/")),N=_(T.split("/")),j=Math.min(P.length,N.length),W=j,se=0;se<j;se++)if(P[se]!==N[se]){W=se;break}for(var ce=[],se=W;se<P.length;se++)ce.push("..");return ce=ce.concat(N.slice(W)),ce.join("/")}},ls={ttys:[],init:function(){},shutdown:function(){},register:function(d,T){ls.ttys[d]={input:[],output:[],ops:T},M.registerDevice(d,ls.stream_ops)},stream_ops:{open:function(d){var T=ls.ttys[d.node.rdev];if(!T)throw new M.ErrnoError(43);d.tty=T,d.seekable=!1},close:function(d){d.tty.ops.flush(d.tty)},flush:function(d){d.tty.ops.flush(d.tty)},read:function(d,T,_,P,N){if(!d.tty||!d.tty.ops.get_char)throw new M.ErrnoError(60);for(var j=0,W=0;W<P;W++){var se;try{se=d.tty.ops.get_char(d.tty)}catch{throw new M.ErrnoError(29)}if(se===void 0&&j===0)throw new M.ErrnoError(6);if(se==null)break;j++,T[_+W]=se}return j&&(d.node.timestamp=Date.now()),j},write:function(d,T,_,P,N){if(!d.tty||!d.tty.ops.put_char)throw new M.ErrnoError(60);try{for(var j=0;j<P;j++)d.tty.ops.put_char(d.tty,T[_+j])}catch{throw new M.ErrnoError(29)}return P&&(d.node.timestamp=Date.now()),j}},default_tty_ops:{get_char:function(d){if(!d.input.length){var T=null;if(O){var _=256,P=Buffer.alloc(_),N=0;try{N=$.readSync(process.stdin.fd,P,0,_,null)}catch(j){if(j.toString().includes("EOF"))N=0;else throw j}N>0?T=P.slice(0,N).toString("utf-8"):T=null}else typeof window<"u"&&typeof window.prompt=="function"?(T=window.prompt("Input: "),T!==null&&(T+=`
`)):typeof readline=="function"&&(T=readline(),T!==null&&(T+=`
`));if(!T)return null;d.input=Pp(T,!0)}return d.input.shift()},put_char:function(d,T){T===null||T===10?(ee(ke(d.output,0)),d.output=[]):T!=0&&d.output.push(T)},flush:function(d){d.output&&d.output.length>0&&(ee(ke(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,T){T===null||T===10?(J(ke(d.output,0)),d.output=[]):T!=0&&d.output.push(T)},flush:function(d){d.output&&d.output.length>0&&(J(ke(d.output,0)),d.output=[])}}};function po(d,T){o().fill(0,d,d+T)}function Bt(d){d=re(d,65536);var T=CT(65536,d);return T?(po(T,d),T):0}var Et={ops_table:null,mount:function(d){return Et.createNode(null,"/",16895,0)},createNode:function(d,T,_,P){if(M.isBlkdev(_)||M.isFIFO(_))throw new M.ErrnoError(63);Et.ops_table||(Et.ops_table={dir:{node:{getattr:Et.node_ops.getattr,setattr:Et.node_ops.setattr,lookup:Et.node_ops.lookup,mknod:Et.node_ops.mknod,rename:Et.node_ops.rename,unlink:Et.node_ops.unlink,rmdir:Et.node_ops.rmdir,readdir:Et.node_ops.readdir,symlink:Et.node_ops.symlink},stream:{llseek:Et.stream_ops.llseek}},file:{node:{getattr:Et.node_ops.getattr,setattr:Et.node_ops.setattr},stream:{llseek:Et.stream_ops.llseek,read:Et.stream_ops.read,write:Et.stream_ops.write,allocate:Et.stream_ops.allocate,mmap:Et.stream_ops.mmap,msync:Et.stream_ops.msync}},link:{node:{getattr:Et.node_ops.getattr,setattr:Et.node_ops.setattr,readlink:Et.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Et.node_ops.getattr,setattr:Et.node_ops.setattr},stream:M.chrdev_stream_ops}});var N=M.createNode(d,T,_,P);return M.isDir(N.mode)?(N.node_ops=Et.ops_table.dir.node,N.stream_ops=Et.ops_table.dir.stream,N.contents={}):M.isFile(N.mode)?(N.node_ops=Et.ops_table.file.node,N.stream_ops=Et.ops_table.file.stream,N.usedBytes=0,N.contents=null):M.isLink(N.mode)?(N.node_ops=Et.ops_table.link.node,N.stream_ops=Et.ops_table.link.stream):M.isChrdev(N.mode)&&(N.node_ops=Et.ops_table.chrdev.node,N.stream_ops=Et.ops_table.chrdev.stream),N.timestamp=Date.now(),d&&(d.contents[T]=N,d.timestamp=N.timestamp),N},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,T){T>>>=0;var _=d.contents?d.contents.length:0;if(!(_>=T)){var P=1024*1024;T=Math.max(T,_*(_<P?2:1.125)>>>0),_!=0&&(T=Math.max(T,256));var N=d.contents;d.contents=new Uint8Array(T),d.usedBytes>0&&d.contents.set(N.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,T){if(T>>>=0,d.usedBytes!=T)if(T==0)d.contents=null,d.usedBytes=0;else{var _=d.contents;d.contents=new Uint8Array(T),_&&d.contents.set(_.subarray(0,Math.min(T,d.usedBytes))),d.usedBytes=T}},node_ops:{getattr:function(d){var T={};return T.dev=M.isChrdev(d.mode)?d.id:1,T.ino=d.id,T.mode=d.mode,T.nlink=1,T.uid=0,T.gid=0,T.rdev=d.rdev,M.isDir(d.mode)?T.size=4096:M.isFile(d.mode)?T.size=d.usedBytes:M.isLink(d.mode)?T.size=d.link.length:T.size=0,T.atime=new Date(d.timestamp),T.mtime=new Date(d.timestamp),T.ctime=new Date(d.timestamp),T.blksize=4096,T.blocks=Math.ceil(T.size/T.blksize),T},setattr:function(d,T){T.mode!==void 0&&(d.mode=T.mode),T.timestamp!==void 0&&(d.timestamp=T.timestamp),T.size!==void 0&&Et.resizeFileStorage(d,T.size)},lookup:function(d,T){throw M.genericErrors[44]},mknod:function(d,T,_,P){return Et.createNode(d,T,_,P)},rename:function(d,T,_){if(M.isDir(d.mode)){var P;try{P=M.lookupNode(T,_)}catch{}if(P)for(var N in P.contents)throw new M.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=_,T.contents[_]=d,T.timestamp=d.parent.timestamp,d.parent=T},unlink:function(d,T){delete d.contents[T],d.timestamp=Date.now()},rmdir:function(d,T){var _=M.lookupNode(d,T);for(var P in _.contents)throw new M.ErrnoError(55);delete d.contents[T],d.timestamp=Date.now()},readdir:function(d){var T=[".",".."];for(var _ in d.contents)!d.contents.hasOwnProperty(_)||T.push(_);return T},symlink:function(d,T,_){var P=Et.createNode(d,T,41471,0);return P.link=_,P},readlink:function(d){if(!M.isLink(d.mode))throw new M.ErrnoError(28);return d.link}},stream_ops:{read:function(d,T,_,P,N){var j=d.node.contents;if(N>=d.node.usedBytes)return 0;var W=Math.min(d.node.usedBytes-N,P);if(W>8&&j.subarray)T.set(j.subarray(N,N+W),_);else for(var se=0;se<W;se++)T[_+se]=j[N+se];return W},write:function(d,T,_,P,N,j){if(T.buffer===n().buffer&&(j=!1),!P)return 0;var W=d.node;if(W.timestamp=Date.now(),T.subarray&&(!W.contents||W.contents.subarray)){if(j)return W.contents=T.subarray(_,_+P),W.usedBytes=P,P;if(W.usedBytes===0&&N===0)return W.contents=T.slice(_,_+P),W.usedBytes=P,P;if(N+P<=W.usedBytes)return W.contents.set(T.subarray(_,_+P),N),P}if(Et.expandFileStorage(W,N+P),W.contents.subarray&&T.subarray)W.contents.set(T.subarray(_,_+P),N);else for(var se=0;se<P;se++)W.contents[N+se]=T[_+se];return W.usedBytes=Math.max(W.usedBytes,N+P),P},llseek:function(d,T,_){var P=T;if(_===1?P+=d.position:_===2&&M.isFile(d.node.mode)&&(P+=d.node.usedBytes),P<0)throw new M.ErrnoError(28);return P},allocate:function(d,T,_){Et.expandFileStorage(d.node,T+_),d.node.usedBytes=Math.max(d.node.usedBytes,T+_)},mmap:function(d,T,_,P,N,j){if(T!==0)throw new M.ErrnoError(28);if(!M.isFile(d.node.mode))throw new M.ErrnoError(43);var W,se,ce=d.node.contents;if(!(j&2)&&ce.buffer===de)se=!1,W=ce.byteOffset;else{if((P>0||P+_<ce.length)&&(ce.subarray?ce=ce.subarray(P,P+_):ce=Array.prototype.slice.call(ce,P,P+_)),se=!0,W=Bt(_),!W)throw new M.ErrnoError(48);W>>>=0,n().set(ce,W>>>0)}return{ptr:W,allocated:se}},msync:function(d,T,_,P,N){if(!M.isFile(d.node.mode))throw new M.ErrnoError(43);return N&2||Et.stream_ops.write(d,T,0,P,_,!1),0}}};function Cm(d,T,_,P){var N=P?"":"al "+d;B(d,function(j){ye(j,'Loading data file "'+d+'" failed (no arrayBuffer).'),T(new Uint8Array(j)),N&&K()},function(j){if(_)_();else throw'Loading data file "'+d+'" failed.'}),N&&uo()}var M={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(d,T){if(d=Tr.resolve(M.cwd(),d),T=T||{},!d)return{path:"",node:null};var _={follow_mount:!0,recurse_count:0};for(var P in _)T[P]===void 0&&(T[P]=_[P]);if(T.recurse_count>8)throw new M.ErrnoError(32);for(var N=Lt.normalizeArray(d.split("/").filter(function(Ye){return!!Ye}),!1),j=M.root,W="/",se=0;se<N.length;se++){var ce=se===N.length-1;if(ce&&T.parent)break;if(j=M.lookupNode(j,N[se]),W=Lt.join2(W,N[se]),M.isMountpoint(j)&&(!ce||ce&&T.follow_mount)&&(j=j.mounted.root),!ce||T.follow)for(var _e=0;M.isLink(j.mode);){var Ae=M.readlink(W);W=Tr.resolve(Lt.dirname(W),Ae);var $e=M.lookupPath(W,{recurse_count:T.recurse_count});if(j=$e.node,_e++>40)throw new M.ErrnoError(32)}}return{path:W,node:j}},getPath:function(d){for(var T;;){if(M.isRoot(d)){var _=d.mount.mountpoint;return T?_[_.length-1]!=="/"?_+"/"+T:_+T:_}T=T?d.name+"/"+T:d.name,d=d.parent}},hashName:function(d,T){for(var _=0,P=0;P<T.length;P++)_=(_<<5)-_+T.charCodeAt(P)|0;return(d+_>>>0)%M.nameTable.length},hashAddNode:function(d){var T=M.hashName(d.parent.id,d.name);d.name_next=M.nameTable[T],M.nameTable[T]=d},hashRemoveNode:function(d){var T=M.hashName(d.parent.id,d.name);if(M.nameTable[T]===d)M.nameTable[T]=d.name_next;else for(var _=M.nameTable[T];_;){if(_.name_next===d){_.name_next=d.name_next;break}_=_.name_next}},lookupNode:function(d,T){var _=M.mayLookup(d);if(_)throw new M.ErrnoError(_,d);for(var P=M.hashName(d.id,T),N=M.nameTable[P];N;N=N.name_next){var j=N.name;if(N.parent.id===d.id&&j===T)return N}return M.lookup(d,T)},createNode:function(d,T,_,P){var N=new M.FSNode(d,T,_,P);return M.hashAddNode(N),N},destroyNode:function(d){M.hashRemoveNode(d)},isRoot:function(d){return d===d.parent},isMountpoint:function(d){return!!d.mounted},isFile:function(d){return(d&61440)===32768},isDir:function(d){return(d&61440)===16384},isLink:function(d){return(d&61440)===40960},isChrdev:function(d){return(d&61440)===8192},isBlkdev:function(d){return(d&61440)===24576},isFIFO:function(d){return(d&61440)===4096},isSocket:function(d){return(d&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(d){var T=M.flagModes[d];if(typeof T>"u")throw new Error("Unknown file open mode: "+d);return T},flagsToPermissionString:function(d){var T=["r","w","rw"][d&3];return d&512&&(T+="w"),T},nodePermissions:function(d,T){return M.ignorePermissions?0:T.includes("r")&&!(d.mode&292)||T.includes("w")&&!(d.mode&146)||T.includes("x")&&!(d.mode&73)?2:0},mayLookup:function(d){var T=M.nodePermissions(d,"x");return T||(d.node_ops.lookup?0:2)},mayCreate:function(d,T){try{var _=M.lookupNode(d,T);return 20}catch{}return M.nodePermissions(d,"wx")},mayDelete:function(d,T,_){var P;try{P=M.lookupNode(d,T)}catch(j){return j.errno}var N=M.nodePermissions(d,"wx");if(N)return N;if(_){if(!M.isDir(P.mode))return 54;if(M.isRoot(P)||M.getPath(P)===M.cwd())return 10}else if(M.isDir(P.mode))return 31;return 0},mayOpen:function(d,T){return d?M.isLink(d.mode)?32:M.isDir(d.mode)&&(M.flagsToPermissionString(T)!=="r"||T&512)?31:M.nodePermissions(d,M.flagsToPermissionString(T)):44},MAX_OPEN_FDS:4096,nextfd:function(d,T){d=d||0,T=T||M.MAX_OPEN_FDS;for(var _=d;_<=T;_++)if(!M.streams[_])return _;throw new M.ErrnoError(33)},getStream:function(d){return M.streams[d]},createStream:function(d,T,_){M.FSStream||(M.FSStream=function(){},M.FSStream.prototype={object:{get:function(){return this.node},set:function(W){this.node=W}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var P=new M.FSStream;for(var N in d)P[N]=d[N];d=P;var j=M.nextfd(T,_);return d.fd=j,M.streams[j]=d,d},closeStream:function(d){M.streams[d]=null},chrdev_stream_ops:{open:function(d){var T=M.getDevice(d.node.rdev);d.stream_ops=T.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:function(){throw new M.ErrnoError(70)}},major:function(d){return d>>8},minor:function(d){return d&255},makedev:function(d,T){return d<<8|T},registerDevice:function(d,T){M.devices[d]={stream_ops:T}},getDevice:function(d){return M.devices[d]},getMounts:function(d){for(var T=[],_=[d];_.length;){var P=_.pop();T.push(P),_.push.apply(_,P.mounts)}return T},syncfs:function(d,T){typeof d=="function"&&(T=d,d=!1),M.syncFSRequests++,M.syncFSRequests>1&&J("warning: "+M.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var _=M.getMounts(M.root.mount),P=0;function N(W){return M.syncFSRequests--,T(W)}function j(W){if(W)return j.errored?void 0:(j.errored=!0,N(W));++P>=_.length&&N(null)}_.forEach(function(W){if(!W.type.syncfs)return j(null);W.type.syncfs(W,d,j)})},mount:function(d,T,_){var P=_==="/",N=!_,j;if(P&&M.root)throw new M.ErrnoError(10);if(!P&&!N){var W=M.lookupPath(_,{follow_mount:!1});if(_=W.path,j=W.node,M.isMountpoint(j))throw new M.ErrnoError(10);if(!M.isDir(j.mode))throw new M.ErrnoError(54)}var se={type:d,opts:T,mountpoint:_,mounts:[]},ce=d.mount(se);return ce.mount=se,se.root=ce,P?M.root=ce:j&&(j.mounted=se,j.mount&&j.mount.mounts.push(se)),ce},unmount:function(d){var T=M.lookupPath(d,{follow_mount:!1});if(!M.isMountpoint(T.node))throw new M.ErrnoError(28);var _=T.node,P=_.mounted,N=M.getMounts(P);Object.keys(M.nameTable).forEach(function(W){for(var se=M.nameTable[W];se;){var ce=se.name_next;N.includes(se.mount)&&M.destroyNode(se),se=ce}}),_.mounted=null;var j=_.mount.mounts.indexOf(P);_.mount.mounts.splice(j,1)},lookup:function(d,T){return d.node_ops.lookup(d,T)},mknod:function(d,T,_){var P=M.lookupPath(d,{parent:!0}),N=P.node,j=Lt.basename(d);if(!j||j==="."||j==="..")throw new M.ErrnoError(28);var W=M.mayCreate(N,j);if(W)throw new M.ErrnoError(W);if(!N.node_ops.mknod)throw new M.ErrnoError(63);return N.node_ops.mknod(N,j,T,_)},create:function(d,T){return T=T!==void 0?T:438,T&=4095,T|=32768,M.mknod(d,T,0)},mkdir:function(d,T){return T=T!==void 0?T:511,T&=1023,T|=16384,M.mknod(d,T,0)},mkdirTree:function(d,T){for(var _=d.split("/"),P="",N=0;N<_.length;++N)if(!!_[N]){P+="/"+_[N];try{M.mkdir(P,T)}catch(j){if(j.errno!=20)throw j}}},mkdev:function(d,T,_){return typeof _>"u"&&(_=T,T=438),T|=8192,M.mknod(d,T,_)},symlink:function(d,T){if(!Tr.resolve(d))throw new M.ErrnoError(44);var _=M.lookupPath(T,{parent:!0}),P=_.node;if(!P)throw new M.ErrnoError(44);var N=Lt.basename(T),j=M.mayCreate(P,N);if(j)throw new M.ErrnoError(j);if(!P.node_ops.symlink)throw new M.ErrnoError(63);return P.node_ops.symlink(P,N,d)},rename:function(d,T){var _=Lt.dirname(d),P=Lt.dirname(T),N=Lt.basename(d),j=Lt.basename(T),W,se,ce;if(W=M.lookupPath(d,{parent:!0}),se=W.node,W=M.lookupPath(T,{parent:!0}),ce=W.node,!se||!ce)throw new M.ErrnoError(44);if(se.mount!==ce.mount)throw new M.ErrnoError(75);var _e=M.lookupNode(se,N),Ae=Tr.relative(d,P);if(Ae.charAt(0)!==".")throw new M.ErrnoError(28);if(Ae=Tr.relative(T,_),Ae.charAt(0)!==".")throw new M.ErrnoError(55);var $e;try{$e=M.lookupNode(ce,j)}catch{}if(_e!==$e){var Ye=M.isDir(_e.mode),et=M.mayDelete(se,N,Ye);if(et)throw new M.ErrnoError(et);if(et=$e?M.mayDelete(ce,j,Ye):M.mayCreate(ce,j),et)throw new M.ErrnoError(et);if(!se.node_ops.rename)throw new M.ErrnoError(63);if(M.isMountpoint(_e)||$e&&M.isMountpoint($e))throw new M.ErrnoError(10);if(ce!==se&&(et=M.nodePermissions(se,"w"),et))throw new M.ErrnoError(et);try{M.trackingDelegate.willMovePath&&M.trackingDelegate.willMovePath(d,T)}catch(mt){J("FS.trackingDelegate['willMovePath']('"+d+"', '"+T+"') threw an exception: "+mt.message)}M.hashRemoveNode(_e);try{se.node_ops.rename(_e,ce,j)}catch(mt){throw mt}finally{M.hashAddNode(_e)}try{M.trackingDelegate.onMovePath&&M.trackingDelegate.onMovePath(d,T)}catch(mt){J("FS.trackingDelegate['onMovePath']('"+d+"', '"+T+"') threw an exception: "+mt.message)}}},rmdir:function(d){var T=M.lookupPath(d,{parent:!0}),_=T.node,P=Lt.basename(d),N=M.lookupNode(_,P),j=M.mayDelete(_,P,!0);if(j)throw new M.ErrnoError(j);if(!_.node_ops.rmdir)throw new M.ErrnoError(63);if(M.isMountpoint(N))throw new M.ErrnoError(10);try{M.trackingDelegate.willDeletePath&&M.trackingDelegate.willDeletePath(d)}catch(W){J("FS.trackingDelegate['willDeletePath']('"+d+"') threw an exception: "+W.message)}_.node_ops.rmdir(_,P),M.destroyNode(N);try{M.trackingDelegate.onDeletePath&&M.trackingDelegate.onDeletePath(d)}catch(W){J("FS.trackingDelegate['onDeletePath']('"+d+"') threw an exception: "+W.message)}},readdir:function(d){var T=M.lookupPath(d,{follow:!0}),_=T.node;if(!_.node_ops.readdir)throw new M.ErrnoError(54);return _.node_ops.readdir(_)},unlink:function(d){var T=M.lookupPath(d,{parent:!0}),_=T.node,P=Lt.basename(d),N=M.lookupNode(_,P),j=M.mayDelete(_,P,!1);if(j)throw new M.ErrnoError(j);if(!_.node_ops.unlink)throw new M.ErrnoError(63);if(M.isMountpoint(N))throw new M.ErrnoError(10);try{M.trackingDelegate.willDeletePath&&M.trackingDelegate.willDeletePath(d)}catch(W){J("FS.trackingDelegate['willDeletePath']('"+d+"') threw an exception: "+W.message)}_.node_ops.unlink(_,P),M.destroyNode(N);try{M.trackingDelegate.onDeletePath&&M.trackingDelegate.onDeletePath(d)}catch(W){J("FS.trackingDelegate['onDeletePath']('"+d+"') threw an exception: "+W.message)}},readlink:function(d){var T=M.lookupPath(d),_=T.node;if(!_)throw new M.ErrnoError(44);if(!_.node_ops.readlink)throw new M.ErrnoError(28);return Tr.resolve(M.getPath(_.parent),_.node_ops.readlink(_))},stat:function(d,T){var _=M.lookupPath(d,{follow:!T}),P=_.node;if(!P)throw new M.ErrnoError(44);if(!P.node_ops.getattr)throw new M.ErrnoError(63);return P.node_ops.getattr(P)},lstat:function(d){return M.stat(d,!0)},chmod:function(d,T,_){var P;if(typeof d=="string"){var N=M.lookupPath(d,{follow:!_});P=N.node}else P=d;if(!P.node_ops.setattr)throw new M.ErrnoError(63);P.node_ops.setattr(P,{mode:T&4095|P.mode&-4096,timestamp:Date.now()})},lchmod:function(d,T){M.chmod(d,T,!0)},fchmod:function(d,T){var _=M.getStream(d);if(!_)throw new M.ErrnoError(8);M.chmod(_.node,T)},chown:function(d,T,_,P){var N;if(typeof d=="string"){var j=M.lookupPath(d,{follow:!P});N=j.node}else N=d;if(!N.node_ops.setattr)throw new M.ErrnoError(63);N.node_ops.setattr(N,{timestamp:Date.now()})},lchown:function(d,T,_){M.chown(d,T,_,!0)},fchown:function(d,T,_){var P=M.getStream(d);if(!P)throw new M.ErrnoError(8);M.chown(P.node,T,_)},truncate:function(d,T){if(T<0)throw new M.ErrnoError(28);var _;if(typeof d=="string"){var P=M.lookupPath(d,{follow:!0});_=P.node}else _=d;if(!_.node_ops.setattr)throw new M.ErrnoError(63);if(M.isDir(_.mode))throw new M.ErrnoError(31);if(!M.isFile(_.mode))throw new M.ErrnoError(28);var N=M.nodePermissions(_,"w");if(N)throw new M.ErrnoError(N);_.node_ops.setattr(_,{size:T,timestamp:Date.now()})},ftruncate:function(d,T){var _=M.getStream(d);if(!_)throw new M.ErrnoError(8);if((_.flags&2097155)===0)throw new M.ErrnoError(28);M.truncate(_.node,T)},utime:function(d,T,_){var P=M.lookupPath(d,{follow:!0}),N=P.node;N.node_ops.setattr(N,{timestamp:Math.max(T,_)})},open:function(d,T,_,P,N){if(d==="")throw new M.ErrnoError(44);T=typeof T=="string"?M.modeStringToFlags(T):T,_=typeof _>"u"?438:_,T&64?_=_&4095|32768:_=0;var j;if(typeof d=="object")j=d;else{d=Lt.normalize(d);try{var W=M.lookupPath(d,{follow:!(T&131072)});j=W.node}catch{}}var se=!1;if(T&64)if(j){if(T&128)throw new M.ErrnoError(20)}else j=M.mknod(d,_,0),se=!0;if(!j)throw new M.ErrnoError(44);if(M.isChrdev(j.mode)&&(T&=-513),T&65536&&!M.isDir(j.mode))throw new M.ErrnoError(54);if(!se){var ce=M.mayOpen(j,T);if(ce)throw new M.ErrnoError(ce)}T&512&&M.truncate(j,0),T&=-131713;var _e=M.createStream({node:j,path:M.getPath(j),flags:T,seekable:!0,position:0,stream_ops:j.stream_ops,ungotten:[],error:!1},P,N);_e.stream_ops.open&&_e.stream_ops.open(_e),f.logReadFiles&&!(T&1)&&(M.readFiles||(M.readFiles={}),d in M.readFiles||(M.readFiles[d]=1,J("FS.trackingDelegate error on read file: "+d)));try{if(M.trackingDelegate.onOpenFile){var Ae=0;(T&2097155)!==1&&(Ae|=M.tracking.openFlags.READ),(T&2097155)!==0&&(Ae|=M.tracking.openFlags.WRITE),M.trackingDelegate.onOpenFile(d,Ae)}}catch($e){J("FS.trackingDelegate['onOpenFile']('"+d+"', flags) threw an exception: "+$e.message)}return _e},close:function(d){if(M.isClosed(d))throw new M.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(T){throw T}finally{M.closeStream(d.fd)}d.fd=null},isClosed:function(d){return d.fd===null},llseek:function(d,T,_){if(M.isClosed(d))throw new M.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new M.ErrnoError(70);if(_!=0&&_!=1&&_!=2)throw new M.ErrnoError(28);return d.position=d.stream_ops.llseek(d,T,_),d.ungotten=[],d.position},read:function(d,T,_,P,N){if(_>>>=0,P<0||N<0)throw new M.ErrnoError(28);if(M.isClosed(d))throw new M.ErrnoError(8);if((d.flags&2097155)===1)throw new M.ErrnoError(8);if(M.isDir(d.node.mode))throw new M.ErrnoError(31);if(!d.stream_ops.read)throw new M.ErrnoError(28);var j=typeof N<"u";if(!j)N=d.position;else if(!d.seekable)throw new M.ErrnoError(70);var W=d.stream_ops.read(d,T,_,P,N);return j||(d.position+=W),W},write:function(d,T,_,P,N,j){if(_>>>=0,P<0||N<0)throw new M.ErrnoError(28);if(M.isClosed(d))throw new M.ErrnoError(8);if((d.flags&2097155)===0)throw new M.ErrnoError(8);if(M.isDir(d.node.mode))throw new M.ErrnoError(31);if(!d.stream_ops.write)throw new M.ErrnoError(28);d.seekable&&d.flags&1024&&M.llseek(d,0,2);var W=typeof N<"u";if(!W)N=d.position;else if(!d.seekable)throw new M.ErrnoError(70);var se=d.stream_ops.write(d,T,_,P,N,j);W||(d.position+=se);try{d.path&&M.trackingDelegate.onWriteToFile&&M.trackingDelegate.onWriteToFile(d.path)}catch(ce){J("FS.trackingDelegate['onWriteToFile']('"+d.path+"') threw an exception: "+ce.message)}return se},allocate:function(d,T,_){if(M.isClosed(d))throw new M.ErrnoError(8);if(T<0||_<=0)throw new M.ErrnoError(28);if((d.flags&2097155)===0)throw new M.ErrnoError(8);if(!M.isFile(d.node.mode)&&!M.isDir(d.node.mode))throw new M.ErrnoError(43);if(!d.stream_ops.allocate)throw new M.ErrnoError(138);d.stream_ops.allocate(d,T,_)},mmap:function(d,T,_,P,N,j){if(T>>>=0,(N&2)!==0&&(j&2)===0&&(d.flags&2097155)!==2)throw new M.ErrnoError(2);if((d.flags&2097155)===1)throw new M.ErrnoError(2);if(!d.stream_ops.mmap)throw new M.ErrnoError(43);return d.stream_ops.mmap(d,T,_,P,N,j)},msync:function(d,T,_,P,N){return _>>>=0,!d||!d.stream_ops.msync?0:d.stream_ops.msync(d,T,_,P,N)},munmap:function(d){return 0},ioctl:function(d,T,_){if(!d.stream_ops.ioctl)throw new M.ErrnoError(59);return d.stream_ops.ioctl(d,T,_)},readFile:function(d,T){if(T=T||{},T.flags=T.flags||0,T.encoding=T.encoding||"binary",T.encoding!=="utf8"&&T.encoding!=="binary")throw new Error('Invalid encoding type "'+T.encoding+'"');var _,P=M.open(d,T.flags),N=M.stat(d),j=N.size,W=new Uint8Array(j);return M.read(P,W,0,j,0),T.encoding==="utf8"?_=ke(W,0):T.encoding==="binary"&&(_=W),M.close(P),_},writeFile:function(d,T,_){_=_||{},_.flags=_.flags||577;var P=M.open(d,_.flags,_.mode);if(typeof T=="string"){var N=new Uint8Array(Y(T)+1),j=ct(T,N,0,N.length);M.write(P,N,0,j,void 0,_.canOwn)}else if(ArrayBuffer.isView(T))M.write(P,T,0,T.byteLength,void 0,_.canOwn);else throw new Error("Unsupported data type");M.close(P)},cwd:function(){return M.currentPath},chdir:function(d){var T=M.lookupPath(d,{follow:!0});if(T.node===null)throw new M.ErrnoError(44);if(!M.isDir(T.node.mode))throw new M.ErrnoError(54);var _=M.nodePermissions(T.node,"x");if(_)throw new M.ErrnoError(_);M.currentPath=T.path},createDefaultDirectories:function(){M.mkdir("/tmp"),M.mkdir("/home"),M.mkdir("/home/web_user")},createDefaultDevices:function(){M.mkdir("/dev"),M.registerDevice(M.makedev(1,3),{read:function(){return 0},write:function(T,_,P,N,j){return N}}),M.mkdev("/dev/null",M.makedev(1,3)),ls.register(M.makedev(5,0),ls.default_tty_ops),ls.register(M.makedev(6,0),ls.default_tty1_ops),M.mkdev("/dev/tty",M.makedev(5,0)),M.mkdev("/dev/tty1",M.makedev(6,0));var d=vm();M.createDevice("/dev","random",d),M.createDevice("/dev","urandom",d),M.mkdir("/dev/shm"),M.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){M.mkdir("/proc");var d=M.mkdir("/proc/self");M.mkdir("/proc/self/fd"),M.mount({mount:function(){var T=M.createNode(d,"fd",16895,73);return T.node_ops={lookup:function(_,P){var N=+P,j=M.getStream(N);if(!j)throw new M.ErrnoError(8);var W={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return j.path}}};return W.parent=W,W}},T}},{},"/proc/self/fd")},createStandardStreams:function(){f.stdin?M.createDevice("/dev","stdin",f.stdin):M.symlink("/dev/tty","/dev/stdin"),f.stdout?M.createDevice("/dev","stdout",null,f.stdout):M.symlink("/dev/tty","/dev/stdout"),f.stderr?M.createDevice("/dev","stderr",null,f.stderr):M.symlink("/dev/tty1","/dev/stderr"),M.open("/dev/stdin",0),M.open("/dev/stdout",1),M.open("/dev/stderr",1)},ensureErrnoError:function(){M.ErrnoError||(M.ErrnoError=function(T,_){this.node=_,this.setErrno=function(P){this.errno=P},this.setErrno(T),this.message="FS error"},M.ErrnoError.prototype=new Error,M.ErrnoError.prototype.constructor=M.ErrnoError,[44].forEach(function(d){M.genericErrors[d]=new M.ErrnoError(d),M.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:function(){M.ensureErrnoError(),M.nameTable=new Array(4096),M.mount(Et,{},"/"),M.createDefaultDirectories(),M.createDefaultDevices(),M.createSpecialDirectories(),M.filesystems={MEMFS:Et}},init:function(d,T,_){M.init.initialized=!0,M.ensureErrnoError(),f.stdin=d||f.stdin,f.stdout=T||f.stdout,f.stderr=_||f.stderr,M.createStandardStreams()},quit:function(){M.init.initialized=!1;var d=f._fflush;d&&d(0);for(var T=0;T<M.streams.length;T++){var _=M.streams[T];!_||M.close(_)}},getMode:function(d,T){var _=0;return d&&(_|=365),T&&(_|=146),_},findObject:function(d,T){var _=M.analyzePath(d,T);return _.exists?_.object:null},analyzePath:function(d,T){try{var _=M.lookupPath(d,{follow:!T});d=_.path}catch{}var P={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var _=M.lookupPath(d,{parent:!0});P.parentExists=!0,P.parentPath=_.path,P.parentObject=_.node,P.name=Lt.basename(d),_=M.lookupPath(d,{follow:!T}),P.exists=!0,P.path=_.path,P.object=_.node,P.name=_.node.name,P.isRoot=_.path==="/"}catch(N){P.error=N.errno}return P},createPath:function(d,T,_,P){d=typeof d=="string"?d:M.getPath(d);for(var N=T.split("/").reverse();N.length;){var j=N.pop();if(!!j){var W=Lt.join2(d,j);try{M.mkdir(W)}catch{}d=W}}return W},createFile:function(d,T,_,P,N){var j=Lt.join2(typeof d=="string"?d:M.getPath(d),T),W=M.getMode(P,N);return M.create(j,W)},createDataFile:function(d,T,_,P,N,j){var W=T?Lt.join2(typeof d=="string"?d:M.getPath(d),T):d,se=M.getMode(P,N),ce=M.create(W,se);if(_){if(typeof _=="string"){for(var _e=new Array(_.length),Ae=0,$e=_.length;Ae<$e;++Ae)_e[Ae]=_.charCodeAt(Ae);_=_e}M.chmod(ce,se|146);var Ye=M.open(ce,577);M.write(Ye,_,0,_.length,0,j),M.close(Ye),M.chmod(ce,se)}return ce},createDevice:function(d,T,_,P){var N=Lt.join2(typeof d=="string"?d:M.getPath(d),T),j=M.getMode(!!_,!!P);M.createDevice.major||(M.createDevice.major=64);var W=M.makedev(M.createDevice.major++,0);return M.registerDevice(W,{open:function(se){se.seekable=!1},close:function(se){P&&P.buffer&&P.buffer.length&&P(10)},read:function(se,ce,_e,Ae,$e){for(var Ye=0,et=0;et<Ae;et++){var mt;try{mt=_()}catch{throw new M.ErrnoError(29)}if(mt===void 0&&Ye===0)throw new M.ErrnoError(6);if(mt==null)break;Ye++,ce[_e+et]=mt}return Ye&&(se.node.timestamp=Date.now()),Ye},write:function(se,ce,_e,Ae,$e){for(var Ye=0;Ye<Ae;Ye++)try{P(ce[_e+Ye])}catch{throw new M.ErrnoError(29)}return Ae&&(se.node.timestamp=Date.now()),Ye}}),M.mkdev(N,j,W)},forceLoadFile:function(d){if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(V)try{d.contents=Pp(V(d.url),!0),d.usedBytes=d.contents.length}catch{throw new M.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(d,T,_,P,N){function j(){this.lengthKnown=!1,this.chunks=[]}if(j.prototype.get=function(Ye){if(!(Ye>this.length-1||Ye<0)){var et=Ye%this.chunkSize,mt=Ye/this.chunkSize|0;return this.getter(mt)[et]}},j.prototype.setDataGetter=function(Ye){this.getter=Ye},j.prototype.cacheLength=function(){var Ye=new XMLHttpRequest;if(Ye.open("HEAD",_,!1),Ye.send(null),!(Ye.status>=200&&Ye.status<300||Ye.status===304))throw new Error("Couldn't load "+_+". Status: "+Ye.status);var et=Number(Ye.getResponseHeader("Content-length")),mt,Yt=(mt=Ye.getResponseHeader("Accept-Ranges"))&&mt==="bytes",ds=(mt=Ye.getResponseHeader("Content-Encoding"))&&mt==="gzip",ss=1024*1024;Yt||(ss=et);var ze=function(Jt,Ht){if(Jt>Ht)throw new Error("invalid range ("+Jt+", "+Ht+") or no bytes requested!");if(Ht>et-1)throw new Error("only "+et+" bytes available! programmer error!");var ts=new XMLHttpRequest;if(ts.open("GET",_,!1),et!==ss&&ts.setRequestHeader("Range","bytes="+Jt+"-"+Ht),typeof Uint8Array<"u"&&(ts.responseType="arraybuffer"),ts.overrideMimeType&&ts.overrideMimeType("text/plain; charset=x-user-defined"),ts.send(null),!(ts.status>=200&&ts.status<300||ts.status===304))throw new Error("Couldn't load "+_+". Status: "+ts.status);return ts.response!==void 0?new Uint8Array(ts.response||[]):Pp(ts.responseText||"",!0)},ht=this;ht.setDataGetter(function(Jt){var Ht=Jt*ss,ts=(Jt+1)*ss-1;if(ts=Math.min(ts,et-1),typeof ht.chunks[Jt]>"u"&&(ht.chunks[Jt]=ze(Ht,ts)),typeof ht.chunks[Jt]>"u")throw new Error("doXHR failed!");return ht.chunks[Jt]}),(ds||!et)&&(ss=et=1,et=this.getter(0).length,ss=et,ee("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=et,this._chunkSize=ss,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!F)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var W=new j;Object.defineProperties(W,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var se={isDevice:!1,contents:W}}else var se={isDevice:!1,url:_};var ce=M.createFile(d,T,se,P,N);se.contents?ce.contents=se.contents:se.url&&(ce.contents=null,ce.url=se.url),Object.defineProperties(ce,{usedBytes:{get:function(){return this.contents.length}}});var _e={},Ae=Object.keys(ce.stream_ops);return Ae.forEach(function($e){var Ye=ce.stream_ops[$e];_e[$e]=function(){return M.forceLoadFile(ce),Ye.apply(null,arguments)}}),_e.read=function(Ye,et,mt,Yt,ds){M.forceLoadFile(ce);var ss=Ye.node.contents;if(ds>=ss.length)return 0;var ze=Math.min(ss.length-ds,Yt);if(ss.slice)for(var ht=0;ht<ze;ht++)et[mt+ht]=ss[ds+ht];else for(var ht=0;ht<ze;ht++)et[mt+ht]=ss.get(ds+ht);return ze},ce.stream_ops=_e,ce},createPreloadedFile:function(d,T,_,P,N,j,W,se,ce,_e){Browser.init();var Ae=T?Tr.resolve(Lt.join2(d,T)):d;function $e(Ye){function et(Yt){_e&&_e(),se||M.createDataFile(d,T,Yt,P,N,ce),j&&j(),K()}var mt=!1;f.preloadPlugins.forEach(function(Yt){mt||Yt.canHandle(Ae)&&(Yt.handle(Ye,Ae,et,function(){W&&W(),K()}),mt=!0)}),mt||et(Ye)}uo(),typeof _=="string"?Cm(_,function(Ye){$e(Ye)},W):$e(_)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(d,T,_){T=T||function(){},_=_||function(){};var P=M.indexedDB();try{var N=P.open(M.DB_NAME(),M.DB_VERSION)}catch(j){return _(j)}N.onupgradeneeded=function(){ee("creating db");var W=N.result;W.createObjectStore(M.DB_STORE_NAME)},N.onsuccess=function(){var W=N.result,se=W.transaction([M.DB_STORE_NAME],"readwrite"),ce=se.objectStore(M.DB_STORE_NAME),_e=0,Ae=0,$e=d.length;function Ye(){Ae==0?T():_()}d.forEach(function(et){var mt=ce.put(M.analyzePath(et).object.contents,et);mt.onsuccess=function(){_e++,_e+Ae==$e&&Ye()},mt.onerror=function(){Ae++,_e+Ae==$e&&Ye()}}),se.onerror=_},N.onerror=_},loadFilesFromDB:function(d,T,_){T=T||function(){},_=_||function(){};var P=M.indexedDB();try{var N=P.open(M.DB_NAME(),M.DB_VERSION)}catch(j){return _(j)}N.onupgradeneeded=_,N.onsuccess=function(){var W=N.result;try{var se=W.transaction([M.DB_STORE_NAME],"readonly")}catch(et){_(et);return}var ce=se.objectStore(M.DB_STORE_NAME),_e=0,Ae=0,$e=d.length;function Ye(){Ae==0?T():_()}d.forEach(function(et){var mt=ce.get(et);mt.onsuccess=function(){M.analyzePath(et).exists&&M.unlink(et),M.createDataFile(Lt.dirname(et),Lt.basename(et),mt.result,!0,!0,!0),_e++,_e+Ae==$e&&Ye()},mt.onerror=function(){Ae++,_e+Ae==$e&&Ye()}}),se.onerror=_},N.onerror=_}},Rs={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(d,T,_){if(T[0]==="/")return T;var P;if(d===-100)P=M.cwd();else{var N=M.getStream(d);if(!N)throw new M.ErrnoError(8);P=N.path}if(T.length==0){if(!_)throw new M.ErrnoError(44);return P}return Lt.join2(P,T)},doStat:function(d,T,_){try{var P=d(T)}catch(N){if(N&&N.node&&Lt.normalize(T)!==Lt.normalize(M.getPath(N.node)))return-54;throw N}return h()[_>>>2]=P.dev,h()[_+4>>>2]=0,h()[_+8>>>2]=P.ino,h()[_+12>>>2]=P.mode,h()[_+16>>>2]=P.nlink,h()[_+20>>>2]=P.uid,h()[_+24>>>2]=P.gid,h()[_+28>>>2]=P.rdev,h()[_+32>>>2]=0,Ct=[P.size>>>0,(lt=P.size,+Math.abs(lt)>=1?lt>0?(Math.min(+Math.floor(lt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],h()[_+40>>>2]=Ct[0],h()[_+44>>>2]=Ct[1],h()[_+48>>>2]=4096,h()[_+52>>>2]=P.blocks,h()[_+56>>>2]=P.atime.getTime()/1e3|0,h()[_+60>>>2]=0,h()[_+64>>>2]=P.mtime.getTime()/1e3|0,h()[_+68>>>2]=0,h()[_+72>>>2]=P.ctime.getTime()/1e3|0,h()[_+76>>>2]=0,Ct=[P.ino>>>0,(lt=P.ino,+Math.abs(lt)>=1?lt>0?(Math.min(+Math.floor(lt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],h()[_+80>>>2]=Ct[0],h()[_+84>>>2]=Ct[1],0},doMsync:function(d,T,_,P,N){var j=o().slice(d,d+_);M.msync(T,j,N,_,P)},doMkdir:function(d,T){return d=Lt.normalize(d),d[d.length-1]==="/"&&(d=d.substr(0,d.length-1)),M.mkdir(d,T,0),0},doMknod:function(d,T,_){switch(T&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return M.mknod(d,T,_),0},doReadlink:function(d,T,_){if(_<=0)return-28;var P=M.readlink(d),N=Math.min(_,Y(P)),j=n()[T+N>>>0];return we(P,T,_+1),n()[T+N>>>0]=j,N},doAccess:function(d,T){if(T&-8)return-28;var _,P=M.lookupPath(d,{follow:!0});if(_=P.node,!_)return-44;var N="";return T&4&&(N+="r"),T&2&&(N+="w"),T&1&&(N+="x"),N&&M.nodePermissions(_,N)?-2:0},doDup:function(d,T,_){var P=M.getStream(_);return P&&M.close(P),M.open(d,T,0,_,_).fd},doReadv:function(d,T,_,P){for(var N=0,j=0;j<_;j++){var W=h()[T+j*8>>>2],se=h()[T+(j*8+4)>>>2],ce=M.read(d,n(),W,se,P);if(ce<0)return-1;if(N+=ce,ce<se)break}return N},doWritev:function(d,T,_,P){for(var N=0,j=0;j<_;j++){var W=h()[T+j*8>>>2],se=h()[T+(j*8+4)>>>2],ce=M.write(d,n(),W,se,P);if(ce<0)return-1;N+=ce}return N},varargs:void 0,get:function(){Rs.varargs+=4;var d=h()[Rs.varargs-4>>>2];return d},getStr:function(d){var T=Ne(d);return T},getStreamFromFD:function(d){var T=M.getStream(d);if(!T)throw new M.ErrnoError(8);return T},get64:function(d,T){return d}};function Il(d,T,_){if(R)return v(2,1,d,T,_);Rs.varargs=_;try{var P=Rs.getStreamFromFD(d);switch(T){case 0:{var N=Rs.get();if(N<0)return-28;var j;return j=M.open(P.path,P.flags,0,N),j.fd}case 1:case 2:return 0;case 3:return P.flags;case 4:{var N=Rs.get();return P.flags|=N,0}case 12:{var N=Rs.get(),W=0;return a()[N+W>>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return uc(28),-1;default:return-28}}catch(se){return(typeof M>"u"||!(se instanceof M.ErrnoError))&&fe(se),-se.errno}}function El(d,T,_){if(R)return v(3,1,d,T,_);Rs.varargs=_;try{var P=Rs.getStreamFromFD(d);switch(T){case 21509:case 21505:return P.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return P.tty?0:-59;case 21519:{if(!P.tty)return-59;var N=Rs.get();return h()[N>>>2]=0,0}case 21520:return P.tty?-28:-59;case 21531:{var N=Rs.get();return M.ioctl(P,T,N)}case 21523:return P.tty?0:-59;case 21524:return P.tty?0:-59;default:fe("bad ioctl syscall "+T)}}catch(j){return(typeof M>"u"||!(j instanceof M.ErrnoError))&&fe(j),-j.errno}}function pc(d,T,_){if(R)return v(4,1,d,T,_);Rs.varargs=_;try{var P=Rs.getStr(d),N=_?Rs.get():0,j=M.open(P,T,N);return j.fd}catch(W){return(typeof M>"u"||!(W instanceof M.ErrnoError))&&fe(W),-W.errno}}var vl={};function fo(d){for(;d.length;){var T=d.pop(),_=d.pop();_(T)}}function gr(d){return this.fromWireType(c()[d>>>2])}var mo={},Mn={},Cl={},ha=48,ca=57;function ua(d){if(d===void 0)return"_unknown";d=d.replace(/[^a-zA-Z0-9_]/g,"$");var T=d.charCodeAt(0);return T>=ha&&T<=ca?"_"+d:d}function _l(d,T){return d=ua(d),new Function("body","return function "+d+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(T)}function fc(d,T){var _=_l(T,function(P){this.name=T,this.message=P;var N=new Error(P).stack;N!==void 0&&(this.stack=this.toString()+`
`+N.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},_}var Lr=void 0;function pa(d){throw new Lr(d)}function Ur(d,T,_){d.forEach(function(se){Cl[se]=T});function P(se){var ce=_(se);ce.length!==d.length&&pa("Mismatched type converter count");for(var _e=0;_e<d.length;++_e)yr(d[_e],ce[_e])}var N=new Array(T.length),j=[],W=0;T.forEach(function(se,ce){Mn.hasOwnProperty(se)?N[ce]=Mn[se]:(j.push(se),mo.hasOwnProperty(se)||(mo[se]=[]),mo[se].push(function(){N[ce]=Mn[se],++W,W===j.length&&P(N)}))}),j.length===0&&P(N)}function dc(d){var T=vl[d];delete vl[d];var _=T.elements,P=_.length,N=_.map(function(se){return se.getterReturnType}).concat(_.map(function(se){return se.setterArgumentType})),j=T.rawConstructor,W=T.rawDestructor;Ur([d],N,function(se){return _.forEach(function(ce,_e){var Ae=se[_e],$e=ce.getter,Ye=ce.getterContext,et=se[_e+P],mt=ce.setter,Yt=ce.setterContext;ce.read=function(ds){return Ae.fromWireType($e(Ye,ds))},ce.write=function(ds,ss){var ze=[];mt(Yt,ds,et.toWireType(ze,ss)),fo(ze)}}),[{name:T.name,fromWireType:function(ce){for(var _e=new Array(P),Ae=0;Ae<P;++Ae)_e[Ae]=_[Ae].read(ce);return W(ce),_e},toWireType:function(ce,_e){if(P!==_e.length)throw new TypeError("Incorrect number of tuple elements for "+T.name+": expected="+P+", actual="+_e.length);for(var Ae=j(),$e=0;$e<P;++$e)_[$e].write(Ae,_e[$e]);return ce!==null&&ce.push(W,Ae),Ae},argPackAdvance:8,readValueFromPointer:gr,destructorFunction:W}]})}var wl={};function mc(d){var T=wl[d];delete wl[d];var _=T.rawConstructor,P=T.rawDestructor,N=T.fields,j=N.map(function(W){return W.getterReturnType}).concat(N.map(function(W){return W.setterArgumentType}));Ur([d],j,function(W){var se={};return N.forEach(function(ce,_e){var Ae=ce.fieldName,$e=W[_e],Ye=ce.getter,et=ce.getterContext,mt=W[_e+N.length],Yt=ce.setter,ds=ce.setterContext;se[Ae]={read:function(ss){return $e.fromWireType(Ye(et,ss))},write:function(ss,ze){var ht=[];Yt(ds,ss,mt.toWireType(ht,ze)),fo(ht)}}}),[{name:T.name,fromWireType:function(ce){var _e={};for(var Ae in se)_e[Ae]=se[Ae].read(ce);return P(ce),_e},toWireType:function(ce,_e){for(var Ae in se)if(!(Ae in _e))throw new TypeError('Missing field:  "'+Ae+'"');var $e=_();for(Ae in se)se[Ae].write($e,_e[Ae]);return ce!==null&&ce.push(P,$e),$e},argPackAdvance:8,readValueFromPointer:gr,destructorFunction:P}]})}function _m(d,T,_,P,N){}function Sl(d){switch(d){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+d)}}function wm(){for(var d=new Array(256),T=0;T<256;++T)d[T]=String.fromCharCode(T);lp=d}var lp=void 0;function Ms(d){for(var T="",_=d;o()[_>>>0];)T+=lp[o()[_++>>>0]];return T}var To=void 0;function Ut(d){throw new To(d)}function yr(d,T,_){if(_=_||{},!("argPackAdvance"in T))throw new TypeError("registerType registeredInstance requires argPackAdvance");var P=T.name;if(d||Ut('type "'+P+'" must have a positive integer typeid pointer'),Mn.hasOwnProperty(d)){if(_.ignoreDuplicateRegistrations)return;Ut("Cannot register type '"+P+"' twice")}if(Mn[d]=T,delete Cl[d],mo.hasOwnProperty(d)){var N=mo[d];delete mo[d],N.forEach(function(j){j()})}}function Sm(d,T,_,P,N){var j=Sl(_);T=Ms(T),yr(d,{name:T,fromWireType:function(W){return!!W},toWireType:function(W,se){return se?P:N},argPackAdvance:8,readValueFromPointer:function(W){var se;if(_===1)se=n();else if(_===2)se=a();else if(_===4)se=h();else throw new TypeError("Unknown boolean type size: "+T);return this.fromWireType(se[W>>>j])},destructorFunction:null})}function xm(d){if(!(this instanceof Zi)||!(d instanceof Zi))return!1;for(var T=this.$$.ptrType.registeredClass,_=this.$$.ptr,P=d.$$.ptrType.registeredClass,N=d.$$.ptr;T.baseClass;)_=T.upcast(_),T=T.baseClass;for(;P.baseClass;)N=P.upcast(N),P=P.baseClass;return T===P&&_===N}function bm(d){return{count:d.count,deleteScheduled:d.deleteScheduled,preservePointerOnDelete:d.preservePointerOnDelete,ptr:d.ptr,ptrType:d.ptrType,smartPtr:d.smartPtr,smartPtrType:d.smartPtrType}}function Nn(d){function T(_){return _.$$.ptrType.registeredClass.name}Ut(T(d)+" instance already deleted")}var Tc=!1;function hp(d){}function xl(d){d.smartPtr?d.smartPtrType.rawDestructor(d.smartPtr):d.ptrType.registeredClass.rawDestructor(d.ptr)}function cp(d){d.count.value-=1;var T=d.count.value===0;T&&xl(d)}function fa(d){return typeof FinalizationGroup>"u"?(fa=function(T){return T},d):(Tc=new FinalizationGroup(function(T){for(var _=T.next();!_.done;_=T.next()){var P=_.value;P.ptr?cp(P):console.warn("object already deleted: "+P.ptr)}}),fa=function(T){return Tc.register(T,T.$$,T.$$),T},hp=function(T){Tc.unregister(T.$$)},fa(d))}function Hr(){if(this.$$.ptr||Nn(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var d=fa(Object.create(Object.getPrototypeOf(this),{$$:{value:bm(this.$$)}}));return d.$$.count.value+=1,d.$$.deleteScheduled=!1,d}function up(){this.$$.ptr||Nn(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ut("Object already scheduled for deletion"),hp(this),cp(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Fm(){return!this.$$.ptr}var da=void 0,ma=[];function Bs(){for(;ma.length;){var d=ma.pop();d.$$.deleteScheduled=!1,d.delete()}}function pp(){return this.$$.ptr||Nn(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ut("Object already scheduled for deletion"),ma.push(this),ma.length===1&&da&&da(Bs),this.$$.deleteScheduled=!0,this}function fp(){Zi.prototype.isAliasOf=xm,Zi.prototype.clone=Hr,Zi.prototype.delete=up,Zi.prototype.isDeleted=Fm,Zi.prototype.deleteLater=pp}function Zi(){}var dp={};function bl(d,T,_){if(d[T].overloadTable===void 0){var P=d[T];d[T]=function(){return d[T].overloadTable.hasOwnProperty(arguments.length)||Ut("Function '"+_+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+d[T].overloadTable+")!"),d[T].overloadTable[arguments.length].apply(this,arguments)},d[T].overloadTable=[],d[T].overloadTable[P.argCount]=P}}function gc(d,T,_){f.hasOwnProperty(d)?((_===void 0||f[d].overloadTable!==void 0&&f[d].overloadTable[_]!==void 0)&&Ut("Cannot register public name '"+d+"' twice"),bl(f,d,d),f.hasOwnProperty(_)&&Ut("Cannot register multiple overloads of a function with the same number of arguments ("+_+")!"),f[d].overloadTable[_]=T):(f[d]=T,_!==void 0&&(f[d].numArguments=_))}function Rm(d,T,_,P,N,j,W,se){this.name=d,this.constructor=T,this.instancePrototype=_,this.rawDestructor=P,this.baseClass=N,this.getActualType=j,this.upcast=W,this.downcast=se,this.pureVirtualFunctions=[]}function Fl(d,T,_){for(;T!==_;)T.upcast||Ut("Expected null or instance of "+_.name+", got an instance of "+T.name),d=T.upcast(d),T=T.baseClass;return d}function Pm(d,T){if(T===null)return this.isReference&&Ut("null is not a valid "+this.name),0;T.$$||Ut('Cannot pass "'+yo(T)+'" as a '+this.name),T.$$.ptr||Ut("Cannot pass deleted object as a pointer of type "+this.name);var _=T.$$.ptrType.registeredClass,P=Fl(T.$$.ptr,_,this.registeredClass);return P}function yc(d,T){var _;if(T===null)return this.isReference&&Ut("null is not a valid "+this.name),this.isSmartPointer?(_=this.rawConstructor(),d!==null&&d.push(this.rawDestructor,_),_):0;T.$$||Ut('Cannot pass "'+yo(T)+'" as a '+this.name),T.$$.ptr||Ut("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&T.$$.ptrType.isConst&&Ut("Cannot convert argument of type "+(T.$$.smartPtrType?T.$$.smartPtrType.name:T.$$.ptrType.name)+" to parameter type "+this.name);var P=T.$$.ptrType.registeredClass;if(_=Fl(T.$$.ptr,P,this.registeredClass),this.isSmartPointer)switch(T.$$.smartPtr===void 0&&Ut("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:T.$$.smartPtrType===this?_=T.$$.smartPtr:Ut("Cannot convert argument of type "+(T.$$.smartPtrType?T.$$.smartPtrType.name:T.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:_=T.$$.smartPtr;break;case 2:if(T.$$.smartPtrType===this)_=T.$$.smartPtr;else{var N=T.clone();_=this.rawShare(_,Ji(function(){N.delete()})),d!==null&&d.push(this.rawDestructor,_)}break;default:Ut("Unsupporting sharing policy")}return _}function Ri(d,T){if(T===null)return this.isReference&&Ut("null is not a valid "+this.name),0;T.$$||Ut('Cannot pass "'+yo(T)+'" as a '+this.name),T.$$.ptr||Ut("Cannot pass deleted object as a pointer of type "+this.name),T.$$.ptrType.isConst&&Ut("Cannot convert argument of type "+T.$$.ptrType.name+" to parameter type "+this.name);var _=T.$$.ptrType.registeredClass,P=Fl(T.$$.ptr,_,this.registeredClass);return P}function Ic(d){return this.rawGetPointee&&(d=this.rawGetPointee(d)),d}function Am(d){this.rawDestructor&&this.rawDestructor(d)}function Om(d){d!==null&&d.delete()}function mp(d,T,_){if(T===_)return d;if(_.baseClass===void 0)return null;var P=mp(d,T,_.baseClass);return P===null?null:_.downcast(P)}function Ki(){return Object.keys(tn).length}function Dm(){var d=[];for(var T in tn)tn.hasOwnProperty(T)&&d.push(tn[T]);return d}function Mm(d){da=d,ma.length&&da&&da(Bs)}function Nm(){f.getInheritedInstanceCount=Ki,f.getLiveInheritedInstances=Dm,f.flushPendingDeletes=Bs,f.setDelayFunction=Mm}var tn={};function Lm(d,T){for(T===void 0&&Ut("ptr should not be undefined");d.baseClass;)T=d.upcast(T),d=d.baseClass;return T}function go(d,T){return T=Lm(d,T),tn[T]}function Rl(d,T){(!T.ptrType||!T.ptr)&&pa("makeClassHandle requires ptr and ptrType");var _=!!T.smartPtrType,P=!!T.smartPtr;return _!==P&&pa("Both smartPtrType and smartPtr must be specified"),T.count={value:1},fa(Object.create(d,{$$:{value:T}}))}function Um(d){var T=this.getPointee(d);if(!T)return this.destructor(d),null;var _=go(this.registeredClass,T);if(_!==void 0){if(_.$$.count.value===0)return _.$$.ptr=T,_.$$.smartPtr=d,_.clone();var P=_.clone();return this.destructor(d),P}function N(){return this.isSmartPointer?Rl(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:T,smartPtrType:this,smartPtr:d}):Rl(this.registeredClass.instancePrototype,{ptrType:this,ptr:d})}var j=this.registeredClass.getActualType(T),W=dp[j];if(!W)return N.call(this);var se;this.isConst?se=W.constPointerType:se=W.pointerType;var ce=mp(T,this.registeredClass,se.registeredClass);return ce===null?N.call(this):this.isSmartPointer?Rl(se.registeredClass.instancePrototype,{ptrType:se,ptr:ce,smartPtrType:this,smartPtr:d}):Rl(se.registeredClass.instancePrototype,{ptrType:se,ptr:ce})}function Hm(){Gr.prototype.getPointee=Ic,Gr.prototype.destructor=Am,Gr.prototype.argPackAdvance=8,Gr.prototype.readValueFromPointer=gr,Gr.prototype.deleteObject=Om,Gr.prototype.fromWireType=Um}function Gr(d,T,_,P,N,j,W,se,ce,_e,Ae){this.name=d,this.registeredClass=T,this.isReference=_,this.isConst=P,this.isSmartPointer=N,this.pointeeType=j,this.sharingPolicy=W,this.rawGetPointee=se,this.rawConstructor=ce,this.rawShare=_e,this.rawDestructor=Ae,!N&&T.baseClass===void 0?P?(this.toWireType=Pm,this.destructorFunction=null):(this.toWireType=Ri,this.destructorFunction=null):this.toWireType=yc}function Tp(d,T,_){f.hasOwnProperty(d)||pa("Replacing nonexistant public symbol"),f[d].overloadTable!==void 0&&_!==void 0?f[d].overloadTable[_]=T:(f[d]=T,f[d].argCount=_)}function Gm(d,T,_){var P=f["dynCall_"+d];return _&&_.length?P.apply(null,[T].concat(_)):P.call(null,T)}function Bm(d,T,_){return d.includes("j")?Gm(d,T,_):Zt.get(T).apply(null,_)}function km(d,T){var _=[];return function(){_.length=arguments.length;for(var P=0;P<arguments.length;P++)_[P]=arguments[P];return Bm(d,T,_)}}function oi(d,T){d=Ms(d);function _(){return d.includes("j")?km(d,T):Zt.get(T)}var P=_();return typeof P!="function"&&Ut("unknown function pointer with signature "+d+": "+T),P}var gp=void 0;function yp(d){var T=Q0(d),_=Ms(T);return tr(T),_}function Pl(d,T){var _=[],P={};function N(j){if(!P[j]&&!Mn[j]){if(Cl[j]){Cl[j].forEach(N);return}_.push(j),P[j]=!0}}throw T.forEach(N),new gp(d+": "+_.map(yp).join([", "]))}function Vm(d,T,_,P,N,j,W,se,ce,_e,Ae,$e,Ye){Ae=Ms(Ae),j=oi(N,j),se&&(se=oi(W,se)),_e&&(_e=oi(ce,_e)),Ye=oi($e,Ye);var et=ua(Ae);gc(et,function(){Pl("Cannot construct "+Ae+" due to unbound types",[P])}),Ur([d,T,_],P?[P]:[],function(mt){mt=mt[0];var Yt,ds;P?(Yt=mt.registeredClass,ds=Yt.instancePrototype):ds=Zi.prototype;var ss=_l(et,function(){if(Object.getPrototypeOf(this)!==ze)throw new To("Use 'new' to construct "+Ae);if(ht.constructor_body===void 0)throw new To(Ae+" has no accessible constructor");var kr=ht.constructor_body[arguments.length];if(kr===void 0)throw new To("Tried to invoke ctor of "+Ae+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(ht.constructor_body).toString()+") parameters instead!");return kr.apply(this,arguments)}),ze=Object.create(ds,{constructor:{value:ss}});ss.prototype=ze;var ht=new Rm(Ae,ss,ze,Ye,Yt,j,se,_e),Jt=new Gr(Ae,ht,!0,!1,!1),Ht=new Gr(Ae+"*",ht,!1,!1,!1),ts=new Gr(Ae+" const*",ht,!1,!0,!1);return dp[d]={pointerType:Ht,constPointerType:ts},Tp(et,ss),[Jt,Ht,ts]})}function Ni(d,T){for(var _=[],P=0;P<d;P++)_.push(h()[(T>>2)+P>>>0]);return _}function jm(d,T,_,P,N,j){ye(T>0);var W=Ni(T,_);N=oi(P,N);var se=[j],ce=[];Ur([],[d],function(_e){_e=_e[0];var Ae="constructor "+_e.name;if(_e.registeredClass.constructor_body===void 0&&(_e.registeredClass.constructor_body=[]),_e.registeredClass.constructor_body[T-1]!==void 0)throw new To("Cannot register multiple constructors with identical number of parameters ("+(T-1)+") for class '"+_e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return _e.registeredClass.constructor_body[T-1]=function(){Pl("Cannot construct "+_e.name+" due to unbound types",W)},Ur([],W,function($e){return _e.registeredClass.constructor_body[T-1]=function(){arguments.length!==T-1&&Ut(Ae+" called with "+arguments.length+" arguments, expected "+(T-1)),ce.length=0,se.length=T;for(var et=1;et<T;++et)se[et]=$e[et].toWireType(ce,arguments[et-1]);var mt=N.apply(null,se);return fo(ce),$e[0].fromWireType(mt)},[]}),[]})}function zm(d,T){if(!(d instanceof Function))throw new TypeError("new_ called with constructor type "+typeof d+" which is not a function");var _=_l(d.name||"unknownFunctionName",function(){});_.prototype=d.prototype;var P=new _,N=d.apply(P,T);return N instanceof Object?N:P}function Ip(d,T,_,P,N){var j=T.length;j<2&&Ut("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var W=T[1]!==null&&_!==null,se=!1,ce=1;ce<T.length;++ce)if(T[ce]!==null&&T[ce].destructorFunction===void 0){se=!0;break}for(var _e=T[0].name!=="void",Ae="",$e="",ce=0;ce<j-2;++ce)Ae+=(ce!==0?", ":"")+"arg"+ce,$e+=(ce!==0?", ":"")+"arg"+ce+"Wired";var Ye="return function "+ua(d)+"("+Ae+`) {
if (arguments.length !== `+(j-2)+`) {
throwBindingError('function `+d+" called with ' + arguments.length + ' arguments, expected "+(j-2)+` args!');
}
`;se&&(Ye+=`var destructors = [];
`);var et=se?"destructors":"null",mt=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Yt=[Ut,P,N,fo,T[0],T[1]];W&&(Ye+="var thisWired = classParam.toWireType("+et+`, this);
`);for(var ce=0;ce<j-2;++ce)Ye+="var arg"+ce+"Wired = argType"+ce+".toWireType("+et+", arg"+ce+"); // "+T[ce+2].name+`
`,mt.push("argType"+ce),Yt.push(T[ce+2]);if(W&&($e="thisWired"+($e.length>0?", ":"")+$e),Ye+=(_e?"var rv = ":"")+"invoker(fn"+($e.length>0?", ":"")+$e+`);
`,se)Ye+=`runDestructors(destructors);
`;else for(var ce=W?1:2;ce<T.length;++ce){var ds=ce===1?"thisWired":"arg"+(ce-2)+"Wired";T[ce].destructorFunction!==null&&(Ye+=ds+"_dtor("+ds+"); // "+T[ce].name+`
`,mt.push(ds+"_dtor"),Yt.push(T[ce].destructorFunction))}_e&&(Ye+=`var ret = retType.fromWireType(rv);
return ret;
`),Ye+=`}
`,mt.push(Ye);var ss=zm(Function,mt).apply(null,Yt);return ss}function Wm(d,T,_,P,N,j,W,se){var ce=Ni(_,P);T=Ms(T),j=oi(N,j),Ur([],[d],function(_e){_e=_e[0];var Ae=_e.name+"."+T;T.startsWith("@@")&&(T=Symbol[T.substring(2)]),se&&_e.registeredClass.pureVirtualFunctions.push(T);function $e(){Pl("Cannot call "+Ae+" due to unbound types",ce)}var Ye=_e.registeredClass.instancePrototype,et=Ye[T];return et===void 0||et.overloadTable===void 0&&et.className!==_e.name&&et.argCount===_-2?($e.argCount=_-2,$e.className=_e.name,Ye[T]=$e):(bl(Ye,T,Ae),Ye[T].overloadTable[_-2]=$e),Ur([],ce,function(mt){var Yt=Ip(Ae,mt,_e,j,W);return Ye[T].overloadTable===void 0?(Yt.argCount=_-2,Ye[T]=Yt):Ye[T].overloadTable[_-2]=Yt,[]}),[]})}var Al=[],gi=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ec(d){d>4&&--gi[d].refcount===0&&(gi[d]=void 0,Al.push(d))}function Ym(){for(var d=0,T=5;T<gi.length;++T)gi[T]!==void 0&&++d;return d}function Xm(){for(var d=5;d<gi.length;++d)if(gi[d]!==void 0)return gi[d];return null}function qm(){f.count_emval_handles=Ym,f.get_first_emval=Xm}function Ji(d){switch(d){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var T=Al.length?Al.pop():gi.length;return gi[T]={refcount:1,value:d},T}}}function Qm(d,T){T=Ms(T),yr(d,{name:T,fromWireType:function(_){var P=gi[_].value;return Ec(_),P},toWireType:function(_,P){return Ji(P)},argPackAdvance:8,readValueFromPointer:gr,destructorFunction:null})}function $m(d,T,_){switch(T){case 0:return function(P){var N=_?n():o();return this.fromWireType(N[P>>>0])};case 1:return function(P){var N=_?a():l();return this.fromWireType(N[P>>>1])};case 2:return function(P){var N=_?h():c();return this.fromWireType(N[P>>>2])};default:throw new TypeError("Unknown integer type: "+d)}}function Zm(d,T,_,P){var N=Sl(_);T=Ms(T);function j(){}j.values={},yr(d,{name:T,constructor:j,fromWireType:function(W){return this.constructor.values[W]},toWireType:function(W,se){return se.value},argPackAdvance:8,readValueFromPointer:$m(T,N,P),destructorFunction:null}),gc(T,j)}function Ol(d,T){var _=Mn[d];return _===void 0&&Ut(T+" has unknown type "+yp(d)),_}function Km(d,T,_){var P=Ol(d,"enum");T=Ms(T);var N=P.constructor,j=Object.create(P.constructor.prototype,{value:{value:_},constructor:{value:_l(P.name+"_"+T,function(){})}});N.values[_]=j,N[T]=j}function yo(d){if(d===null)return"null";var T=typeof d;return T==="object"||T==="array"||T==="function"?d.toString():""+d}function Jm(d,T){switch(T){case 2:return function(_){return this.fromWireType(u()[_>>>2])};case 3:return function(_){return this.fromWireType(p()[_>>>3])};default:throw new TypeError("Unknown float type: "+d)}}function vc(d,T,_){var P=Sl(_);T=Ms(T),yr(d,{name:T,fromWireType:function(N){return N},toWireType:function(N,j){if(typeof j!="number"&&typeof j!="boolean")throw new TypeError('Cannot convert "'+yo(j)+'" to '+this.name);return j},argPackAdvance:8,readValueFromPointer:Jm(T,P),destructorFunction:null})}function eT(d,T,_,P,N,j){var W=Ni(T,_);d=Ms(d),N=oi(P,N),gc(d,function(){Pl("Cannot call "+d+" due to unbound types",W)},T-1),Ur([],W,function(se){var ce=[se[0],null].concat(se.slice(1));return Tp(d,Ip(d,ce,null,N,j),T-1),[]})}function tT(d,T,_){switch(T){case 0:return _?function(N){return n()[N>>>0]}:function(N){return o()[N>>>0]};case 1:return _?function(N){return a()[N>>>1]}:function(N){return l()[N>>>1]};case 2:return _?function(N){return h()[N>>>2]}:function(N){return c()[N>>>2]};default:throw new TypeError("Unknown integer type: "+d)}}function sT(d,T,_,P,N){T=Ms(T),N===-1&&(N=4294967295);var j=Sl(_),W=function(_e){return _e};if(P===0){var se=32-8*_;W=function(_e){return _e<<se>>>se}}var ce=T.includes("unsigned");yr(d,{name:T,fromWireType:W,toWireType:function(_e,Ae){if(typeof Ae!="number"&&typeof Ae!="boolean")throw new TypeError('Cannot convert "'+yo(Ae)+'" to '+this.name);if(Ae<P||Ae>N)throw new TypeError('Passing a number "'+yo(Ae)+'" from JS side to C/C++ side to an argument of type "'+T+'", which is outside the valid range ['+P+", "+N+"]!");return ce?Ae>>>0:Ae|0},argPackAdvance:8,readValueFromPointer:tT(T,j,P!==0),destructorFunction:null})}function iT(d,T,_){var P=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],N=P[T];function j(W){W=W>>2;var se=c(),ce=se[W>>>0],_e=se[W+1>>>0];return new N(de,_e,ce)}_=Ms(_),yr(d,{name:_,fromWireType:j,argPackAdvance:8,readValueFromPointer:j},{ignoreDuplicateRegistrations:!0})}function rT(d,T){T=Ms(T);var _=T==="std::string";yr(d,{name:T,fromWireType:function(P){var N=c()[P>>>2],j;if(_)for(var W=P+4,se=0;se<=N;++se){var ce=P+4+se;if(se==N||o()[ce>>>0]==0){var _e=ce-W,Ae=Ne(W,_e);j===void 0?j=Ae:(j+=String.fromCharCode(0),j+=Ae),W=ce+1}}else{for(var $e=new Array(N),se=0;se<N;++se)$e[se]=String.fromCharCode(o()[P+4+se>>>0]);j=$e.join("")}return tr(P),j},toWireType:function(P,N){N instanceof ArrayBuffer&&(N=new Uint8Array(N));var j,W=typeof N=="string";W||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int8Array||Ut("Cannot pass non-string to std::string"),_&&W?j=function(){return Y(N)}:j=function(){return N.length};var se=j(),ce=sn(4+se+1);if(ce>>>=0,c()[ce>>>2]=se,_&&W)we(N,ce+4,se+1);else if(W)for(var _e=0;_e<se;++_e){var Ae=N.charCodeAt(_e);Ae>255&&(tr(ce),Ut("String has UTF-16 code units that do not fit in 8 bits")),o()[ce+4+_e>>>0]=Ae}else for(var _e=0;_e<se;++_e)o()[ce+4+_e>>>0]=N[_e];return P!==null&&P.push(tr,ce),ce},argPackAdvance:8,readValueFromPointer:gr,destructorFunction:function(P){tr(P)}})}function Cc(d,T,_){_=Ms(_);var P,N,j,W,se;T===2?(P=pe,N=ge,W=Ee,j=function(){return l()},se=1):T===4&&(P=be,N=De,W=Me,j=function(){return c()},se=2),yr(d,{name:_,fromWireType:function(ce){for(var _e=c()[ce>>>2],Ae=j(),$e,Ye=ce+4,et=0;et<=_e;++et){var mt=ce+4+et*T;if(et==_e||Ae[mt>>>se]==0){var Yt=mt-Ye,ds=P(Ye,Yt);$e===void 0?$e=ds:($e+=String.fromCharCode(0),$e+=ds),Ye=mt+T}}return tr(ce),$e},toWireType:function(ce,_e){typeof _e!="string"&&Ut("Cannot pass non-string to C++ string type "+_);var Ae=W(_e),$e=sn(4+Ae+T);return $e>>>=0,c()[$e>>>2]=Ae>>se,N(_e,$e+4,Ae+T),ce!==null&&ce.push(tr,$e),$e},argPackAdvance:8,readValueFromPointer:gr,destructorFunction:function(ce){tr(ce)}})}function nT(d,T,_,P,N,j){vl[d]={name:Ms(T),rawConstructor:oi(_,P),rawDestructor:oi(N,j),elements:[]}}function Ta(d,T,_,P,N,j,W,se,ce){vl[d].elements.push({getterReturnType:T,getter:oi(_,P),getterContext:N,setterArgumentType:j,setter:oi(W,se),setterContext:ce})}function oT(d,T,_,P,N,j){wl[d]={name:Ms(T),rawConstructor:oi(_,P),rawDestructor:oi(N,j),fields:[]}}function aT(d,T,_,P,N,j,W,se,ce,_e){wl[d].fields.push({fieldName:Ms(T),getterReturnType:_,getter:oi(P,N),getterContext:j,setterArgumentType:W,setter:oi(se,ce),setterContext:_e})}function lT(d,T){T=Ms(T),yr(d,{isVoid:!0,name:T,argPackAdvance:0,fromWireType:function(){},toWireType:function(_,P){}})}function hT(d,T){if(d==T)postMessage({cmd:"processQueuedMainThreadWork"});else if(R)postMessage({targetThread:d,cmd:"processThreadQueue"});else{var _=nt.pthreads[d],P=_&&_.worker;if(!P)return;P.postMessage({cmd:"processThreadQueue"})}return 1}function Ir(d){return d||Ut("Cannot use deleted val. handle = "+d),gi[d].value}function cT(d,T,_){d=Ir(d),T=Ol(T,"emval::as");var P=[],N=Ji(P);return h()[_>>>2]=N,T.toWireType(P,d)}function uT(d,T){for(var _=new Array(d),P=0;P<d;++P)_[P]=Ol(h()[(T>>2)+P>>>0],"parameter "+P);return _}function Dl(d,T,_,P){d=Ir(d);for(var N=uT(T,_),j=new Array(T),W=0;W<T;++W){var se=N[W];j[W]=se.readValueFromPointer(P),P+=se.argPackAdvance}var ce=d.apply(void 0,j);return Ji(ce)}var _c={};function ga(d){var T=_c[d];return T===void 0?Ms(d):T}function ya(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Ml(d){return d===0?Ji(ya()):(d=ga(d),Ji(ya()[d]))}function pT(d,T){return d=Ir(d),T=Ir(T),Ji(d[T])}function fT(d){d>4&&(gi[d].refcount+=1)}function Ep(d,T){return d=Ir(d),T=Ir(T),d instanceof T}function Nl(d){return d=Ir(d),typeof d=="number"}function Ll(){return Ji([])}function Ul(d){return Ji(ga(d))}function dT(){return Ji({})}function Hl(d){var T=gi[d].value;fo(T),Ec(d)}function Br(d,T,_){d=Ir(d),T=Ir(T),_=Ir(_),d[T]=_}function vp(d,T){d=Ol(d,"_emval_take_value");var _=d.readValueFromPointer(T);return Ji(_)}function Cp(){fe()}var Io=[];function wc(d,T){Io.length=0;var _;for(T>>=2;_=o()[d++>>>0];){var P=_<105;P&&T&1&&T++,Io.push(P?p()[T++>>>1]:h()[T>>>0]),++T}return Io}function mT(d,T,_){var P=wc(T,_);return Pt[d].apply(null,P)}function Sc(){O||F||ae("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function TT(d,T){}function _p(d,T,_){if(d<=0||d>n().length||d&!0)return-28;if(x){if(Atomics.load(h(),d>>2)!=T)return-6;for(var N=performance.now(),j=N+_,W=Atomics.exchange(h(),Gl>>2,d);;){if(N=performance.now(),N>j)return W=Atomics.exchange(h(),Gl>>2,0),-73;if(W=Atomics.exchange(h(),Gl>>2,0),W==0)break;if(IT(),Atomics.load(h(),d>>2)!=T)return-6;W=Atomics.exchange(h(),Gl>>2,d)}return 0}else{var P=Atomics.wait(h(),d>>2,T,_);if(P==="timed-out")return-73;if(P==="not-equal")return-6;if(P==="ok")return 0;throw"Atomics.wait returned an unexpected value "+P}}function y(d,T,_){o().copyWithin(d>>>0,T>>>0,T+_>>>0)}function v(d,T){for(var _=arguments.length-2,P=Ap(),N=_,j=Op(N*8),W=j>>3,se=0;se<_;se++){var ce=arguments[2+se];p()[W+se>>>0]=ce}var _e=J0(d,N,j,T);return Fc(P),_e}var b=[];function A(d,T,_){b.length=T;for(var P=_>>3,N=0;N<T;N++)b[N]=p()[P+N>>>0];var j=d<0,W=j?Pt[-d-1]:G6[d];return W.apply(null,b)}function U(d){try{return Te.grow(d-de.byteLength+65535>>>16),tt(Te.buffer),1}catch{}}function Q(d){var T=o().length;if(d=d>>>0,d<=T)return!1;var _=4294901760;if(d>_)return!1;for(var P=1;P<=4;P*=2){var N=T*(1+.2/P);N=Math.min(N,d+100663296);var j=Math.min(_,Ie(Math.max(d,N),65536)),W=U(j);if(W)return!0}return!1}var X={inEventHandler:0,removeAllEventListeners:function(){for(var d=X.eventHandlers.length-1;d>=0;--d)X._removeHandler(d);X.eventHandlers=[],X.deferredCalls=[]},registerRemoveEventListeners:function(){X.removeEventListenersRegistered||(X.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(d,T,_){function P(W,se){if(W.length!=se.length)return!1;for(var ce in W)if(W[ce]!=se[ce])return!1;return!0}for(var N in X.deferredCalls){var j=X.deferredCalls[N];if(j.targetFunction==d&&P(j.argsList,_))return}X.deferredCalls.push({targetFunction:d,precedence:T,argsList:_}),X.deferredCalls.sort(function(W,se){return W.precedence<se.precedence})},removeDeferredCalls:function(d){for(var T=0;T<X.deferredCalls.length;++T)X.deferredCalls[T].targetFunction==d&&(X.deferredCalls.splice(T,1),--T)},canPerformEventHandlerRequests:function(){return X.inEventHandler&&X.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(!!X.canPerformEventHandlerRequests())for(var d=0;d<X.deferredCalls.length;++d){var T=X.deferredCalls[d];X.deferredCalls.splice(d,1),--d,T.targetFunction.apply(null,T.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(d,T){for(var _=0;_<X.eventHandlers.length;++_)X.eventHandlers[_].target==d&&(!T||T==X.eventHandlers[_].eventTypeString)&&X._removeHandler(_--)},_removeHandler:function(d){var T=X.eventHandlers[d];T.target.removeEventListener(T.eventTypeString,T.eventListenerFunc,T.useCapture),X.eventHandlers.splice(d,1)},registerOrRemoveHandler:function(d){var T=function(N){++X.inEventHandler,X.currentEventHandler=d,X.runDeferredCalls(),d.handlerFunc(N),X.runDeferredCalls(),--X.inEventHandler};if(d.callbackfunc)d.eventListenerFunc=T,d.target.addEventListener(d.eventTypeString,T,d.useCapture),X.eventHandlers.push(d),X.registerRemoveEventListeners();else for(var _=0;_<X.eventHandlers.length;++_)X.eventHandlers[_].target==d.target&&X.eventHandlers[_].eventTypeString==d.eventTypeString&&X._removeHandler(_--)},queueEventHandlerOnThread_iiii:function(d,T,_,P,N){var j=Ap(),W=Op(12);h()[W>>>2]=_,h()[W+4>>>2]=P,h()[W+8>>>2]=N,ET(0,d,637534208,T,P,W),Fc(j)},getTargetThreadForEventCallback:function(d){switch(d){case 1:return 0;case 2:return nt.currentProxiedOperationCallerThread;default:return d}},getNodeNameForTarget:function(d){return d?d==window?"#window":d==screen?"#screen":d&&d.nodeName?d.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function ne(d){var T=Y(d)+1,_=sn(T);return we(d,_,T),_}function ue(d,T,_,P){var N=Ap(),j=Op(12),W=0;T&&(W=ne(T)),h()[j>>>2]=W,h()[j+4>>>2]=_,h()[j+8>>>2]=P,ET(0,d,657457152,0,W,j),Fc(N)}function Se(d,T,_,P){T=T?Ne(T):"",ue(d,T,_,P)}function Le(d){return d>2?Ne(d):d}var Ke=[0,typeof document<"u"?document:0,typeof window<"u"?window:0];function Xe(d){d=Le(d);var T=Ke[d]||(typeof document<"u"?document.querySelector(d):void 0);return T}function Je(d){return Xe(d)}function ft(d,T,_){var P=Je(d);if(!P)return-4;if(P.canvasSharedPtr&&(h()[P.canvasSharedPtr>>>2]=T,h()[P.canvasSharedPtr+4>>>2]=_),P.offscreenCanvas||!P.controlTransferredOffscreen){P.offscreenCanvas&&(P=P.offscreenCanvas);var N=!1;if(P.GLctxObject&&P.GLctxObject.GLctx){var j=P.GLctxObject.GLctx.getParameter(2978);N=j[0]===0&&j[1]===0&&j[2]===P.width&&j[3]===P.height}P.width=T,P.height=_,N&&P.GLctxObject.GLctx.viewport(0,0,T,_)}else if(P.canvasSharedPtr){var W=h()[P.canvasSharedPtr+8>>>2];return Se(W,d,T,_),1}else return-4;return 0}function Dt(d,T,_){return R?v(5,1,d,T,_):ft(d,T,_)}function ns(d,T,_){var P=Je(d);return P?ft(d,T,_):Dt(d,T,_)}function Kt(d){}function je(d){var T=d.getExtension("ANGLE_instanced_arrays");if(T)return d.vertexAttribDivisor=function(_,P){T.vertexAttribDivisorANGLE(_,P)},d.drawArraysInstanced=function(_,P,N,j){T.drawArraysInstancedANGLE(_,P,N,j)},d.drawElementsInstanced=function(_,P,N,j,W){T.drawElementsInstancedANGLE(_,P,N,j,W)},1}function ot(d){var T=d.getExtension("OES_vertex_array_object");if(T)return d.createVertexArray=function(){return T.createVertexArrayOES()},d.deleteVertexArray=function(_){T.deleteVertexArrayOES(_)},d.bindVertexArray=function(_){T.bindVertexArrayOES(_)},d.isVertexArray=function(_){return T.isVertexArrayOES(_)},1}function Wt(d){var T=d.getExtension("WEBGL_draw_buffers");if(T)return d.drawBuffers=function(_,P){T.drawBuffersWEBGL(_,P)},1}function Ot(d){return!!(d.multiDrawWebgl=d.getExtension("WEBGL_multi_draw"))}var yt={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(T){yt.lastError||(yt.lastError=T)},getNewId:function(d){for(var T=yt.counter++,_=d.length;_<T;_++)d[_]=null;return T},getSource:function(d,T,_,P){for(var N="",j=0;j<T;++j){var W=P?h()[P+j*4>>>2]:-1;N+=Ne(h()[_+j*4>>>2],W<0?void 0:W)}return N},createContext:function(d,T){d.getContextSafariWebGL2Fixed||(d.getContextSafariWebGL2Fixed=d.getContext,d.getContext=function(N,j){var W=d.getContextSafariWebGL2Fixed(N,j);return N=="webgl"==W instanceof WebGLRenderingContext?W:null});var _=d.getContext("webgl",T);if(!_)return 0;var P=yt.registerContext(_,T);return P},registerContext:function(d,T){var _=sn(8);h()[_+4>>>2]=bc();var P={handle:_,attributes:T,version:T.majorVersion,GLctx:d};return d.canvas&&(d.canvas.GLctxObject=P),yt.contexts[_]=P,(typeof T.enableExtensionsByDefault>"u"||T.enableExtensionsByDefault)&&yt.initExtensions(P),_},makeContextCurrent:function(d){return yt.currentContext=yt.contexts[d],f.ctx=q0=yt.currentContext&&yt.currentContext.GLctx,!(d&&!q0)},getContext:function(d){return yt.contexts[d]},deleteContext:function(d){yt.currentContext===yt.contexts[d]&&(yt.currentContext=null),typeof X=="object"&&X.removeAllHandlersOnTarget(yt.contexts[d].GLctx.canvas),yt.contexts[d]&&yt.contexts[d].GLctx.canvas&&(yt.contexts[d].GLctx.canvas.GLctxObject=void 0),tr(yt.contexts[d].handle),yt.contexts[d]=null},initExtensions:function(d){if(d||(d=yt.currentContext),!d.initExtensionsDone){d.initExtensionsDone=!0;var T=d.GLctx;je(T),ot(T),Wt(T),T.disjointTimerQueryExt=T.getExtension("EXT_disjoint_timer_query"),Ot(T);var _=T.getSupportedExtensions()||[];_.forEach(function(P){!P.includes("lose_context")&&!P.includes("debug")&&T.getExtension(P)})}}},er=["default","low-power","high-performance"];function Ln(d,T){var _=T>>2,P=h()[_+6>>>0],N={alpha:!!h()[_+0>>>0],depth:!!h()[_+1>>>0],stencil:!!h()[_+2>>>0],antialias:!!h()[_+3>>>0],premultipliedAlpha:!!h()[_+4>>>0],preserveDrawingBuffer:!!h()[_+5>>>0],powerPreference:er[P],failIfMajorPerformanceCaveat:!!h()[_+7>>>0],majorVersion:h()[_+8>>>0],minorVersion:h()[_+9>>>0],enableExtensionsByDefault:h()[_+10>>>0],explicitSwapControl:h()[_+11>>>0],proxyContextToMainThread:h()[_+12>>>0],renderViaOffscreenBackBuffer:h()[_+13>>>0]},j=Je(d);if(!j||N.explicitSwapControl)return 0;var W=yt.createContext(j,N);return W}function D6(d,T){return Ln(d,T)}var gT={};function M6(){return E||"./this.program"}function xc(){if(!xc.strings){var d=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",T={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:d,_:M6()};for(var _ in gT)gT[_]===void 0?delete T[_]:T[_]=gT[_];var P=[];for(var _ in T)P.push(_+"="+T[_]);xc.strings=P}return xc.strings}function B0(d,T){if(R)return v(6,1,d,T);try{var _=0;return xc().forEach(function(P,N){var j=T+_;h()[d+N*4>>>2]=j,k(P,j),_+=P.length+1}),0}catch(P){return(typeof M>"u"||!(P instanceof M.ErrnoError))&&fe(P),P.errno}}function k0(d,T){if(R)return v(7,1,d,T);try{var _=xc();h()[d>>>2]=_.length;var P=0;return _.forEach(function(N){P+=N.length+1}),h()[T>>>2]=P,0}catch(N){return(typeof M>"u"||!(N instanceof M.ErrnoError))&&fe(N),N.errno}}function V0(d){if(R)return v(8,1,d);try{var T=Rs.getStreamFromFD(d);return M.close(T),0}catch(_){return(typeof M>"u"||!(_ instanceof M.ErrnoError))&&fe(_),_.errno}}function j0(d,T,_,P){if(R)return v(9,1,d,T,_,P);try{var N=Rs.getStreamFromFD(d),j=Rs.doReadv(N,T,_);return h()[P>>>2]=j,0}catch(W){return(typeof M>"u"||!(W instanceof M.ErrnoError))&&fe(W),W.errno}}function z0(d,T,_,P,N){if(R)return v(10,1,d,T,_,P,N);try{var j=Rs.getStreamFromFD(d),W=4294967296,se=_*W+(T>>>0),ce=9007199254740992;return se<=-ce||se>=ce?-61:(M.llseek(j,se,P),Ct=[j.position>>>0,(lt=j.position,+Math.abs(lt)>=1?lt>0?(Math.min(+Math.floor(lt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],h()[N>>>2]=Ct[0],h()[N+4>>>2]=Ct[1],j.getdents&&se===0&&P===0&&(j.getdents=null),0)}catch(_e){return(typeof M>"u"||!(_e instanceof M.ErrnoError))&&fe(_e),_e.errno}}function W0(d,T,_,P){if(R)return v(11,1,d,T,_,P);try{var N=Rs.getStreamFromFD(d),j=Rs.doWritev(N,T,_);return h()[P>>>2]=j,0}catch(W){return(typeof M>"u"||!(W instanceof M.ErrnoError))&&fe(W),W.errno}}function Y0(d){if(R)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var T=nt.getNewWorker();if(!T)return 6;if(T.pthread!==void 0)throw"Internal error!";if(!d.pthread_ptr)throw"Internal error, no pthread ptr!";nt.runningWorkers.push(T);for(var _=sn(128*4),P=0;P<128;++P)h()[_+P*4>>>2]=0;var N=d.stackBase+d.stackSize,j=nt.pthreads[d.pthread_ptr]={worker:T,stackBase:d.stackBase,stackSize:d.stackSize,allocatedOwnStack:d.allocatedOwnStack,threadInfoStruct:d.pthread_ptr},W=j.threadInfoStruct>>2;Atomics.store(c(),W+16,d.detached),Atomics.store(c(),W+25,_),Atomics.store(c(),W+10,j.threadInfoStruct),Atomics.store(c(),W+20,d.stackSize),Atomics.store(c(),W+19,N),Atomics.store(c(),W+26,d.stackSize),Atomics.store(c(),W+28,N),Atomics.store(c(),W+29,d.detached);var se=eE(),ce=se+40;Atomics.store(c(),W+43,ce),T.pthread=j;var _e={cmd:"run",start_routine:d.startRoutine,arg:d.arg,threadInfoStruct:d.pthread_ptr,stackBase:d.stackBase,stackSize:d.stackSize};return T.runPthread=function(){_e.time=performance.now(),T.postMessage(_e,d.transferList)},T.loaded&&(T.runPthread(),delete T.runPthread),0}function N6(d,T,_,P){if(typeof SharedArrayBuffer>"u")return J("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!d)return J("pthread_create called with a null thread pointer!"),28;var N=[],j=0;if(R&&(N.length===0||j))return K0(687865856,d,T,_,P);var W=0,se=0,ce=0;T&&T!=-1?(W=h()[T>>>2],W+=81920,se=h()[T+8>>>2],ce=h()[T+12>>>2]!==0):W=2097152;var _e=se==0;_e?se=CT(16,W):(se-=W,ye(se>0));for(var Ae=sn(228),$e=0;$e<57;++$e)c()[(Ae>>2)+$e>>>0]=0;h()[d>>>2]=Ae,h()[Ae+12>>>2]=Ae;var Ye=Ae+152;h()[Ye>>>2]=Ye;var et={stackBase:se,stackSize:W,allocatedOwnStack:_e,detached:ce,startRoutine:_,pthread_ptr:Ae,arg:P,transferList:N};return R?(et.cmd="spawnThread",postMessage(et,N),0):Y0(et)}function L6(d){}function wp(d){return d%4===0&&(d%100!==0||d%400===0)}function yT(d,T){for(var _=0,P=0;P<=T;_+=d[P++]);return _}var Sp=[31,29,31,30,31,30,31,31,30,31,30,31],xp=[31,28,31,30,31,30,31,31,30,31,30,31];function bp(d,T){for(var _=new Date(d.getTime());T>0;){var P=wp(_.getFullYear()),N=_.getMonth(),j=(P?Sp:xp)[N];if(T>j-_.getDate())T-=j-_.getDate()+1,_.setDate(1),N<11?_.setMonth(N+1):(_.setMonth(0),_.setFullYear(_.getFullYear()+1));else return _.setDate(_.getDate()+T),_}return _}function U6(d,T,_,P){var N=h()[P+40>>>2],j={tm_sec:h()[P>>>2],tm_min:h()[P+4>>>2],tm_hour:h()[P+8>>>2],tm_mday:h()[P+12>>>2],tm_mon:h()[P+16>>>2],tm_year:h()[P+20>>>2],tm_wday:h()[P+24>>>2],tm_yday:h()[P+28>>>2],tm_isdst:h()[P+32>>>2],tm_gmtoff:h()[P+36>>>2],tm_zone:N?Ne(N):""},W=Ne(_),se={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ce in se)W=W.replace(new RegExp(ce,"g"),se[ce]);var _e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ae=["January","February","March","April","May","June","July","August","September","October","November","December"];function $e(ze,ht,Jt){for(var Ht=typeof ze=="number"?ze.toString():ze||"";Ht.length<ht;)Ht=Jt[0]+Ht;return Ht}function Ye(ze,ht){return $e(ze,ht,"0")}function et(ze,ht){function Jt(ts){return ts<0?-1:ts>0?1:0}var Ht;return(Ht=Jt(ze.getFullYear()-ht.getFullYear()))===0&&(Ht=Jt(ze.getMonth()-ht.getMonth()))===0&&(Ht=Jt(ze.getDate()-ht.getDate())),Ht}function mt(ze){switch(ze.getDay()){case 0:return new Date(ze.getFullYear()-1,11,29);case 1:return ze;case 2:return new Date(ze.getFullYear(),0,3);case 3:return new Date(ze.getFullYear(),0,2);case 4:return new Date(ze.getFullYear(),0,1);case 5:return new Date(ze.getFullYear()-1,11,31);case 6:return new Date(ze.getFullYear()-1,11,30)}}function Yt(ze){var ht=bp(new Date(ze.tm_year+1900,0,1),ze.tm_yday),Jt=new Date(ht.getFullYear(),0,4),Ht=new Date(ht.getFullYear()+1,0,4),ts=mt(Jt),kr=mt(Ht);return et(ts,ht)<=0?et(kr,ht)<=0?ht.getFullYear()+1:ht.getFullYear():ht.getFullYear()-1}var ds={"%a":function(ze){return _e[ze.tm_wday].substring(0,3)},"%A":function(ze){return _e[ze.tm_wday]},"%b":function(ze){return Ae[ze.tm_mon].substring(0,3)},"%B":function(ze){return Ae[ze.tm_mon]},"%C":function(ze){var ht=ze.tm_year+1900;return Ye(ht/100|0,2)},"%d":function(ze){return Ye(ze.tm_mday,2)},"%e":function(ze){return $e(ze.tm_mday,2," ")},"%g":function(ze){return Yt(ze).toString().substring(2)},"%G":function(ze){return Yt(ze)},"%H":function(ze){return Ye(ze.tm_hour,2)},"%I":function(ze){var ht=ze.tm_hour;return ht==0?ht=12:ht>12&&(ht-=12),Ye(ht,2)},"%j":function(ze){return Ye(ze.tm_mday+yT(wp(ze.tm_year+1900)?Sp:xp,ze.tm_mon-1),3)},"%m":function(ze){return Ye(ze.tm_mon+1,2)},"%M":function(ze){return Ye(ze.tm_min,2)},"%n":function(){return`
`},"%p":function(ze){return ze.tm_hour>=0&&ze.tm_hour<12?"AM":"PM"},"%S":function(ze){return Ye(ze.tm_sec,2)},"%t":function(){return"	"},"%u":function(ze){return ze.tm_wday||7},"%U":function(ze){var ht=new Date(ze.tm_year+1900,0,1),Jt=ht.getDay()===0?ht:bp(ht,7-ht.getDay()),Ht=new Date(ze.tm_year+1900,ze.tm_mon,ze.tm_mday);if(et(Jt,Ht)<0){var ts=yT(wp(Ht.getFullYear())?Sp:xp,Ht.getMonth()-1)-31,kr=31-Jt.getDate(),Ia=kr+ts+Ht.getDate();return Ye(Math.ceil(Ia/7),2)}return et(Jt,ht)===0?"01":"00"},"%V":function(ze){var ht=new Date(ze.tm_year+1900,0,4),Jt=new Date(ze.tm_year+1901,0,4),Ht=mt(ht),ts=mt(Jt),kr=bp(new Date(ze.tm_year+1900,0,1),ze.tm_yday);if(et(kr,Ht)<0)return"53";if(et(ts,kr)<=0)return"01";var Ia;return Ht.getFullYear()<ze.tm_year+1900?Ia=ze.tm_yday+32-Ht.getDate():Ia=ze.tm_yday+1-Ht.getDate(),Ye(Math.ceil(Ia/7),2)},"%w":function(ze){return ze.tm_wday},"%W":function(ze){var ht=new Date(ze.tm_year,0,1),Jt=ht.getDay()===1?ht:bp(ht,ht.getDay()===0?1:7-ht.getDay()+1),Ht=new Date(ze.tm_year+1900,ze.tm_mon,ze.tm_mday);if(et(Jt,Ht)<0){var ts=yT(wp(Ht.getFullYear())?Sp:xp,Ht.getMonth()-1)-31,kr=31-Jt.getDate(),Ia=kr+ts+Ht.getDate();return Ye(Math.ceil(Ia/7),2)}return et(Jt,ht)===0?"01":"00"},"%y":function(ze){return(ze.tm_year+1900).toString().substring(2)},"%Y":function(ze){return ze.tm_year+1900},"%z":function(ze){var ht=ze.tm_gmtoff,Jt=ht>=0;return ht=Math.abs(ht)/60,ht=ht/60*100+ht%60,(Jt?"+":"-")+String("0000"+ht).slice(-4)},"%Z":function(ze){return ze.tm_zone},"%%":function(){return"%"}};for(var ce in ds)W.includes(ce)&&(W=W.replace(new RegExp(ce,"g"),ds[ce](j)));var ss=Pp(W,!1);return ss.length>T?0:(q(ss,d),ss.length-1)}function H6(d,T,_,P){return U6(d,T,_,P)}R||nt.initMainThreadBlock();var X0=function(d,T,_,P){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=M.nextInode++,this.name=T,this.mode=_,this.node_ops={},this.stream_ops={},this.rdev=P},Fp=365,Rp=146;Object.defineProperties(X0.prototype,{read:{get:function(){return(this.mode&Fp)===Fp},set:function(d){d?this.mode|=Fp:this.mode&=~Fp}},write:{get:function(){return(this.mode&Rp)===Rp},set:function(d){d?this.mode|=Rp:this.mode&=~Rp}},isFolder:{get:function(){return M.isDir(this.mode)}},isDevice:{get:function(){return M.isChrdev(this.mode)}}}),M.FSNode=X0,M.staticInit(),f.FS_createPath=M.createPath,f.FS_createDataFile=M.createDataFile,f.FS_createPreloadedFile=M.createPreloadedFile,f.FS_createLazyFile=M.createLazyFile,f.FS_createDevice=M.createDevice,f.FS_unlink=M.unlink,Lr=f.InternalError=fc(Error,"InternalError"),wm(),To=f.BindingError=fc(Error,"BindingError"),fp(),Hm(),Nm(),gp=f.UnboundTypeError=fc(Error,"UnboundTypeError"),qm();var q0,G6=[null,ym,Il,El,pc,Dt,B0,k0,V0,j0,z0,W0];function Pp(d,T,_){var P=_>0?_:Y(d)+1,N=new Array(P),j=ct(d,N,0,N.length);return T&&(N.length=j),N}var B6={l:rs,B:en,ka:yl,A:Em,D:Il,V:El,W:pc,ma:dc,s:mc,O:_m,ia:Sm,v:Vm,u:jm,c:Wm,ha:Qm,la:Zm,y:Km,J:vc,f:eT,p:sT,k:iT,K:rT,z:Cc,na:nT,h:Ta,t:oT,e:aT,ja:lT,ea:hT,n:cT,L:Dl,b:Ec,U:Ml,o:pT,j:fT,ca:Ep,M:Nl,C:Ll,g:Ul,w:dT,m:Hl,i:Br,d:vp,I:Cp,T:gl,G:mT,_:Sc,F:TT,r:_p,q:Ft,x:Ti,R:y,$:A,S:Q,aa:ns,E:Kt,ba:D6,Y:B0,Z:k0,H:V0,ga:j0,N:z0,fa:W0,Q:fs,a:Te||f.wasmMemory,da:N6,P:L6,X:H6};D(),f.___wasm_call_ctors=function(){return(f.___wasm_call_ctors=f.asm.oa).apply(null,arguments)},f._main=function(){return(f._main=f.asm.pa).apply(null,arguments)};var sn=f._malloc=function(){return(sn=f._malloc=f.asm.qa).apply(null,arguments)},tr=f._free=function(){return(tr=f._free=f.asm.ra).apply(null,arguments)};f._emscripten_tls_init=function(){return(f._emscripten_tls_init=f.asm.sa).apply(null,arguments)};var Q0=f.___getTypeName=function(){return(Q0=f.___getTypeName=f.asm.ua).apply(null,arguments)};f.___embind_register_native_and_builtin_types=function(){return(f.___embind_register_native_and_builtin_types=f.asm.va).apply(null,arguments)},f._emscripten_current_thread_process_queued_calls=function(){return(f._emscripten_current_thread_process_queued_calls=f.asm.wa).apply(null,arguments)};var $0=f._emscripten_register_main_browser_thread_id=function(){return($0=f._emscripten_register_main_browser_thread_id=f.asm.xa).apply(null,arguments)},Z0=f.__emscripten_do_dispatch_to_thread=function(){return(Z0=f.__emscripten_do_dispatch_to_thread=f.asm.ya).apply(null,arguments)},K0=f._emscripten_sync_run_in_main_thread_4=function(){return(K0=f._emscripten_sync_run_in_main_thread_4=f.asm.za).apply(null,arguments)},IT=f._emscripten_main_thread_process_queued_calls=function(){return(IT=f._emscripten_main_thread_process_queued_calls=f.asm.Aa).apply(null,arguments)},J0=f._emscripten_run_in_main_runtime_thread_js=function(){return(J0=f._emscripten_run_in_main_runtime_thread_js=f.asm.Ba).apply(null,arguments)},ET=f.__emscripten_call_on_thread=function(){return(ET=f.__emscripten_call_on_thread=f.asm.Ca).apply(null,arguments)},vT=f.__emscripten_thread_init=function(){return(vT=f.__emscripten_thread_init=f.asm.Da).apply(null,arguments)},eE=f._emscripten_get_global_libc=function(){return(eE=f._emscripten_get_global_libc=f.asm.Ea).apply(null,arguments)},tE=f.___errno_location=function(){return(tE=f.___errno_location=f.asm.Fa).apply(null,arguments)},bc=f._pthread_self=function(){return(bc=f._pthread_self=f.asm.Ga).apply(null,arguments)},sE=f.___pthread_tsd_run_dtors=function(){return(sE=f.___pthread_tsd_run_dtors=f.asm.Ha).apply(null,arguments)},Ap=f.stackSave=function(){return(Ap=f.stackSave=f.asm.Ia).apply(null,arguments)},Fc=f.stackRestore=function(){return(Fc=f.stackRestore=f.asm.Ja).apply(null,arguments)},Op=f.stackAlloc=function(){return(Op=f.stackAlloc=f.asm.Ka).apply(null,arguments)},iE=f._emscripten_stack_set_limits=function(){return(iE=f._emscripten_stack_set_limits=f.asm.La).apply(null,arguments)},CT=f._memalign=function(){return(CT=f._memalign=f.asm.Ma).apply(null,arguments)};f.dynCall_jiji=function(){return(f.dynCall_jiji=f.asm.Na).apply(null,arguments)},f.dynCall_viijii=function(){return(f.dynCall_viijii=f.asm.Oa).apply(null,arguments)},f.dynCall_iiiiij=function(){return(f.dynCall_iiiiij=f.asm.Pa).apply(null,arguments)},f.dynCall_iiiiijj=function(){return(f.dynCall_iiiiijj=f.asm.Qa).apply(null,arguments)},f.dynCall_iiiiiijj=function(){return(f.dynCall_iiiiiijj=f.asm.Ra).apply(null,arguments)};var rE=f.__emscripten_allow_main_runtime_queued_calls=44840,Gl=f.__emscripten_main_thread_futex=48292;f.addRunDependency=uo,f.removeRunDependency=K,f.FS_createPath=M.createPath,f.FS_createDataFile=M.createDataFile,f.FS_createPreloadedFile=M.createPreloadedFile,f.FS_createLazyFile=M.createLazyFile,f.FS_createDevice=M.createDevice,f.FS_unlink=M.unlink,f.keepRuntimeAlive=On,f.FS=M,f.PThread=nt,f.PThread=nt,f.wasmMemory=Te,f.ExitStatus=Bl;var Dp;function Bl(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}Dn=function d(){Dp||_T(),Dp||(Dn=d)};function k6(d){var T=f._main,_=0,P=0;try{var N=T(_,P);nE(N,!0)}catch(W){if(W instanceof Bl||W=="unwind")return;var j=W;W&&typeof W=="object"&&W.stack&&(j=[W,W.stack]),J("exception thrown: "+j),S(1,W)}finally{}}function _T(d){if(dr>0)return;if(R){m(f),co(),postMessage({cmd:"loaded"});return}if(vs(),dr>0)return;function T(){Dp||(Dp=!0,f.calledRun=!0,!Ue&&(co(),Tl(),m(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),oE&&k6(),cc()))}f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),T()},1)):T()}f.run=_T;function nE(d,T){if(!T&&R)throw postMessage({cmd:"exitProcess",returnCode:d}),new Bl(d);On()||(nt.terminateAllThreads(),f.onExit&&f.onExit(d),Ue=!0),S(d,new Bl(d))}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.pop()();var oE=!0;return f.noInitialRun&&(oE=!1),R&&(me=!1,nt.initWorker()),_T(),r.ready}}();typeof e=="object"&&typeof s=="object"?s.exports=t:typeof define=="function"&&define.amd?define([],function(){return t}):typeof e=="object"&&(e.WebIFCWasm=t)}}),LX=$I({"dist/web-ifc.js"(e,s){var t=function(){var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(r){r=r||{};var n=typeof r<"u"?r:{},o,a;n.ready=new Promise(function(y,v){o=y,a=v});var l={},h;for(h in n)n.hasOwnProperty(h)&&(l[h]=n[h]);var c="./this.program",u=function(y,v){throw v},p=typeof window=="object",f=typeof importScripts=="function",m=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",g="";function C(y){return n.locateFile?n.locateFile(y,g):g+y}var I,E,S,x,F;m?(f?g=Ii("path").dirname(g)+"/":g=__dirname+"/",I=function(v,b){return x||(x=Ii("fs")),F||(F=Ii("path")),v=F.normalize(v),x.readFileSync(v,b?null:"utf8")},S=function(v){var b=I(v,!0);return b.buffer||(b=new Uint8Array(b)),oe(b.buffer),b},E=function(v,b,A){x||(x=Ii("fs")),F||(F=Ii("path")),v=F.normalize(v),x.readFile(v,function(U,Q){U?A(U):b(Q.buffer)})},process.argv.length>1&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(y){if(!(y instanceof wc))throw y}),process.on("unhandledRejection",Nt),u=function(y,v){if(Pe())throw process.exitCode=y,v;process.exit(y)},n.inspect=function(){return"[Emscripten Module object]"}):(p||f)&&(f?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),i&&(g=i),g.indexOf("blob:")!==0?g=g.substr(0,g.lastIndexOf("/")+1):g="",I=function(y){var v=new XMLHttpRequest;return v.open("GET",y,!1),v.send(null),v.responseText},f&&(S=function(y){var v=new XMLHttpRequest;return v.open("GET",y,!1),v.responseType="arraybuffer",v.send(null),new Uint8Array(v.response)}),E=function(y,v,b){var A=new XMLHttpRequest;A.open("GET",y,!0),A.responseType="arraybuffer",A.onload=function(){if(A.status==200||A.status==0&&A.response){v(A.response);return}b()},A.onerror=b,A.send(null)});var O=n.print||console.log.bind(console),R=n.printErr||console.warn.bind(console);for(h in l)l.hasOwnProperty(h)&&(n[h]=l[h]);l=null,n.arguments&&n.arguments,n.thisProgram&&(c=n.thisProgram),n.quit&&(u=n.quit);var L;n.wasmBinary&&(L=n.wasmBinary);var G=n.noExitRuntime||!0;typeof WebAssembly!="object"&&Nt("no native wasm support detected");var V,B=!1;function oe(y,v){y||Nt("Assertion failed: "+v)}var $=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Z(y,v,b){v>>>=0;for(var A=v+b,U=v;y[U>>>0]&&!(U>=A);)++U;if(U-v>16&&y.subarray&&$)return $.decode(y.subarray(v>>>0,U>>>0));for(var Q="";v<U;){var X=y[v++>>>0];if(!(X&128)){Q+=String.fromCharCode(X);continue}var ne=y[v++>>>0]&63;if((X&224)==192){Q+=String.fromCharCode((X&31)<<6|ne);continue}var ue=y[v++>>>0]&63;if((X&240)==224?X=(X&15)<<12|ne<<6|ue:X=(X&7)<<18|ne<<12|ue<<6|y[v++>>>0]&63,X<65536)Q+=String.fromCharCode(X);else{var Se=X-65536;Q+=String.fromCharCode(55296|Se>>10,56320|Se&1023)}}return Q}function te(y,v){return y>>>=0,y?Z(ct,y,v):""}function ee(y,v,b,A){if(b>>>=0,!(A>0))return 0;for(var U=b,Q=b+A-1,X=0;X<y.length;++X){var ne=y.charCodeAt(X);if(ne>=55296&&ne<=57343){var ue=y.charCodeAt(++X);ne=65536+((ne&1023)<<10)|ue&1023}if(ne<=127){if(b>=Q)break;v[b++>>>0]=ne}else if(ne<=2047){if(b+1>=Q)break;v[b++>>>0]=192|ne>>6,v[b++>>>0]=128|ne&63}else if(ne<=65535){if(b+2>=Q)break;v[b++>>>0]=224|ne>>12,v[b++>>>0]=128|ne>>6&63,v[b++>>>0]=128|ne&63}else{if(b+3>=Q)break;v[b++>>>0]=240|ne>>18,v[b++>>>0]=128|ne>>12&63,v[b++>>>0]=128|ne>>6&63,v[b++>>>0]=128|ne&63}}return v[b>>>0]=0,b-U}function J(y,v,b){return ee(y,ct,v,b)}function ie(y){for(var v=0,b=0;b<y.length;++b){var A=y.charCodeAt(b);A>=55296&&A<=57343&&(A=65536+((A&1023)<<10)|y.charCodeAt(++b)&1023),A<=127?++v:A<=2047?v+=2:A<=65535?v+=3:v+=4}return v}var re=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function ae(y,v){for(var b=y,A=b>>1,U=A+v/2;!(A>=U)&&Y[A>>>0];)++A;if(b=A<<1,b-y>32&&re)return re.decode(ct.subarray(y>>>0,b>>>0));for(var Q="",X=0;!(X>=v/2);++X){var ne=we[y+X*2>>>1];if(ne==0)break;Q+=String.fromCharCode(ne)}return Q}function le(y,v,b){if(b===void 0&&(b=2147483647),b<2)return 0;b-=2;for(var A=v,U=b<y.length*2?b/2:y.length,Q=0;Q<U;++Q){var X=y.charCodeAt(Q);we[v>>>1]=X,v+=2}return we[v>>>1]=0,v-A}function me(y){return y.length*2}function Te(y,v){for(var b=0,A="";!(b>=v/4);){var U=z[y+b*4>>>2];if(U==0)break;if(++b,U>=65536){var Q=U-65536;A+=String.fromCharCode(55296|Q>>10,56320|Q&1023)}else A+=String.fromCharCode(U)}return A}function Ce(y,v,b){if(v>>>=0,b===void 0&&(b=2147483647),b<4)return 0;for(var A=v,U=A+b-4,Q=0;Q<y.length;++Q){var X=y.charCodeAt(Q);if(X>=55296&&X<=57343){var ne=y.charCodeAt(++Q);X=65536+((X&1023)<<10)|ne&1023}if(z[v>>>2]=X,v+=4,v+4>U)break}return z[v>>>2]=0,v-A}function Ue(y){for(var v=0,b=0;b<y.length;++b){var A=y.charCodeAt(b);A>=55296&&A<=57343&&++b,v+=4}return v}function ye(y,v){Ne.set(y,v>>>0)}function Be(y,v,b){for(var A=0;A<y.length;++A)Ne[v++>>>0]=y.charCodeAt(A);b||(Ne[v>>>0]=0)}function Ze(y,v){return y%v>0&&(y+=v-y%v),y}var ke,Ne,ct,we,Y,z,pe,ge,Ee;function be(y){ke=y,n.HEAP8=Ne=new Int8Array(y),n.HEAP16=we=new Int16Array(y),n.HEAP32=z=new Int32Array(y),n.HEAPU8=ct=new Uint8Array(y),n.HEAPU16=Y=new Uint16Array(y),n.HEAPU32=pe=new Uint32Array(y),n.HEAPF32=ge=new Float32Array(y),n.HEAPF64=Ee=new Float64Array(y)}n.INITIAL_MEMORY;var De,Me=[],q=[],k=[],Ie=[],de=0;function Pe(){return G||de>0}function He(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Ve(n.preRun.shift());Jr(Me)}function he(){!n.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,Jr(q)}function Ge(){Jr(k)}function xe(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)at(n.postRun.shift());Jr(Ie)}function Ve(y){Me.unshift(y)}function qe(y){q.unshift(y)}function at(y){Ie.unshift(y)}var tt=0,gt=null;function Zt(y){return y}function It(y){tt++,n.monitorRunDependencies&&n.monitorRunDependencies(tt)}function es(y){if(tt--,n.monitorRunDependencies&&n.monitorRunDependencies(tt),tt==0&&gt){var v=gt;gt=null,v()}}n.preloadedImages={},n.preloadedAudios={};function Nt(y){n.onAbort&&n.onAbort(y),y+="",R(y),B=!0,y="abort("+y+"). Build with -s ASSERTIONS=1 for more info.";var v=new WebAssembly.RuntimeError(y);throw a(v),v}var ml="data:application/octet-stream;base64,";function la(y){return y.startsWith(ml)}function On(y){return y.startsWith("file://")}var vs;vs="web-ifc.wasm",la(vs)||(vs=C(vs));function co(y){try{if(y==vs&&L)return new Uint8Array(L);if(S)return S(y);throw"both async and sync fetching of the wasm failed"}catch(v){Nt(v)}}function Tl(){if(!L&&(p||f)){if(typeof fetch=="function"&&!On(vs))return fetch(vs,{credentials:"same-origin"}).then(function(y){if(!y.ok)throw"failed to load wasm binary file at '"+vs+"'";return y.arrayBuffer()}).catch(function(){return co(vs)});if(E)return new Promise(function(y,v){E(vs,function(b){y(new Uint8Array(b))},v)})}return Promise.resolve().then(function(){return co(vs)})}function cc(){var y={a:dT};function v(X,ne){var ue=X.exports;n.asm=ue,V=n.asm.$,be(V.buffer),De=n.asm.ha,qe(n.asm.aa),es()}It();function b(X){v(X.instance)}function A(X){return Tl().then(function(ne){var ue=WebAssembly.instantiate(ne,y);return ue}).then(X,function(ne){R("failed to asynchronously prepare wasm: "+ne),Nt(ne)})}function U(){return!L&&typeof WebAssembly.instantiateStreaming=="function"&&!la(vs)&&!On(vs)&&typeof fetch=="function"?fetch(vs,{credentials:"same-origin"}).then(function(X){var ne=WebAssembly.instantiateStreaming(X,y);return ne.then(b,function(ue){return R("wasm streaming compile failed: "+ue),R("falling back to ArrayBuffer instantiation"),A(b)})}):A(b)}if(n.instantiateWasm)try{var Q=n.instantiateWasm(y,v);return Q}catch(X){return R("Module.instantiateWasm callback failed with error: "+X),!1}return U().catch(a),{}}var ys,$i;function Jr(y){for(;y.length>0;){var v=y.shift();if(typeof v=="function"){v(n);continue}var b=v.func;typeof b=="number"?v.arg===void 0?De.get(b)():De.get(b)(v.arg):b(v.arg===void 0?null:v.arg)}}function dr(y,v,b,A){Nt("Assertion failed: "+te(y)+", at: "+[v?te(v):"unknown filename",b,A?te(A):"unknown function"])}function Dn(y){return Hl(y+16)+16}function ap(y){this.excPtr=y,this.ptr=y-16,this.set_type=function(v){z[this.ptr+4>>>2]=v},this.get_type=function(){return z[this.ptr+4>>>2]},this.set_destructor=function(v){z[this.ptr+8>>>2]=v},this.get_destructor=function(){return z[this.ptr+8>>>2]},this.set_refcount=function(v){z[this.ptr>>>2]=v},this.set_caught=function(v){v=v?1:0,Ne[this.ptr+12>>>0]=v},this.get_caught=function(){return Ne[this.ptr+12>>>0]!=0},this.set_rethrown=function(v){v=v?1:0,Ne[this.ptr+13>>>0]=v},this.get_rethrown=function(){return Ne[this.ptr+13>>>0]!=0},this.init=function(v,b){this.set_type(v),this.set_destructor(b),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var v=z[this.ptr>>>2];z[this.ptr>>>2]=v+1},this.release_ref=function(){var v=z[this.ptr>>>2];return z[this.ptr>>>2]=v-1,v===1}}function uo(y,v,b){var A=new ap(y);throw A.init(v,b),y}function K(y){return z[Cp()>>>2]=y,y}var fe={splitPath:function(y){var v=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return v.exec(y).slice(1)},normalizeArray:function(y,v){for(var b=0,A=y.length-1;A>=0;A--){var U=y[A];U==="."?y.splice(A,1):U===".."?(y.splice(A,1),b++):b&&(y.splice(A,1),b--)}if(v)for(;b;b--)y.unshift("..");return y},normalize:function(y){var v=y.charAt(0)==="/",b=y.substr(-1)==="/";return y=fe.normalizeArray(y.split("/").filter(function(A){return!!A}),!v).join("/"),!y&&!v&&(y="."),y&&b&&(y+="/"),(v?"/":"")+y},dirname:function(y){var v=fe.splitPath(y),b=v[0],A=v[1];return!b&&!A?".":(A&&(A=A.substr(0,A.length-1)),b+A)},basename:function(y){if(y==="/")return"/";y=fe.normalize(y),y=y.replace(/\/$/,"");var v=y.lastIndexOf("/");return v===-1?y:y.substr(v+1)},extname:function(y){return fe.splitPath(y)[3]},join:function(){var y=Array.prototype.slice.call(arguments,0);return fe.normalize(y.join("/"))},join2:function(y,v){return fe.normalize(y+"/"+v)}};function Fe(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var y=new Uint8Array(1);return function(){return crypto.getRandomValues(y),y[0]}}else if(m)try{var v=rx();return function(){return v.randomBytes(1)[0]}}catch{}return function(){Nt("randomDevice")}}var ve={resolve:function(){for(var y="",v=!1,b=arguments.length-1;b>=-1&&!v;b--){var A=b>=0?arguments[b]:D.cwd();if(typeof A!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!A)return"";y=A+"/"+y,v=A.charAt(0)==="/"}return y=fe.normalizeArray(y.split("/").filter(function(U){return!!U}),!v).join("/"),(v?"/":"")+y||"."},relative:function(y,v){y=ve.resolve(y).substr(1),v=ve.resolve(v).substr(1);function b(Se){for(var Le=0;Le<Se.length&&Se[Le]==="";Le++);for(var Ke=Se.length-1;Ke>=0&&Se[Ke]==="";Ke--);return Le>Ke?[]:Se.slice(Le,Ke-Le+1)}for(var A=b(y.split("/")),U=b(v.split("/")),Q=Math.min(A.length,U.length),X=Q,ne=0;ne<Q;ne++)if(A[ne]!==U[ne]){X=ne;break}for(var ue=[],ne=X;ne<A.length;ne++)ue.push("..");return ue=ue.concat(U.slice(X)),ue.join("/")}},Oe={ttys:[],init:function(){},shutdown:function(){},register:function(y,v){Oe.ttys[y]={input:[],output:[],ops:v},D.registerDevice(y,Oe.stream_ops)},stream_ops:{open:function(y){var v=Oe.ttys[y.node.rdev];if(!v)throw new D.ErrnoError(43);y.tty=v,y.seekable=!1},close:function(y){y.tty.ops.flush(y.tty)},flush:function(y){y.tty.ops.flush(y.tty)},read:function(y,v,b,A,U){if(!y.tty||!y.tty.ops.get_char)throw new D.ErrnoError(60);for(var Q=0,X=0;X<A;X++){var ne;try{ne=y.tty.ops.get_char(y.tty)}catch{throw new D.ErrnoError(29)}if(ne===void 0&&Q===0)throw new D.ErrnoError(6);if(ne==null)break;Q++,v[b+X]=ne}return Q&&(y.node.timestamp=Date.now()),Q},write:function(y,v,b,A,U){if(!y.tty||!y.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var Q=0;Q<A;Q++)y.tty.ops.put_char(y.tty,v[b+Q])}catch{throw new D.ErrnoError(29)}return A&&(y.node.timestamp=Date.now()),Q}},default_tty_ops:{get_char:function(y){if(!y.input.length){var v=null;if(m){var b=256,A=Buffer.alloc(b),U=0;try{U=x.readSync(process.stdin.fd,A,0,b,null)}catch(Q){if(Q.toString().includes("EOF"))U=0;else throw Q}U>0?v=A.slice(0,U).toString("utf-8"):v=null}else typeof window<"u"&&typeof window.prompt=="function"?(v=window.prompt("Input: "),v!==null&&(v+=`
`)):typeof readline=="function"&&(v=readline(),v!==null&&(v+=`
`));if(!v)return null;y.input=Ul(v,!0)}return y.input.shift()},put_char:function(y,v){v===null||v===10?(O(Z(y.output,0)),y.output=[]):v!=0&&y.output.push(v)},flush:function(y){y.output&&y.output.length>0&&(O(Z(y.output,0)),y.output=[])}},default_tty1_ops:{put_char:function(y,v){v===null||v===10?(R(Z(y.output,0)),y.output=[]):v!=0&&y.output.push(v)},flush:function(y){y.output&&y.output.length>0&&(R(Z(y.output,0)),y.output=[])}}};function dt(y){Nt()}var We={ops_table:null,mount:function(y){return We.createNode(null,"/",16895,0)},createNode:function(y,v,b,A){if(D.isBlkdev(b)||D.isFIFO(b))throw new D.ErrnoError(63);We.ops_table||(We.ops_table={dir:{node:{getattr:We.node_ops.getattr,setattr:We.node_ops.setattr,lookup:We.node_ops.lookup,mknod:We.node_ops.mknod,rename:We.node_ops.rename,unlink:We.node_ops.unlink,rmdir:We.node_ops.rmdir,readdir:We.node_ops.readdir,symlink:We.node_ops.symlink},stream:{llseek:We.stream_ops.llseek}},file:{node:{getattr:We.node_ops.getattr,setattr:We.node_ops.setattr},stream:{llseek:We.stream_ops.llseek,read:We.stream_ops.read,write:We.stream_ops.write,allocate:We.stream_ops.allocate,mmap:We.stream_ops.mmap,msync:We.stream_ops.msync}},link:{node:{getattr:We.node_ops.getattr,setattr:We.node_ops.setattr,readlink:We.node_ops.readlink},stream:{}},chrdev:{node:{getattr:We.node_ops.getattr,setattr:We.node_ops.setattr},stream:D.chrdev_stream_ops}});var U=D.createNode(y,v,b,A);return D.isDir(U.mode)?(U.node_ops=We.ops_table.dir.node,U.stream_ops=We.ops_table.dir.stream,U.contents={}):D.isFile(U.mode)?(U.node_ops=We.ops_table.file.node,U.stream_ops=We.ops_table.file.stream,U.usedBytes=0,U.contents=null):D.isLink(U.mode)?(U.node_ops=We.ops_table.link.node,U.stream_ops=We.ops_table.link.stream):D.isChrdev(U.mode)&&(U.node_ops=We.ops_table.chrdev.node,U.stream_ops=We.ops_table.chrdev.stream),U.timestamp=Date.now(),y&&(y.contents[v]=U,y.timestamp=U.timestamp),U},getFileDataAsTypedArray:function(y){return y.contents?y.contents.subarray?y.contents.subarray(0,y.usedBytes):new Uint8Array(y.contents):new Uint8Array(0)},expandFileStorage:function(y,v){v>>>=0;var b=y.contents?y.contents.length:0;if(!(b>=v)){var A=1024*1024;v=Math.max(v,b*(b<A?2:1.125)>>>0),b!=0&&(v=Math.max(v,256));var U=y.contents;y.contents=new Uint8Array(v),y.usedBytes>0&&y.contents.set(U.subarray(0,y.usedBytes),0)}},resizeFileStorage:function(y,v){if(v>>>=0,y.usedBytes!=v)if(v==0)y.contents=null,y.usedBytes=0;else{var b=y.contents;y.contents=new Uint8Array(v),b&&y.contents.set(b.subarray(0,Math.min(v,y.usedBytes))),y.usedBytes=v}},node_ops:{getattr:function(y){var v={};return v.dev=D.isChrdev(y.mode)?y.id:1,v.ino=y.id,v.mode=y.mode,v.nlink=1,v.uid=0,v.gid=0,v.rdev=y.rdev,D.isDir(y.mode)?v.size=4096:D.isFile(y.mode)?v.size=y.usedBytes:D.isLink(y.mode)?v.size=y.link.length:v.size=0,v.atime=new Date(y.timestamp),v.mtime=new Date(y.timestamp),v.ctime=new Date(y.timestamp),v.blksize=4096,v.blocks=Math.ceil(v.size/v.blksize),v},setattr:function(y,v){v.mode!==void 0&&(y.mode=v.mode),v.timestamp!==void 0&&(y.timestamp=v.timestamp),v.size!==void 0&&We.resizeFileStorage(y,v.size)},lookup:function(y,v){throw D.genericErrors[44]},mknod:function(y,v,b,A){return We.createNode(y,v,b,A)},rename:function(y,v,b){if(D.isDir(y.mode)){var A;try{A=D.lookupNode(v,b)}catch{}if(A)for(var U in A.contents)throw new D.ErrnoError(55)}delete y.parent.contents[y.name],y.parent.timestamp=Date.now(),y.name=b,v.contents[b]=y,v.timestamp=y.parent.timestamp,y.parent=v},unlink:function(y,v){delete y.contents[v],y.timestamp=Date.now()},rmdir:function(y,v){var b=D.lookupNode(y,v);for(var A in b.contents)throw new D.ErrnoError(55);delete y.contents[v],y.timestamp=Date.now()},readdir:function(y){var v=[".",".."];for(var b in y.contents)!y.contents.hasOwnProperty(b)||v.push(b);return v},symlink:function(y,v,b){var A=We.createNode(y,v,41471,0);return A.link=b,A},readlink:function(y){if(!D.isLink(y.mode))throw new D.ErrnoError(28);return y.link}},stream_ops:{read:function(y,v,b,A,U){var Q=y.node.contents;if(U>=y.node.usedBytes)return 0;var X=Math.min(y.node.usedBytes-U,A);if(X>8&&Q.subarray)v.set(Q.subarray(U,U+X),b);else for(var ne=0;ne<X;ne++)v[b+ne]=Q[U+ne];return X},write:function(y,v,b,A,U,Q){if(v.buffer===Ne.buffer&&(Q=!1),!A)return 0;var X=y.node;if(X.timestamp=Date.now(),v.subarray&&(!X.contents||X.contents.subarray)){if(Q)return X.contents=v.subarray(b,b+A),X.usedBytes=A,A;if(X.usedBytes===0&&U===0)return X.contents=v.slice(b,b+A),X.usedBytes=A,A;if(U+A<=X.usedBytes)return X.contents.set(v.subarray(b,b+A),U),A}if(We.expandFileStorage(X,U+A),X.contents.subarray&&v.subarray)X.contents.set(v.subarray(b,b+A),U);else for(var ne=0;ne<A;ne++)X.contents[U+ne]=v[b+ne];return X.usedBytes=Math.max(X.usedBytes,U+A),A},llseek:function(y,v,b){var A=v;if(b===1?A+=y.position:b===2&&D.isFile(y.node.mode)&&(A+=y.node.usedBytes),A<0)throw new D.ErrnoError(28);return A},allocate:function(y,v,b){We.expandFileStorage(y.node,v+b),y.node.usedBytes=Math.max(y.node.usedBytes,v+b)},mmap:function(y,v,b,A,U,Q){if(v!==0)throw new D.ErrnoError(28);if(!D.isFile(y.node.mode))throw new D.ErrnoError(43);var X,ne,ue=y.node.contents;if(!(Q&2)&&ue.buffer===ke)ne=!1,X=ue.byteOffset;else{if((A>0||A+b<ue.length)&&(ue.subarray?ue=ue.subarray(A,A+b):ue=Array.prototype.slice.call(ue,A,A+b)),ne=!0,X=dt(),!X)throw new D.ErrnoError(48);X>>>=0,Ne.set(ue,X>>>0)}return{ptr:X,allocated:ne}},msync:function(y,v,b,A,U){if(!D.isFile(y.node.mode))throw new D.ErrnoError(43);return U&2||We.stream_ops.write(y,v,0,A,b,!1),0}}};function xt(y,v,b,A){var U=A?"":"al "+y;E(y,function(Q){oe(Q,'Loading data file "'+y+'" failed (no arrayBuffer).'),v(new Uint8Array(Q)),U&&es()},function(Q){if(b)b();else throw'Loading data file "'+y+'" failed.'}),U&&It()}var D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(y,v){if(y=ve.resolve(D.cwd(),y),v=v||{},!y)return{path:"",node:null};var b={follow_mount:!0,recurse_count:0};for(var A in b)v[A]===void 0&&(v[A]=b[A]);if(v.recurse_count>8)throw new D.ErrnoError(32);for(var U=fe.normalizeArray(y.split("/").filter(function(Xe){return!!Xe}),!1),Q=D.root,X="/",ne=0;ne<U.length;ne++){var ue=ne===U.length-1;if(ue&&v.parent)break;if(Q=D.lookupNode(Q,U[ne]),X=fe.join2(X,U[ne]),D.isMountpoint(Q)&&(!ue||ue&&v.follow_mount)&&(Q=Q.mounted.root),!ue||v.follow)for(var Se=0;D.isLink(Q.mode);){var Le=D.readlink(X);X=ve.resolve(fe.dirname(X),Le);var Ke=D.lookupPath(X,{recurse_count:v.recurse_count});if(Q=Ke.node,Se++>40)throw new D.ErrnoError(32)}}return{path:X,node:Q}},getPath:function(y){for(var v;;){if(D.isRoot(y)){var b=y.mount.mountpoint;return v?b[b.length-1]!=="/"?b+"/"+v:b+v:b}v=v?y.name+"/"+v:y.name,y=y.parent}},hashName:function(y,v){for(var b=0,A=0;A<v.length;A++)b=(b<<5)-b+v.charCodeAt(A)|0;return(y+b>>>0)%D.nameTable.length},hashAddNode:function(y){var v=D.hashName(y.parent.id,y.name);y.name_next=D.nameTable[v],D.nameTable[v]=y},hashRemoveNode:function(y){var v=D.hashName(y.parent.id,y.name);if(D.nameTable[v]===y)D.nameTable[v]=y.name_next;else for(var b=D.nameTable[v];b;){if(b.name_next===y){b.name_next=y.name_next;break}b=b.name_next}},lookupNode:function(y,v){var b=D.mayLookup(y);if(b)throw new D.ErrnoError(b,y);for(var A=D.hashName(y.id,v),U=D.nameTable[A];U;U=U.name_next){var Q=U.name;if(U.parent.id===y.id&&Q===v)return U}return D.lookup(y,v)},createNode:function(y,v,b,A){var U=new D.FSNode(y,v,b,A);return D.hashAddNode(U),U},destroyNode:function(y){D.hashRemoveNode(y)},isRoot:function(y){return y===y.parent},isMountpoint:function(y){return!!y.mounted},isFile:function(y){return(y&61440)===32768},isDir:function(y){return(y&61440)===16384},isLink:function(y){return(y&61440)===40960},isChrdev:function(y){return(y&61440)===8192},isBlkdev:function(y){return(y&61440)===24576},isFIFO:function(y){return(y&61440)===4096},isSocket:function(y){return(y&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(y){var v=D.flagModes[y];if(typeof v>"u")throw new Error("Unknown file open mode: "+y);return v},flagsToPermissionString:function(y){var v=["r","w","rw"][y&3];return y&512&&(v+="w"),v},nodePermissions:function(y,v){return D.ignorePermissions?0:v.includes("r")&&!(y.mode&292)||v.includes("w")&&!(y.mode&146)||v.includes("x")&&!(y.mode&73)?2:0},mayLookup:function(y){var v=D.nodePermissions(y,"x");return v||(y.node_ops.lookup?0:2)},mayCreate:function(y,v){try{var b=D.lookupNode(y,v);return 20}catch{}return D.nodePermissions(y,"wx")},mayDelete:function(y,v,b){var A;try{A=D.lookupNode(y,v)}catch(Q){return Q.errno}var U=D.nodePermissions(y,"wx");if(U)return U;if(b){if(!D.isDir(A.mode))return 54;if(D.isRoot(A)||D.getPath(A)===D.cwd())return 10}else if(D.isDir(A.mode))return 31;return 0},mayOpen:function(y,v){return y?D.isLink(y.mode)?32:D.isDir(y.mode)&&(D.flagsToPermissionString(v)!=="r"||v&512)?31:D.nodePermissions(y,D.flagsToPermissionString(v)):44},MAX_OPEN_FDS:4096,nextfd:function(y,v){y=y||0,v=v||D.MAX_OPEN_FDS;for(var b=y;b<=v;b++)if(!D.streams[b])return b;throw new D.ErrnoError(33)},getStream:function(y){return D.streams[y]},createStream:function(y,v,b){D.FSStream||(D.FSStream=function(){},D.FSStream.prototype={object:{get:function(){return this.node},set:function(X){this.node=X}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var A=new D.FSStream;for(var U in y)A[U]=y[U];y=A;var Q=D.nextfd(v,b);return y.fd=Q,D.streams[Q]=y,y},closeStream:function(y){D.streams[y]=null},chrdev_stream_ops:{open:function(y){var v=D.getDevice(y.node.rdev);y.stream_ops=v.stream_ops,y.stream_ops.open&&y.stream_ops.open(y)},llseek:function(){throw new D.ErrnoError(70)}},major:function(y){return y>>8},minor:function(y){return y&255},makedev:function(y,v){return y<<8|v},registerDevice:function(y,v){D.devices[y]={stream_ops:v}},getDevice:function(y){return D.devices[y]},getMounts:function(y){for(var v=[],b=[y];b.length;){var A=b.pop();v.push(A),b.push.apply(b,A.mounts)}return v},syncfs:function(y,v){typeof y=="function"&&(v=y,y=!1),D.syncFSRequests++,D.syncFSRequests>1&&R("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=D.getMounts(D.root.mount),A=0;function U(X){return D.syncFSRequests--,v(X)}function Q(X){if(X)return Q.errored?void 0:(Q.errored=!0,U(X));++A>=b.length&&U(null)}b.forEach(function(X){if(!X.type.syncfs)return Q(null);X.type.syncfs(X,y,Q)})},mount:function(y,v,b){var A=b==="/",U=!b,Q;if(A&&D.root)throw new D.ErrnoError(10);if(!A&&!U){var X=D.lookupPath(b,{follow_mount:!1});if(b=X.path,Q=X.node,D.isMountpoint(Q))throw new D.ErrnoError(10);if(!D.isDir(Q.mode))throw new D.ErrnoError(54)}var ne={type:y,opts:v,mountpoint:b,mounts:[]},ue=y.mount(ne);return ue.mount=ne,ne.root=ue,A?D.root=ue:Q&&(Q.mounted=ne,Q.mount&&Q.mount.mounts.push(ne)),ue},unmount:function(y){var v=D.lookupPath(y,{follow_mount:!1});if(!D.isMountpoint(v.node))throw new D.ErrnoError(28);var b=v.node,A=b.mounted,U=D.getMounts(A);Object.keys(D.nameTable).forEach(function(X){for(var ne=D.nameTable[X];ne;){var ue=ne.name_next;U.includes(ne.mount)&&D.destroyNode(ne),ne=ue}}),b.mounted=null;var Q=b.mount.mounts.indexOf(A);b.mount.mounts.splice(Q,1)},lookup:function(y,v){return y.node_ops.lookup(y,v)},mknod:function(y,v,b){var A=D.lookupPath(y,{parent:!0}),U=A.node,Q=fe.basename(y);if(!Q||Q==="."||Q==="..")throw new D.ErrnoError(28);var X=D.mayCreate(U,Q);if(X)throw new D.ErrnoError(X);if(!U.node_ops.mknod)throw new D.ErrnoError(63);return U.node_ops.mknod(U,Q,v,b)},create:function(y,v){return v=v!==void 0?v:438,v&=4095,v|=32768,D.mknod(y,v,0)},mkdir:function(y,v){return v=v!==void 0?v:511,v&=1023,v|=16384,D.mknod(y,v,0)},mkdirTree:function(y,v){for(var b=y.split("/"),A="",U=0;U<b.length;++U)if(!!b[U]){A+="/"+b[U];try{D.mkdir(A,v)}catch(Q){if(Q.errno!=20)throw Q}}},mkdev:function(y,v,b){return typeof b>"u"&&(b=v,v=438),v|=8192,D.mknod(y,v,b)},symlink:function(y,v){if(!ve.resolve(y))throw new D.ErrnoError(44);var b=D.lookupPath(v,{parent:!0}),A=b.node;if(!A)throw new D.ErrnoError(44);var U=fe.basename(v),Q=D.mayCreate(A,U);if(Q)throw new D.ErrnoError(Q);if(!A.node_ops.symlink)throw new D.ErrnoError(63);return A.node_ops.symlink(A,U,y)},rename:function(y,v){var b=fe.dirname(y),A=fe.dirname(v),U=fe.basename(y),Q=fe.basename(v),X,ne,ue;if(X=D.lookupPath(y,{parent:!0}),ne=X.node,X=D.lookupPath(v,{parent:!0}),ue=X.node,!ne||!ue)throw new D.ErrnoError(44);if(ne.mount!==ue.mount)throw new D.ErrnoError(75);var Se=D.lookupNode(ne,U),Le=ve.relative(y,A);if(Le.charAt(0)!==".")throw new D.ErrnoError(28);if(Le=ve.relative(v,b),Le.charAt(0)!==".")throw new D.ErrnoError(55);var Ke;try{Ke=D.lookupNode(ue,Q)}catch{}if(Se!==Ke){var Xe=D.isDir(Se.mode),Je=D.mayDelete(ne,U,Xe);if(Je)throw new D.ErrnoError(Je);if(Je=Ke?D.mayDelete(ue,Q,Xe):D.mayCreate(ue,Q),Je)throw new D.ErrnoError(Je);if(!ne.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(Se)||Ke&&D.isMountpoint(Ke))throw new D.ErrnoError(10);if(ue!==ne&&(Je=D.nodePermissions(ne,"w"),Je))throw new D.ErrnoError(Je);try{D.trackingDelegate.willMovePath&&D.trackingDelegate.willMovePath(y,v)}catch(ft){R("FS.trackingDelegate['willMovePath']('"+y+"', '"+v+"') threw an exception: "+ft.message)}D.hashRemoveNode(Se);try{ne.node_ops.rename(Se,ue,Q)}catch(ft){throw ft}finally{D.hashAddNode(Se)}try{D.trackingDelegate.onMovePath&&D.trackingDelegate.onMovePath(y,v)}catch(ft){R("FS.trackingDelegate['onMovePath']('"+y+"', '"+v+"') threw an exception: "+ft.message)}}},rmdir:function(y){var v=D.lookupPath(y,{parent:!0}),b=v.node,A=fe.basename(y),U=D.lookupNode(b,A),Q=D.mayDelete(b,A,!0);if(Q)throw new D.ErrnoError(Q);if(!b.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(U))throw new D.ErrnoError(10);try{D.trackingDelegate.willDeletePath&&D.trackingDelegate.willDeletePath(y)}catch(X){R("FS.trackingDelegate['willDeletePath']('"+y+"') threw an exception: "+X.message)}b.node_ops.rmdir(b,A),D.destroyNode(U);try{D.trackingDelegate.onDeletePath&&D.trackingDelegate.onDeletePath(y)}catch(X){R("FS.trackingDelegate['onDeletePath']('"+y+"') threw an exception: "+X.message)}},readdir:function(y){var v=D.lookupPath(y,{follow:!0}),b=v.node;if(!b.node_ops.readdir)throw new D.ErrnoError(54);return b.node_ops.readdir(b)},unlink:function(y){var v=D.lookupPath(y,{parent:!0}),b=v.node,A=fe.basename(y),U=D.lookupNode(b,A),Q=D.mayDelete(b,A,!1);if(Q)throw new D.ErrnoError(Q);if(!b.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(U))throw new D.ErrnoError(10);try{D.trackingDelegate.willDeletePath&&D.trackingDelegate.willDeletePath(y)}catch(X){R("FS.trackingDelegate['willDeletePath']('"+y+"') threw an exception: "+X.message)}b.node_ops.unlink(b,A),D.destroyNode(U);try{D.trackingDelegate.onDeletePath&&D.trackingDelegate.onDeletePath(y)}catch(X){R("FS.trackingDelegate['onDeletePath']('"+y+"') threw an exception: "+X.message)}},readlink:function(y){var v=D.lookupPath(y),b=v.node;if(!b)throw new D.ErrnoError(44);if(!b.node_ops.readlink)throw new D.ErrnoError(28);return ve.resolve(D.getPath(b.parent),b.node_ops.readlink(b))},stat:function(y,v){var b=D.lookupPath(y,{follow:!v}),A=b.node;if(!A)throw new D.ErrnoError(44);if(!A.node_ops.getattr)throw new D.ErrnoError(63);return A.node_ops.getattr(A)},lstat:function(y){return D.stat(y,!0)},chmod:function(y,v,b){var A;if(typeof y=="string"){var U=D.lookupPath(y,{follow:!b});A=U.node}else A=y;if(!A.node_ops.setattr)throw new D.ErrnoError(63);A.node_ops.setattr(A,{mode:v&4095|A.mode&-4096,timestamp:Date.now()})},lchmod:function(y,v){D.chmod(y,v,!0)},fchmod:function(y,v){var b=D.getStream(y);if(!b)throw new D.ErrnoError(8);D.chmod(b.node,v)},chown:function(y,v,b,A){var U;if(typeof y=="string"){var Q=D.lookupPath(y,{follow:!A});U=Q.node}else U=y;if(!U.node_ops.setattr)throw new D.ErrnoError(63);U.node_ops.setattr(U,{timestamp:Date.now()})},lchown:function(y,v,b){D.chown(y,v,b,!0)},fchown:function(y,v,b){var A=D.getStream(y);if(!A)throw new D.ErrnoError(8);D.chown(A.node,v,b)},truncate:function(y,v){if(v<0)throw new D.ErrnoError(28);var b;if(typeof y=="string"){var A=D.lookupPath(y,{follow:!0});b=A.node}else b=y;if(!b.node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(b.mode))throw new D.ErrnoError(31);if(!D.isFile(b.mode))throw new D.ErrnoError(28);var U=D.nodePermissions(b,"w");if(U)throw new D.ErrnoError(U);b.node_ops.setattr(b,{size:v,timestamp:Date.now()})},ftruncate:function(y,v){var b=D.getStream(y);if(!b)throw new D.ErrnoError(8);if((b.flags&2097155)===0)throw new D.ErrnoError(28);D.truncate(b.node,v)},utime:function(y,v,b){var A=D.lookupPath(y,{follow:!0}),U=A.node;U.node_ops.setattr(U,{timestamp:Math.max(v,b)})},open:function(y,v,b,A,U){if(y==="")throw new D.ErrnoError(44);v=typeof v=="string"?D.modeStringToFlags(v):v,b=typeof b>"u"?438:b,v&64?b=b&4095|32768:b=0;var Q;if(typeof y=="object")Q=y;else{y=fe.normalize(y);try{var X=D.lookupPath(y,{follow:!(v&131072)});Q=X.node}catch{}}var ne=!1;if(v&64)if(Q){if(v&128)throw new D.ErrnoError(20)}else Q=D.mknod(y,b,0),ne=!0;if(!Q)throw new D.ErrnoError(44);if(D.isChrdev(Q.mode)&&(v&=-513),v&65536&&!D.isDir(Q.mode))throw new D.ErrnoError(54);if(!ne){var ue=D.mayOpen(Q,v);if(ue)throw new D.ErrnoError(ue)}v&512&&D.truncate(Q,0),v&=-131713;var Se=D.createStream({node:Q,path:D.getPath(Q),flags:v,seekable:!0,position:0,stream_ops:Q.stream_ops,ungotten:[],error:!1},A,U);Se.stream_ops.open&&Se.stream_ops.open(Se),n.logReadFiles&&!(v&1)&&(D.readFiles||(D.readFiles={}),y in D.readFiles||(D.readFiles[y]=1,R("FS.trackingDelegate error on read file: "+y)));try{if(D.trackingDelegate.onOpenFile){var Le=0;(v&2097155)!==1&&(Le|=D.tracking.openFlags.READ),(v&2097155)!==0&&(Le|=D.tracking.openFlags.WRITE),D.trackingDelegate.onOpenFile(y,Le)}}catch(Ke){R("FS.trackingDelegate['onOpenFile']('"+y+"', flags) threw an exception: "+Ke.message)}return Se},close:function(y){if(D.isClosed(y))throw new D.ErrnoError(8);y.getdents&&(y.getdents=null);try{y.stream_ops.close&&y.stream_ops.close(y)}catch(v){throw v}finally{D.closeStream(y.fd)}y.fd=null},isClosed:function(y){return y.fd===null},llseek:function(y,v,b){if(D.isClosed(y))throw new D.ErrnoError(8);if(!y.seekable||!y.stream_ops.llseek)throw new D.ErrnoError(70);if(b!=0&&b!=1&&b!=2)throw new D.ErrnoError(28);return y.position=y.stream_ops.llseek(y,v,b),y.ungotten=[],y.position},read:function(y,v,b,A,U){if(b>>>=0,A<0||U<0)throw new D.ErrnoError(28);if(D.isClosed(y))throw new D.ErrnoError(8);if((y.flags&2097155)===1)throw new D.ErrnoError(8);if(D.isDir(y.node.mode))throw new D.ErrnoError(31);if(!y.stream_ops.read)throw new D.ErrnoError(28);var Q=typeof U<"u";if(!Q)U=y.position;else if(!y.seekable)throw new D.ErrnoError(70);var X=y.stream_ops.read(y,v,b,A,U);return Q||(y.position+=X),X},write:function(y,v,b,A,U,Q){if(b>>>=0,A<0||U<0)throw new D.ErrnoError(28);if(D.isClosed(y))throw new D.ErrnoError(8);if((y.flags&2097155)===0)throw new D.ErrnoError(8);if(D.isDir(y.node.mode))throw new D.ErrnoError(31);if(!y.stream_ops.write)throw new D.ErrnoError(28);y.seekable&&y.flags&1024&&D.llseek(y,0,2);var X=typeof U<"u";if(!X)U=y.position;else if(!y.seekable)throw new D.ErrnoError(70);var ne=y.stream_ops.write(y,v,b,A,U,Q);X||(y.position+=ne);try{y.path&&D.trackingDelegate.onWriteToFile&&D.trackingDelegate.onWriteToFile(y.path)}catch(ue){R("FS.trackingDelegate['onWriteToFile']('"+y.path+"') threw an exception: "+ue.message)}return ne},allocate:function(y,v,b){if(D.isClosed(y))throw new D.ErrnoError(8);if(v<0||b<=0)throw new D.ErrnoError(28);if((y.flags&2097155)===0)throw new D.ErrnoError(8);if(!D.isFile(y.node.mode)&&!D.isDir(y.node.mode))throw new D.ErrnoError(43);if(!y.stream_ops.allocate)throw new D.ErrnoError(138);y.stream_ops.allocate(y,v,b)},mmap:function(y,v,b,A,U,Q){if(v>>>=0,(U&2)!==0&&(Q&2)===0&&(y.flags&2097155)!==2)throw new D.ErrnoError(2);if((y.flags&2097155)===1)throw new D.ErrnoError(2);if(!y.stream_ops.mmap)throw new D.ErrnoError(43);return y.stream_ops.mmap(y,v,b,A,U,Q)},msync:function(y,v,b,A,U){return b>>>=0,!y||!y.stream_ops.msync?0:y.stream_ops.msync(y,v,b,A,U)},munmap:function(y){return 0},ioctl:function(y,v,b){if(!y.stream_ops.ioctl)throw new D.ErrnoError(59);return y.stream_ops.ioctl(y,v,b)},readFile:function(y,v){if(v=v||{},v.flags=v.flags||0,v.encoding=v.encoding||"binary",v.encoding!=="utf8"&&v.encoding!=="binary")throw new Error('Invalid encoding type "'+v.encoding+'"');var b,A=D.open(y,v.flags),U=D.stat(y),Q=U.size,X=new Uint8Array(Q);return D.read(A,X,0,Q,0),v.encoding==="utf8"?b=Z(X,0):v.encoding==="binary"&&(b=X),D.close(A),b},writeFile:function(y,v,b){b=b||{},b.flags=b.flags||577;var A=D.open(y,b.flags,b.mode);if(typeof v=="string"){var U=new Uint8Array(ie(v)+1),Q=ee(v,U,0,U.length);D.write(A,U,0,Q,void 0,b.canOwn)}else if(ArrayBuffer.isView(v))D.write(A,v,0,v.byteLength,void 0,b.canOwn);else throw new Error("Unsupported data type");D.close(A)},cwd:function(){return D.currentPath},chdir:function(y){var v=D.lookupPath(y,{follow:!0});if(v.node===null)throw new D.ErrnoError(44);if(!D.isDir(v.node.mode))throw new D.ErrnoError(54);var b=D.nodePermissions(v.node,"x");if(b)throw new D.ErrnoError(b);D.currentPath=v.path},createDefaultDirectories:function(){D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:function(){D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:function(){return 0},write:function(v,b,A,U,Q){return U}}),D.mkdev("/dev/null",D.makedev(1,3)),Oe.register(D.makedev(5,0),Oe.default_tty_ops),Oe.register(D.makedev(6,0),Oe.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var y=Fe();D.createDevice("/dev","random",y),D.createDevice("/dev","urandom",y),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){D.mkdir("/proc");var y=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:function(){var v=D.createNode(y,"fd",16895,73);return v.node_ops={lookup:function(b,A){var U=+A,Q=D.getStream(U);if(!Q)throw new D.ErrnoError(8);var X={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return Q.path}}};return X.parent=X,X}},v}},{},"/proc/self/fd")},createStandardStreams:function(){n.stdin?D.createDevice("/dev","stdin",n.stdin):D.symlink("/dev/tty","/dev/stdin"),n.stdout?D.createDevice("/dev","stdout",null,n.stdout):D.symlink("/dev/tty","/dev/stdout"),n.stderr?D.createDevice("/dev","stderr",null,n.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:function(){D.ErrnoError||(D.ErrnoError=function(v,b){this.node=b,this.setErrno=function(A){this.errno=A},this.setErrno(v),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(function(y){D.genericErrors[y]=new D.ErrnoError(y),D.genericErrors[y].stack="<generic error, no stack>"}))},staticInit:function(){D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(We,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:We}},init:function(y,v,b){D.init.initialized=!0,D.ensureErrnoError(),n.stdin=y||n.stdin,n.stdout=v||n.stdout,n.stderr=b||n.stderr,D.createStandardStreams()},quit:function(){D.init.initialized=!1;var y=n._fflush;y&&y(0);for(var v=0;v<D.streams.length;v++){var b=D.streams[v];!b||D.close(b)}},getMode:function(y,v){var b=0;return y&&(b|=365),v&&(b|=146),b},findObject:function(y,v){var b=D.analyzePath(y,v);return b.exists?b.object:null},analyzePath:function(y,v){try{var b=D.lookupPath(y,{follow:!v});y=b.path}catch{}var A={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=D.lookupPath(y,{parent:!0});A.parentExists=!0,A.parentPath=b.path,A.parentObject=b.node,A.name=fe.basename(y),b=D.lookupPath(y,{follow:!v}),A.exists=!0,A.path=b.path,A.object=b.node,A.name=b.node.name,A.isRoot=b.path==="/"}catch(U){A.error=U.errno}return A},createPath:function(y,v,b,A){y=typeof y=="string"?y:D.getPath(y);for(var U=v.split("/").reverse();U.length;){var Q=U.pop();if(!!Q){var X=fe.join2(y,Q);try{D.mkdir(X)}catch{}y=X}}return X},createFile:function(y,v,b,A,U){var Q=fe.join2(typeof y=="string"?y:D.getPath(y),v),X=D.getMode(A,U);return D.create(Q,X)},createDataFile:function(y,v,b,A,U,Q){var X=v?fe.join2(typeof y=="string"?y:D.getPath(y),v):y,ne=D.getMode(A,U),ue=D.create(X,ne);if(b){if(typeof b=="string"){for(var Se=new Array(b.length),Le=0,Ke=b.length;Le<Ke;++Le)Se[Le]=b.charCodeAt(Le);b=Se}D.chmod(ue,ne|146);var Xe=D.open(ue,577);D.write(Xe,b,0,b.length,0,Q),D.close(Xe),D.chmod(ue,ne)}return ue},createDevice:function(y,v,b,A){var U=fe.join2(typeof y=="string"?y:D.getPath(y),v),Q=D.getMode(!!b,!!A);D.createDevice.major||(D.createDevice.major=64);var X=D.makedev(D.createDevice.major++,0);return D.registerDevice(X,{open:function(ne){ne.seekable=!1},close:function(ne){A&&A.buffer&&A.buffer.length&&A(10)},read:function(ne,ue,Se,Le,Ke){for(var Xe=0,Je=0;Je<Le;Je++){var ft;try{ft=b()}catch{throw new D.ErrnoError(29)}if(ft===void 0&&Xe===0)throw new D.ErrnoError(6);if(ft==null)break;Xe++,ue[Se+Je]=ft}return Xe&&(ne.node.timestamp=Date.now()),Xe},write:function(ne,ue,Se,Le,Ke){for(var Xe=0;Xe<Le;Xe++)try{A(ue[Se+Xe])}catch{throw new D.ErrnoError(29)}return Le&&(ne.node.timestamp=Date.now()),Xe}}),D.mkdev(U,Q,X)},forceLoadFile:function(y){if(y.isDevice||y.isFolder||y.link||y.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(I)try{y.contents=Ul(I(y.url),!0),y.usedBytes=y.contents.length}catch{throw new D.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(y,v,b,A,U){function Q(){this.lengthKnown=!1,this.chunks=[]}if(Q.prototype.get=function(Xe){if(!(Xe>this.length-1||Xe<0)){var Je=Xe%this.chunkSize,ft=Xe/this.chunkSize|0;return this.getter(ft)[Je]}},Q.prototype.setDataGetter=function(Xe){this.getter=Xe},Q.prototype.cacheLength=function(){var Xe=new XMLHttpRequest;if(Xe.open("HEAD",b,!1),Xe.send(null),!(Xe.status>=200&&Xe.status<300||Xe.status===304))throw new Error("Couldn't load "+b+". Status: "+Xe.status);var Je=Number(Xe.getResponseHeader("Content-length")),ft,Dt=(ft=Xe.getResponseHeader("Accept-Ranges"))&&ft==="bytes",ns=(ft=Xe.getResponseHeader("Content-Encoding"))&&ft==="gzip",Kt=1024*1024;Dt||(Kt=Je);var je=function(Wt,Ot){if(Wt>Ot)throw new Error("invalid range ("+Wt+", "+Ot+") or no bytes requested!");if(Ot>Je-1)throw new Error("only "+Je+" bytes available! programmer error!");var yt=new XMLHttpRequest;if(yt.open("GET",b,!1),Je!==Kt&&yt.setRequestHeader("Range","bytes="+Wt+"-"+Ot),typeof Uint8Array<"u"&&(yt.responseType="arraybuffer"),yt.overrideMimeType&&yt.overrideMimeType("text/plain; charset=x-user-defined"),yt.send(null),!(yt.status>=200&&yt.status<300||yt.status===304))throw new Error("Couldn't load "+b+". Status: "+yt.status);return yt.response!==void 0?new Uint8Array(yt.response||[]):Ul(yt.responseText||"",!0)},ot=this;ot.setDataGetter(function(Wt){var Ot=Wt*Kt,yt=(Wt+1)*Kt-1;if(yt=Math.min(yt,Je-1),typeof ot.chunks[Wt]>"u"&&(ot.chunks[Wt]=je(Ot,yt)),typeof ot.chunks[Wt]>"u")throw new Error("doXHR failed!");return ot.chunks[Wt]}),(ns||!Je)&&(Kt=Je=1,Je=this.getter(0).length,Kt=Je,O("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Je,this._chunkSize=Kt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!f)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var X=new Q;Object.defineProperties(X,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var ne={isDevice:!1,contents:X}}else var ne={isDevice:!1,url:b};var ue=D.createFile(y,v,ne,A,U);ne.contents?ue.contents=ne.contents:ne.url&&(ue.contents=null,ue.url=ne.url),Object.defineProperties(ue,{usedBytes:{get:function(){return this.contents.length}}});var Se={},Le=Object.keys(ue.stream_ops);return Le.forEach(function(Ke){var Xe=ue.stream_ops[Ke];Se[Ke]=function(){return D.forceLoadFile(ue),Xe.apply(null,arguments)}}),Se.read=function(Xe,Je,ft,Dt,ns){D.forceLoadFile(ue);var Kt=Xe.node.contents;if(ns>=Kt.length)return 0;var je=Math.min(Kt.length-ns,Dt);if(Kt.slice)for(var ot=0;ot<je;ot++)Je[ft+ot]=Kt[ns+ot];else for(var ot=0;ot<je;ot++)Je[ft+ot]=Kt.get(ns+ot);return je},ue.stream_ops=Se,ue},createPreloadedFile:function(y,v,b,A,U,Q,X,ne,ue,Se){Browser.init();var Le=v?ve.resolve(fe.join2(y,v)):y;function Ke(Xe){function Je(Dt){Se&&Se(),ne||D.createDataFile(y,v,Dt,A,U,ue),Q&&Q(),es()}var ft=!1;n.preloadPlugins.forEach(function(Dt){ft||Dt.canHandle(Le)&&(Dt.handle(Xe,Le,Je,function(){X&&X(),es()}),ft=!0)}),ft||Je(Xe)}It(),typeof b=="string"?xt(b,function(Xe){Ke(Xe)},X):Ke(b)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(y,v,b){v=v||function(){},b=b||function(){};var A=D.indexedDB();try{var U=A.open(D.DB_NAME(),D.DB_VERSION)}catch(Q){return b(Q)}U.onupgradeneeded=function(){O("creating db");var X=U.result;X.createObjectStore(D.DB_STORE_NAME)},U.onsuccess=function(){var X=U.result,ne=X.transaction([D.DB_STORE_NAME],"readwrite"),ue=ne.objectStore(D.DB_STORE_NAME),Se=0,Le=0,Ke=y.length;function Xe(){Le==0?v():b()}y.forEach(function(Je){var ft=ue.put(D.analyzePath(Je).object.contents,Je);ft.onsuccess=function(){Se++,Se+Le==Ke&&Xe()},ft.onerror=function(){Le++,Se+Le==Ke&&Xe()}}),ne.onerror=b},U.onerror=b},loadFilesFromDB:function(y,v,b){v=v||function(){},b=b||function(){};var A=D.indexedDB();try{var U=A.open(D.DB_NAME(),D.DB_VERSION)}catch(Q){return b(Q)}U.onupgradeneeded=b,U.onsuccess=function(){var X=U.result;try{var ne=X.transaction([D.DB_STORE_NAME],"readonly")}catch(Je){b(Je);return}var ue=ne.objectStore(D.DB_STORE_NAME),Se=0,Le=0,Ke=y.length;function Xe(){Le==0?v():b()}y.forEach(function(Je){var ft=ue.get(Je);ft.onsuccess=function(){D.analyzePath(Je).exists&&D.unlink(Je),D.createDataFile(fe.dirname(Je),fe.basename(Je),ft.result,!0,!0,!0),Se++,Se+Le==Ke&&Xe()},ft.onerror=function(){Le++,Se+Le==Ke&&Xe()}}),ne.onerror=b},U.onerror=b}},lt={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(y,v,b){if(v[0]==="/")return v;var A;if(y===-100)A=D.cwd();else{var U=D.getStream(y);if(!U)throw new D.ErrnoError(8);A=U.path}if(v.length==0){if(!b)throw new D.ErrnoError(44);return A}return fe.join2(A,v)},doStat:function(y,v,b){try{var A=y(v)}catch(U){if(U&&U.node&&fe.normalize(v)!==fe.normalize(D.getPath(U.node)))return-54;throw U}return z[b>>>2]=A.dev,z[b+4>>>2]=0,z[b+8>>>2]=A.ino,z[b+12>>>2]=A.mode,z[b+16>>>2]=A.nlink,z[b+20>>>2]=A.uid,z[b+24>>>2]=A.gid,z[b+28>>>2]=A.rdev,z[b+32>>>2]=0,$i=[A.size>>>0,(ys=A.size,+Math.abs(ys)>=1?ys>0?(Math.min(+Math.floor(ys/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ys-+(~~ys>>>0))/4294967296)>>>0:0)],z[b+40>>>2]=$i[0],z[b+44>>>2]=$i[1],z[b+48>>>2]=4096,z[b+52>>>2]=A.blocks,z[b+56>>>2]=A.atime.getTime()/1e3|0,z[b+60>>>2]=0,z[b+64>>>2]=A.mtime.getTime()/1e3|0,z[b+68>>>2]=0,z[b+72>>>2]=A.ctime.getTime()/1e3|0,z[b+76>>>2]=0,$i=[A.ino>>>0,(ys=A.ino,+Math.abs(ys)>=1?ys>0?(Math.min(+Math.floor(ys/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ys-+(~~ys>>>0))/4294967296)>>>0:0)],z[b+80>>>2]=$i[0],z[b+84>>>2]=$i[1],0},doMsync:function(y,v,b,A,U){var Q=ct.slice(y,y+b);D.msync(v,Q,U,b,A)},doMkdir:function(y,v){return y=fe.normalize(y),y[y.length-1]==="/"&&(y=y.substr(0,y.length-1)),D.mkdir(y,v,0),0},doMknod:function(y,v,b){switch(v&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return D.mknod(y,v,b),0},doReadlink:function(y,v,b){if(b<=0)return-28;var A=D.readlink(y),U=Math.min(b,ie(A)),Q=Ne[v+U>>>0];return J(A,v,b+1),Ne[v+U>>>0]=Q,U},doAccess:function(y,v){if(v&-8)return-28;var b,A=D.lookupPath(y,{follow:!0});if(b=A.node,!b)return-44;var U="";return v&4&&(U+="r"),v&2&&(U+="w"),v&1&&(U+="x"),U&&D.nodePermissions(b,U)?-2:0},doDup:function(y,v,b){var A=D.getStream(b);return A&&D.close(A),D.open(y,v,0,b,b).fd},doReadv:function(y,v,b,A){for(var U=0,Q=0;Q<b;Q++){var X=z[v+Q*8>>>2],ne=z[v+(Q*8+4)>>>2],ue=D.read(y,Ne,X,ne,A);if(ue<0)return-1;if(U+=ue,ue<ne)break}return U},doWritev:function(y,v,b,A){for(var U=0,Q=0;Q<b;Q++){var X=z[v+Q*8>>>2],ne=z[v+(Q*8+4)>>>2],ue=D.write(y,Ne,X,ne,A);if(ue<0)return-1;U+=ue}return U},varargs:void 0,get:function(){lt.varargs+=4;var y=z[lt.varargs-4>>>2];return y},getStr:function(y){var v=te(y);return v},getStreamFromFD:function(y){var v=D.getStream(y);if(!v)throw new D.ErrnoError(8);return v},get64:function(y,v){return y}};function Ct(y,v,b){lt.varargs=b;try{var A=lt.getStreamFromFD(y);switch(v){case 0:{var U=lt.get();if(U<0)return-28;var Q;return Q=D.open(A.path,A.flags,0,U),Q.fd}case 1:case 2:return 0;case 3:return A.flags;case 4:{var U=lt.get();return A.flags|=U,0}case 12:{var U=lt.get(),X=0;return we[U+X>>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return K(28),-1;default:return-28}}catch(ne){return(typeof D>"u"||!(ne instanceof D.ErrnoError))&&Nt(ne),-ne.errno}}function Pt(y,v,b){lt.varargs=b;try{var A=lt.getStreamFromFD(y);switch(v){case 21509:case 21505:return A.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return A.tty?0:-59;case 21519:{if(!A.tty)return-59;var U=lt.get();return z[U>>>2]=0,0}case 21520:return A.tty?-28:-59;case 21531:{var U=lt.get();return D.ioctl(A,v,U)}case 21523:return A.tty?0:-59;case 21524:return A.tty?0:-59;default:Nt("bad ioctl syscall "+v)}}catch(Q){return(typeof D>"u"||!(Q instanceof D.ErrnoError))&&Nt(Q),-Q.errno}}function fs(y,v,b){lt.varargs=b;try{var A=lt.getStr(y),U=b?lt.get():0,Q=D.open(A,v,U);return Q.fd}catch(X){return(typeof D>"u"||!(X instanceof D.ErrnoError))&&Nt(X),-X.errno}}var ii={};function Ft(y){for(;y.length;){var v=y.pop(),b=y.pop();b(v)}}function Mi(y){return this.fromWireType(pe[y>>>2])}var zt={},ri={},nt={},Nr=48,mr=57;function rs(y){if(y===void 0)return"_unknown";y=y.replace(/[^a-zA-Z0-9_]/g,"$");var v=y.charCodeAt(0);return v>=Nr&&v<=mr?"_"+y:y}function Ti(y,v){return y=rs(y),new Function("body","return function "+y+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(v)}function ni(y,v){var b=Ti(v,function(A){this.name=v,this.message=A;var U=new Error(A).stack;U!==void 0&&(this.stack=this.toString()+`
`+U.replace(/^Error(:[^\n]*)?\n/,""))});return b.prototype=Object.create(y.prototype),b.prototype.constructor=b,b.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},b}var uc=void 0;function gl(y){throw new uc(y)}function en(y,v,b){y.forEach(function(ne){nt[ne]=v});function A(ne){var ue=b(ne);ue.length!==y.length&&gl("Mismatched type converter count");for(var Se=0;Se<y.length;++Se)Et(y[Se],ue[Se])}var U=new Array(v.length),Q=[],X=0;v.forEach(function(ne,ue){ri.hasOwnProperty(ne)?U[ue]=ri[ne]:(Q.push(ne),zt.hasOwnProperty(ne)||(zt[ne]=[]),zt[ne].push(function(){U[ue]=ri[ne],++X,X===Q.length&&A(U)}))}),Q.length===0&&A(U)}function ym(y){var v=ii[y];delete ii[y];var b=v.elements,A=b.length,U=b.map(function(ne){return ne.getterReturnType}).concat(b.map(function(ne){return ne.setterArgumentType})),Q=v.rawConstructor,X=v.rawDestructor;en([y],U,function(ne){return b.forEach(function(ue,Se){var Le=ne[Se],Ke=ue.getter,Xe=ue.getterContext,Je=ne[Se+A],ft=ue.setter,Dt=ue.setterContext;ue.read=function(ns){return Le.fromWireType(Ke(Xe,ns))},ue.write=function(ns,Kt){var je=[];ft(Dt,ns,Je.toWireType(je,Kt)),Ft(je)}}),[{name:v.name,fromWireType:function(ue){for(var Se=new Array(A),Le=0;Le<A;++Le)Se[Le]=b[Le].read(ue);return X(ue),Se},toWireType:function(ue,Se){if(A!==Se.length)throw new TypeError("Incorrect number of tuple elements for "+v.name+": expected="+A+", actual="+Se.length);for(var Le=Q(),Ke=0;Ke<A;++Ke)b[Ke].write(Le,Se[Ke]);return ue!==null&&ue.push(X,Le),Le},argPackAdvance:8,readValueFromPointer:Mi,destructorFunction:X}]})}var yl={};function Im(y){var v=yl[y];delete yl[y];var b=v.rawConstructor,A=v.rawDestructor,U=v.fields,Q=U.map(function(X){return X.getterReturnType}).concat(U.map(function(X){return X.setterArgumentType}));en([y],Q,function(X){var ne={};return U.forEach(function(ue,Se){var Le=ue.fieldName,Ke=X[Se],Xe=ue.getter,Je=ue.getterContext,ft=X[Se+U.length],Dt=ue.setter,ns=ue.setterContext;ne[Le]={read:function(Kt){return Ke.fromWireType(Xe(Je,Kt))},write:function(Kt,je){var ot=[];Dt(ns,Kt,ft.toWireType(ot,je)),Ft(ot)}}}),[{name:v.name,fromWireType:function(ue){var Se={};for(var Le in ne)Se[Le]=ne[Le].read(ue);return A(ue),Se},toWireType:function(ue,Se){for(var Le in ne)if(!(Le in Se))throw new TypeError('Missing field:  "'+Le+'"');var Ke=b();for(Le in ne)ne[Le].write(Ke,Se[Le]);return ue!==null&&ue.push(A,Ke),Ke},argPackAdvance:8,readValueFromPointer:Mi,destructorFunction:A}]})}function Em(y,v,b,A,U){}function Lt(y){switch(y){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+y)}}function vm(){for(var y=new Array(256),v=0;v<256;++v)y[v]=String.fromCharCode(v);Tr=y}var Tr=void 0;function ls(y){for(var v="",b=y;ct[b>>>0];)v+=Tr[ct[b++>>>0]];return v}var po=void 0;function Bt(y){throw new po(y)}function Et(y,v,b){if(b=b||{},!("argPackAdvance"in v))throw new TypeError("registerType registeredInstance requires argPackAdvance");var A=v.name;if(y||Bt('type "'+A+'" must have a positive integer typeid pointer'),ri.hasOwnProperty(y)){if(b.ignoreDuplicateRegistrations)return;Bt("Cannot register type '"+A+"' twice")}if(ri[y]=v,delete nt[y],zt.hasOwnProperty(y)){var U=zt[y];delete zt[y],U.forEach(function(Q){Q()})}}function Cm(y,v,b,A,U){var Q=Lt(b);v=ls(v),Et(y,{name:v,fromWireType:function(X){return!!X},toWireType:function(X,ne){return ne?A:U},argPackAdvance:8,readValueFromPointer:function(X){var ne;if(b===1)ne=Ne;else if(b===2)ne=we;else if(b===4)ne=z;else throw new TypeError("Unknown boolean type size: "+v);return this.fromWireType(ne[X>>>Q])},destructorFunction:null})}function M(y){if(!(this instanceof Lr)||!(y instanceof Lr))return!1;for(var v=this.$$.ptrType.registeredClass,b=this.$$.ptr,A=y.$$.ptrType.registeredClass,U=y.$$.ptr;v.baseClass;)b=v.upcast(b),v=v.baseClass;for(;A.baseClass;)U=A.upcast(U),A=A.baseClass;return v===A&&b===U}function Rs(y){return{count:y.count,deleteScheduled:y.deleteScheduled,preservePointerOnDelete:y.preservePointerOnDelete,ptr:y.ptr,ptrType:y.ptrType,smartPtr:y.smartPtr,smartPtrType:y.smartPtrType}}function Il(y){function v(b){return b.$$.ptrType.registeredClass.name}Bt(v(y)+" instance already deleted")}var El=!1;function pc(y){}function vl(y){y.smartPtr?y.smartPtrType.rawDestructor(y.smartPtr):y.ptrType.registeredClass.rawDestructor(y.ptr)}function fo(y){y.count.value-=1;var v=y.count.value===0;v&&vl(y)}function gr(y){return typeof FinalizationGroup>"u"?(gr=function(v){return v},y):(El=new FinalizationGroup(function(v){for(var b=v.next();!b.done;b=v.next()){var A=b.value;A.ptr?fo(A):console.warn("object already deleted: "+A.ptr)}}),gr=function(v){return El.register(v,v.$$,v.$$),v},pc=function(v){El.unregister(v.$$)},gr(y))}function mo(){if(this.$$.ptr||Il(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var y=gr(Object.create(Object.getPrototypeOf(this),{$$:{value:Rs(this.$$)}}));return y.$$.count.value+=1,y.$$.deleteScheduled=!1,y}function Mn(){this.$$.ptr||Il(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Bt("Object already scheduled for deletion"),pc(this),fo(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Cl(){return!this.$$.ptr}var ha=void 0,ca=[];function ua(){for(;ca.length;){var y=ca.pop();y.$$.deleteScheduled=!1,y.delete()}}function _l(){return this.$$.ptr||Il(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Bt("Object already scheduled for deletion"),ca.push(this),ca.length===1&&ha&&ha(ua),this.$$.deleteScheduled=!0,this}function fc(){Lr.prototype.isAliasOf=M,Lr.prototype.clone=mo,Lr.prototype.delete=Mn,Lr.prototype.isDeleted=Cl,Lr.prototype.deleteLater=_l}function Lr(){}var pa={};function Ur(y,v,b){if(y[v].overloadTable===void 0){var A=y[v];y[v]=function(){return y[v].overloadTable.hasOwnProperty(arguments.length)||Bt("Function '"+b+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+y[v].overloadTable+")!"),y[v].overloadTable[arguments.length].apply(this,arguments)},y[v].overloadTable=[],y[v].overloadTable[A.argCount]=A}}function dc(y,v,b){n.hasOwnProperty(y)?((b===void 0||n[y].overloadTable!==void 0&&n[y].overloadTable[b]!==void 0)&&Bt("Cannot register public name '"+y+"' twice"),Ur(n,y,y),n.hasOwnProperty(b)&&Bt("Cannot register multiple overloads of a function with the same number of arguments ("+b+")!"),n[y].overloadTable[b]=v):(n[y]=v,b!==void 0&&(n[y].numArguments=b))}function wl(y,v,b,A,U,Q,X,ne){this.name=y,this.constructor=v,this.instancePrototype=b,this.rawDestructor=A,this.baseClass=U,this.getActualType=Q,this.upcast=X,this.downcast=ne,this.pureVirtualFunctions=[]}function mc(y,v,b){for(;v!==b;)v.upcast||Bt("Expected null or instance of "+b.name+", got an instance of "+v.name),y=v.upcast(y),v=v.baseClass;return y}function _m(y,v){if(v===null)return this.isReference&&Bt("null is not a valid "+this.name),0;v.$$||Bt('Cannot pass "'+go(v)+'" as a '+this.name),v.$$.ptr||Bt("Cannot pass deleted object as a pointer of type "+this.name);var b=v.$$.ptrType.registeredClass,A=mc(v.$$.ptr,b,this.registeredClass);return A}function Sl(y,v){var b;if(v===null)return this.isReference&&Bt("null is not a valid "+this.name),this.isSmartPointer?(b=this.rawConstructor(),y!==null&&y.push(this.rawDestructor,b),b):0;v.$$||Bt('Cannot pass "'+go(v)+'" as a '+this.name),v.$$.ptr||Bt("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&v.$$.ptrType.isConst&&Bt("Cannot convert argument of type "+(v.$$.smartPtrType?v.$$.smartPtrType.name:v.$$.ptrType.name)+" to parameter type "+this.name);var A=v.$$.ptrType.registeredClass;if(b=mc(v.$$.ptr,A,this.registeredClass),this.isSmartPointer)switch(v.$$.smartPtr===void 0&&Bt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:v.$$.smartPtrType===this?b=v.$$.smartPtr:Bt("Cannot convert argument of type "+(v.$$.smartPtrType?v.$$.smartPtrType.name:v.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:b=v.$$.smartPtr;break;case 2:if(v.$$.smartPtrType===this)b=v.$$.smartPtr;else{var U=v.clone();b=this.rawShare(b,Ki(function(){U.delete()})),y!==null&&y.push(this.rawDestructor,b)}break;default:Bt("Unsupporting sharing policy")}return b}function wm(y,v){if(v===null)return this.isReference&&Bt("null is not a valid "+this.name),0;v.$$||Bt('Cannot pass "'+go(v)+'" as a '+this.name),v.$$.ptr||Bt("Cannot pass deleted object as a pointer of type "+this.name),v.$$.ptrType.isConst&&Bt("Cannot convert argument of type "+v.$$.ptrType.name+" to parameter type "+this.name);var b=v.$$.ptrType.registeredClass,A=mc(v.$$.ptr,b,this.registeredClass);return A}function lp(y){return this.rawGetPointee&&(y=this.rawGetPointee(y)),y}function Ms(y){this.rawDestructor&&this.rawDestructor(y)}function To(y){y!==null&&y.delete()}function Ut(y,v,b){if(v===b)return y;if(b.baseClass===void 0)return null;var A=Ut(y,v,b.baseClass);return A===null?null:b.downcast(A)}function yr(){return Object.keys(Nn).length}function Sm(){var y=[];for(var v in Nn)Nn.hasOwnProperty(v)&&y.push(Nn[v]);return y}function xm(y){ha=y,ca.length&&ha&&ha(ua)}function bm(){n.getInheritedInstanceCount=yr,n.getLiveInheritedInstances=Sm,n.flushPendingDeletes=ua,n.setDelayFunction=xm}var Nn={};function Tc(y,v){for(v===void 0&&Bt("ptr should not be undefined");y.baseClass;)v=y.upcast(v),y=y.baseClass;return v}function hp(y,v){return v=Tc(y,v),Nn[v]}function xl(y,v){(!v.ptrType||!v.ptr)&&gl("makeClassHandle requires ptr and ptrType");var b=!!v.smartPtrType,A=!!v.smartPtr;return b!==A&&gl("Both smartPtrType and smartPtr must be specified"),v.count={value:1},gr(Object.create(y,{$$:{value:v}}))}function cp(y){var v=this.getPointee(y);if(!v)return this.destructor(y),null;var b=hp(this.registeredClass,v);if(b!==void 0){if(b.$$.count.value===0)return b.$$.ptr=v,b.$$.smartPtr=y,b.clone();var A=b.clone();return this.destructor(y),A}function U(){return this.isSmartPointer?xl(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:v,smartPtrType:this,smartPtr:y}):xl(this.registeredClass.instancePrototype,{ptrType:this,ptr:y})}var Q=this.registeredClass.getActualType(v),X=pa[Q];if(!X)return U.call(this);var ne;this.isConst?ne=X.constPointerType:ne=X.pointerType;var ue=Ut(v,this.registeredClass,ne.registeredClass);return ue===null?U.call(this):this.isSmartPointer?xl(ne.registeredClass.instancePrototype,{ptrType:ne,ptr:ue,smartPtrType:this,smartPtr:y}):xl(ne.registeredClass.instancePrototype,{ptrType:ne,ptr:ue})}function fa(){Hr.prototype.getPointee=lp,Hr.prototype.destructor=Ms,Hr.prototype.argPackAdvance=8,Hr.prototype.readValueFromPointer=Mi,Hr.prototype.deleteObject=To,Hr.prototype.fromWireType=cp}function Hr(y,v,b,A,U,Q,X,ne,ue,Se,Le){this.name=y,this.registeredClass=v,this.isReference=b,this.isConst=A,this.isSmartPointer=U,this.pointeeType=Q,this.sharingPolicy=X,this.rawGetPointee=ne,this.rawConstructor=ue,this.rawShare=Se,this.rawDestructor=Le,!U&&v.baseClass===void 0?A?(this.toWireType=_m,this.destructorFunction=null):(this.toWireType=wm,this.destructorFunction=null):this.toWireType=Sl}function up(y,v,b){n.hasOwnProperty(y)||gl("Replacing nonexistant public symbol"),n[y].overloadTable!==void 0&&b!==void 0?n[y].overloadTable[b]=v:(n[y]=v,n[y].argCount=b)}function Fm(y,v,b){var A=n["dynCall_"+y];return b&&b.length?A.apply(null,[v].concat(b)):A.call(null,v)}function da(y,v,b){return y.includes("j")?Fm(y,v,b):De.get(v).apply(null,b)}function ma(y,v){var b=[];return function(){b.length=arguments.length;for(var A=0;A<arguments.length;A++)b[A]=arguments[A];return da(y,v,b)}}function Bs(y,v){y=ls(y);function b(){return y.includes("j")?ma(y,v):De.get(v)}var A=b();return typeof A!="function"&&Bt("unknown function pointer with signature "+y+": "+v),A}var pp=void 0;function fp(y){var v=vp(y),b=ls(v);return Br(v),b}function Zi(y,v){var b=[],A={};function U(Q){if(!A[Q]&&!ri[Q]){if(nt[Q]){nt[Q].forEach(U);return}b.push(Q),A[Q]=!0}}throw v.forEach(U),new pp(y+": "+b.map(fp).join([", "]))}function dp(y,v,b,A,U,Q,X,ne,ue,Se,Le,Ke,Xe){Le=ls(Le),Q=Bs(U,Q),ne&&(ne=Bs(X,ne)),Se&&(Se=Bs(ue,Se)),Xe=Bs(Ke,Xe);var Je=rs(Le);dc(Je,function(){Zi("Cannot construct "+Le+" due to unbound types",[A])}),en([y,v,b],A?[A]:[],function(ft){ft=ft[0];var Dt,ns;A?(Dt=ft.registeredClass,ns=Dt.instancePrototype):ns=Lr.prototype;var Kt=Ti(Je,function(){if(Object.getPrototypeOf(this)!==je)throw new po("Use 'new' to construct "+Le);if(ot.constructor_body===void 0)throw new po(Le+" has no accessible constructor");var er=ot.constructor_body[arguments.length];if(er===void 0)throw new po("Tried to invoke ctor of "+Le+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(ot.constructor_body).toString()+") parameters instead!");return er.apply(this,arguments)}),je=Object.create(ns,{constructor:{value:Kt}});Kt.prototype=je;var ot=new wl(Le,Kt,je,Xe,Dt,Q,ne,Se),Wt=new Hr(Le,ot,!0,!1,!1),Ot=new Hr(Le+"*",ot,!1,!1,!1),yt=new Hr(Le+" const*",ot,!1,!0,!1);return pa[y]={pointerType:Ot,constPointerType:yt},up(Je,Kt),[Wt,Ot,yt]})}function bl(y,v){for(var b=[],A=0;A<y;A++)b.push(z[(v>>2)+A>>>0]);return b}function gc(y,v,b,A,U,Q){oe(v>0);var X=bl(v,b);U=Bs(A,U);var ne=[Q],ue=[];en([],[y],function(Se){Se=Se[0];var Le="constructor "+Se.name;if(Se.registeredClass.constructor_body===void 0&&(Se.registeredClass.constructor_body=[]),Se.registeredClass.constructor_body[v-1]!==void 0)throw new po("Cannot register multiple constructors with identical number of parameters ("+(v-1)+") for class '"+Se.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return Se.registeredClass.constructor_body[v-1]=function(){Zi("Cannot construct "+Se.name+" due to unbound types",X)},en([],X,function(Ke){return Se.registeredClass.constructor_body[v-1]=function(){arguments.length!==v-1&&Bt(Le+" called with "+arguments.length+" arguments, expected "+(v-1)),ue.length=0,ne.length=v;for(var Je=1;Je<v;++Je)ne[Je]=Ke[Je].toWireType(ue,arguments[Je-1]);var ft=U.apply(null,ne);return Ft(ue),Ke[0].fromWireType(ft)},[]}),[]})}function Rm(y,v){if(!(y instanceof Function))throw new TypeError("new_ called with constructor type "+typeof y+" which is not a function");var b=Ti(y.name||"unknownFunctionName",function(){});b.prototype=y.prototype;var A=new b,U=y.apply(A,v);return U instanceof Object?U:A}function Fl(y,v,b,A,U){var Q=v.length;Q<2&&Bt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var X=v[1]!==null&&b!==null,ne=!1,ue=1;ue<v.length;++ue)if(v[ue]!==null&&v[ue].destructorFunction===void 0){ne=!0;break}for(var Se=v[0].name!=="void",Le="",Ke="",ue=0;ue<Q-2;++ue)Le+=(ue!==0?", ":"")+"arg"+ue,Ke+=(ue!==0?", ":"")+"arg"+ue+"Wired";var Xe="return function "+rs(y)+"("+Le+`) {
if (arguments.length !== `+(Q-2)+`) {
throwBindingError('function `+y+" called with ' + arguments.length + ' arguments, expected "+(Q-2)+` args!');
}
`;ne&&(Xe+=`var destructors = [];
`);var Je=ne?"destructors":"null",ft=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Dt=[Bt,A,U,Ft,v[0],v[1]];X&&(Xe+="var thisWired = classParam.toWireType("+Je+`, this);
`);for(var ue=0;ue<Q-2;++ue)Xe+="var arg"+ue+"Wired = argType"+ue+".toWireType("+Je+", arg"+ue+"); // "+v[ue+2].name+`
`,ft.push("argType"+ue),Dt.push(v[ue+2]);if(X&&(Ke="thisWired"+(Ke.length>0?", ":"")+Ke),Xe+=(Se?"var rv = ":"")+"invoker(fn"+(Ke.length>0?", ":"")+Ke+`);
`,ne)Xe+=`runDestructors(destructors);
`;else for(var ue=X?1:2;ue<v.length;++ue){var ns=ue===1?"thisWired":"arg"+(ue-2)+"Wired";v[ue].destructorFunction!==null&&(Xe+=ns+"_dtor("+ns+"); // "+v[ue].name+`
`,ft.push(ns+"_dtor"),Dt.push(v[ue].destructorFunction))}Se&&(Xe+=`var ret = retType.fromWireType(rv);
return ret;
`),Xe+=`}
`,ft.push(Xe);var Kt=Rm(Function,ft).apply(null,Dt);return Kt}function Pm(y,v,b,A,U,Q,X,ne){var ue=bl(b,A);v=ls(v),Q=Bs(U,Q),en([],[y],function(Se){Se=Se[0];var Le=Se.name+"."+v;v.startsWith("@@")&&(v=Symbol[v.substring(2)]),ne&&Se.registeredClass.pureVirtualFunctions.push(v);function Ke(){Zi("Cannot call "+Le+" due to unbound types",ue)}var Xe=Se.registeredClass.instancePrototype,Je=Xe[v];return Je===void 0||Je.overloadTable===void 0&&Je.className!==Se.name&&Je.argCount===b-2?(Ke.argCount=b-2,Ke.className=Se.name,Xe[v]=Ke):(Ur(Xe,v,Le),Xe[v].overloadTable[b-2]=Ke),en([],ue,function(ft){var Dt=Fl(Le,ft,Se,Q,X);return Xe[v].overloadTable===void 0?(Dt.argCount=b-2,Xe[v]=Dt):Xe[v].overloadTable[b-2]=Dt,[]}),[]})}var yc=[],Ri=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ic(y){y>4&&--Ri[y].refcount===0&&(Ri[y]=void 0,yc.push(y))}function Am(){for(var y=0,v=5;v<Ri.length;++v)Ri[v]!==void 0&&++y;return y}function Om(){for(var y=5;y<Ri.length;++y)if(Ri[y]!==void 0)return Ri[y];return null}function mp(){n.count_emval_handles=Am,n.get_first_emval=Om}function Ki(y){switch(y){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var v=yc.length?yc.pop():Ri.length;return Ri[v]={refcount:1,value:y},v}}}function Dm(y,v){v=ls(v),Et(y,{name:v,fromWireType:function(b){var A=Ri[b].value;return Ic(b),A},toWireType:function(b,A){return Ki(A)},argPackAdvance:8,readValueFromPointer:Mi,destructorFunction:null})}function Mm(y,v,b){switch(v){case 0:return function(A){var U=b?Ne:ct;return this.fromWireType(U[A>>>0])};case 1:return function(A){var U=b?we:Y;return this.fromWireType(U[A>>>1])};case 2:return function(A){var U=b?z:pe;return this.fromWireType(U[A>>>2])};default:throw new TypeError("Unknown integer type: "+y)}}function Nm(y,v,b,A){var U=Lt(b);v=ls(v);function Q(){}Q.values={},Et(y,{name:v,constructor:Q,fromWireType:function(X){return this.constructor.values[X]},toWireType:function(X,ne){return ne.value},argPackAdvance:8,readValueFromPointer:Mm(v,U,A),destructorFunction:null}),dc(v,Q)}function tn(y,v){var b=ri[y];return b===void 0&&Bt(v+" has unknown type "+fp(y)),b}function Lm(y,v,b){var A=tn(y,"enum");v=ls(v);var U=A.constructor,Q=Object.create(A.constructor.prototype,{value:{value:b},constructor:{value:Ti(A.name+"_"+v,function(){})}});U.values[b]=Q,U[v]=Q}function go(y){if(y===null)return"null";var v=typeof y;return v==="object"||v==="array"||v==="function"?y.toString():""+y}function Rl(y,v){switch(v){case 2:return function(b){return this.fromWireType(ge[b>>>2])};case 3:return function(b){return this.fromWireType(Ee[b>>>3])};default:throw new TypeError("Unknown float type: "+y)}}function Um(y,v,b){var A=Lt(b);v=ls(v),Et(y,{name:v,fromWireType:function(U){return U},toWireType:function(U,Q){if(typeof Q!="number"&&typeof Q!="boolean")throw new TypeError('Cannot convert "'+go(Q)+'" to '+this.name);return Q},argPackAdvance:8,readValueFromPointer:Rl(v,A),destructorFunction:null})}function Hm(y,v,b,A,U,Q){var X=bl(v,b);y=ls(y),U=Bs(A,U),dc(y,function(){Zi("Cannot call "+y+" due to unbound types",X)},v-1),en([],X,function(ne){var ue=[ne[0],null].concat(ne.slice(1));return up(y,Fl(y,ue,null,U,Q),v-1),[]})}function Gr(y,v,b){switch(v){case 0:return b?function(U){return Ne[U>>>0]}:function(U){return ct[U>>>0]};case 1:return b?function(U){return we[U>>>1]}:function(U){return Y[U>>>1]};case 2:return b?function(U){return z[U>>>2]}:function(U){return pe[U>>>2]};default:throw new TypeError("Unknown integer type: "+y)}}function Tp(y,v,b,A,U){v=ls(v),U===-1&&(U=4294967295);var Q=Lt(b),X=function(Se){return Se};if(A===0){var ne=32-8*b;X=function(Se){return Se<<ne>>>ne}}var ue=v.includes("unsigned");Et(y,{name:v,fromWireType:X,toWireType:function(Se,Le){if(typeof Le!="number"&&typeof Le!="boolean")throw new TypeError('Cannot convert "'+go(Le)+'" to '+this.name);if(Le<A||Le>U)throw new TypeError('Passing a number "'+go(Le)+'" from JS side to C/C++ side to an argument of type "'+v+'", which is outside the valid range ['+A+", "+U+"]!");return ue?Le>>>0:Le|0},argPackAdvance:8,readValueFromPointer:Gr(v,Q,A!==0),destructorFunction:null})}function Gm(y,v,b){var A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],U=A[v];function Q(X){X=X>>2;var ne=pe,ue=ne[X>>>0],Se=ne[X+1>>>0];return new U(ke,Se,ue)}b=ls(b),Et(y,{name:b,fromWireType:Q,argPackAdvance:8,readValueFromPointer:Q},{ignoreDuplicateRegistrations:!0})}function Bm(y,v){v=ls(v);var b=v==="std::string";Et(y,{name:v,fromWireType:function(A){var U=pe[A>>>2],Q;if(b)for(var X=A+4,ne=0;ne<=U;++ne){var ue=A+4+ne;if(ne==U||ct[ue>>>0]==0){var Se=ue-X,Le=te(X,Se);Q===void 0?Q=Le:(Q+=String.fromCharCode(0),Q+=Le),X=ue+1}}else{for(var Ke=new Array(U),ne=0;ne<U;++ne)Ke[ne]=String.fromCharCode(ct[A+4+ne>>>0]);Q=Ke.join("")}return Br(A),Q},toWireType:function(A,U){U instanceof ArrayBuffer&&(U=new Uint8Array(U));var Q,X=typeof U=="string";X||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int8Array||Bt("Cannot pass non-string to std::string"),b&&X?Q=function(){return ie(U)}:Q=function(){return U.length};var ne=Q(),ue=Hl(4+ne+1);if(ue>>>=0,pe[ue>>>2]=ne,b&&X)J(U,ue+4,ne+1);else if(X)for(var Se=0;Se<ne;++Se){var Le=U.charCodeAt(Se);Le>255&&(Br(ue),Bt("String has UTF-16 code units that do not fit in 8 bits")),ct[ue+4+Se>>>0]=Le}else for(var Se=0;Se<ne;++Se)ct[ue+4+Se>>>0]=U[Se];return A!==null&&A.push(Br,ue),ue},argPackAdvance:8,readValueFromPointer:Mi,destructorFunction:function(A){Br(A)}})}function km(y,v,b){b=ls(b);var A,U,Q,X,ne;v===2?(A=ae,U=le,X=me,Q=function(){return Y},ne=1):v===4&&(A=Te,U=Ce,X=Ue,Q=function(){return pe},ne=2),Et(y,{name:b,fromWireType:function(ue){for(var Se=pe[ue>>>2],Le=Q(),Ke,Xe=ue+4,Je=0;Je<=Se;++Je){var ft=ue+4+Je*v;if(Je==Se||Le[ft>>>ne]==0){var Dt=ft-Xe,ns=A(Xe,Dt);Ke===void 0?Ke=ns:(Ke+=String.fromCharCode(0),Ke+=ns),Xe=ft+v}}return Br(ue),Ke},toWireType:function(ue,Se){typeof Se!="string"&&Bt("Cannot pass non-string to C++ string type "+b);var Le=X(Se),Ke=Hl(4+Le+v);return Ke>>>=0,pe[Ke>>>2]=Le>>ne,U(Se,Ke+4,Le+v),ue!==null&&ue.push(Br,Ke),Ke},argPackAdvance:8,readValueFromPointer:Mi,destructorFunction:function(ue){Br(ue)}})}function oi(y,v,b,A,U,Q){ii[y]={name:ls(v),rawConstructor:Bs(b,A),rawDestructor:Bs(U,Q),elements:[]}}function gp(y,v,b,A,U,Q,X,ne,ue){ii[y].elements.push({getterReturnType:v,getter:Bs(b,A),getterContext:U,setterArgumentType:Q,setter:Bs(X,ne),setterContext:ue})}function yp(y,v,b,A,U,Q){yl[y]={name:ls(v),rawConstructor:Bs(b,A),rawDestructor:Bs(U,Q),fields:[]}}function Pl(y,v,b,A,U,Q,X,ne,ue,Se){yl[y].fields.push({fieldName:ls(v),getterReturnType:b,getter:Bs(A,U),getterContext:Q,setterArgumentType:X,setter:Bs(ne,ue),setterContext:Se})}function Vm(y,v){v=ls(v),Et(y,{isVoid:!0,name:v,argPackAdvance:0,fromWireType:function(){},toWireType:function(b,A){}})}function Ni(y){return y||Bt("Cannot use deleted val. handle = "+y),Ri[y].value}function jm(y,v,b){y=Ni(y),v=tn(v,"emval::as");var A=[],U=Ki(A);return z[b>>>2]=U,v.toWireType(A,y)}function zm(y,v){for(var b=new Array(y),A=0;A<y;++A)b[A]=tn(z[(v>>2)+A>>>0],"parameter "+A);return b}function Ip(y,v,b,A){y=Ni(y);for(var U=zm(v,b),Q=new Array(v),X=0;X<v;++X){var ne=U[X];Q[X]=ne.readValueFromPointer(A),A+=ne.argPackAdvance}var ue=y.apply(void 0,Q);return Ki(ue)}var Wm={};function Al(y){var v=Wm[y];return v===void 0?ls(y):v}function gi(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Ec(y){return y===0?Ki(gi()):(y=Al(y),Ki(gi()[y]))}function Ym(y,v){return y=Ni(y),v=Ni(v),Ki(y[v])}function Xm(y){y>4&&(Ri[y].refcount+=1)}function qm(y,v){return y=Ni(y),v=Ni(v),y instanceof v}function Ji(y){return y=Ni(y),typeof y=="number"}function Qm(){return Ki([])}function $m(y){return Ki(Al(y))}function Zm(){return Ki({})}function Ol(y){var v=Ri[y].value;Ft(v),Ic(y)}function Km(y,v,b){y=Ni(y),v=Ni(v),b=Ni(b),y[v]=b}function yo(y,v){y=tn(y,"_emval_take_value");var b=y.readValueFromPointer(v);return Ki(b)}function Jm(){Nt()}var vc;m?vc=function(){var y=process.hrtime();return y[0]*1e3+y[1]/1e6}:vc=function(){return performance.now()};var eT=!0;function tT(y,v){var b;if(y===0)b=Date.now();else if((y===1||y===4)&&eT)b=vc();else return K(28),-1;return z[v>>>2]=b/1e3|0,z[v+4>>>2]=b%1e3*1e3*1e3|0,0}function sT(y,v,b){ct.copyWithin(y>>>0,v>>>0,v+b>>>0)}function iT(y){try{return V.grow(y-ke.byteLength+65535>>>16),be(V.buffer),1}catch{}}function rT(y){var v=ct.length;y=y>>>0;var b=4294901760;if(y>b)return!1;for(var A=1;A<=4;A*=2){var U=v*(1+.2/A);U=Math.min(U,y+100663296);var Q=Math.min(b,Ze(Math.max(y,U),65536)),X=iT(Q);if(X)return!0}return!1}var Cc={};function nT(){return c||"./this.program"}function Ta(){if(!Ta.strings){var y=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",v={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:y,_:nT()};for(var b in Cc)Cc[b]===void 0?delete v[b]:v[b]=Cc[b];var A=[];for(var b in v)A.push(b+"="+v[b]);Ta.strings=A}return Ta.strings}function oT(y,v){try{var b=0;return Ta().forEach(function(A,U){var Q=v+b;z[y+U*4>>>2]=Q,Be(A,Q),b+=A.length+1}),0}catch(A){return(typeof D>"u"||!(A instanceof D.ErrnoError))&&Nt(A),A.errno}}function aT(y,v){try{var b=Ta();z[y>>>2]=b.length;var A=0;return b.forEach(function(U){A+=U.length+1}),z[v>>>2]=A,0}catch(U){return(typeof D>"u"||!(U instanceof D.ErrnoError))&&Nt(U),U.errno}}function lT(y){try{var v=lt.getStreamFromFD(y);return D.close(v),0}catch(b){return(typeof D>"u"||!(b instanceof D.ErrnoError))&&Nt(b),b.errno}}function hT(y,v,b,A){try{var U=lt.getStreamFromFD(y),Q=lt.doReadv(U,v,b);return z[A>>>2]=Q,0}catch(X){return(typeof D>"u"||!(X instanceof D.ErrnoError))&&Nt(X),X.errno}}function Ir(y,v,b,A,U){try{var Q=lt.getStreamFromFD(y),X=4294967296,ne=b*X+(v>>>0),ue=9007199254740992;return ne<=-ue||ne>=ue?-61:(D.llseek(Q,ne,A),$i=[Q.position>>>0,(ys=Q.position,+Math.abs(ys)>=1?ys>0?(Math.min(+Math.floor(ys/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ys-+(~~ys>>>0))/4294967296)>>>0:0)],z[U>>>2]=$i[0],z[U+4>>>2]=$i[1],Q.getdents&&ne===0&&A===0&&(Q.getdents=null),0)}catch(Se){return(typeof D>"u"||!(Se instanceof D.ErrnoError))&&Nt(Se),Se.errno}}function cT(y,v,b,A){try{var U=lt.getStreamFromFD(y),Q=lt.doWritev(U,v,b);return z[A>>>2]=Q,0}catch(X){return(typeof D>"u"||!(X instanceof D.ErrnoError))&&Nt(X),X.errno}}function uT(y){}function Dl(y){return y%4===0&&(y%100!==0||y%400===0)}function _c(y,v){for(var b=0,A=0;A<=v;b+=y[A++]);return b}var ga=[31,29,31,30,31,30,31,31,30,31,30,31],ya=[31,28,31,30,31,30,31,31,30,31,30,31];function Ml(y,v){for(var b=new Date(y.getTime());v>0;){var A=Dl(b.getFullYear()),U=b.getMonth(),Q=(A?ga:ya)[U];if(v>Q-b.getDate())v-=Q-b.getDate()+1,b.setDate(1),U<11?b.setMonth(U+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1));else return b.setDate(b.getDate()+v),b}return b}function pT(y,v,b,A){var U=z[A+40>>>2],Q={tm_sec:z[A>>>2],tm_min:z[A+4>>>2],tm_hour:z[A+8>>>2],tm_mday:z[A+12>>>2],tm_mon:z[A+16>>>2],tm_year:z[A+20>>>2],tm_wday:z[A+24>>>2],tm_yday:z[A+28>>>2],tm_isdst:z[A+32>>>2],tm_gmtoff:z[A+36>>>2],tm_zone:U?te(U):""},X=te(b),ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ue in ne)X=X.replace(new RegExp(ue,"g"),ne[ue]);var Se=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Le=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ke(je,ot,Wt){for(var Ot=typeof je=="number"?je.toString():je||"";Ot.length<ot;)Ot=Wt[0]+Ot;return Ot}function Xe(je,ot){return Ke(je,ot,"0")}function Je(je,ot){function Wt(yt){return yt<0?-1:yt>0?1:0}var Ot;return(Ot=Wt(je.getFullYear()-ot.getFullYear()))===0&&(Ot=Wt(je.getMonth()-ot.getMonth()))===0&&(Ot=Wt(je.getDate()-ot.getDate())),Ot}function ft(je){switch(je.getDay()){case 0:return new Date(je.getFullYear()-1,11,29);case 1:return je;case 2:return new Date(je.getFullYear(),0,3);case 3:return new Date(je.getFullYear(),0,2);case 4:return new Date(je.getFullYear(),0,1);case 5:return new Date(je.getFullYear()-1,11,31);case 6:return new Date(je.getFullYear()-1,11,30)}}function Dt(je){var ot=Ml(new Date(je.tm_year+1900,0,1),je.tm_yday),Wt=new Date(ot.getFullYear(),0,4),Ot=new Date(ot.getFullYear()+1,0,4),yt=ft(Wt),er=ft(Ot);return Je(yt,ot)<=0?Je(er,ot)<=0?ot.getFullYear()+1:ot.getFullYear():ot.getFullYear()-1}var ns={"%a":function(je){return Se[je.tm_wday].substring(0,3)},"%A":function(je){return Se[je.tm_wday]},"%b":function(je){return Le[je.tm_mon].substring(0,3)},"%B":function(je){return Le[je.tm_mon]},"%C":function(je){var ot=je.tm_year+1900;return Xe(ot/100|0,2)},"%d":function(je){return Xe(je.tm_mday,2)},"%e":function(je){return Ke(je.tm_mday,2," ")},"%g":function(je){return Dt(je).toString().substring(2)},"%G":function(je){return Dt(je)},"%H":function(je){return Xe(je.tm_hour,2)},"%I":function(je){var ot=je.tm_hour;return ot==0?ot=12:ot>12&&(ot-=12),Xe(ot,2)},"%j":function(je){return Xe(je.tm_mday+_c(Dl(je.tm_year+1900)?ga:ya,je.tm_mon-1),3)},"%m":function(je){return Xe(je.tm_mon+1,2)},"%M":function(je){return Xe(je.tm_min,2)},"%n":function(){return`
`},"%p":function(je){return je.tm_hour>=0&&je.tm_hour<12?"AM":"PM"},"%S":function(je){return Xe(je.tm_sec,2)},"%t":function(){return"	"},"%u":function(je){return je.tm_wday||7},"%U":function(je){var ot=new Date(je.tm_year+1900,0,1),Wt=ot.getDay()===0?ot:Ml(ot,7-ot.getDay()),Ot=new Date(je.tm_year+1900,je.tm_mon,je.tm_mday);if(Je(Wt,Ot)<0){var yt=_c(Dl(Ot.getFullYear())?ga:ya,Ot.getMonth()-1)-31,er=31-Wt.getDate(),Ln=er+yt+Ot.getDate();return Xe(Math.ceil(Ln/7),2)}return Je(Wt,ot)===0?"01":"00"},"%V":function(je){var ot=new Date(je.tm_year+1900,0,4),Wt=new Date(je.tm_year+1901,0,4),Ot=ft(ot),yt=ft(Wt),er=Ml(new Date(je.tm_year+1900,0,1),je.tm_yday);if(Je(er,Ot)<0)return"53";if(Je(yt,er)<=0)return"01";var Ln;return Ot.getFullYear()<je.tm_year+1900?Ln=je.tm_yday+32-Ot.getDate():Ln=je.tm_yday+1-Ot.getDate(),Xe(Math.ceil(Ln/7),2)},"%w":function(je){return je.tm_wday},"%W":function(je){var ot=new Date(je.tm_year,0,1),Wt=ot.getDay()===1?ot:Ml(ot,ot.getDay()===0?1:7-ot.getDay()+1),Ot=new Date(je.tm_year+1900,je.tm_mon,je.tm_mday);if(Je(Wt,Ot)<0){var yt=_c(Dl(Ot.getFullYear())?ga:ya,Ot.getMonth()-1)-31,er=31-Wt.getDate(),Ln=er+yt+Ot.getDate();return Xe(Math.ceil(Ln/7),2)}return Je(Wt,ot)===0?"01":"00"},"%y":function(je){return(je.tm_year+1900).toString().substring(2)},"%Y":function(je){return je.tm_year+1900},"%z":function(je){var ot=je.tm_gmtoff,Wt=ot>=0;return ot=Math.abs(ot)/60,ot=ot/60*100+ot%60,(Wt?"+":"-")+String("0000"+ot).slice(-4)},"%Z":function(je){return je.tm_zone},"%%":function(){return"%"}};for(var ue in ns)X.includes(ue)&&(X=X.replace(new RegExp(ue,"g"),ns[ue](Q)));var Kt=Ul(X,!1);return Kt.length>v?0:(ye(Kt,y),Kt.length-1)}function fT(y,v,b,A){return pT(y,v,b,A)}var Ep=function(y,v,b,A){y||(y=this),this.parent=y,this.mount=y.mount,this.mounted=null,this.id=D.nextInode++,this.name=v,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=A},Nl=365,Ll=146;Object.defineProperties(Ep.prototype,{read:{get:function(){return(this.mode&Nl)===Nl},set:function(y){y?this.mode|=Nl:this.mode&=~Nl}},write:{get:function(){return(this.mode&Ll)===Ll},set:function(y){y?this.mode|=Ll:this.mode&=~Ll}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=Ep,D.staticInit(),n.FS_createPath=D.createPath,n.FS_createDataFile=D.createDataFile,n.FS_createPreloadedFile=D.createPreloadedFile,n.FS_createLazyFile=D.createLazyFile,n.FS_createDevice=D.createDevice,n.FS_unlink=D.unlink,uc=n.InternalError=ni(Error,"InternalError"),vm(),po=n.BindingError=ni(Error,"BindingError"),fc(),fa(),bm(),pp=n.UnboundTypeError=ni(Error,"UnboundTypeError"),mp();function Ul(y,v,b){var A=b>0?b:ie(y)+1,U=new Array(A),Q=ee(y,U,0,U.length);return v&&(U.length=Q),U}var dT={y:dr,x:Dn,w:uo,A:Ct,O:Pt,P:fs,Z:ym,o:Im,J:Em,W:Cm,r:dp,q:gc,b:Pm,V:Dm,Y:Nm,t:Lm,D:Um,e:Hm,n:Tp,j:Gm,E:Bm,v:km,_:oi,g:gp,p:yp,d:Pl,X:Vm,l:jm,F:Ip,a:Ic,H:Ec,m:Ym,i:Xm,L:qm,G:Ji,z:Qm,f:$m,s:Zm,k:Ol,h:Km,c:yo,C:Jm,N:tT,M:sT,u:rT,R:oT,S:aT,B:lT,U:hT,I:Ir,T:cT,K:uT,Q:fT};cc(),n.___wasm_call_ctors=function(){return(n.___wasm_call_ctors=n.asm.aa).apply(null,arguments)},n._main=function(){return(n._main=n.asm.ba).apply(null,arguments)};var Hl=n._malloc=function(){return(Hl=n._malloc=n.asm.ca).apply(null,arguments)},Br=n._free=function(){return(Br=n._free=n.asm.da).apply(null,arguments)},vp=n.___getTypeName=function(){return(vp=n.___getTypeName=n.asm.ea).apply(null,arguments)};n.___embind_register_native_and_builtin_types=function(){return(n.___embind_register_native_and_builtin_types=n.asm.fa).apply(null,arguments)};var Cp=n.___errno_location=function(){return(Cp=n.___errno_location=n.asm.ga).apply(null,arguments)};n.dynCall_jiji=function(){return(n.dynCall_jiji=n.asm.ia).apply(null,arguments)},n.dynCall_viijii=function(){return(n.dynCall_viijii=n.asm.ja).apply(null,arguments)},n.dynCall_iiiiij=function(){return(n.dynCall_iiiiij=n.asm.ka).apply(null,arguments)},n.dynCall_iiiiijj=function(){return(n.dynCall_iiiiijj=n.asm.la).apply(null,arguments)},n.dynCall_iiiiiijj=function(){return(n.dynCall_iiiiiijj=n.asm.ma).apply(null,arguments)},n.addRunDependency=It,n.removeRunDependency=es,n.FS_createPath=D.createPath,n.FS_createDataFile=D.createDataFile,n.FS_createPreloadedFile=D.createPreloadedFile,n.FS_createLazyFile=D.createLazyFile,n.FS_createDevice=D.createDevice,n.FS_unlink=D.unlink,n.FS=D;var Io;function wc(y){this.name="ExitStatus",this.message="Program terminated with exit("+y+")",this.status=y}gt=function y(){Io||Sc(),Io||(gt=y)};function mT(y){var v=n._main,b=0,A=0;try{var U=v(b,A);TT(U,!0)}catch(X){if(X instanceof wc||X=="unwind")return;var Q=X;X&&typeof X=="object"&&X.stack&&(Q=[X,X.stack]),R("exception thrown: "+Q),u(1,X)}finally{}}function Sc(y){if(tt>0||(He(),tt>0))return;function v(){Io||(Io=!0,n.calledRun=!0,!B&&(he(),Ge(),o(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),_p&&mT(),xe()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),v()},1)):v()}n.run=Sc;function TT(y,v){Pe()||(n.onExit&&n.onExit(y),B=!0),u(y,new wc(y))}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();var _p=!0;return n.noInitialRun&&(_p=!1),Sc(),r.ready}}();typeof e=="object"&&typeof s=="object"?s.exports=t:typeof define=="function"&&define.amd?define([],function(){return t}):typeof e=="object"&&(e.WebIFCWasm=t)}}),UX=3821786052,HX=2296667514,GX=3630933823,nx=4288193352,BX=2874132201,kX=618182010,VX=1635779807,jX=2603310189,zX=3406155212,ox=1634111441,ax=177149247,WX=1411407467,YX=3352864051,lx=2056796094,XX=1871374353,hx=3087945054,qX=3001207471,cx=325726236,QX=749761778,$X=3199563722,ZX=2483840362,KX=3379348081,JX=3239324667,eq=4263986512,tq=53199957,sq=2029264950,iq=3512275521,ux=1674181508,rq=669184980,nq=639542469,oq=411424972,aq=130549933,lq=3869604511,hq=3798115385,cq=1310608509,uq=2705031697,pq=3460190687,fq=3207858831,px=277319702,dq=1532957894,mq=4261334040,Tq=3125803723,gq=2740243338,yq=1967976161,Iq=2461110595,Eq=2887950389,vq=167062518,ZI=753842376,fx=2906023776,Cq=819618141,dx=4196446775,_q=3649138523,wq=616511568,Sq=1334484129,mx=32344328,xq=231477066,bq=3649129432,Fq=2736907675,Rq=4037036970,Pq=1136057603,Aq=1560379544,Oq=3367102660,Dq=1387855156,Mq=2069777674,Nq=1260505505,Lq=4182860854,Uq=2581212453,Hq=2713105998,Tx=644574406,gx=963979645,ip=4031249490,yx=3299480353,Ix=2979338954,Gq=39481116,md=1095909175,Bq=1909888760,kq=1950629157,cm=3124254112,Vq=1177604601,Ex=2938176219,jq=2188180465,zq=2898889636,vx=635142910,Wq=395041908,Cx=3758799889,Yq=3293546465,_x=1051757585,Xq=2674252688,wx=4217484030,qq=1285652485,Sx=3999819293,Qq=3203706013,$q=1123145078,Zq=574549367,Kq=1675464909,Jq=2059837836,eQ=59481748,tQ=3749851601,sQ=3486308946,iQ=3331915920,rQ=1416205885,nQ=3150382593,xx=3902619387,oQ=2951183804,bx=3296154744,aQ=2197970202,lQ=2611217952,hQ=2937912522,cQ=1383045692,uQ=1062206242,Fx=1677625105,pQ=3893394355,fQ=747523909,dQ=647927063,mQ=2205249479,Rx=639361253,TQ=2301859152,gQ=776857604,yQ=3285139300,IQ=3264961684,KI=843113511,Px=905975707,EQ=300633059,Ax=3221913625,vQ=400855858,CQ=2542286263,_Q=3875453745,wQ=3732776249,SQ=15328376,xQ=2485617015,bQ=1485152156,Ox=3571504051,FQ=3850581409,Dx=2272882330,RQ=2816379211,PQ=2510884976,AQ=370225590,OQ=1981873012,DQ=2859738748,MQ=45288368,NQ=2614616156,LQ=2732653382,UQ=775493141,HQ=1959218052,GQ=3898045240,BQ=2185764099,kQ=1060000209,VQ=4105962743,jQ=488727124,zQ=1525564444,WQ=2559216714,YQ=2574617495,XQ=3419103109,qQ=3050246964,QQ=3293443760,Mx=25142252,$Q=578613899,ZQ=2889183280,KQ=2713554722,Nx=4136498852,JQ=335055490,Lx=3640358203,e$=2954562838,t$=1785450214,s$=1466758467,i$=3895139033,r$=1419761937,n$=602808272,Ux=1973544240,o$=1916426348,a$=3295246426,l$=1815067380,h$=2506170314,c$=2147822146,u$=539742890,Hx=3495092785,p$=1457835157,f$=2601014836,d$=2827736869,m$=2629017746,T$=1186437898,g$=3800577675,y$=1105321065,I$=2367409068,E$=3510044353,v$=1213902940,Gx=4074379575,C$=3961806047,Bx=3426335179,_$=1306400036,w$=3632507154,S$=1765591967,x$=1045800335,b$=2949456006,F$=32440307,kx=1335981549,R$=2635815018,P$=1945343521,Vx=1052013943,A$=1599208980,O$=562808652,jx=1062813311,D$=2063403501,zx=1945004755,M$=3256556792,Wx=3040386961,N$=3849074793,Yx=3041715199,L$=3205830791,U$=1154170062,H$=770865208,G$=3732053477,JI=395920057,B$=2963535650,k$=1714330368,Xx=3242481149,V$=526551008,j$=2323601079,z$=445594917,W$=4006246654,qx=342316401,Y$=869906466,Qx=3518393246,X$=3760055223,$x=1360408905,q$=2030761528,Q$=3900360178,$$=476780140,Z$=1472233963,Zx=1904799276,K$=663422040,Kx=862014818,J$=2417008758,Jx=3310460725,eZ=3277789161,eb=264262732,tZ=1534661035,tb=402227799,sZ=1217240411,sb=1003880860,iZ=712377611,ib=1758889154,rb=4123344466,rZ=2397081782,nb=1623761950,nZ=2590856083,oZ=1883228015,aZ=339256511,lZ=2777663545,hZ=1704287377,cZ=2835456948,ob=1658829314,uZ=2107101300,ab=2814081492,pZ=132023988,lb=3747195512,fZ=3174744832,hb=484807127,dZ=3390157468,mZ=4148101412,TZ=211053100,gZ=4024345920,yZ=297599258,IZ=4294318154,EZ=3200245327,vZ=1437805879,cb=1209101575,ub=2853485674,CZ=2242383968,_Z=1040185647,wZ=3548104201,SZ=477187591,xZ=2804161546,bZ=2556980723,FZ=2047409740,RZ=1809719519,PZ=803316827,AZ=3008276851,OZ=807026263,DZ=3737207727,pb=24185140,fb=1310830890,MZ=4219587988,db=3415622556,NZ=346874300,mb=647756555,LZ=2489546625,Tb=2827207264,gb=2143335405,yb=1287392070,UZ=738692330,HZ=374418227,GZ=315944413,Ib=819412036,BZ=1810631287,Eb=1426591983,kZ=4222183408,VZ=2652556860,vb=2058353004,jZ=3907093117,Cb=4278956645,zZ=3198132628,_b=182646315,WZ=4037862832,wb=2188021234,YZ=3815607619,Sb=3132237377,XZ=1482959167,xb=987401354,qZ=1834744321,bb=707683696,QZ=1339347760,Fb=2223149337,$Z=2297155007,Rb=3508470533,ZZ=3009222698,e0=900683007,KZ=1893162501,t0=263784265,JZ=4238390223,Pb=1509553395,eK=1268542332,Ab=3493046030,tK=4095422895,sK=987898635,iK=3448662350,rK=2453401579,nK=4142052618,oK=3590301190,Ob=3009204131,aK=852622518,lK=178086475,hK=2706460486,cK=812098782,Db=3319311131,uK=1251058090,Mb=2068733104,pK=1806887404,fK=1484403080,dK=3905492369,mK=3570813810,TK=2571569899,gK=178912537,yK=2294589976,IK=1437953363,EK=2133299955,Nb=4175244083,vK=3946677679,CK=3113134337,_K=2391368822,wK=3741457305,SK=3020489413,Lb=2176052936,xK=4288270099,bK=572779678,FK=3827777499,RK=428585644,PK=1585845231,Ub=76236018,AK=1051575348,OK=2655187982,DK=3452421091,MK=4162380809,Hb=629592764,NK=1161773419,LK=1566485204,UK=1402838566,HK=125510826,GK=2604431987,BK=4266656042,kK=1520743889,VK=3422422726,jK=1281925730,zK=3092502836,WK=388784114,Gb=1154579445,YK=2624227202,XK=1008929658,qK=1425443689,QK=3057273783,$K=2347385850,ZK=1838606355,KK=1847130766,JK=3708119e3,eJ=2852063980,tJ=760658860,sJ=2022407955,iJ=248100487,rJ=3303938423,nJ=1303795690,oJ=1847252529,aJ=2199411900,lJ=2235152071,hJ=164193824,cJ=3079605661,uJ=3404854881,pJ=552965576,fJ=3265635763,dJ=853536259,mJ=1507914824,TJ=2597039031,Bb=377706215,gJ=2108223431,kb=1437502449,yJ=1114901282,s0=1073191201,Vb=1911478936,IJ=3181161470,EJ=3368373690,vJ=2998442950,CJ=2706619895,jb=2474470126,_J=977012517,wJ=1918398963,SJ=3888040117,xJ=219451334,bJ=3701648758,FJ=2251480897,RJ=4143007308,PJ=590820931,AJ=3388369263,OJ=3505215534,DJ=2485787929,MJ=2665983363,um=3588315303,zb=3079942009,NJ=4251960020,LJ=1411181986,UJ=643959842,HJ=1029017970,GJ=144952367,Wb=3694346114,BJ=2837617999,kJ=1207048766,VJ=2529465313,jJ=2519244187,zJ=1682466193,WJ=2382730787,YJ=3566463478,XJ=3327091369,qJ=2077209135,QJ=101040310,$J=3021840470,ZJ=2483315170,KJ=2226359599,Yb=1687234759,JJ=1158309216,Xb=310824031,eee=804291784,qb=3612865200,tee=4231323485,see=597895409,iee=2004835150,ree=603570806,nee=1663979128,oee=220341763,i0=3171933400,Qb=1156407060,aee=4017108033,lee=2067069095,hee=4022376103,cee=1423911732,uee=2924175390,pee=2775532180,fee=2839578677,dee=3724593414,$b=3740093272,Zb=1946335990,mee=3355820592,Tee=759155922,gee=2559016684,yee=3727388367,Iee=3778827333,Eee=3967405729,vee=1775413392,Cee=677532197,_ee=2022622350,wee=1304840413,See=3119450353,xee=2417041796,bee=2744685151,Fee=569719735,Ree=2945172077,Pee=4208778838,Kb=673634403,Aee=2095639259,Oee=3958567839,Dee=2802850158,rp=103090709,Mee=653396225,Nee=2904328755,Lee=3843373140,Jb=3651124850,Uee=2598011224,Hee=986844984,Gee=871118103,Bee=1680319473,kee=148025276,Vee=4166981789,jee=3710013099,zee=2752243245,Wee=941946838,Yee=1451395588,Xee=3357820518,qee=492091185,Qee=3650150729,$ee=110355661,Zee=3521284610,Kee=1482703590,eF=738039164,tF=2295281155,Jee=655969474,ete=1842657554,Td=3219374653,sF=90941305,tte=2250791053,ste=2044713172,ite=2093928680,rte=931644368,nte=2090586900,ote=3252649465,ate=2405470396,lte=825690147,iF=2262370178,hte=2893384427,rF=3024970846,nF=3283111854,cte=2324767716,ute=1469900589,pte=1232101972,fte=683857671,dte=2770003689,mte=3615266464,Tte=2798486643,gte=3454111270,yte=3915482550,Ite=2433181523,oF=4021432810,Ete=3413951693,vte=1580146022,Cte=3765753017,aF=979691226,_te=2572171363,lF=3027567501,wte=964333572,hF=2320036040,Ste=2310774935,r0=160246688,xte=3939117080,bte=1683148259,Fte=2495723537,Rte=1307041759,Pte=1027710054,Ate=4278684876,Ote=2857406711,Dte=205026976,Mte=1865459582,Nte=4095574036,Lte=919958153,Ute=2728634034,Hte=982818633,Gte=3840914261,n0=2655215786,Bte=826625072,kte=1204542856,Vte=3945020480,jte=4201705270,zte=3190031847,Wte=2127690289,Yte=1638771189,Xte=504942748,qte=3678494232,o0=3242617779,Qte=886880790,$te=2802773753,Zte=2565941209,Kte=2551354335,Jte=693640335,ese=1462361463,a0=4186316022,tse=307848117,l0=781010003,sse=3940055652,ise=279856033,rse=427948657,nse=3268803585,ose=1441486842,ase=750771296,lse=1245217292,hse=4122056220,cse=366585022,use=3451746338,pse=3523091289,fse=1521410863,dse=1401173127,mse=478536968,Tse=816062949,gse=1076942058,yse=3377609919,Ise=3008791417,Ese=1660063152,vse=2914609552,Cse=2943643501,_se=1608871552,wse=2439245199,Sse=1042787934,xse=1856042241,bse=3243963512,Fse=4158566097,Rse=3626867408,h0=2016517767,Pse=2781568857,Ase=2341007311,Ose=2778083089,Dse=448429030,cF=3053780830,Mse=1768891740,Nse=1054537805,Lse=2157484638,Use=2042790032,Hse=4165799628,Gse=1862484736,Bse=1290935644,kse=1509187699,uF=4086658281,Vse=1783015770,pF=1329646415,jse=4074543187,zse=867548509,Wse=3982875396,Yse=4240577450,Xse=4124623270,qse=3692461612,Qse=3663146110,fF=4097777520,c0=1529196076,dF=3127900445,mF=3027962421,$se=2533589738,Zse=2609359061,TF=3420628829,Kse=1072016465,Jse=723233188,pm=3856911033,gF=1999602285,eie=1305183839,tie=3812236995,yF=1412071761,sie=710998568,IF=2706606064,iie=3893378262,EF=463610769,rie=2481509218,nie=451544542,oie=4015995234,vF=1404847402,aie=3112655638,CF=331165859,u0=4252922144,lie=1039846685,hie=338393293,_F=682877961,wF=3544373492,cie=2515109513,SF=1179482911,uie=2273995522,xF=1004757350,bF=4243806635,FF=214636428,RF=2445595289,PF=2757150158,AF=3136571912,OF=1807405624,pie=2162789131,fie=385403989,die=3478079324,mie=1252848954,Tie=1595516126,gie=609421318,yie=2668620305,Iie=2473145415,Eie=1973038258,vie=1597423693,Cie=1190533807,_ie=2525727697,wie=3408363356,DF=530289379,MF=1621171031,NF=2082059205,LF=734778138,UF=1235345126,HF=3689010777,Sie=2986769608,GF=3657597509,BF=1975003073,kF=3979015343,VF=2218152070,jF=603775116,xie=2830218821,bie=3958052878,Fie=3049322572,Rie=148013059,Pie=4095615324,Aie=2233826070,Oie=2513912981,Die=699246055,Mie=2028607225,zF=3101698114,Nie=2809605785,Lie=4124788165,Uie=2934153892,Hie=1300840506,Gie=3303107099,Bie=1607154358,kie=1878645084,Vie=846575682,jie=1351298697,zie=626085974,Wie=2247615214,Yie=1260650574,Xie=1096409881,qie=230924584,WF=1162798199,Qie=2315554128,$ie=2254336722,YF=413509423,Zie=1580310250,Kie=3071757647,Jie=985171141,ere=2043862942,tre=531007025,XF=812556717,sre=5716631,ire=3473067441,rre=1549132990,nre=2771591690,ore=3206491090,are=912023232,qF=3824725483,QF=2347447852,lre=3081323446,$F=3663046924,hre=2281632017,cre=2415094496,ure=2387106220,pre=901063453,fre=4282788508,dre=3124975700,mre=1447204868,Tre=1983826977,gre=2636378356,yre=1640371178,Ire=280115917,Ere=1742049831,vre=2552916305,Cre=1210645708,_re=3611470254,wre=1199560280,Sre=3101149627,xre=581633288,bre=1377556343,Fre=1735638870,Rre=1935646853,ZF=3825984169,Pre=1692211062,Are=2595432518,KF=1620046519,Ore=2097647324,Dre=2715220739,Mre=2916149573,Nre=1229763772,Lre=3593883385,JF=3026737570,Ure=1600972822,Hre=1628702193,Gre=3736923433,Bre=2347495698,kre=3698973494,Vre=427810014,p0=180925521,eR=630975310,jre=3179687236,tR=4292641817,zre=1911125066,sR=4207607924,Wre=728799441,Yre=1417489154,Xre=2799835756,qre=2759199220,Qre=1907098498,iR=1530820697,$re=3956297820,rR=2391383451,Zre=3313531582,nR=2769231204,Kre=891718957,oR=926996030,f0=2391406946,aR=4156078855,d0=3512223829,Jre=1898987631,lR=4237592921,ene=1133259667,m0=3304561284,tne=336235671,sne=512836454,hR=486154966,ine=1299126871,rne=4009809668,nne=4088093105,one=1028945134,ane=4218914973,lne=3342526732,hne=1236880293,cne=2543172580,une=1033361043,wC=[nx,ox,ax,lx,hx,cx,ux,px,ZI,fx,dx,mx,Tx,gx,ip,yx,Ix,md,cm,Ex,vx,Cx,_x,wx,Sx,xx,bx,Fx,Rx,KI,Px,Ax,Ox,Dx,Mx,Nx,Lx,Ux,Hx,Gx,Bx,kx,Vx,jx,zx,Wx,Yx,JI,Xx,qx,Qx,$x,Zx,Kx,Jx,eb,tb,sb,ib,rb,nb,ob,ab,lb,hb,cb,ub,pb,fb,db,mb,Tb,gb,yb,Ib,Eb,vb,Cb,_b,wb,Sb,xb,bb,Fb,Rb,e0,t0,Pb,Ab,Ob,Db,Mb,Nb,Lb,Ub,Hb,Gb,Bb,kb,s0,Vb,jb,um,zb,Wb,Yb,Xb,qb,i0,Qb,$b,Zb,Jb,eF,tF,Td,sF,iF,rF,nF,oF,aF,lF,hF,h0,cF,uF,pF,fF,c0,dF,mF,TF,pm,gF,yF,IF,EF,vF,CF,u0,_F,wF,SF,xF,bF,FF,RF,PF,AF,OF,DF,MF,NF,LF,UF,HF,GF,BF,kF,VF,jF,zF,WF,YF,XF,qF,QF,$F,ZF,KF,JF,eR,tR,sR,iR,rR,nR,oR,f0,aR,d0,lR,m0,hR],w={};w[UX]=e=>cR.FromTape(e.ID,e.type,e.arguments);w[HX]=e=>uR.FromTape(e.ID,e.type,e.arguments);w[GX]=e=>pR.FromTape(e.ID,e.type,e.arguments);w[nx]=e=>fR.FromTape(e.ID,e.type,e.arguments);w[BX]=e=>dR.FromTape(e.ID,e.type,e.arguments);w[kX]=e=>mR.FromTape(e.ID,e.type,e.arguments);w[VX]=e=>TR.FromTape(e.ID,e.type,e.arguments);w[jX]=e=>gR.FromTape(e.ID,e.type,e.arguments);w[zX]=e=>yR.FromTape(e.ID,e.type,e.arguments);w[ox]=e=>IR.FromTape(e.ID,e.type,e.arguments);w[ax]=e=>ER.FromTape(e.ID,e.type,e.arguments);w[WX]=e=>vR.FromTape(e.ID,e.type,e.arguments);w[YX]=e=>CR.FromTape(e.ID,e.type,e.arguments);w[lx]=e=>_R.FromTape(e.ID,e.type,e.arguments);w[XX]=e=>wR.FromTape(e.ID,e.type,e.arguments);w[hx]=e=>SR.FromTape(e.ID,e.type,e.arguments);w[qX]=e=>xR.FromTape(e.ID,e.type,e.arguments);w[cx]=e=>bR.FromTape(e.ID,e.type,e.arguments);w[QX]=e=>FR.FromTape(e.ID,e.type,e.arguments);w[$X]=e=>RR.FromTape(e.ID,e.type,e.arguments);w[ZX]=e=>PR.FromTape(e.ID,e.type,e.arguments);w[KX]=e=>AR.FromTape(e.ID,e.type,e.arguments);w[JX]=e=>OR.FromTape(e.ID,e.type,e.arguments);w[eq]=e=>DR.FromTape(e.ID,e.type,e.arguments);w[tq]=e=>MR.FromTape(e.ID,e.type,e.arguments);w[sq]=e=>NR.FromTape(e.ID,e.type,e.arguments);w[iq]=e=>LR.FromTape(e.ID,e.type,e.arguments);w[ux]=e=>UR.FromTape(e.ID,e.type,e.arguments);w[rq]=e=>HR.FromTape(e.ID,e.type,e.arguments);w[nq]=e=>GR.FromTape(e.ID,e.type,e.arguments);w[oq]=e=>BR.FromTape(e.ID,e.type,e.arguments);w[aq]=e=>kR.FromTape(e.ID,e.type,e.arguments);w[lq]=e=>VR.FromTape(e.ID,e.type,e.arguments);w[hq]=e=>jR.FromTape(e.ID,e.type,e.arguments);w[cq]=e=>zR.FromTape(e.ID,e.type,e.arguments);w[uq]=e=>WR.FromTape(e.ID,e.type,e.arguments);w[pq]=e=>YR.FromTape(e.ID,e.type,e.arguments);w[fq]=e=>XR.FromTape(e.ID,e.type,e.arguments);w[px]=e=>qR.FromTape(e.ID,e.type,e.arguments);w[dq]=e=>QR.FromTape(e.ID,e.type,e.arguments);w[mq]=e=>$R.FromTape(e.ID,e.type,e.arguments);w[Tq]=e=>ZR.FromTape(e.ID,e.type,e.arguments);w[gq]=e=>KR.FromTape(e.ID,e.type,e.arguments);w[yq]=e=>JR.FromTape(e.ID,e.type,e.arguments);w[Iq]=e=>eP.FromTape(e.ID,e.type,e.arguments);w[Eq]=e=>tP.FromTape(e.ID,e.type,e.arguments);w[vq]=e=>sP.FromTape(e.ID,e.type,e.arguments);w[ZI]=e=>iP.FromTape(e.ID,e.type,e.arguments);w[fx]=e=>rP.FromTape(e.ID,e.type,e.arguments);w[Cq]=e=>nP.FromTape(e.ID,e.type,e.arguments);w[dx]=e=>oP.FromTape(e.ID,e.type,e.arguments);w[_q]=e=>aP.FromTape(e.ID,e.type,e.arguments);w[wq]=e=>lP.FromTape(e.ID,e.type,e.arguments);w[Sq]=e=>hP.FromTape(e.ID,e.type,e.arguments);w[mx]=e=>cP.FromTape(e.ID,e.type,e.arguments);w[xq]=e=>uP.FromTape(e.ID,e.type,e.arguments);w[bq]=e=>pP.FromTape(e.ID,e.type,e.arguments);w[Fq]=e=>fP.FromTape(e.ID,e.type,e.arguments);w[Rq]=e=>dP.FromTape(e.ID,e.type,e.arguments);w[Pq]=e=>mP.FromTape(e.ID,e.type,e.arguments);w[Aq]=e=>TP.FromTape(e.ID,e.type,e.arguments);w[Oq]=e=>gP.FromTape(e.ID,e.type,e.arguments);w[Dq]=e=>yP.FromTape(e.ID,e.type,e.arguments);w[Mq]=e=>IP.FromTape(e.ID,e.type,e.arguments);w[Nq]=e=>EP.FromTape(e.ID,e.type,e.arguments);w[Lq]=e=>vP.FromTape(e.ID,e.type,e.arguments);w[Uq]=e=>CP.FromTape(e.ID,e.type,e.arguments);w[Hq]=e=>_P.FromTape(e.ID,e.type,e.arguments);w[Tx]=e=>wP.FromTape(e.ID,e.type,e.arguments);w[gx]=e=>SP.FromTape(e.ID,e.type,e.arguments);w[ip]=e=>xP.FromTape(e.ID,e.type,e.arguments);w[yx]=e=>bP.FromTape(e.ID,e.type,e.arguments);w[Ix]=e=>FP.FromTape(e.ID,e.type,e.arguments);w[Gq]=e=>RP.FromTape(e.ID,e.type,e.arguments);w[md]=e=>PP.FromTape(e.ID,e.type,e.arguments);w[Bq]=e=>AP.FromTape(e.ID,e.type,e.arguments);w[kq]=e=>OP.FromTape(e.ID,e.type,e.arguments);w[cm]=e=>DP.FromTape(e.ID,e.type,e.arguments);w[Vq]=e=>MP.FromTape(e.ID,e.type,e.arguments);w[Ex]=e=>NP.FromTape(e.ID,e.type,e.arguments);w[jq]=e=>LP.FromTape(e.ID,e.type,e.arguments);w[zq]=e=>UP.FromTape(e.ID,e.type,e.arguments);w[vx]=e=>HP.FromTape(e.ID,e.type,e.arguments);w[Wq]=e=>GP.FromTape(e.ID,e.type,e.arguments);w[Cx]=e=>BP.FromTape(e.ID,e.type,e.arguments);w[Yq]=e=>kP.FromTape(e.ID,e.type,e.arguments);w[_x]=e=>VP.FromTape(e.ID,e.type,e.arguments);w[Xq]=e=>jP.FromTape(e.ID,e.type,e.arguments);w[wx]=e=>zP.FromTape(e.ID,e.type,e.arguments);w[qq]=e=>WP.FromTape(e.ID,e.type,e.arguments);w[Sx]=e=>YP.FromTape(e.ID,e.type,e.arguments);w[Qq]=e=>XP.FromTape(e.ID,e.type,e.arguments);w[$q]=e=>qP.FromTape(e.ID,e.type,e.arguments);w[Zq]=e=>QP.FromTape(e.ID,e.type,e.arguments);w[Kq]=e=>$P.FromTape(e.ID,e.type,e.arguments);w[Jq]=e=>ZP.FromTape(e.ID,e.type,e.arguments);w[eQ]=e=>KP.FromTape(e.ID,e.type,e.arguments);w[tQ]=e=>JP.FromTape(e.ID,e.type,e.arguments);w[sQ]=e=>eA.FromTape(e.ID,e.type,e.arguments);w[iQ]=e=>tA.FromTape(e.ID,e.type,e.arguments);w[rQ]=e=>sA.FromTape(e.ID,e.type,e.arguments);w[nQ]=e=>iA.FromTape(e.ID,e.type,e.arguments);w[xx]=e=>rA.FromTape(e.ID,e.type,e.arguments);w[oQ]=e=>nA.FromTape(e.ID,e.type,e.arguments);w[bx]=e=>oA.FromTape(e.ID,e.type,e.arguments);w[aQ]=e=>aA.FromTape(e.ID,e.type,e.arguments);w[lQ]=e=>lA.FromTape(e.ID,e.type,e.arguments);w[hQ]=e=>hA.FromTape(e.ID,e.type,e.arguments);w[cQ]=e=>cA.FromTape(e.ID,e.type,e.arguments);w[uQ]=e=>uA.FromTape(e.ID,e.type,e.arguments);w[Fx]=e=>pA.FromTape(e.ID,e.type,e.arguments);w[pQ]=e=>fA.FromTape(e.ID,e.type,e.arguments);w[fQ]=e=>dA.FromTape(e.ID,e.type,e.arguments);w[dQ]=e=>mA.FromTape(e.ID,e.type,e.arguments);w[mQ]=e=>TA.FromTape(e.ID,e.type,e.arguments);w[Rx]=e=>gA.FromTape(e.ID,e.type,e.arguments);w[TQ]=e=>yA.FromTape(e.ID,e.type,e.arguments);w[gQ]=e=>IA.FromTape(e.ID,e.type,e.arguments);w[yQ]=e=>EA.FromTape(e.ID,e.type,e.arguments);w[IQ]=e=>vA.FromTape(e.ID,e.type,e.arguments);w[KI]=e=>CA.FromTape(e.ID,e.type,e.arguments);w[Px]=e=>_A.FromTape(e.ID,e.type,e.arguments);w[EQ]=e=>wA.FromTape(e.ID,e.type,e.arguments);w[Ax]=e=>SA.FromTape(e.ID,e.type,e.arguments);w[vQ]=e=>xA.FromTape(e.ID,e.type,e.arguments);w[CQ]=e=>bA.FromTape(e.ID,e.type,e.arguments);w[_Q]=e=>FA.FromTape(e.ID,e.type,e.arguments);w[wQ]=e=>RA.FromTape(e.ID,e.type,e.arguments);w[SQ]=e=>PA.FromTape(e.ID,e.type,e.arguments);w[xQ]=e=>AA.FromTape(e.ID,e.type,e.arguments);w[bQ]=e=>OA.FromTape(e.ID,e.type,e.arguments);w[Ox]=e=>DA.FromTape(e.ID,e.type,e.arguments);w[FQ]=e=>MA.FromTape(e.ID,e.type,e.arguments);w[Dx]=e=>NA.FromTape(e.ID,e.type,e.arguments);w[RQ]=e=>LA.FromTape(e.ID,e.type,e.arguments);w[PQ]=e=>UA.FromTape(e.ID,e.type,e.arguments);w[AQ]=e=>HA.FromTape(e.ID,e.type,e.arguments);w[OQ]=e=>GA.FromTape(e.ID,e.type,e.arguments);w[DQ]=e=>BA.FromTape(e.ID,e.type,e.arguments);w[MQ]=e=>kA.FromTape(e.ID,e.type,e.arguments);w[NQ]=e=>VA.FromTape(e.ID,e.type,e.arguments);w[LQ]=e=>jA.FromTape(e.ID,e.type,e.arguments);w[UQ]=e=>zA.FromTape(e.ID,e.type,e.arguments);w[HQ]=e=>WA.FromTape(e.ID,e.type,e.arguments);w[GQ]=e=>YA.FromTape(e.ID,e.type,e.arguments);w[BQ]=e=>XA.FromTape(e.ID,e.type,e.arguments);w[kQ]=e=>qA.FromTape(e.ID,e.type,e.arguments);w[VQ]=e=>QA.FromTape(e.ID,e.type,e.arguments);w[jQ]=e=>$A.FromTape(e.ID,e.type,e.arguments);w[zQ]=e=>ZA.FromTape(e.ID,e.type,e.arguments);w[WQ]=e=>KA.FromTape(e.ID,e.type,e.arguments);w[YQ]=e=>JA.FromTape(e.ID,e.type,e.arguments);w[XQ]=e=>eO.FromTape(e.ID,e.type,e.arguments);w[qQ]=e=>tO.FromTape(e.ID,e.type,e.arguments);w[QQ]=e=>sO.FromTape(e.ID,e.type,e.arguments);w[Mx]=e=>iO.FromTape(e.ID,e.type,e.arguments);w[$Q]=e=>rO.FromTape(e.ID,e.type,e.arguments);w[ZQ]=e=>nO.FromTape(e.ID,e.type,e.arguments);w[KQ]=e=>oO.FromTape(e.ID,e.type,e.arguments);w[Nx]=e=>aO.FromTape(e.ID,e.type,e.arguments);w[JQ]=e=>lO.FromTape(e.ID,e.type,e.arguments);w[Lx]=e=>hO.FromTape(e.ID,e.type,e.arguments);w[e$]=e=>cO.FromTape(e.ID,e.type,e.arguments);w[t$]=e=>uO.FromTape(e.ID,e.type,e.arguments);w[s$]=e=>pO.FromTape(e.ID,e.type,e.arguments);w[i$]=e=>fO.FromTape(e.ID,e.type,e.arguments);w[r$]=e=>dO.FromTape(e.ID,e.type,e.arguments);w[n$]=e=>mO.FromTape(e.ID,e.type,e.arguments);w[Ux]=e=>TO.FromTape(e.ID,e.type,e.arguments);w[o$]=e=>gO.FromTape(e.ID,e.type,e.arguments);w[a$]=e=>yO.FromTape(e.ID,e.type,e.arguments);w[l$]=e=>IO.FromTape(e.ID,e.type,e.arguments);w[h$]=e=>EO.FromTape(e.ID,e.type,e.arguments);w[c$]=e=>vO.FromTape(e.ID,e.type,e.arguments);w[u$]=e=>CO.FromTape(e.ID,e.type,e.arguments);w[Hx]=e=>_O.FromTape(e.ID,e.type,e.arguments);w[p$]=e=>wO.FromTape(e.ID,e.type,e.arguments);w[f$]=e=>SO.FromTape(e.ID,e.type,e.arguments);w[d$]=e=>xO.FromTape(e.ID,e.type,e.arguments);w[m$]=e=>bO.FromTape(e.ID,e.type,e.arguments);w[T$]=e=>FO.FromTape(e.ID,e.type,e.arguments);w[g$]=e=>RO.FromTape(e.ID,e.type,e.arguments);w[y$]=e=>PO.FromTape(e.ID,e.type,e.arguments);w[I$]=e=>AO.FromTape(e.ID,e.type,e.arguments);w[E$]=e=>OO.FromTape(e.ID,e.type,e.arguments);w[v$]=e=>DO.FromTape(e.ID,e.type,e.arguments);w[Gx]=e=>MO.FromTape(e.ID,e.type,e.arguments);w[C$]=e=>NO.FromTape(e.ID,e.type,e.arguments);w[Bx]=e=>LO.FromTape(e.ID,e.type,e.arguments);w[_$]=e=>UO.FromTape(e.ID,e.type,e.arguments);w[w$]=e=>HO.FromTape(e.ID,e.type,e.arguments);w[S$]=e=>GO.FromTape(e.ID,e.type,e.arguments);w[x$]=e=>BO.FromTape(e.ID,e.type,e.arguments);w[b$]=e=>kO.FromTape(e.ID,e.type,e.arguments);w[F$]=e=>VO.FromTape(e.ID,e.type,e.arguments);w[kx]=e=>jO.FromTape(e.ID,e.type,e.arguments);w[R$]=e=>zO.FromTape(e.ID,e.type,e.arguments);w[P$]=e=>WO.FromTape(e.ID,e.type,e.arguments);w[Vx]=e=>YO.FromTape(e.ID,e.type,e.arguments);w[A$]=e=>XO.FromTape(e.ID,e.type,e.arguments);w[O$]=e=>qO.FromTape(e.ID,e.type,e.arguments);w[jx]=e=>QO.FromTape(e.ID,e.type,e.arguments);w[D$]=e=>$O.FromTape(e.ID,e.type,e.arguments);w[zx]=e=>ZO.FromTape(e.ID,e.type,e.arguments);w[M$]=e=>KO.FromTape(e.ID,e.type,e.arguments);w[Wx]=e=>JO.FromTape(e.ID,e.type,e.arguments);w[N$]=e=>eD.FromTape(e.ID,e.type,e.arguments);w[Yx]=e=>tD.FromTape(e.ID,e.type,e.arguments);w[L$]=e=>sD.FromTape(e.ID,e.type,e.arguments);w[U$]=e=>iD.FromTape(e.ID,e.type,e.arguments);w[H$]=e=>rD.FromTape(e.ID,e.type,e.arguments);w[G$]=e=>nD.FromTape(e.ID,e.type,e.arguments);w[JI]=e=>oD.FromTape(e.ID,e.type,e.arguments);w[B$]=e=>aD.FromTape(e.ID,e.type,e.arguments);w[k$]=e=>lD.FromTape(e.ID,e.type,e.arguments);w[Xx]=e=>hD.FromTape(e.ID,e.type,e.arguments);w[V$]=e=>cD.FromTape(e.ID,e.type,e.arguments);w[j$]=e=>uD.FromTape(e.ID,e.type,e.arguments);w[z$]=e=>pD.FromTape(e.ID,e.type,e.arguments);w[W$]=e=>fD.FromTape(e.ID,e.type,e.arguments);w[qx]=e=>dD.FromTape(e.ID,e.type,e.arguments);w[Y$]=e=>mD.FromTape(e.ID,e.type,e.arguments);w[Qx]=e=>TD.FromTape(e.ID,e.type,e.arguments);w[X$]=e=>gD.FromTape(e.ID,e.type,e.arguments);w[$x]=e=>yD.FromTape(e.ID,e.type,e.arguments);w[q$]=e=>ID.FromTape(e.ID,e.type,e.arguments);w[Q$]=e=>ED.FromTape(e.ID,e.type,e.arguments);w[$$]=e=>vD.FromTape(e.ID,e.type,e.arguments);w[Z$]=e=>CD.FromTape(e.ID,e.type,e.arguments);w[Zx]=e=>_D.FromTape(e.ID,e.type,e.arguments);w[K$]=e=>wD.FromTape(e.ID,e.type,e.arguments);w[Kx]=e=>SD.FromTape(e.ID,e.type,e.arguments);w[J$]=e=>xD.FromTape(e.ID,e.type,e.arguments);w[Jx]=e=>bD.FromTape(e.ID,e.type,e.arguments);w[eZ]=e=>FD.FromTape(e.ID,e.type,e.arguments);w[eb]=e=>RD.FromTape(e.ID,e.type,e.arguments);w[tZ]=e=>PD.FromTape(e.ID,e.type,e.arguments);w[tb]=e=>AD.FromTape(e.ID,e.type,e.arguments);w[sZ]=e=>OD.FromTape(e.ID,e.type,e.arguments);w[sb]=e=>DD.FromTape(e.ID,e.type,e.arguments);w[iZ]=e=>MD.FromTape(e.ID,e.type,e.arguments);w[ib]=e=>ND.FromTape(e.ID,e.type,e.arguments);w[rb]=e=>LD.FromTape(e.ID,e.type,e.arguments);w[rZ]=e=>UD.FromTape(e.ID,e.type,e.arguments);w[nb]=e=>HD.FromTape(e.ID,e.type,e.arguments);w[nZ]=e=>GD.FromTape(e.ID,e.type,e.arguments);w[oZ]=e=>BD.FromTape(e.ID,e.type,e.arguments);w[aZ]=e=>kD.FromTape(e.ID,e.type,e.arguments);w[lZ]=e=>VD.FromTape(e.ID,e.type,e.arguments);w[hZ]=e=>jD.FromTape(e.ID,e.type,e.arguments);w[cZ]=e=>zD.FromTape(e.ID,e.type,e.arguments);w[ob]=e=>WD.FromTape(e.ID,e.type,e.arguments);w[uZ]=e=>YD.FromTape(e.ID,e.type,e.arguments);w[ab]=e=>XD.FromTape(e.ID,e.type,e.arguments);w[pZ]=e=>qD.FromTape(e.ID,e.type,e.arguments);w[lb]=e=>QD.FromTape(e.ID,e.type,e.arguments);w[fZ]=e=>$D.FromTape(e.ID,e.type,e.arguments);w[hb]=e=>ZD.FromTape(e.ID,e.type,e.arguments);w[dZ]=e=>KD.FromTape(e.ID,e.type,e.arguments);w[mZ]=e=>JD.FromTape(e.ID,e.type,e.arguments);w[TZ]=e=>e1.FromTape(e.ID,e.type,e.arguments);w[gZ]=e=>t1.FromTape(e.ID,e.type,e.arguments);w[yZ]=e=>s1.FromTape(e.ID,e.type,e.arguments);w[IZ]=e=>i1.FromTape(e.ID,e.type,e.arguments);w[EZ]=e=>r1.FromTape(e.ID,e.type,e.arguments);w[vZ]=e=>n1.FromTape(e.ID,e.type,e.arguments);w[cb]=e=>o1.FromTape(e.ID,e.type,e.arguments);w[ub]=e=>a1.FromTape(e.ID,e.type,e.arguments);w[CZ]=e=>l1.FromTape(e.ID,e.type,e.arguments);w[_Z]=e=>h1.FromTape(e.ID,e.type,e.arguments);w[wZ]=e=>c1.FromTape(e.ID,e.type,e.arguments);w[SZ]=e=>u1.FromTape(e.ID,e.type,e.arguments);w[xZ]=e=>p1.FromTape(e.ID,e.type,e.arguments);w[bZ]=e=>f1.FromTape(e.ID,e.type,e.arguments);w[FZ]=e=>d1.FromTape(e.ID,e.type,e.arguments);w[RZ]=e=>m1.FromTape(e.ID,e.type,e.arguments);w[PZ]=e=>T1.FromTape(e.ID,e.type,e.arguments);w[AZ]=e=>g1.FromTape(e.ID,e.type,e.arguments);w[OZ]=e=>y1.FromTape(e.ID,e.type,e.arguments);w[DZ]=e=>I1.FromTape(e.ID,e.type,e.arguments);w[pb]=e=>E1.FromTape(e.ID,e.type,e.arguments);w[fb]=e=>v1.FromTape(e.ID,e.type,e.arguments);w[MZ]=e=>C1.FromTape(e.ID,e.type,e.arguments);w[db]=e=>_1.FromTape(e.ID,e.type,e.arguments);w[NZ]=e=>w1.FromTape(e.ID,e.type,e.arguments);w[mb]=e=>S1.FromTape(e.ID,e.type,e.arguments);w[LZ]=e=>x1.FromTape(e.ID,e.type,e.arguments);w[Tb]=e=>b1.FromTape(e.ID,e.type,e.arguments);w[gb]=e=>F1.FromTape(e.ID,e.type,e.arguments);w[yb]=e=>R1.FromTape(e.ID,e.type,e.arguments);w[UZ]=e=>P1.FromTape(e.ID,e.type,e.arguments);w[HZ]=e=>A1.FromTape(e.ID,e.type,e.arguments);w[GZ]=e=>O1.FromTape(e.ID,e.type,e.arguments);w[Ib]=e=>D1.FromTape(e.ID,e.type,e.arguments);w[BZ]=e=>M1.FromTape(e.ID,e.type,e.arguments);w[Eb]=e=>N1.FromTape(e.ID,e.type,e.arguments);w[kZ]=e=>L1.FromTape(e.ID,e.type,e.arguments);w[VZ]=e=>U1.FromTape(e.ID,e.type,e.arguments);w[vb]=e=>H1.FromTape(e.ID,e.type,e.arguments);w[jZ]=e=>G1.FromTape(e.ID,e.type,e.arguments);w[Cb]=e=>B1.FromTape(e.ID,e.type,e.arguments);w[zZ]=e=>k1.FromTape(e.ID,e.type,e.arguments);w[_b]=e=>V1.FromTape(e.ID,e.type,e.arguments);w[WZ]=e=>j1.FromTape(e.ID,e.type,e.arguments);w[wb]=e=>z1.FromTape(e.ID,e.type,e.arguments);w[YZ]=e=>W1.FromTape(e.ID,e.type,e.arguments);w[Sb]=e=>Y1.FromTape(e.ID,e.type,e.arguments);w[XZ]=e=>X1.FromTape(e.ID,e.type,e.arguments);w[xb]=e=>q1.FromTape(e.ID,e.type,e.arguments);w[qZ]=e=>Q1.FromTape(e.ID,e.type,e.arguments);w[bb]=e=>$1.FromTape(e.ID,e.type,e.arguments);w[QZ]=e=>Z1.FromTape(e.ID,e.type,e.arguments);w[Fb]=e=>K1.FromTape(e.ID,e.type,e.arguments);w[$Z]=e=>J1.FromTape(e.ID,e.type,e.arguments);w[Rb]=e=>eM.FromTape(e.ID,e.type,e.arguments);w[ZZ]=e=>tM.FromTape(e.ID,e.type,e.arguments);w[e0]=e=>sM.FromTape(e.ID,e.type,e.arguments);w[KZ]=e=>iM.FromTape(e.ID,e.type,e.arguments);w[t0]=e=>rM.FromTape(e.ID,e.type,e.arguments);w[JZ]=e=>nM.FromTape(e.ID,e.type,e.arguments);w[Pb]=e=>oM.FromTape(e.ID,e.type,e.arguments);w[eK]=e=>aM.FromTape(e.ID,e.type,e.arguments);w[Ab]=e=>lM.FromTape(e.ID,e.type,e.arguments);w[tK]=e=>hM.FromTape(e.ID,e.type,e.arguments);w[sK]=e=>cM.FromTape(e.ID,e.type,e.arguments);w[iK]=e=>uM.FromTape(e.ID,e.type,e.arguments);w[rK]=e=>pM.FromTape(e.ID,e.type,e.arguments);w[nK]=e=>fM.FromTape(e.ID,e.type,e.arguments);w[oK]=e=>dM.FromTape(e.ID,e.type,e.arguments);w[Ob]=e=>mM.FromTape(e.ID,e.type,e.arguments);w[aK]=e=>TM.FromTape(e.ID,e.type,e.arguments);w[lK]=e=>gM.FromTape(e.ID,e.type,e.arguments);w[hK]=e=>yM.FromTape(e.ID,e.type,e.arguments);w[cK]=e=>IM.FromTape(e.ID,e.type,e.arguments);w[Db]=e=>EM.FromTape(e.ID,e.type,e.arguments);w[uK]=e=>vM.FromTape(e.ID,e.type,e.arguments);w[Mb]=e=>CM.FromTape(e.ID,e.type,e.arguments);w[pK]=e=>_M.FromTape(e.ID,e.type,e.arguments);w[fK]=e=>wM.FromTape(e.ID,e.type,e.arguments);w[dK]=e=>SM.FromTape(e.ID,e.type,e.arguments);w[mK]=e=>xM.FromTape(e.ID,e.type,e.arguments);w[TK]=e=>bM.FromTape(e.ID,e.type,e.arguments);w[gK]=e=>FM.FromTape(e.ID,e.type,e.arguments);w[yK]=e=>RM.FromTape(e.ID,e.type,e.arguments);w[IK]=e=>PM.FromTape(e.ID,e.type,e.arguments);w[EK]=e=>AM.FromTape(e.ID,e.type,e.arguments);w[Nb]=e=>OM.FromTape(e.ID,e.type,e.arguments);w[vK]=e=>DM.FromTape(e.ID,e.type,e.arguments);w[CK]=e=>MM.FromTape(e.ID,e.type,e.arguments);w[_K]=e=>NM.FromTape(e.ID,e.type,e.arguments);w[wK]=e=>LM.FromTape(e.ID,e.type,e.arguments);w[SK]=e=>UM.FromTape(e.ID,e.type,e.arguments);w[Lb]=e=>HM.FromTape(e.ID,e.type,e.arguments);w[xK]=e=>GM.FromTape(e.ID,e.type,e.arguments);w[bK]=e=>BM.FromTape(e.ID,e.type,e.arguments);w[FK]=e=>kM.FromTape(e.ID,e.type,e.arguments);w[RK]=e=>VM.FromTape(e.ID,e.type,e.arguments);w[PK]=e=>jM.FromTape(e.ID,e.type,e.arguments);w[Ub]=e=>zM.FromTape(e.ID,e.type,e.arguments);w[AK]=e=>WM.FromTape(e.ID,e.type,e.arguments);w[OK]=e=>YM.FromTape(e.ID,e.type,e.arguments);w[DK]=e=>XM.FromTape(e.ID,e.type,e.arguments);w[MK]=e=>qM.FromTape(e.ID,e.type,e.arguments);w[Hb]=e=>QM.FromTape(e.ID,e.type,e.arguments);w[NK]=e=>$M.FromTape(e.ID,e.type,e.arguments);w[LK]=e=>ZM.FromTape(e.ID,e.type,e.arguments);w[UK]=e=>KM.FromTape(e.ID,e.type,e.arguments);w[HK]=e=>JM.FromTape(e.ID,e.type,e.arguments);w[GK]=e=>eN.FromTape(e.ID,e.type,e.arguments);w[BK]=e=>tN.FromTape(e.ID,e.type,e.arguments);w[kK]=e=>sN.FromTape(e.ID,e.type,e.arguments);w[VK]=e=>iN.FromTape(e.ID,e.type,e.arguments);w[jK]=e=>rN.FromTape(e.ID,e.type,e.arguments);w[zK]=e=>nN.FromTape(e.ID,e.type,e.arguments);w[WK]=e=>oN.FromTape(e.ID,e.type,e.arguments);w[Gb]=e=>aN.FromTape(e.ID,e.type,e.arguments);w[YK]=e=>lN.FromTape(e.ID,e.type,e.arguments);w[XK]=e=>hN.FromTape(e.ID,e.type,e.arguments);w[qK]=e=>cN.FromTape(e.ID,e.type,e.arguments);w[QK]=e=>uN.FromTape(e.ID,e.type,e.arguments);w[$K]=e=>pN.FromTape(e.ID,e.type,e.arguments);w[ZK]=e=>fN.FromTape(e.ID,e.type,e.arguments);w[KK]=e=>dN.FromTape(e.ID,e.type,e.arguments);w[JK]=e=>mN.FromTape(e.ID,e.type,e.arguments);w[eJ]=e=>TN.FromTape(e.ID,e.type,e.arguments);w[tJ]=e=>gN.FromTape(e.ID,e.type,e.arguments);w[sJ]=e=>yN.FromTape(e.ID,e.type,e.arguments);w[iJ]=e=>IN.FromTape(e.ID,e.type,e.arguments);w[rJ]=e=>EN.FromTape(e.ID,e.type,e.arguments);w[nJ]=e=>vN.FromTape(e.ID,e.type,e.arguments);w[oJ]=e=>CN.FromTape(e.ID,e.type,e.arguments);w[aJ]=e=>_N.FromTape(e.ID,e.type,e.arguments);w[lJ]=e=>wN.FromTape(e.ID,e.type,e.arguments);w[hJ]=e=>SN.FromTape(e.ID,e.type,e.arguments);w[cJ]=e=>xN.FromTape(e.ID,e.type,e.arguments);w[uJ]=e=>bN.FromTape(e.ID,e.type,e.arguments);w[pJ]=e=>FN.FromTape(e.ID,e.type,e.arguments);w[fJ]=e=>RN.FromTape(e.ID,e.type,e.arguments);w[dJ]=e=>PN.FromTape(e.ID,e.type,e.arguments);w[mJ]=e=>AN.FromTape(e.ID,e.type,e.arguments);w[TJ]=e=>ON.FromTape(e.ID,e.type,e.arguments);w[Bb]=e=>DN.FromTape(e.ID,e.type,e.arguments);w[gJ]=e=>MN.FromTape(e.ID,e.type,e.arguments);w[kb]=e=>NN.FromTape(e.ID,e.type,e.arguments);w[yJ]=e=>LN.FromTape(e.ID,e.type,e.arguments);w[s0]=e=>UN.FromTape(e.ID,e.type,e.arguments);w[Vb]=e=>HN.FromTape(e.ID,e.type,e.arguments);w[IJ]=e=>GN.FromTape(e.ID,e.type,e.arguments);w[EJ]=e=>BN.FromTape(e.ID,e.type,e.arguments);w[vJ]=e=>kN.FromTape(e.ID,e.type,e.arguments);w[CJ]=e=>VN.FromTape(e.ID,e.type,e.arguments);w[jb]=e=>jN.FromTape(e.ID,e.type,e.arguments);w[_J]=e=>zN.FromTape(e.ID,e.type,e.arguments);w[wJ]=e=>WN.FromTape(e.ID,e.type,e.arguments);w[SJ]=e=>YN.FromTape(e.ID,e.type,e.arguments);w[xJ]=e=>XN.FromTape(e.ID,e.type,e.arguments);w[bJ]=e=>qN.FromTape(e.ID,e.type,e.arguments);w[FJ]=e=>QN.FromTape(e.ID,e.type,e.arguments);w[RJ]=e=>$N.FromTape(e.ID,e.type,e.arguments);w[PJ]=e=>ZN.FromTape(e.ID,e.type,e.arguments);w[AJ]=e=>KN.FromTape(e.ID,e.type,e.arguments);w[OJ]=e=>JN.FromTape(e.ID,e.type,e.arguments);w[DJ]=e=>e2.FromTape(e.ID,e.type,e.arguments);w[MJ]=e=>t2.FromTape(e.ID,e.type,e.arguments);w[um]=e=>s2.FromTape(e.ID,e.type,e.arguments);w[zb]=e=>i2.FromTape(e.ID,e.type,e.arguments);w[NJ]=e=>r2.FromTape(e.ID,e.type,e.arguments);w[LJ]=e=>n2.FromTape(e.ID,e.type,e.arguments);w[UJ]=e=>o2.FromTape(e.ID,e.type,e.arguments);w[HJ]=e=>a2.FromTape(e.ID,e.type,e.arguments);w[GJ]=e=>l2.FromTape(e.ID,e.type,e.arguments);w[Wb]=e=>h2.FromTape(e.ID,e.type,e.arguments);w[BJ]=e=>c2.FromTape(e.ID,e.type,e.arguments);w[kJ]=e=>u2.FromTape(e.ID,e.type,e.arguments);w[VJ]=e=>p2.FromTape(e.ID,e.type,e.arguments);w[jJ]=e=>f2.FromTape(e.ID,e.type,e.arguments);w[zJ]=e=>d2.FromTape(e.ID,e.type,e.arguments);w[WJ]=e=>m2.FromTape(e.ID,e.type,e.arguments);w[YJ]=e=>T2.FromTape(e.ID,e.type,e.arguments);w[XJ]=e=>g2.FromTape(e.ID,e.type,e.arguments);w[qJ]=e=>y2.FromTape(e.ID,e.type,e.arguments);w[QJ]=e=>I2.FromTape(e.ID,e.type,e.arguments);w[$J]=e=>E2.FromTape(e.ID,e.type,e.arguments);w[ZJ]=e=>v2.FromTape(e.ID,e.type,e.arguments);w[KJ]=e=>C2.FromTape(e.ID,e.type,e.arguments);w[Yb]=e=>_2.FromTape(e.ID,e.type,e.arguments);w[JJ]=e=>w2.FromTape(e.ID,e.type,e.arguments);w[Xb]=e=>S2.FromTape(e.ID,e.type,e.arguments);w[eee]=e=>x2.FromTape(e.ID,e.type,e.arguments);w[qb]=e=>b2.FromTape(e.ID,e.type,e.arguments);w[tee]=e=>F2.FromTape(e.ID,e.type,e.arguments);w[see]=e=>R2.FromTape(e.ID,e.type,e.arguments);w[iee]=e=>P2.FromTape(e.ID,e.type,e.arguments);w[ree]=e=>A2.FromTape(e.ID,e.type,e.arguments);w[nee]=e=>O2.FromTape(e.ID,e.type,e.arguments);w[oee]=e=>D2.FromTape(e.ID,e.type,e.arguments);w[i0]=e=>M2.FromTape(e.ID,e.type,e.arguments);w[Qb]=e=>N2.FromTape(e.ID,e.type,e.arguments);w[aee]=e=>L2.FromTape(e.ID,e.type,e.arguments);w[lee]=e=>U2.FromTape(e.ID,e.type,e.arguments);w[hee]=e=>H2.FromTape(e.ID,e.type,e.arguments);w[cee]=e=>G2.FromTape(e.ID,e.type,e.arguments);w[uee]=e=>B2.FromTape(e.ID,e.type,e.arguments);w[pee]=e=>k2.FromTape(e.ID,e.type,e.arguments);w[fee]=e=>V2.FromTape(e.ID,e.type,e.arguments);w[dee]=e=>j2.FromTape(e.ID,e.type,e.arguments);w[$b]=e=>z2.FromTape(e.ID,e.type,e.arguments);w[Zb]=e=>W2.FromTape(e.ID,e.type,e.arguments);w[mee]=e=>Y2.FromTape(e.ID,e.type,e.arguments);w[Tee]=e=>X2.FromTape(e.ID,e.type,e.arguments);w[gee]=e=>q2.FromTape(e.ID,e.type,e.arguments);w[yee]=e=>Q2.FromTape(e.ID,e.type,e.arguments);w[Iee]=e=>$2.FromTape(e.ID,e.type,e.arguments);w[Eee]=e=>Z2.FromTape(e.ID,e.type,e.arguments);w[vee]=e=>K2.FromTape(e.ID,e.type,e.arguments);w[Cee]=e=>J2.FromTape(e.ID,e.type,e.arguments);w[_ee]=e=>eL.FromTape(e.ID,e.type,e.arguments);w[wee]=e=>tL.FromTape(e.ID,e.type,e.arguments);w[See]=e=>sL.FromTape(e.ID,e.type,e.arguments);w[xee]=e=>iL.FromTape(e.ID,e.type,e.arguments);w[bee]=e=>rL.FromTape(e.ID,e.type,e.arguments);w[Fee]=e=>nL.FromTape(e.ID,e.type,e.arguments);w[Ree]=e=>oL.FromTape(e.ID,e.type,e.arguments);w[Pee]=e=>aL.FromTape(e.ID,e.type,e.arguments);w[Kb]=e=>lL.FromTape(e.ID,e.type,e.arguments);w[Aee]=e=>hL.FromTape(e.ID,e.type,e.arguments);w[Oee]=e=>cL.FromTape(e.ID,e.type,e.arguments);w[Dee]=e=>uL.FromTape(e.ID,e.type,e.arguments);w[rp]=e=>pL.FromTape(e.ID,e.type,e.arguments);w[Mee]=e=>fL.FromTape(e.ID,e.type,e.arguments);w[Nee]=e=>dL.FromTape(e.ID,e.type,e.arguments);w[Lee]=e=>mL.FromTape(e.ID,e.type,e.arguments);w[Jb]=e=>TL.FromTape(e.ID,e.type,e.arguments);w[Uee]=e=>gL.FromTape(e.ID,e.type,e.arguments);w[Hee]=e=>yL.FromTape(e.ID,e.type,e.arguments);w[Gee]=e=>IL.FromTape(e.ID,e.type,e.arguments);w[Bee]=e=>EL.FromTape(e.ID,e.type,e.arguments);w[kee]=e=>vL.FromTape(e.ID,e.type,e.arguments);w[Vee]=e=>CL.FromTape(e.ID,e.type,e.arguments);w[jee]=e=>_L.FromTape(e.ID,e.type,e.arguments);w[zee]=e=>wL.FromTape(e.ID,e.type,e.arguments);w[Wee]=e=>SL.FromTape(e.ID,e.type,e.arguments);w[Yee]=e=>xL.FromTape(e.ID,e.type,e.arguments);w[Xee]=e=>bL.FromTape(e.ID,e.type,e.arguments);w[qee]=e=>FL.FromTape(e.ID,e.type,e.arguments);w[Qee]=e=>RL.FromTape(e.ID,e.type,e.arguments);w[$ee]=e=>PL.FromTape(e.ID,e.type,e.arguments);w[Zee]=e=>AL.FromTape(e.ID,e.type,e.arguments);w[Kee]=e=>OL.FromTape(e.ID,e.type,e.arguments);w[eF]=e=>DL.FromTape(e.ID,e.type,e.arguments);w[tF]=e=>ML.FromTape(e.ID,e.type,e.arguments);w[Jee]=e=>NL.FromTape(e.ID,e.type,e.arguments);w[ete]=e=>LL.FromTape(e.ID,e.type,e.arguments);w[Td]=e=>UL.FromTape(e.ID,e.type,e.arguments);w[sF]=e=>HL.FromTape(e.ID,e.type,e.arguments);w[tte]=e=>GL.FromTape(e.ID,e.type,e.arguments);w[ste]=e=>BL.FromTape(e.ID,e.type,e.arguments);w[ite]=e=>kL.FromTape(e.ID,e.type,e.arguments);w[rte]=e=>VL.FromTape(e.ID,e.type,e.arguments);w[nte]=e=>jL.FromTape(e.ID,e.type,e.arguments);w[ote]=e=>zL.FromTape(e.ID,e.type,e.arguments);w[ate]=e=>WL.FromTape(e.ID,e.type,e.arguments);w[lte]=e=>YL.FromTape(e.ID,e.type,e.arguments);w[iF]=e=>XL.FromTape(e.ID,e.type,e.arguments);w[hte]=e=>qL.FromTape(e.ID,e.type,e.arguments);w[rF]=e=>QL.FromTape(e.ID,e.type,e.arguments);w[nF]=e=>$L.FromTape(e.ID,e.type,e.arguments);w[cte]=e=>ZL.FromTape(e.ID,e.type,e.arguments);w[ute]=e=>KL.FromTape(e.ID,e.type,e.arguments);w[pte]=e=>JL.FromTape(e.ID,e.type,e.arguments);w[fte]=e=>e3.FromTape(e.ID,e.type,e.arguments);w[dte]=e=>t3.FromTape(e.ID,e.type,e.arguments);w[mte]=e=>s3.FromTape(e.ID,e.type,e.arguments);w[Tte]=e=>i3.FromTape(e.ID,e.type,e.arguments);w[gte]=e=>r3.FromTape(e.ID,e.type,e.arguments);w[yte]=e=>n3.FromTape(e.ID,e.type,e.arguments);w[Ite]=e=>o3.FromTape(e.ID,e.type,e.arguments);w[oF]=e=>a3.FromTape(e.ID,e.type,e.arguments);w[Ete]=e=>l3.FromTape(e.ID,e.type,e.arguments);w[vte]=e=>h3.FromTape(e.ID,e.type,e.arguments);w[Cte]=e=>c3.FromTape(e.ID,e.type,e.arguments);w[aF]=e=>u3.FromTape(e.ID,e.type,e.arguments);w[_te]=e=>p3.FromTape(e.ID,e.type,e.arguments);w[lF]=e=>f3.FromTape(e.ID,e.type,e.arguments);w[wte]=e=>d3.FromTape(e.ID,e.type,e.arguments);w[hF]=e=>m3.FromTape(e.ID,e.type,e.arguments);w[Ste]=e=>T3.FromTape(e.ID,e.type,e.arguments);w[r0]=e=>g3.FromTape(e.ID,e.type,e.arguments);w[xte]=e=>y3.FromTape(e.ID,e.type,e.arguments);w[bte]=e=>I3.FromTape(e.ID,e.type,e.arguments);w[Fte]=e=>E3.FromTape(e.ID,e.type,e.arguments);w[Rte]=e=>v3.FromTape(e.ID,e.type,e.arguments);w[Pte]=e=>C3.FromTape(e.ID,e.type,e.arguments);w[Ate]=e=>_3.FromTape(e.ID,e.type,e.arguments);w[Ote]=e=>w3.FromTape(e.ID,e.type,e.arguments);w[Dte]=e=>S3.FromTape(e.ID,e.type,e.arguments);w[Mte]=e=>x3.FromTape(e.ID,e.type,e.arguments);w[Nte]=e=>b3.FromTape(e.ID,e.type,e.arguments);w[Lte]=e=>F3.FromTape(e.ID,e.type,e.arguments);w[Ute]=e=>R3.FromTape(e.ID,e.type,e.arguments);w[Hte]=e=>P3.FromTape(e.ID,e.type,e.arguments);w[Gte]=e=>A3.FromTape(e.ID,e.type,e.arguments);w[n0]=e=>O3.FromTape(e.ID,e.type,e.arguments);w[Bte]=e=>D3.FromTape(e.ID,e.type,e.arguments);w[kte]=e=>M3.FromTape(e.ID,e.type,e.arguments);w[Vte]=e=>N3.FromTape(e.ID,e.type,e.arguments);w[jte]=e=>L3.FromTape(e.ID,e.type,e.arguments);w[zte]=e=>U3.FromTape(e.ID,e.type,e.arguments);w[Wte]=e=>H3.FromTape(e.ID,e.type,e.arguments);w[Yte]=e=>G3.FromTape(e.ID,e.type,e.arguments);w[Xte]=e=>B3.FromTape(e.ID,e.type,e.arguments);w[qte]=e=>k3.FromTape(e.ID,e.type,e.arguments);w[o0]=e=>V3.FromTape(e.ID,e.type,e.arguments);w[Qte]=e=>j3.FromTape(e.ID,e.type,e.arguments);w[$te]=e=>z3.FromTape(e.ID,e.type,e.arguments);w[Zte]=e=>W3.FromTape(e.ID,e.type,e.arguments);w[Kte]=e=>Y3.FromTape(e.ID,e.type,e.arguments);w[Jte]=e=>X3.FromTape(e.ID,e.type,e.arguments);w[ese]=e=>q3.FromTape(e.ID,e.type,e.arguments);w[a0]=e=>Q3.FromTape(e.ID,e.type,e.arguments);w[tse]=e=>$3.FromTape(e.ID,e.type,e.arguments);w[l0]=e=>Z3.FromTape(e.ID,e.type,e.arguments);w[sse]=e=>K3.FromTape(e.ID,e.type,e.arguments);w[ise]=e=>J3.FromTape(e.ID,e.type,e.arguments);w[rse]=e=>e4.FromTape(e.ID,e.type,e.arguments);w[nse]=e=>t4.FromTape(e.ID,e.type,e.arguments);w[ose]=e=>s4.FromTape(e.ID,e.type,e.arguments);w[ase]=e=>i4.FromTape(e.ID,e.type,e.arguments);w[lse]=e=>r4.FromTape(e.ID,e.type,e.arguments);w[hse]=e=>n4.FromTape(e.ID,e.type,e.arguments);w[cse]=e=>o4.FromTape(e.ID,e.type,e.arguments);w[use]=e=>a4.FromTape(e.ID,e.type,e.arguments);w[pse]=e=>l4.FromTape(e.ID,e.type,e.arguments);w[fse]=e=>h4.FromTape(e.ID,e.type,e.arguments);w[dse]=e=>c4.FromTape(e.ID,e.type,e.arguments);w[mse]=e=>u4.FromTape(e.ID,e.type,e.arguments);w[Tse]=e=>p4.FromTape(e.ID,e.type,e.arguments);w[gse]=e=>f4.FromTape(e.ID,e.type,e.arguments);w[yse]=e=>d4.FromTape(e.ID,e.type,e.arguments);w[Ise]=e=>m4.FromTape(e.ID,e.type,e.arguments);w[Ese]=e=>T4.FromTape(e.ID,e.type,e.arguments);w[vse]=e=>g4.FromTape(e.ID,e.type,e.arguments);w[Cse]=e=>y4.FromTape(e.ID,e.type,e.arguments);w[_se]=e=>I4.FromTape(e.ID,e.type,e.arguments);w[wse]=e=>E4.FromTape(e.ID,e.type,e.arguments);w[Sse]=e=>v4.FromTape(e.ID,e.type,e.arguments);w[xse]=e=>C4.FromTape(e.ID,e.type,e.arguments);w[bse]=e=>_4.FromTape(e.ID,e.type,e.arguments);w[Fse]=e=>w4.FromTape(e.ID,e.type,e.arguments);w[Rse]=e=>S4.FromTape(e.ID,e.type,e.arguments);w[h0]=e=>x4.FromTape(e.ID,e.type,e.arguments);w[Pse]=e=>b4.FromTape(e.ID,e.type,e.arguments);w[Ase]=e=>F4.FromTape(e.ID,e.type,e.arguments);w[Ose]=e=>R4.FromTape(e.ID,e.type,e.arguments);w[Dse]=e=>P4.FromTape(e.ID,e.type,e.arguments);w[cF]=e=>A4.FromTape(e.ID,e.type,e.arguments);w[Mse]=e=>O4.FromTape(e.ID,e.type,e.arguments);w[Nse]=e=>D4.FromTape(e.ID,e.type,e.arguments);w[Lse]=e=>M4.FromTape(e.ID,e.type,e.arguments);w[Use]=e=>N4.FromTape(e.ID,e.type,e.arguments);w[Hse]=e=>L4.FromTape(e.ID,e.type,e.arguments);w[Gse]=e=>U4.FromTape(e.ID,e.type,e.arguments);w[Bse]=e=>H4.FromTape(e.ID,e.type,e.arguments);w[kse]=e=>G4.FromTape(e.ID,e.type,e.arguments);w[uF]=e=>B4.FromTape(e.ID,e.type,e.arguments);w[Vse]=e=>k4.FromTape(e.ID,e.type,e.arguments);w[pF]=e=>V4.FromTape(e.ID,e.type,e.arguments);w[jse]=e=>j4.FromTape(e.ID,e.type,e.arguments);w[zse]=e=>z4.FromTape(e.ID,e.type,e.arguments);w[Wse]=e=>W4.FromTape(e.ID,e.type,e.arguments);w[Yse]=e=>Y4.FromTape(e.ID,e.type,e.arguments);w[Xse]=e=>X4.FromTape(e.ID,e.type,e.arguments);w[qse]=e=>q4.FromTape(e.ID,e.type,e.arguments);w[Qse]=e=>Q4.FromTape(e.ID,e.type,e.arguments);w[fF]=e=>$4.FromTape(e.ID,e.type,e.arguments);w[c0]=e=>Z4.FromTape(e.ID,e.type,e.arguments);w[dF]=e=>K4.FromTape(e.ID,e.type,e.arguments);w[mF]=e=>J4.FromTape(e.ID,e.type,e.arguments);w[$se]=e=>e5.FromTape(e.ID,e.type,e.arguments);w[Zse]=e=>t5.FromTape(e.ID,e.type,e.arguments);w[TF]=e=>s5.FromTape(e.ID,e.type,e.arguments);w[Kse]=e=>i5.FromTape(e.ID,e.type,e.arguments);w[Jse]=e=>r5.FromTape(e.ID,e.type,e.arguments);w[pm]=e=>n5.FromTape(e.ID,e.type,e.arguments);w[gF]=e=>o5.FromTape(e.ID,e.type,e.arguments);w[eie]=e=>a5.FromTape(e.ID,e.type,e.arguments);w[tie]=e=>l5.FromTape(e.ID,e.type,e.arguments);w[yF]=e=>h5.FromTape(e.ID,e.type,e.arguments);w[sie]=e=>c5.FromTape(e.ID,e.type,e.arguments);w[IF]=e=>u5.FromTape(e.ID,e.type,e.arguments);w[iie]=e=>p5.FromTape(e.ID,e.type,e.arguments);w[EF]=e=>f5.FromTape(e.ID,e.type,e.arguments);w[rie]=e=>d5.FromTape(e.ID,e.type,e.arguments);w[nie]=e=>m5.FromTape(e.ID,e.type,e.arguments);w[oie]=e=>T5.FromTape(e.ID,e.type,e.arguments);w[vF]=e=>g5.FromTape(e.ID,e.type,e.arguments);w[aie]=e=>y5.FromTape(e.ID,e.type,e.arguments);w[CF]=e=>I5.FromTape(e.ID,e.type,e.arguments);w[u0]=e=>E5.FromTape(e.ID,e.type,e.arguments);w[lie]=e=>v5.FromTape(e.ID,e.type,e.arguments);w[hie]=e=>C5.FromTape(e.ID,e.type,e.arguments);w[_F]=e=>_5.FromTape(e.ID,e.type,e.arguments);w[wF]=e=>w5.FromTape(e.ID,e.type,e.arguments);w[cie]=e=>S5.FromTape(e.ID,e.type,e.arguments);w[SF]=e=>x5.FromTape(e.ID,e.type,e.arguments);w[uie]=e=>b5.FromTape(e.ID,e.type,e.arguments);w[xF]=e=>F5.FromTape(e.ID,e.type,e.arguments);w[bF]=e=>R5.FromTape(e.ID,e.type,e.arguments);w[FF]=e=>P5.FromTape(e.ID,e.type,e.arguments);w[RF]=e=>A5.FromTape(e.ID,e.type,e.arguments);w[PF]=e=>O5.FromTape(e.ID,e.type,e.arguments);w[AF]=e=>D5.FromTape(e.ID,e.type,e.arguments);w[OF]=e=>M5.FromTape(e.ID,e.type,e.arguments);w[pie]=e=>N5.FromTape(e.ID,e.type,e.arguments);w[fie]=e=>L5.FromTape(e.ID,e.type,e.arguments);w[die]=e=>U5.FromTape(e.ID,e.type,e.arguments);w[mie]=e=>H5.FromTape(e.ID,e.type,e.arguments);w[Tie]=e=>G5.FromTape(e.ID,e.type,e.arguments);w[gie]=e=>B5.FromTape(e.ID,e.type,e.arguments);w[yie]=e=>k5.FromTape(e.ID,e.type,e.arguments);w[Iie]=e=>V5.FromTape(e.ID,e.type,e.arguments);w[Eie]=e=>j5.FromTape(e.ID,e.type,e.arguments);w[vie]=e=>z5.FromTape(e.ID,e.type,e.arguments);w[Cie]=e=>W5.FromTape(e.ID,e.type,e.arguments);w[_ie]=e=>Y5.FromTape(e.ID,e.type,e.arguments);w[wie]=e=>X5.FromTape(e.ID,e.type,e.arguments);w[DF]=e=>q5.FromTape(e.ID,e.type,e.arguments);w[MF]=e=>Q5.FromTape(e.ID,e.type,e.arguments);w[NF]=e=>$5.FromTape(e.ID,e.type,e.arguments);w[LF]=e=>Z5.FromTape(e.ID,e.type,e.arguments);w[UF]=e=>K5.FromTape(e.ID,e.type,e.arguments);w[HF]=e=>J5.FromTape(e.ID,e.type,e.arguments);w[Sie]=e=>eU.FromTape(e.ID,e.type,e.arguments);w[GF]=e=>tU.FromTape(e.ID,e.type,e.arguments);w[BF]=e=>sU.FromTape(e.ID,e.type,e.arguments);w[kF]=e=>iU.FromTape(e.ID,e.type,e.arguments);w[VF]=e=>rU.FromTape(e.ID,e.type,e.arguments);w[jF]=e=>nU.FromTape(e.ID,e.type,e.arguments);w[xie]=e=>oU.FromTape(e.ID,e.type,e.arguments);w[bie]=e=>aU.FromTape(e.ID,e.type,e.arguments);w[Fie]=e=>lU.FromTape(e.ID,e.type,e.arguments);w[Rie]=e=>hU.FromTape(e.ID,e.type,e.arguments);w[Pie]=e=>cU.FromTape(e.ID,e.type,e.arguments);w[Aie]=e=>uU.FromTape(e.ID,e.type,e.arguments);w[Oie]=e=>pU.FromTape(e.ID,e.type,e.arguments);w[Die]=e=>fU.FromTape(e.ID,e.type,e.arguments);w[Mie]=e=>dU.FromTape(e.ID,e.type,e.arguments);w[zF]=e=>mU.FromTape(e.ID,e.type,e.arguments);w[Nie]=e=>TU.FromTape(e.ID,e.type,e.arguments);w[Lie]=e=>gU.FromTape(e.ID,e.type,e.arguments);w[Uie]=e=>yU.FromTape(e.ID,e.type,e.arguments);w[Hie]=e=>IU.FromTape(e.ID,e.type,e.arguments);w[Gie]=e=>EU.FromTape(e.ID,e.type,e.arguments);w[Bie]=e=>vU.FromTape(e.ID,e.type,e.arguments);w[kie]=e=>CU.FromTape(e.ID,e.type,e.arguments);w[Vie]=e=>_U.FromTape(e.ID,e.type,e.arguments);w[jie]=e=>wU.FromTape(e.ID,e.type,e.arguments);w[zie]=e=>SU.FromTape(e.ID,e.type,e.arguments);w[Wie]=e=>xU.FromTape(e.ID,e.type,e.arguments);w[Yie]=e=>bU.FromTape(e.ID,e.type,e.arguments);w[Xie]=e=>FU.FromTape(e.ID,e.type,e.arguments);w[qie]=e=>RU.FromTape(e.ID,e.type,e.arguments);w[WF]=e=>PU.FromTape(e.ID,e.type,e.arguments);w[Qie]=e=>AU.FromTape(e.ID,e.type,e.arguments);w[$ie]=e=>OU.FromTape(e.ID,e.type,e.arguments);w[YF]=e=>DU.FromTape(e.ID,e.type,e.arguments);w[Zie]=e=>MU.FromTape(e.ID,e.type,e.arguments);w[Kie]=e=>NU.FromTape(e.ID,e.type,e.arguments);w[Jie]=e=>LU.FromTape(e.ID,e.type,e.arguments);w[ere]=e=>UU.FromTape(e.ID,e.type,e.arguments);w[tre]=e=>HU.FromTape(e.ID,e.type,e.arguments);w[XF]=e=>GU.FromTape(e.ID,e.type,e.arguments);w[sre]=e=>BU.FromTape(e.ID,e.type,e.arguments);w[ire]=e=>kU.FromTape(e.ID,e.type,e.arguments);w[rre]=e=>VU.FromTape(e.ID,e.type,e.arguments);w[nre]=e=>jU.FromTape(e.ID,e.type,e.arguments);w[ore]=e=>zU.FromTape(e.ID,e.type,e.arguments);w[are]=e=>WU.FromTape(e.ID,e.type,e.arguments);w[qF]=e=>YU.FromTape(e.ID,e.type,e.arguments);w[QF]=e=>XU.FromTape(e.ID,e.type,e.arguments);w[lre]=e=>qU.FromTape(e.ID,e.type,e.arguments);w[$F]=e=>QU.FromTape(e.ID,e.type,e.arguments);w[hre]=e=>$U.FromTape(e.ID,e.type,e.arguments);w[cre]=e=>ZU.FromTape(e.ID,e.type,e.arguments);w[ure]=e=>KU.FromTape(e.ID,e.type,e.arguments);w[pre]=e=>JU.FromTape(e.ID,e.type,e.arguments);w[fre]=e=>eH.FromTape(e.ID,e.type,e.arguments);w[dre]=e=>tH.FromTape(e.ID,e.type,e.arguments);w[mre]=e=>sH.FromTape(e.ID,e.type,e.arguments);w[Tre]=e=>iH.FromTape(e.ID,e.type,e.arguments);w[gre]=e=>rH.FromTape(e.ID,e.type,e.arguments);w[yre]=e=>nH.FromTape(e.ID,e.type,e.arguments);w[Ire]=e=>oH.FromTape(e.ID,e.type,e.arguments);w[Ere]=e=>aH.FromTape(e.ID,e.type,e.arguments);w[vre]=e=>lH.FromTape(e.ID,e.type,e.arguments);w[Cre]=e=>hH.FromTape(e.ID,e.type,e.arguments);w[_re]=e=>cH.FromTape(e.ID,e.type,e.arguments);w[wre]=e=>uH.FromTape(e.ID,e.type,e.arguments);w[Sre]=e=>pH.FromTape(e.ID,e.type,e.arguments);w[xre]=e=>fH.FromTape(e.ID,e.type,e.arguments);w[bre]=e=>dH.FromTape(e.ID,e.type,e.arguments);w[Fre]=e=>mH.FromTape(e.ID,e.type,e.arguments);w[Rre]=e=>TH.FromTape(e.ID,e.type,e.arguments);w[ZF]=e=>gH.FromTape(e.ID,e.type,e.arguments);w[Pre]=e=>yH.FromTape(e.ID,e.type,e.arguments);w[Are]=e=>IH.FromTape(e.ID,e.type,e.arguments);w[KF]=e=>EH.FromTape(e.ID,e.type,e.arguments);w[Ore]=e=>vH.FromTape(e.ID,e.type,e.arguments);w[Dre]=e=>CH.FromTape(e.ID,e.type,e.arguments);w[Mre]=e=>_H.FromTape(e.ID,e.type,e.arguments);w[Nre]=e=>wH.FromTape(e.ID,e.type,e.arguments);w[Lre]=e=>SH.FromTape(e.ID,e.type,e.arguments);w[JF]=e=>xH.FromTape(e.ID,e.type,e.arguments);w[Ure]=e=>bH.FromTape(e.ID,e.type,e.arguments);w[Hre]=e=>FH.FromTape(e.ID,e.type,e.arguments);w[Gre]=e=>RH.FromTape(e.ID,e.type,e.arguments);w[Bre]=e=>PH.FromTape(e.ID,e.type,e.arguments);w[kre]=e=>AH.FromTape(e.ID,e.type,e.arguments);w[Vre]=e=>OH.FromTape(e.ID,e.type,e.arguments);w[p0]=e=>DH.FromTape(e.ID,e.type,e.arguments);w[eR]=e=>MH.FromTape(e.ID,e.type,e.arguments);w[jre]=e=>NH.FromTape(e.ID,e.type,e.arguments);w[tR]=e=>LH.FromTape(e.ID,e.type,e.arguments);w[zre]=e=>UH.FromTape(e.ID,e.type,e.arguments);w[sR]=e=>HH.FromTape(e.ID,e.type,e.arguments);w[Wre]=e=>GH.FromTape(e.ID,e.type,e.arguments);w[Yre]=e=>BH.FromTape(e.ID,e.type,e.arguments);w[Xre]=e=>kH.FromTape(e.ID,e.type,e.arguments);w[qre]=e=>VH.FromTape(e.ID,e.type,e.arguments);w[Qre]=e=>jH.FromTape(e.ID,e.type,e.arguments);w[iR]=e=>zH.FromTape(e.ID,e.type,e.arguments);w[$re]=e=>WH.FromTape(e.ID,e.type,e.arguments);w[rR]=e=>YH.FromTape(e.ID,e.type,e.arguments);w[Zre]=e=>XH.FromTape(e.ID,e.type,e.arguments);w[nR]=e=>qH.FromTape(e.ID,e.type,e.arguments);w[Kre]=e=>QH.FromTape(e.ID,e.type,e.arguments);w[oR]=e=>$H.FromTape(e.ID,e.type,e.arguments);w[f0]=e=>ZH.FromTape(e.ID,e.type,e.arguments);w[aR]=e=>KH.FromTape(e.ID,e.type,e.arguments);w[d0]=e=>JH.FromTape(e.ID,e.type,e.arguments);w[Jre]=e=>eG.FromTape(e.ID,e.type,e.arguments);w[lR]=e=>tG.FromTape(e.ID,e.type,e.arguments);w[ene]=e=>sG.FromTape(e.ID,e.type,e.arguments);w[m0]=e=>iG.FromTape(e.ID,e.type,e.arguments);w[tne]=e=>rG.FromTape(e.ID,e.type,e.arguments);w[sne]=e=>nG.FromTape(e.ID,e.type,e.arguments);w[hR]=e=>oG.FromTape(e.ID,e.type,e.arguments);w[ine]=e=>aG.FromTape(e.ID,e.type,e.arguments);w[rne]=e=>lG.FromTape(e.ID,e.type,e.arguments);w[nne]=e=>hG.FromTape(e.ID,e.type,e.arguments);w[one]=e=>cG.FromTape(e.ID,e.type,e.arguments);w[ane]=e=>uG.FromTape(e.ID,e.type,e.arguments);w[lne]=e=>pG.FromTape(e.ID,e.type,e.arguments);w[hne]=e=>fG.FromTape(e.ID,e.type,e.arguments);w[cne]=e=>dG.FromTape(e.ID,e.type,e.arguments);w[une]=e=>mG.FromTape(e.ID,e.type,e.arguments);var cR=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.PredefinedType=l,this.Status=h,this.LongDescription=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new cR(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.Status),e.push(this.LongDescription),e}},uR=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.TheActor=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new uR(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.TheActor),e}},pR=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Role=t,this.UserDefinedRole=i,this.Description=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new pR(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Role),e.push(this.UserDefinedRole),e.push(this.Description),e}},fR=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new fR(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},dR=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new dR(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},mR=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Purpose=t,this.Description=i,this.UserDefinedPurpose=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new mR(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Purpose),e.push(this.Description),e.push(this.UserDefinedPurpose),e}},TR=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Outer=t}static FromTape(e,s,t){let i=0,r=t[i++];return new TR(e,s,r)}ToTape(){let e=[];return e.push(this.Outer),e}},gR=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Outer=t,this.Voids=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new gR(e,s,r,n)}ToTape(){let e=[];return e.push(this.Outer),e.push(this.Voids),e}},yR=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Bounds=t,this.FaceSurface=i,this.SameSense=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new yR(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Bounds),e.push(this.FaceSurface),e.push(this.SameSense),e}},IR=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new IR(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},ER=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new ER(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},vR=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new vR(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},CR=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new CR(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},_R=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new _R(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},wR=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new wR(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},SR=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new SR(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},xR=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new xR(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},bR=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Axis=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new bR(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Axis),e.push(this.PredefinedType),e}},FR=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.StartDistAlong=t,this.Segments=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new FR(e,s,r,n)}ToTape(){let e=[];return e.push(this.StartDistAlong),e.push(this.Segments),e}},RR=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.TangentialContinuity=t,this.StartTag=i,this.EndTag=r,this.CurveGeometry=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new RR(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.CurveGeometry),e}},PR=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.TangentialContinuity=t,this.StartTag=i,this.EndTag=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new PR(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e}},AR=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.TangentialContinuity=t,this.StartTag=i,this.EndTag=r,this.StartDistAlong=n,this.HorizontalLength=o,this.StartHeight=a,this.StartGradient=l,this.Radius=h,this.IsConvex=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new AR(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.StartDistAlong),e.push(this.HorizontalLength),e.push(this.StartHeight),e.push(this.StartGradient),e.push(this.Radius),e.push(this.IsConvex),e}},OR=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.TangentialContinuity=t,this.StartTag=i,this.EndTag=r,this.StartDistAlong=n,this.HorizontalLength=o,this.StartHeight=a,this.StartGradient=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new OR(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.StartDistAlong),e.push(this.HorizontalLength),e.push(this.StartHeight),e.push(this.StartGradient),e}},DR=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.TangentialContinuity=t,this.StartTag=i,this.EndTag=r,this.StartDistAlong=n,this.HorizontalLength=o,this.StartHeight=a,this.StartGradient=l,this.ParabolaConstant=h,this.IsConvex=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new DR(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.StartDistAlong),e.push(this.HorizontalLength),e.push(this.StartHeight),e.push(this.StartGradient),e.push(this.ParabolaConstant),e.push(this.IsConvex),e}},MR=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Segments=t}static FromTape(e,s,t){let i=0,r=t[i++];return new MR(e,s,r)}ToTape(){let e=[];return e.push(this.Segments),e}},NR=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.TangentialContinuity=t,this.StartTag=i,this.EndTag=r,this.StartDistAlong=n,this.HorizontalLength=o,this.StartHeight=a,this.StartGradient=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new NR(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.StartDistAlong),e.push(this.HorizontalLength),e.push(this.StartHeight),e.push(this.StartGradient),e}},LR=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Horizontal=t,this.Vertical=i,this.Tag=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new LR(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Horizontal),e.push(this.Vertical),e.push(this.Tag),e}},UR=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new UR(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},HR=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.OuterBoundary=t,this.InnerBoundaries=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new HR(e,s,r,n)}ToTape(){let e=[];return e.push(this.OuterBoundary),e.push(this.InnerBoundaries),e}},GR=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.ApplicationDeveloper=t,this.Version=i,this.ApplicationFullName=r,this.ApplicationIdentifier=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new GR(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.ApplicationDeveloper),e.push(this.Version),e.push(this.ApplicationFullName),e.push(this.ApplicationIdentifier),e}},BR=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.AppliedValue=r,this.UnitBasis=n,this.ApplicableDate=o,this.FixedUntilDate=a,this.Category=l,this.Condition=h,this.ArithmeticOperator=c,this.Components=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new BR(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.AppliedValue),e.push(this.UnitBasis),e.push(this.ApplicableDate),e.push(this.FixedUntilDate),e.push(this.Category),e.push(this.Condition),e.push(this.ArithmeticOperator),e.push(this.Components),e}},kR=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.Identifier=t,this.Name=i,this.Description=r,this.TimeOfApproval=n,this.Status=o,this.Level=a,this.Qualifier=l,this.RequestingApproval=h,this.GivingApproval=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new kR(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.Identifier),e.push(this.Name),e.push(this.Description),e.push(this.TimeOfApproval),e.push(this.Status),e.push(this.Level),e.push(this.Qualifier),e.push(this.RequestingApproval),e.push(this.GivingApproval),e}},VR=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.RelatingApproval=r,this.RelatedApprovals=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new VR(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingApproval),e.push(this.RelatedApprovals),e}},jR=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.OuterCurve=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new jR(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.OuterCurve),e}},zR=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Curve=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new zR(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Curve),e}},WR=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.OuterCurve=r,this.InnerCurves=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new WR(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.OuterCurve),e.push(this.InnerCurves),e}},YR=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.OriginalValue=l,this.CurrentValue=h,this.TotalReplacementCost=c,this.Owner=u,this.User=p,this.ResponsiblePerson=f,this.IncorporationDate=m,this.DepreciatedValue=g}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++];return new YR(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.OriginalValue),e.push(this.CurrentValue),e.push(this.TotalReplacementCost),e.push(this.Owner),e.push(this.User),e.push(this.ResponsiblePerson),e.push(this.IncorporationDate),e.push(this.DepreciatedValue),e}},XR=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g,C){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.BottomFlangeWidth=n,this.OverallDepth=o,this.WebThickness=a,this.BottomFlangeThickness=l,this.BottomFlangeFilletRadius=h,this.TopFlangeWidth=c,this.TopFlangeThickness=u,this.TopFlangeFilletRadius=p,this.BottomFlangeEdgeRadius=f,this.BottomFlangeSlope=m,this.TopFlangeEdgeRadius=g,this.TopFlangeSlope=C}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++],E=t[i++];return new XR(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.BottomFlangeWidth),e.push(this.OverallDepth),e.push(this.WebThickness),e.push(this.BottomFlangeThickness),e.push(this.BottomFlangeFilletRadius),e.push(this.TopFlangeWidth),e.push(this.TopFlangeThickness),e.push(this.TopFlangeFilletRadius),e.push(this.BottomFlangeEdgeRadius),e.push(this.BottomFlangeSlope),e.push(this.TopFlangeEdgeRadius),e.push(this.TopFlangeSlope),e}},qR=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new qR(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},QR=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new QR(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},$R=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Location=t,this.Axis=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new $R(e,s,r,n)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Axis),e}},ZR=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Location=t,this.RefDirection=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new ZR(e,s,r,n)}ToTape(){let e=[];return e.push(this.Location),e.push(this.RefDirection),e}},KR=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Location=t,this.Axis=i,this.RefDirection=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new KR(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Axis),e.push(this.RefDirection),e}},JR=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Degree=t,this.ControlPointsList=i,this.CurveForm=r,this.ClosedCurve=n,this.SelfIntersect=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new JR(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Degree),e.push(this.ControlPointsList),e.push(this.CurveForm),e.push(this.ClosedCurve),e.push(this.SelfIntersect),e}},eP=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.Degree=t,this.ControlPointsList=i,this.CurveForm=r,this.ClosedCurve=n,this.SelfIntersect=o,this.KnotMultiplicities=a,this.Knots=l,this.KnotSpec=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new eP(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Degree),e.push(this.ControlPointsList),e.push(this.CurveForm),e.push(this.ClosedCurve),e.push(this.SelfIntersect),e.push(this.KnotMultiplicities),e.push(this.Knots),e.push(this.KnotSpec),e}},tP=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.UDegree=t,this.VDegree=i,this.ControlPointsList=r,this.SurfaceForm=n,this.UClosed=o,this.VClosed=a,this.SelfIntersect=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new tP(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.UDegree),e.push(this.VDegree),e.push(this.ControlPointsList),e.push(this.SurfaceForm),e.push(this.UClosed),e.push(this.VClosed),e.push(this.SelfIntersect),e}},sP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.UDegree=t,this.VDegree=i,this.ControlPointsList=r,this.SurfaceForm=n,this.UClosed=o,this.VClosed=a,this.SelfIntersect=l,this.UMultiplicities=h,this.VMultiplicities=c,this.UKnots=u,this.VKnots=p,this.KnotSpec=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new sP(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.UDegree),e.push(this.VDegree),e.push(this.ControlPointsList),e.push(this.SurfaceForm),e.push(this.UClosed),e.push(this.VClosed),e.push(this.SelfIntersect),e.push(this.UMultiplicities),e.push(this.VMultiplicities),e.push(this.UKnots),e.push(this.VKnots),e.push(this.KnotSpec),e}},iP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new iP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},rP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new rP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},nP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new nP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},oP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new oP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},aP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new aP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},lP=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.RepeatS=t,this.RepeatT=i,this.Mode=r,this.TextureTransform=n,this.Parameter=o,this.RasterFormat=a,this.RasterCode=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new lP(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.RepeatS),e.push(this.RepeatT),e.push(this.Mode),e.push(this.TextureTransform),e.push(this.Parameter),e.push(this.RasterFormat),e.push(this.RasterCode),e}},hP=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Position=t,this.XLength=i,this.YLength=r,this.ZLength=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new hP(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Position),e.push(this.XLength),e.push(this.YLength),e.push(this.ZLength),e}},cP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new cP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},uP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new uP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},pP=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Operator=t,this.FirstOperand=i,this.SecondOperand=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new pP(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Operator),e.push(this.FirstOperand),e.push(this.SecondOperand),e}},fP=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Operator=t,this.FirstOperand=i,this.SecondOperand=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new fP(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Operator),e.push(this.FirstOperand),e.push(this.SecondOperand),e}},dP=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new dP(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},mP=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Segments=t,this.SelfIntersect=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new mP(e,s,r,n)}ToTape(){let e=[];return e.push(this.Segments),e.push(this.SelfIntersect),e}},TP=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Name=t,this.TranslationalStiffnessByLengthX=i,this.TranslationalStiffnessByLengthY=r,this.TranslationalStiffnessByLengthZ=n,this.RotationalStiffnessByLengthX=o,this.RotationalStiffnessByLengthY=a,this.RotationalStiffnessByLengthZ=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new TP(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TranslationalStiffnessByLengthX),e.push(this.TranslationalStiffnessByLengthY),e.push(this.TranslationalStiffnessByLengthZ),e.push(this.RotationalStiffnessByLengthX),e.push(this.RotationalStiffnessByLengthY),e.push(this.RotationalStiffnessByLengthZ),e}},gP=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.TranslationalStiffnessByAreaX=i,this.TranslationalStiffnessByAreaY=r,this.TranslationalStiffnessByAreaZ=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new gP(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TranslationalStiffnessByAreaX),e.push(this.TranslationalStiffnessByAreaY),e.push(this.TranslationalStiffnessByAreaZ),e}},yP=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Name=t,this.TranslationalStiffnessX=i,this.TranslationalStiffnessY=r,this.TranslationalStiffnessZ=n,this.RotationalStiffnessX=o,this.RotationalStiffnessY=a,this.RotationalStiffnessZ=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new yP(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TranslationalStiffnessX),e.push(this.TranslationalStiffnessY),e.push(this.TranslationalStiffnessZ),e.push(this.RotationalStiffnessX),e.push(this.RotationalStiffnessY),e.push(this.RotationalStiffnessZ),e}},IP=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.Name=t,this.TranslationalStiffnessX=i,this.TranslationalStiffnessY=r,this.TranslationalStiffnessZ=n,this.RotationalStiffnessX=o,this.RotationalStiffnessY=a,this.RotationalStiffnessZ=l,this.WarpingStiffness=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new IP(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TranslationalStiffnessX),e.push(this.TranslationalStiffnessY),e.push(this.TranslationalStiffnessZ),e.push(this.RotationalStiffnessX),e.push(this.RotationalStiffnessY),e.push(this.RotationalStiffnessZ),e.push(this.WarpingStiffness),e}},EP=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new EP(e,s)}ToTape(){return[]}},vP=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new vP(e,s)}ToTape(){return[]}},CP=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Corner=t,this.XDim=i,this.YDim=r,this.ZDim=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new CP(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Corner),e.push(this.XDim),e.push(this.YDim),e.push(this.ZDim),e}},_P=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.BaseSurface=t,this.AgreementFlag=i,this.Enclosure=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new _P(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.BaseSurface),e.push(this.AgreementFlag),e.push(this.Enclosure),e}},wP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new wP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.PredefinedType),e}},SP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new SP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.PredefinedType),e}},xP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c,this.ElevationOfRefHeight=u,this.ElevationOfTerrain=p,this.BuildingAddress=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new xP(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.ElevationOfRefHeight),e.push(this.ElevationOfTerrain),e.push(this.BuildingAddress),e}},bP=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new bP(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},FP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new FP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},RP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new RP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},PP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new PP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},AP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new AP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},OP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new OP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},DP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c,this.Elevation=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new DP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.Elevation),e}},MP=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.PredefinedType=a,this.LongName=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new MP(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.LongName),e}},NP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new NP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},LP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new LP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},UP=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.Depth=n,this.Width=o,this.WallThickness=a,this.Girth=l,this.InternalFilletRadius=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new UP(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.Width),e.push(this.WallThickness),e.push(this.Girth),e.push(this.InternalFilletRadius),e}},HP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new HP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},GP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new GP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},BP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new BP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},kP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new kP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},VP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new VP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},jP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new jP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},zP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new zP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},WP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new WP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},YP=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new YP(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},XP=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new XP(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},qP=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Coordinates=t}static FromTape(e,s,t){let i=0,r=t[i++];return new qP(e,s,r)}ToTape(){let e=[];return e.push(this.Coordinates),e}},QP=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new QP(e,s)}ToTape(){return[]}},$P=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.CoordList=t,this.TagList=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new $P(e,s,r,n)}ToTape(){let e=[];return e.push(this.CoordList),e.push(this.TagList),e}},ZP=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.CoordList=t,this.TagList=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new ZP(e,s,r,n)}ToTape(){let e=[];return e.push(this.CoordList),e.push(this.TagList),e}},KP=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Axis1=t,this.Axis2=i,this.LocalOrigin=r,this.Scale=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new KP(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e}},JP=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Axis1=t,this.Axis2=i,this.LocalOrigin=r,this.Scale=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new JP(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e}},eA=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Axis1=t,this.Axis2=i,this.LocalOrigin=r,this.Scale=n,this.Scale2=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new eA(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e.push(this.Scale2),e}},tA=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Axis1=t,this.Axis2=i,this.LocalOrigin=r,this.Scale=n,this.Axis3=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new tA(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e.push(this.Axis3),e}},sA=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Axis1=t,this.Axis2=i,this.LocalOrigin=r,this.Scale=n,this.Axis3=o,this.Scale2=a,this.Scale3=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new sA(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e.push(this.Axis3),e.push(this.Scale2),e.push(this.Scale3),e}},iA=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Curve=r,this.Thickness=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new iA(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Curve),e.push(this.Thickness),e}},rA=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new rA(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},nA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new nA(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},oA=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new oA(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},aA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new aA(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},lA=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Position=t,this.Radius=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new lA(e,s,r,n)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Radius),e}},hA=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.Radius=n,this.WallThickness=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new hA(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Radius),e.push(this.WallThickness),e}},cA=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.Radius=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new cA(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Radius),e}},uA=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.StartPoint=t,this.StartDirection=i,this.SegmentLength=r,this.Radius=n,this.IsCCW=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new uA(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.StartPoint),e.push(this.StartDirection),e.push(this.SegmentLength),e.push(this.Radius),e.push(this.IsCCW),e}},pA=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new pA(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},fA=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new fA(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},dA=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Source=t,this.Edition=i,this.EditionDate=r,this.Name=n,this.Description=o,this.Location=a,this.ReferenceTokens=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new dA(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Source),e.push(this.Edition),e.push(this.EditionDate),e.push(this.Name),e.push(this.Description),e.push(this.Location),e.push(this.ReferenceTokens),e}},mA=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.Location=t,this.Identification=i,this.Name=r,this.ReferencedSource=n,this.Description=o,this.Sort=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new mA(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e.push(this.ReferencedSource),e.push(this.Description),e.push(this.Sort),e}},TA=class{constructor(e,s,t){this.expressID=e,this.type=s,this.CfsFaces=t}static FromTape(e,s,t){let i=0,r=t[i++];return new TA(e,s,r)}ToTape(){let e=[];return e.push(this.CfsFaces),e}},gA=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new gA(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},yA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new yA(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},IA=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Red=i,this.Green=r,this.Blue=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new IA(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Red),e.push(this.Green),e.push(this.Blue),e}},EA=class{constructor(e,s,t){this.expressID=e,this.type=s,this.ColourList=t}static FromTape(e,s,t){let i=0,r=t[i++];return new EA(e,s,r)}ToTape(){let e=[];return e.push(this.ColourList),e}},vA=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new vA(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},CA=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new CA(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},_A=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new _A(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},wA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new wA(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},SA=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new SA(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},xA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new xA(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},bA=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.UsageName=r,this.HasProperties=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new bA(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.UsageName),e.push(this.HasProperties),e}},FA=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.UsageName=o,this.TemplateType=a,this.HasPropertyTemplates=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new FA(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.UsageName),e.push(this.TemplateType),e.push(this.HasPropertyTemplates),e}},RA=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Segments=t,this.SelfIntersect=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new RA(e,s,r,n)}ToTape(){let e=[];return e.push(this.Segments),e.push(this.SelfIntersect),e}},PA=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Segments=t,this.SelfIntersect=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new PA(e,s,r,n)}ToTape(){let e=[];return e.push(this.Segments),e.push(this.SelfIntersect),e}},AA=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Transition=t,this.SameSense=i,this.ParentCurve=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new AA(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Transition),e.push(this.SameSense),e.push(this.ParentCurve),e}},OA=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Profiles=r,this.Label=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new OA(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Profiles),e.push(this.Label),e}},DA=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new DA(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},MA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new MA(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},NA=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new NA(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},LA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new LA(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},UA=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Position=t}static FromTape(e,s,t){let i=0,r=t[i++];return new UA(e,s,r)}ToTape(){let e=[];return e.push(this.Position),e}},HA=class{constructor(e,s,t){this.expressID=e,this.type=s,this.CfsFaces=t}static FromTape(e,s,t){let i=0,r=t[i++];return new HA(e,s,r)}ToTape(){let e=[];return e.push(this.CfsFaces),e}},GA=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.CurveOnRelatingElement=t,this.CurveOnRelatedElement=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new GA(e,s,r,n)}ToTape(){let e=[];return e.push(this.CurveOnRelatingElement),e.push(this.CurveOnRelatedElement),e}},BA=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new BA(e,s)}ToTape(){return[]}},kA=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.PointOnRelatingElement=t,this.PointOnRelatedElement=i,this.EccentricityInX=r,this.EccentricityInY=n,this.EccentricityInZ=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new kA(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.PointOnRelatingElement),e.push(this.PointOnRelatedElement),e.push(this.EccentricityInX),e.push(this.EccentricityInY),e.push(this.EccentricityInZ),e}},VA=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.PointOnRelatingElement=t,this.PointOnRelatedElement=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new VA(e,s,r,n)}ToTape(){let e=[];return e.push(this.PointOnRelatingElement),e.push(this.PointOnRelatedElement),e}},jA=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.SurfaceOnRelatingElement=t,this.SurfaceOnRelatedElement=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new jA(e,s,r,n)}ToTape(){let e=[];return e.push(this.SurfaceOnRelatingElement),e.push(this.SurfaceOnRelatedElement),e}},zA=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.VolumeOnRelatingElement=t,this.VolumeOnRelatedElement=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new zA(e,s,r,n)}ToTape(){let e=[];return e.push(this.VolumeOnRelatingElement),e.push(this.VolumeOnRelatedElement),e}},WA=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.ConstraintGrade=r,this.ConstraintSource=n,this.CreatingActor=o,this.CreationTime=a,this.UserDefinedGrade=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new WA(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.ConstraintGrade),e.push(this.ConstraintSource),e.push(this.CreatingActor),e.push(this.CreationTime),e.push(this.UserDefinedGrade),e}},YA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new YA(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},XA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p,this.PredefinedType=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new XA(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},qA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new qA(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},QA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p,this.PredefinedType=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new QA(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},$A=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new $A(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},ZA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p,this.PredefinedType=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new ZA(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},KA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new KA(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e}},JA=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new JA(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e}},eO=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.LongName=a,this.Phase=l,this.RepresentationContexts=h,this.UnitsInContext=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new eO(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.Phase),e.push(this.RepresentationContexts),e.push(this.UnitsInContext),e}},tO=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Dimensions=t,this.UnitType=i,this.Name=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new tO(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e.push(this.Name),e}},sO=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new sO(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e}},iO=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new iO(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},rO=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new rO(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},nO=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Dimensions=t,this.UnitType=i,this.Name=r,this.ConversionFactor=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new nO(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e.push(this.Name),e.push(this.ConversionFactor),e}},oO=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Dimensions=t,this.UnitType=i,this.Name=r,this.ConversionFactor=n,this.ConversionOffset=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new oO(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e.push(this.Name),e.push(this.ConversionFactor),e.push(this.ConversionOffset),e}},aO=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new aO(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},lO=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new lO(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},hO=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new hO(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},cO=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new cO(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},uO=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.SourceCRS=t,this.TargetCRS=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new uO(e,s,r,n)}ToTape(){let e=[];return e.push(this.SourceCRS),e.push(this.TargetCRS),e}},pO=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.GeodeticDatum=r,this.VerticalDatum=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new pO(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.GeodeticDatum),e.push(this.VerticalDatum),e}},fO=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.PredefinedType=l,this.CostValues=h,this.CostQuantities=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new fO(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.CostValues),e.push(this.CostQuantities),e}},dO=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.PredefinedType=l,this.Status=h,this.SubmittedOn=c,this.UpdateDate=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new dO(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.Status),e.push(this.SubmittedOn),e.push(this.UpdateDate),e}},mO=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.AppliedValue=r,this.UnitBasis=n,this.ApplicableDate=o,this.FixedUntilDate=a,this.Category=l,this.Condition=h,this.ArithmeticOperator=c,this.Components=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new mO(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.AppliedValue),e.push(this.UnitBasis),e.push(this.ApplicableDate),e.push(this.FixedUntilDate),e.push(this.Category),e.push(this.Condition),e.push(this.ArithmeticOperator),e.push(this.Components),e}},TO=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new TO(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},gO=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new gO(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},yO=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new yO(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},IO=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p,this.PredefinedType=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new IO(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},EO=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Position=t}static FromTape(e,s,t){let i=0,r=t[i++];return new EO(e,s,r)}ToTape(){let e=[];return e.push(this.Position),e}},vO=class{constructor(e,s,t){this.expressID=e,this.type=s,this.TreeRootExpression=t}static FromTape(e,s,t){let i=0,r=t[i++];return new vO(e,s,r)}ToTape(){let e=[];return e.push(this.TreeRootExpression),e}},CO=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.RelatingMonetaryUnit=r,this.RelatedMonetaryUnit=n,this.ExchangeRate=o,this.RateDateTime=a,this.RateSource=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new CO(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingMonetaryUnit),e.push(this.RelatedMonetaryUnit),e.push(this.ExchangeRate),e.push(this.RateDateTime),e.push(this.RateSource),e}},_O=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new _O(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},wO=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new wO(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},SO=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new SO(e,s)}ToTape(){return[]}},xO=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.BasisSurface=t,this.OuterBoundary=i,this.InnerBoundaries=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new xO(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.OuterBoundary),e.push(this.InnerBoundaries),e}},bO=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.BasisSurface=t,this.Boundaries=i,this.ImplicitOuter=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new bO(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.Boundaries),e.push(this.ImplicitOuter),e}},FO=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.StartPoint=t,this.StartDirection=i,this.SegmentLength=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new FO(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.StartPoint),e.push(this.StartDirection),e.push(this.SegmentLength),e}},RO=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.CurveFont=i,this.CurveWidth=r,this.CurveColour=n,this.ModelOrDraughting=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new RO(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.CurveFont),e.push(this.CurveWidth),e.push(this.CurveColour),e.push(this.ModelOrDraughting),e}},PO=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Name=t,this.PatternList=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new PO(e,s,r,n)}ToTape(){let e=[];return e.push(this.Name),e.push(this.PatternList),e}},AO=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.CurveFont=i,this.CurveFontScaling=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new AO(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.CurveFont),e.push(this.CurveFontScaling),e}},OO=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.VisibleSegmentLength=t,this.InvisibleSegmentLength=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new OO(e,s,r,n)}ToTape(){let e=[];return e.push(this.VisibleSegmentLength),e.push(this.InvisibleSegmentLength),e}},DO=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Position=t,this.Radius=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new DO(e,s,r,n)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Radius),e}},MO=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new MO(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},NO=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new NO(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},LO=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new LO(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},UO=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new UO(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},HO=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.ParentProfile=r,this.Operator=n,this.Label=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new HO(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.ParentProfile),e.push(this.Operator),e.push(this.Label),e}},GO=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Elements=t,this.UnitType=i,this.UserDefinedType=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new GO(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Elements),e.push(this.UnitType),e.push(this.UserDefinedType),e}},BO=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Unit=t,this.Exponent=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new BO(e,s,r,n)}ToTape(){let e=[];return e.push(this.Unit),e.push(this.Exponent),e}},kO=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.LengthExponent=t,this.MassExponent=i,this.TimeExponent=r,this.ElectricCurrentExponent=n,this.ThermodynamicTemperatureExponent=o,this.AmountOfSubstanceExponent=a,this.LuminousIntensityExponent=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new kO(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.LengthExponent),e.push(this.MassExponent),e.push(this.TimeExponent),e.push(this.ElectricCurrentExponent),e.push(this.ThermodynamicTemperatureExponent),e.push(this.AmountOfSubstanceExponent),e.push(this.LuminousIntensityExponent),e}},VO=class{constructor(e,s,t){this.expressID=e,this.type=s,this.DirectionRatios=t}static FromTape(e,s,t){let i=0,r=t[i++];return new VO(e,s,r)}ToTape(){let e=[];return e.push(this.DirectionRatios),e}},jO=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new jO(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},zO=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new zO(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},WO=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.DistanceAlong=t,this.OffsetLateral=i,this.OffsetVertical=r,this.OffsetLongitudinal=n,this.AlongHorizontal=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new WO(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.DistanceAlong),e.push(this.OffsetLateral),e.push(this.OffsetVertical),e.push(this.OffsetLongitudinal),e.push(this.AlongHorizontal),e}},YO=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new YO(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},XO=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new XO(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},qO=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.LongName=a,this.PredefinedType=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new qO(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.PredefinedType),e}},QO=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new QO(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},$O=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new $O(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},ZO=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new ZO(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},KO=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new KO(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},JO=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new JO(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},eD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new eD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},tD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.FlowDirection=h,this.PredefinedType=c,this.SystemType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new tD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.FlowDirection),e.push(this.PredefinedType),e.push(this.SystemType),e}},sD=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.LongName=a,this.PredefinedType=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new sD(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.PredefinedType),e}},iD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E){this.expressID=e,this.type=s,this.Identification=t,this.Name=i,this.Description=r,this.Location=n,this.Purpose=o,this.IntendedUse=a,this.Scope=l,this.Revision=h,this.DocumentOwner=c,this.Editors=u,this.CreationTime=p,this.LastRevisionTime=f,this.ElectronicFormat=m,this.ValidFrom=g,this.ValidUntil=C,this.Confidentiality=I,this.Status=E}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++],E=t[i++],S=t[i++],x=t[i++];return new iD(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S,x)}ToTape(){let e=[];return e.push(this.Identification),e.push(this.Name),e.push(this.Description),e.push(this.Location),e.push(this.Purpose),e.push(this.IntendedUse),e.push(this.Scope),e.push(this.Revision),e.push(this.DocumentOwner),e.push(this.Editors),e.push(this.CreationTime),e.push(this.LastRevisionTime),e.push(this.ElectronicFormat),e.push(this.ValidFrom),e.push(this.ValidUntil),e.push(this.Confidentiality),e.push(this.Status),e}},rD=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.RelatingDocument=r,this.RelatedDocuments=n,this.RelationshipType=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new rD(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingDocument),e.push(this.RelatedDocuments),e.push(this.RelationshipType),e}},nD=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Location=t,this.Identification=i,this.Name=r,this.Description=n,this.ReferencedDocument=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new nD(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e.push(this.Description),e.push(this.ReferencedDocument),e}},oD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.OverallHeight=c,this.OverallWidth=u,this.PredefinedType=p,this.OperationType=f,this.UserDefinedOperationType=m}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++];return new oD(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.OverallHeight),e.push(this.OverallWidth),e.push(this.PredefinedType),e.push(this.OperationType),e.push(this.UserDefinedOperationType),e}},aD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.LiningDepth=o,this.LiningThickness=a,this.ThresholdDepth=l,this.ThresholdThickness=h,this.TransomThickness=c,this.TransomOffset=u,this.LiningOffset=p,this.ThresholdOffset=f,this.CasingThickness=m,this.CasingDepth=g,this.ShapeAspectStyle=C,this.LiningToPanelOffsetX=I,this.LiningToPanelOffsetY=E}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++],E=t[i++],S=t[i++],x=t[i++];return new aD(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S,x)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.LiningDepth),e.push(this.LiningThickness),e.push(this.ThresholdDepth),e.push(this.ThresholdThickness),e.push(this.TransomThickness),e.push(this.TransomOffset),e.push(this.LiningOffset),e.push(this.ThresholdOffset),e.push(this.CasingThickness),e.push(this.CasingDepth),e.push(this.ShapeAspectStyle),e.push(this.LiningToPanelOffsetX),e.push(this.LiningToPanelOffsetY),e}},lD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.PanelDepth=o,this.PanelOperation=a,this.PanelWidth=l,this.PanelPosition=h,this.ShapeAspectStyle=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new lD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.PanelDepth),e.push(this.PanelOperation),e.push(this.PanelWidth),e.push(this.PanelPosition),e.push(this.ShapeAspectStyle),e}},hD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.OverallHeight=c,this.OverallWidth=u,this.PredefinedType=p,this.OperationType=f,this.UserDefinedOperationType=m}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++];return new hD(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.OverallHeight),e.push(this.OverallWidth),e.push(this.PredefinedType),e.push(this.OperationType),e.push(this.UserDefinedOperationType),e}},cD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.OperationType=c,this.ConstructionType=u,this.ParameterTakesPrecedence=p,this.Sizeable=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new cD(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.OperationType),e.push(this.ConstructionType),e.push(this.ParameterTakesPrecedence),e.push(this.Sizeable),e}},uD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.OperationType=p,this.ParameterTakesPrecedence=f,this.UserDefinedOperationType=m}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++];return new uD(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.OperationType),e.push(this.ParameterTakesPrecedence),e.push(this.UserDefinedOperationType),e}},pD=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new pD(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},fD=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new fD(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},dD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new dD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},mD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new mD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},TD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new TD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},gD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new gD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},yD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new yD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},ID=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new ID(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},ED=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.EdgeStart=t,this.EdgeEnd=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new ED(e,s,r,n)}ToTape(){let e=[];return e.push(this.EdgeStart),e.push(this.EdgeEnd),e}},vD=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.EdgeStart=t,this.EdgeEnd=i,this.EdgeGeometry=r,this.SameSense=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new vD(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.EdgeStart),e.push(this.EdgeEnd),e.push(this.EdgeGeometry),e.push(this.SameSense),e}},CD=class{constructor(e,s,t){this.expressID=e,this.type=s,this.EdgeList=t}static FromTape(e,s,t){let i=0,r=t[i++];return new CD(e,s,r)}ToTape(){let e=[];return e.push(this.EdgeList),e}},_D=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new _D(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},wD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new wD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},SD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new SD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},xD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new xD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},bD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new bD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},FD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new FD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},RD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new RD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},PD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new PD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},AD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new AD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},OD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new OD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},DD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new DD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},MD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new MD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},ND=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new ND(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},LD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.AssemblyPlace=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new LD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.AssemblyPlace),e.push(this.PredefinedType),e}},UD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new UD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},HD=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new HD(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},GD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new GD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},BD=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.MethodOfMeasurement=o,this.Quantities=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new BD(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.MethodOfMeasurement),e.push(this.Quantities),e}},kD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new kD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},VD=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Position=t}static FromTape(e,s,t){let i=0,r=t[i++];return new VD(e,s,r)}ToTape(){let e=[];return e.push(this.Position),e}},jD=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Position=t,this.SemiAxis1=i,this.SemiAxis2=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new jD(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Position),e.push(this.SemiAxis1),e.push(this.SemiAxis2),e}},zD=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.SemiAxis1=n,this.SemiAxis2=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new zD(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.SemiAxis1),e.push(this.SemiAxis2),e}},WD=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new WD(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},YD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new YD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},XD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new XD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},qD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new qD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},QD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new QD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},$D=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new $D(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},ZD=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new ZD(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},KD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new KD(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},JD=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.PredefinedType=h,this.EventTriggerType=c,this.UserDefinedEventTriggerType=u,this.EventOccurenceTime=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new JD(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.PredefinedType),e.push(this.EventTriggerType),e.push(this.UserDefinedEventTriggerType),e.push(this.EventOccurenceTime),e}},e1=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Name=t,this.DataOrigin=i,this.UserDefinedDataOrigin=r,this.ActualDate=n,this.EarlyDate=o,this.LateDate=a,this.ScheduleDate=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new e1(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.ActualDate),e.push(this.EarlyDate),e.push(this.LateDate),e.push(this.ScheduleDate),e}},t1=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ProcessType=c,this.PredefinedType=u,this.EventTriggerType=p,this.UserDefinedEventTriggerType=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new t1(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ProcessType),e.push(this.PredefinedType),e.push(this.EventTriggerType),e.push(this.UserDefinedEventTriggerType),e}},s1=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Properties=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new s1(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Properties),e}},i1=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new i1(e,s)}ToTape(){return[]}},r1=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Location=t,this.Identification=i,this.Name=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new r1(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e}},n1=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.RelatingReference=r,this.RelatedResourceObjects=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new n1(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingReference),e.push(this.RelatedResourceObjects),e}},o1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new o1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.PredefinedType),e}},a1=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new a1(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e}},l1=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Location=t,this.Identification=i,this.Name=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new l1(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e}},h1=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Location=t,this.Identification=i,this.Name=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new h1(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e}},c1=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Location=t,this.Identification=i,this.Name=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new c1(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e}},u1=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.SweptArea=t,this.Position=i,this.ExtrudedDirection=r,this.Depth=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new u1(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.ExtrudedDirection),e.push(this.Depth),e}},p1=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.SweptArea=t,this.Position=i,this.ExtrudedDirection=r,this.Depth=n,this.EndSweptArea=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new p1(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.ExtrudedDirection),e.push(this.Depth),e.push(this.EndSweptArea),e}},f1=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Bounds=t}static FromTape(e,s,t){let i=0,r=t[i++];return new f1(e,s,r)}ToTape(){let e=[];return e.push(this.Bounds),e}},d1=class{constructor(e,s,t){this.expressID=e,this.type=s,this.FbsmFaces=t}static FromTape(e,s,t){let i=0,r=t[i++];return new d1(e,s,r)}ToTape(){let e=[];return e.push(this.FbsmFaces),e}},m1=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Bound=t,this.Orientation=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new m1(e,s,r,n)}ToTape(){let e=[];return e.push(this.Bound),e.push(this.Orientation),e}},T1=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Bound=t,this.Orientation=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new T1(e,s,r,n)}ToTape(){let e=[];return e.push(this.Bound),e.push(this.Orientation),e}},g1=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Bounds=t,this.FaceSurface=i,this.SameSense=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new g1(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Bounds),e.push(this.FaceSurface),e.push(this.SameSense),e}},y1=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Outer=t}static FromTape(e,s,t){let i=0,r=t[i++];return new y1(e,s,r)}ToTape(){let e=[];return e.push(this.Outer),e}},I1=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Outer=t,this.Voids=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new I1(e,s,r,n)}ToTape(){let e=[];return e.push(this.Outer),e.push(this.Voids),e}},E1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new E1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e}},v1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new v1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e}},C1=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Name=t,this.TensionFailureX=i,this.TensionFailureY=r,this.TensionFailureZ=n,this.CompressionFailureX=o,this.CompressionFailureY=a,this.CompressionFailureZ=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new C1(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TensionFailureX),e.push(this.TensionFailureY),e.push(this.TensionFailureZ),e.push(this.CompressionFailureX),e.push(this.CompressionFailureY),e.push(this.CompressionFailureZ),e}},_1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new _1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},w1=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new w1(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},S1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new S1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},x1=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new x1(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},b1=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new b1(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},F1=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new F1(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},R1=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new R1(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},P1=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.FillStyles=i,this.ModelorDraughting=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new P1(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.FillStyles),e.push(this.ModelorDraughting),e}},A1=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.HatchLineAppearance=t,this.StartOfNextHatchLine=i,this.PointOfReferenceHatchLine=r,this.PatternStart=n,this.HatchLineAngle=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new A1(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.HatchLineAppearance),e.push(this.StartOfNextHatchLine),e.push(this.PointOfReferenceHatchLine),e.push(this.PatternStart),e.push(this.HatchLineAngle),e}},O1=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.TilingPattern=t,this.Tiles=i,this.TilingScale=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new O1(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.TilingPattern),e.push(this.Tiles),e.push(this.TilingScale),e}},D1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new D1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},M1=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new M1(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},N1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new N1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},L1=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new L1(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},U1=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.SweptArea=t,this.Position=i,this.Directrix=r,this.StartParam=n,this.EndParam=o,this.FixedReference=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new U1(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.Directrix),e.push(this.StartParam),e.push(this.EndParam),e.push(this.FixedReference),e}},H1=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new H1(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},G1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new G1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},B1=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new B1(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},k1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new k1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},V1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new V1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},j1=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new j1(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},z1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new z1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},W1=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new W1(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Y1=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new Y1(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},X1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new X1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},q1=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new q1(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},Q1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new Q1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},$1=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new $1(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},Z1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new Z1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},K1=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new K1(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},J1=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new J1(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},eM=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new eM(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},tM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new tM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},sM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new sM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},iM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new iM(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},rM=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new rM(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},nM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new nM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},oM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new oM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},aM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.AssemblyPlace=u,this.PredefinedType=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new aM(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.AssemblyPlace),e.push(this.PredefinedType),e}},lM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new lM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},hM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new hM(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},cM=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Elements=t}static FromTape(e,s,t){let i=0,r=t[i++];return new cM(e,s,r)}ToTape(){let e=[];return e.push(this.Elements),e}},uM=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.ContextIdentifier=t,this.ContextType=i,this.CoordinateSpaceDimension=r,this.Precision=n,this.WorldCoordinateSystem=o,this.TrueNorth=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new uM(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.ContextIdentifier),e.push(this.ContextType),e.push(this.CoordinateSpaceDimension),e.push(this.Precision),e.push(this.WorldCoordinateSystem),e.push(this.TrueNorth),e}},pM=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new pM(e,s)}ToTape(){return[]}},fM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.ContextIdentifier=t,this.ContextType=i,this.CoordinateSpaceDimension=r,this.Precision=n,this.WorldCoordinateSystem=o,this.TrueNorth=a,this.ParentContext=l,this.TargetScale=h,this.TargetView=c,this.UserDefinedTargetView=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new fM(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.ContextIdentifier),e.push(this.ContextType),e.push(this.CoordinateSpaceDimension),e.push(this.Precision),e.push(this.WorldCoordinateSystem),e.push(this.TrueNorth),e.push(this.ParentContext),e.push(this.TargetScale),e.push(this.TargetView),e.push(this.UserDefinedTargetView),e}},dM=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Elements=t}static FromTape(e,s,t){let i=0,r=t[i++];return new dM(e,s,r)}ToTape(){let e=[];return e.push(this.Elements),e}},mM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.UAxes=h,this.VAxes=c,this.WAxes=u,this.PredefinedType=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new mM(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.UAxes),e.push(this.VAxes),e.push(this.WAxes),e.push(this.PredefinedType),e}},TM=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.AxisTag=t,this.AxisCurve=i,this.SameSense=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new TM(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.AxisTag),e.push(this.AxisCurve),e.push(this.SameSense),e}},gM=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.PlacementRelTo=t,this.PlacementLocation=i,this.PlacementRefDirection=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new gM(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.PlacementRelTo),e.push(this.PlacementLocation),e.push(this.PlacementRefDirection),e}},yM=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new yM(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e}},IM=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.BaseSurface=t,this.AgreementFlag=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new IM(e,s,r,n)}ToTape(){let e=[];return e.push(this.BaseSurface),e.push(this.AgreementFlag),e}},EM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new EM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},vM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new vM(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},CM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new CM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},_M=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new _M(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},wM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.OverallWidth=n,this.OverallDepth=o,this.WebThickness=a,this.FlangeThickness=l,this.FilletRadius=h,this.FlangeEdgeRadius=c,this.FlangeSlope=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new wM(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.OverallWidth),e.push(this.OverallDepth),e.push(this.WebThickness),e.push(this.FlangeThickness),e.push(this.FilletRadius),e.push(this.FlangeEdgeRadius),e.push(this.FlangeSlope),e}},SM=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.RepeatS=t,this.RepeatT=i,this.Mode=r,this.TextureTransform=n,this.Parameter=o,this.URLReference=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new SM(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.RepeatS),e.push(this.RepeatT),e.push(this.Mode),e.push(this.TextureTransform),e.push(this.Parameter),e.push(this.URLReference),e}},xM=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.MappedTo=t,this.Opacity=i,this.Colours=r,this.ColourIndex=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new xM(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.MappedTo),e.push(this.Opacity),e.push(this.Colours),e.push(this.ColourIndex),e}},bM=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Points=t,this.Segments=i,this.SelfIntersect=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new bM(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Points),e.push(this.Segments),e.push(this.SelfIntersect),e}},FM=class{constructor(e,s,t){this.expressID=e,this.type=s,this.CoordIndex=t}static FromTape(e,s,t){let i=0,r=t[i++];return new FM(e,s,r)}ToTape(){let e=[];return e.push(this.CoordIndex),e}},RM=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.CoordIndex=t,this.InnerCoordIndices=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new RM(e,s,r,n)}ToTape(){let e=[];return e.push(this.CoordIndex),e.push(this.InnerCoordIndices),e}},PM=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Maps=t,this.MappedTo=i,this.TexCoords=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new PM(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Maps),e.push(this.MappedTo),e.push(this.TexCoords),e}},AM=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Maps=t,this.MappedTo=i,this.TexCoords=r,this.TexCoordIndex=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new AM(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Maps),e.push(this.MappedTo),e.push(this.TexCoords),e.push(this.TexCoordIndex),e}},OM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new OM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},DM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new DM(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},MM=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Curve3D=t,this.AssociatedGeometry=i,this.MasterRepresentation=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new MM(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Curve3D),e.push(this.AssociatedGeometry),e.push(this.MasterRepresentation),e}},NM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.PredefinedType=a,this.Jurisdiction=l,this.ResponsiblePersons=h,this.LastUpdateDate=c,this.CurrentValue=u,this.OriginalValue=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new NM(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.Jurisdiction),e.push(this.ResponsiblePersons),e.push(this.LastUpdateDate),e.push(this.CurrentValue),e.push(this.OriginalValue),e}},LM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.StartTime=r,this.EndTime=n,this.TimeSeriesDataType=o,this.DataOrigin=a,this.UserDefinedDataOrigin=l,this.Unit=h,this.Values=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new LM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.StartTime),e.push(this.EndTime),e.push(this.TimeSeriesDataType),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.Unit),e.push(this.Values),e}},UM=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.TimeStamp=t,this.ListValues=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new UM(e,s,r,n)}ToTape(){let e=[];return e.push(this.TimeStamp),e.push(this.ListValues),e}},HM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new HM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},GM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new GM(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},BM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.Depth=n,this.Width=o,this.Thickness=a,this.FilletRadius=l,this.EdgeRadius=h,this.LegSlope=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new BM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.Width),e.push(this.Thickness),e.push(this.FilletRadius),e.push(this.EdgeRadius),e.push(this.LegSlope),e}},kM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new kM(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},VM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p,this.PredefinedType=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new VM(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},jM=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.DataOrigin=i,this.UserDefinedDataOrigin=r,this.LagValue=n,this.DurationType=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new jM(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.LagValue),e.push(this.DurationType),e}},zM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new zM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},WM=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new WM(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},YM=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.Name=t,this.Version=i,this.Publisher=r,this.VersionDate=n,this.Location=o,this.Description=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new YM(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Version),e.push(this.Publisher),e.push(this.VersionDate),e.push(this.Location),e.push(this.Description),e}},XM=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.Location=t,this.Identification=i,this.Name=r,this.Description=n,this.Language=o,this.ReferencedLibrary=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new XM(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e.push(this.Description),e.push(this.Language),e.push(this.ReferencedLibrary),e}},qM=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.MainPlaneAngle=t,this.SecondaryPlaneAngle=i,this.LuminousIntensity=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new qM(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.MainPlaneAngle),e.push(this.SecondaryPlaneAngle),e.push(this.LuminousIntensity),e}},QM=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new QM(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},$M=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new $M(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},ZM=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.LightDistributionCurve=t,this.DistributionData=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new ZM(e,s,r,n)}ToTape(){let e=[];return e.push(this.LightDistributionCurve),e.push(this.DistributionData),e}},KM=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.LightColour=i,this.AmbientIntensity=r,this.Intensity=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new KM(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e}},JM=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.LightColour=i,this.AmbientIntensity=r,this.Intensity=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new JM(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e}},eN=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.LightColour=i,this.AmbientIntensity=r,this.Intensity=n,this.Orientation=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new eN(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e.push(this.Orientation),e}},tN=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.Name=t,this.LightColour=i,this.AmbientIntensity=r,this.Intensity=n,this.Position=o,this.ColourAppearance=a,this.ColourTemperature=l,this.LuminousFlux=h,this.LightEmissionSource=c,this.LightDistributionDataSource=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new tN(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e.push(this.Position),e.push(this.ColourAppearance),e.push(this.ColourTemperature),e.push(this.LuminousFlux),e.push(this.LightEmissionSource),e.push(this.LightDistributionDataSource),e}},sN=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.Name=t,this.LightColour=i,this.AmbientIntensity=r,this.Intensity=n,this.Position=o,this.Radius=a,this.ConstantAttenuation=l,this.DistanceAttenuation=h,this.QuadricAttenuation=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new sN(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e.push(this.Position),e.push(this.Radius),e.push(this.ConstantAttenuation),e.push(this.DistanceAttenuation),e.push(this.QuadricAttenuation),e}},iN=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m){this.expressID=e,this.type=s,this.Name=t,this.LightColour=i,this.AmbientIntensity=r,this.Intensity=n,this.Position=o,this.Radius=a,this.ConstantAttenuation=l,this.DistanceAttenuation=h,this.QuadricAttenuation=c,this.Orientation=u,this.ConcentrationExponent=p,this.SpreadAngle=f,this.BeamWidthAngle=m}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++];return new iN(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e.push(this.Position),e.push(this.Radius),e.push(this.ConstantAttenuation),e.push(this.DistanceAttenuation),e.push(this.QuadricAttenuation),e.push(this.Orientation),e.push(this.ConcentrationExponent),e.push(this.SpreadAngle),e.push(this.BeamWidthAngle),e}},rN=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Pnt=t,this.Dir=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new rN(e,s,r,n)}ToTape(){let e=[];return e.push(this.Pnt),e.push(this.Dir),e}},nN=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.StartPoint=t,this.StartDirection=i,this.SegmentLength=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new nN(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.StartPoint),e.push(this.StartDirection),e.push(this.SegmentLength),e}},oN=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.PlacementRelTo=t,this.PlacementMeasuredAlong=i,this.Distance=r,this.Orientation=n,this.CartesianPosition=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new oN(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.PlacementRelTo),e.push(this.PlacementMeasuredAlong),e.push(this.Distance),e.push(this.Orientation),e.push(this.CartesianPosition),e}},aN=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Axis=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new aN(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Axis),e}},lN=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.PlacementRelTo=t,this.RelativePlacement=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new lN(e,s,r,n)}ToTape(){let e=[];return e.push(this.PlacementRelTo),e.push(this.RelativePlacement),e}},hN=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new hN(e,s)}ToTape(){return[]}},cN=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Outer=t}static FromTape(e,s,t){let i=0,r=t[i++];return new cN(e,s,r)}ToTape(){let e=[];return e.push(this.Outer),e}},uN=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.SourceCRS=t,this.TargetCRS=i,this.Eastings=r,this.Northings=n,this.OrthogonalHeight=o,this.XAxisAbscissa=a,this.XAxisOrdinate=l,this.Scale=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new uN(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.SourceCRS),e.push(this.TargetCRS),e.push(this.Eastings),e.push(this.Northings),e.push(this.OrthogonalHeight),e.push(this.XAxisAbscissa),e.push(this.XAxisOrdinate),e.push(this.Scale),e}},pN=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.MappingSource=t,this.MappingTarget=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new pN(e,s,r,n)}ToTape(){let e=[];return e.push(this.MappingSource),e.push(this.MappingTarget),e}},fN=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Category=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new fN(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Category),e}},dN=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.MaterialClassifications=t,this.ClassifiedMaterial=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new dN(e,s,r,n)}ToTape(){let e=[];return e.push(this.MaterialClassifications),e.push(this.ClassifiedMaterial),e}},mN=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Material=r,this.Fraction=n,this.Category=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new mN(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Material),e.push(this.Fraction),e.push(this.Category),e}},TN=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.MaterialConstituents=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new TN(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.MaterialConstituents),e}},gN=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new gN(e,s)}ToTape(){return[]}},yN=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Representations=r,this.RepresentedMaterial=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new yN(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Representations),e.push(this.RepresentedMaterial),e}},IN=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Material=t,this.LayerThickness=i,this.IsVentilated=r,this.Name=n,this.Description=o,this.Category=a,this.Priority=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new IN(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Material),e.push(this.LayerThickness),e.push(this.IsVentilated),e.push(this.Name),e.push(this.Description),e.push(this.Category),e.push(this.Priority),e}},EN=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.MaterialLayers=t,this.LayerSetName=i,this.Description=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new EN(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.MaterialLayers),e.push(this.LayerSetName),e.push(this.Description),e}},vN=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.ForLayerSet=t,this.LayerSetDirection=i,this.DirectionSense=r,this.OffsetFromReferenceLine=n,this.ReferenceExtent=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new vN(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.ForLayerSet),e.push(this.LayerSetDirection),e.push(this.DirectionSense),e.push(this.OffsetFromReferenceLine),e.push(this.ReferenceExtent),e}},CN=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.Material=t,this.LayerThickness=i,this.IsVentilated=r,this.Name=n,this.Description=o,this.Category=a,this.Priority=l,this.OffsetDirection=h,this.OffsetValues=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new CN(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.Material),e.push(this.LayerThickness),e.push(this.IsVentilated),e.push(this.Name),e.push(this.Description),e.push(this.Category),e.push(this.Priority),e.push(this.OffsetDirection),e.push(this.OffsetValues),e}},_N=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Materials=t}static FromTape(e,s,t){let i=0,r=t[i++];return new _N(e,s,r)}ToTape(){let e=[];return e.push(this.Materials),e}},wN=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Material=r,this.Profile=n,this.Priority=o,this.Category=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new wN(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Material),e.push(this.Profile),e.push(this.Priority),e.push(this.Category),e}},SN=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.MaterialProfiles=r,this.CompositeProfile=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new SN(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.MaterialProfiles),e.push(this.CompositeProfile),e}},xN=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.ForProfileSet=t,this.CardinalPoint=i,this.ReferenceExtent=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new xN(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.ForProfileSet),e.push(this.CardinalPoint),e.push(this.ReferenceExtent),e}},bN=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.ForProfileSet=t,this.CardinalPoint=i,this.ReferenceExtent=r,this.ForProfileEndSet=n,this.CardinalEndPoint=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new bN(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.ForProfileSet),e.push(this.CardinalPoint),e.push(this.ReferenceExtent),e.push(this.ForProfileEndSet),e.push(this.CardinalEndPoint),e}},FN=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Material=r,this.Profile=n,this.Priority=o,this.Category=a,this.OffsetValues=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new FN(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Material),e.push(this.Profile),e.push(this.Priority),e.push(this.Category),e.push(this.OffsetValues),e}},RN=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Properties=r,this.Material=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new RN(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Properties),e.push(this.Material),e}},PN=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.RelatingMaterial=r,this.RelatedMaterials=n,this.Expression=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new PN(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingMaterial),e.push(this.RelatedMaterials),e.push(this.Expression),e}},AN=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new AN(e,s)}ToTape(){return[]}},ON=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.ValueComponent=t,this.UnitComponent=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new ON(e,s,r,n)}ToTape(){let e=[];return e.push(this.ValueComponent),e.push(this.UnitComponent),e}},DN=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.NominalDiameter=c,this.NominalLength=u,this.PredefinedType=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new DN(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.NominalDiameter),e.push(this.NominalLength),e.push(this.PredefinedType),e}},MN=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.NominalDiameter=p,this.NominalLength=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new MN(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.NominalDiameter),e.push(this.NominalLength),e}},NN=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new NN(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},LN=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new LN(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},UN=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new UN(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},HN=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new HN(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},GN=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new GN(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},BN=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.ConstraintGrade=r,this.ConstraintSource=n,this.CreatingActor=o,this.CreationTime=a,this.UserDefinedGrade=l,this.Benchmark=h,this.ValueSource=c,this.DataValue=u,this.ReferencePath=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new BN(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.ConstraintGrade),e.push(this.ConstraintSource),e.push(this.CreatingActor),e.push(this.CreationTime),e.push(this.UserDefinedGrade),e.push(this.Benchmark),e.push(this.ValueSource),e.push(this.DataValue),e.push(this.ReferencePath),e}},kN=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.ParentProfile=r,this.Operator=n,this.Label=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new kN(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.ParentProfile),e.push(this.Operator),e.push(this.Label),e}},VN=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Currency=t}static FromTape(e,s,t){let i=0,r=t[i++];return new VN(e,s,r)}ToTape(){let e=[];return e.push(this.Currency),e}},jN=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new jN(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},zN=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new zN(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},WN=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Dimensions=t,this.UnitType=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new WN(e,s,r,n)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e}},YN=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new YN(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e}},XN=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new XN(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},qN=class{constructor(e,s,t){this.expressID=e,this.type=s,this.PlacementRelTo=t}static FromTape(e,s,t){let i=0,r=t[i++];return new qN(e,s,r)}ToTape(){let e=[];return e.push(this.PlacementRelTo),e}},QN=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.ConstraintGrade=r,this.ConstraintSource=n,this.CreatingActor=o,this.CreationTime=a,this.UserDefinedGrade=l,this.BenchmarkValues=h,this.LogicalAggregator=c,this.ObjectiveQualifier=u,this.UserDefinedQualifier=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new QN(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.ConstraintGrade),e.push(this.ConstraintSource),e.push(this.CreatingActor),e.push(this.CreationTime),e.push(this.UserDefinedGrade),e.push(this.BenchmarkValues),e.push(this.LogicalAggregator),e.push(this.ObjectiveQualifier),e.push(this.UserDefinedQualifier),e}},$N=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.TheActor=a,this.PredefinedType=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new $N(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.TheActor),e.push(this.PredefinedType),e}},ZN=class{constructor(e,s,t){this.expressID=e,this.type=s,this.BasisCurve=t}static FromTape(e,s,t){let i=0,r=t[i++];return new ZN(e,s,r)}ToTape(){let e=[];return e.push(this.BasisCurve),e}},KN=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.BasisCurve=t,this.Distance=i,this.SelfIntersect=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new KN(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.Distance),e.push(this.SelfIntersect),e}},JN=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.BasisCurve=t,this.Distance=i,this.SelfIntersect=r,this.RefDirection=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new JN(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.Distance),e.push(this.SelfIntersect),e.push(this.RefDirection),e}},e2=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.BasisCurve=t,this.OffsetValues=i,this.Tag=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new e2(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.OffsetValues),e.push(this.Tag),e}},t2=class{constructor(e,s,t){this.expressID=e,this.type=s,this.CfsFaces=t}static FromTape(e,s,t){let i=0,r=t[i++];return new t2(e,s,r)}ToTape(){let e=[];return e.push(this.CfsFaces),e}},s2=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new s2(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},i2=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new i2(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},r2=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Identification=t,this.Name=i,this.Description=r,this.Roles=n,this.Addresses=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new r2(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Identification),e.push(this.Name),e.push(this.Description),e.push(this.Roles),e.push(this.Addresses),e}},n2=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.RelatingOrganization=r,this.RelatedOrganizations=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new n2(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingOrganization),e.push(this.RelatedOrganizations),e}},o2=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.LateralAxisDirection=t,this.VerticalAxisDirection=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new o2(e,s,r,n)}ToTape(){let e=[];return e.push(this.LateralAxisDirection),e.push(this.VerticalAxisDirection),e}},a2=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.EdgeStart=t,this.EdgeEnd=i,this.EdgeElement=r,this.Orientation=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new a2(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.EdgeStart),e.push(this.EdgeEnd),e.push(this.EdgeElement),e.push(this.Orientation),e}},l2=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Segments=t,this.SelfIntersect=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new l2(e,s,r,n)}ToTape(){let e=[];return e.push(this.Segments),e.push(this.SelfIntersect),e}},h2=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new h2(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},c2=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new c2(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},u2=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.OwningUser=t,this.OwningApplication=i,this.State=r,this.ChangeAction=n,this.LastModifiedDate=o,this.LastModifyingUser=a,this.LastModifyingApplication=l,this.CreationDate=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new u2(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.OwningUser),e.push(this.OwningApplication),e.push(this.State),e.push(this.ChangeAction),e.push(this.LastModifiedDate),e.push(this.LastModifyingUser),e.push(this.LastModifyingApplication),e.push(this.CreationDate),e}},p2=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new p2(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e}},f2=class{constructor(e,s,t){this.expressID=e,this.type=s,this.EdgeList=t}static FromTape(e,s,t){let i=0,r=t[i++];return new f2(e,s,r)}ToTape(){let e=[];return e.push(this.EdgeList),e}},d2=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.BasisSurface=t,this.ReferenceCurve=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new d2(e,s,r,n)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.ReferenceCurve),e}},m2=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LifeCyclePhase=l,this.PredefinedType=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new m2(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LifeCyclePhase),e.push(this.PredefinedType),e}},T2=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.OperationType=o,this.PanelPosition=a,this.FrameDepth=l,this.FrameThickness=h,this.ShapeAspectStyle=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new T2(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.OperationType),e.push(this.PanelPosition),e.push(this.FrameDepth),e.push(this.FrameThickness),e.push(this.ShapeAspectStyle),e}},g2=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.PredefinedType=l,this.Status=h,this.LongDescription=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new g2(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.Status),e.push(this.LongDescription),e}},y2=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.Identification=t,this.FamilyName=i,this.GivenName=r,this.MiddleNames=n,this.PrefixTitles=o,this.SuffixTitles=a,this.Roles=l,this.Addresses=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new y2(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Identification),e.push(this.FamilyName),e.push(this.GivenName),e.push(this.MiddleNames),e.push(this.PrefixTitles),e.push(this.SuffixTitles),e.push(this.Roles),e.push(this.Addresses),e}},I2=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.ThePerson=t,this.TheOrganization=i,this.Roles=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new I2(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.ThePerson),e.push(this.TheOrganization),e.push(this.Roles),e}},E2=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.HasQuantities=r,this.Discrimination=n,this.Quality=o,this.Usage=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new E2(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.HasQuantities),e.push(this.Discrimination),e.push(this.Quality),e.push(this.Usage),e}},v2=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Name=t,this.Description=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new v2(e,s,r,n)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e}},C2=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Unit=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new C2(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e}},_2=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c,this.ConstructionType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new _2(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e.push(this.ConstructionType),e}},w2=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new w2(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},S2=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new S2(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},x2=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new x2(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},b2=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new b2(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},F2=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new F2(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},R2=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.RepeatS=t,this.RepeatT=i,this.Mode=r,this.TextureTransform=n,this.Parameter=o,this.Width=a,this.Height=l,this.ColourComponents=h,this.Pixel=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new R2(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.RepeatS),e.push(this.RepeatT),e.push(this.Mode),e.push(this.TextureTransform),e.push(this.Parameter),e.push(this.Width),e.push(this.Height),e.push(this.ColourComponents),e.push(this.Pixel),e}},P2=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Location=t}static FromTape(e,s,t){let i=0,r=t[i++];return new P2(e,s,r)}ToTape(){let e=[];return e.push(this.Location),e}},A2=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.SizeInX=t,this.SizeInY=i,this.Placement=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new A2(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.SizeInX),e.push(this.SizeInY),e.push(this.Placement),e}},O2=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.SizeInX=t,this.SizeInY=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new O2(e,s,r,n)}ToTape(){let e=[];return e.push(this.SizeInX),e.push(this.SizeInY),e}},D2=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Position=t}static FromTape(e,s,t){let i=0,r=t[i++];return new D2(e,s,r)}ToTape(){let e=[];return e.push(this.Position),e}},M2=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new M2(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},N2=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new N2(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},L2=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new L2(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},U2=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new U2(e,s)}ToTape(){return[]}},H2=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.BasisCurve=t,this.PointParameter=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new H2(e,s,r,n)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.PointParameter),e}},G2=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.BasisSurface=t,this.PointParameterU=i,this.PointParameterV=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new G2(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.PointParameterU),e.push(this.PointParameterV),e}},B2=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Polygon=t}static FromTape(e,s,t){let i=0,r=t[i++];return new B2(e,s,r)}ToTape(){let e=[];return e.push(this.Polygon),e}},k2=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.BaseSurface=t,this.AgreementFlag=i,this.Position=r,this.PolygonalBoundary=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new k2(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.BaseSurface),e.push(this.AgreementFlag),e.push(this.Position),e.push(this.PolygonalBoundary),e}},V2=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Coordinates=t,this.Closed=i,this.Faces=r,this.PnIndex=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new V2(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Coordinates),e.push(this.Closed),e.push(this.Faces),e.push(this.PnIndex),e}},j2=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Points=t}static FromTape(e,s,t){let i=0,r=t[i++];return new j2(e,s,r)}ToTape(){let e=[];return e.push(this.Points),e}},z2=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new z2(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},W2=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new W2(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},Y2=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.Purpose=t,this.Description=i,this.UserDefinedPurpose=r,this.InternalLocation=n,this.AddressLines=o,this.PostalBox=a,this.Town=l,this.Region=h,this.PostalCode=c,this.Country=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new Y2(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.Purpose),e.push(this.Description),e.push(this.UserDefinedPurpose),e.push(this.InternalLocation),e.push(this.AddressLines),e.push(this.PostalBox),e.push(this.Town),e.push(this.Region),e.push(this.PostalCode),e.push(this.Country),e}},X2=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new X2(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},q2=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new q2(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},Q2=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new Q2(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},$2=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new $2(e,s)}ToTape(){return[]}},Z2=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new Z2(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},K2=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new K2(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},J2=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new J2(e,s)}ToTape(){return[]}},eL=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.AssignedItems=r,this.Identifier=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new eL(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.AssignedItems),e.push(this.Identifier),e}},tL=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.AssignedItems=r,this.Identifier=n,this.LayerOn=o,this.LayerFrozen=a,this.LayerBlocked=l,this.LayerStyles=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new tL(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.AssignedItems),e.push(this.Identifier),e.push(this.LayerOn),e.push(this.LayerFrozen),e.push(this.LayerBlocked),e.push(this.LayerStyles),e}},sL=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new sL(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},iL=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Styles=t}static FromTape(e,s,t){let i=0,r=t[i++];return new iL(e,s,r)}ToTape(){let e=[];return e.push(this.Styles),e}},rL=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.PredefinedType=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new rL(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.PredefinedType),e}},nL=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ProcessType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new nL(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ProcessType),e.push(this.PredefinedType),e}},oL=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LongDescription=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new oL(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e}},aL=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new aL(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},lL=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Representations=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new lL(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Representations),e}},hL=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Representations=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new hL(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Representations),e}},cL=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new cL(e,s,r,n)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e}},uL=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Properties=r,this.ProfileDefinition=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new uL(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Properties),e.push(this.ProfileDefinition),e}},pL=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.LongName=a,this.Phase=l,this.RepresentationContexts=h,this.UnitsInContext=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new pL(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.Phase),e.push(this.RepresentationContexts),e.push(this.UnitsInContext),e}},fL=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.LongName=a,this.Phase=l,this.RepresentationContexts=h,this.UnitsInContext=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new fL(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.Phase),e.push(this.RepresentationContexts),e.push(this.UnitsInContext),e}},dL=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.PredefinedType=l,this.Status=h,this.LongDescription=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new dL(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.Status),e.push(this.LongDescription),e}},mL=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.GeodeticDatum=r,this.VerticalDatum=n,this.MapProjection=o,this.MapZone=a,this.MapUnit=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new mL(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.GeodeticDatum),e.push(this.VerticalDatum),e.push(this.MapProjection),e.push(this.MapZone),e.push(this.MapUnit),e}},TL=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new TL(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},gL=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Name=t,this.Description=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new gL(e,s,r,n)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e}},yL=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new yL(e,s)}ToTape(){return[]}},IL=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.UpperBoundValue=r,this.LowerBoundValue=n,this.Unit=o,this.SetPointValue=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new IL(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.UpperBoundValue),e.push(this.LowerBoundValue),e.push(this.Unit),e.push(this.SetPointValue),e}},EL=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new EL(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},vL=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.DependingProperty=r,this.DependantProperty=n,this.Expression=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new vL(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.DependingProperty),e.push(this.DependantProperty),e.push(this.Expression),e}},CL=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.EnumerationValues=r,this.EnumerationReference=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new CL(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.EnumerationValues),e.push(this.EnumerationReference),e}},_L=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.EnumerationValues=i,this.Unit=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new _L(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.EnumerationValues),e.push(this.Unit),e}},wL=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.ListValues=r,this.Unit=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new wL(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.ListValues),e.push(this.Unit),e}},SL=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.UsageName=r,this.PropertyReference=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new SL(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.UsageName),e.push(this.PropertyReference),e}},xL=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.HasProperties=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new xL(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.HasProperties),e}},bL=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new bL(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},FL=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.TemplateType=o,this.ApplicableEntity=a,this.HasPropertyTemplates=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new FL(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.TemplateType),e.push(this.ApplicableEntity),e.push(this.HasPropertyTemplates),e}},RL=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.NominalValue=r,this.Unit=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new RL(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.NominalValue),e.push(this.Unit),e}},PL=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.DefiningValues=r,this.DefinedValues=n,this.Expression=o,this.DefiningUnit=a,this.DefinedUnit=l,this.CurveInterpolation=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new PL(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.DefiningValues),e.push(this.DefinedValues),e.push(this.Expression),e.push(this.DefiningUnit),e.push(this.DefinedUnit),e.push(this.CurveInterpolation),e}},AL=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new AL(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},OL=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new OL(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},DL=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new DL(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},ML=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new ML(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},NL=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new NL(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},LL=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new LL(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},UL=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.ProxyType=h,this.Tag=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new UL(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.ProxyType),e.push(this.Tag),e}},HL=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new HL(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},GL=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new GL(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},BL=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Unit=r,this.AreaValue=n,this.Formula=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new BL(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.AreaValue),e.push(this.Formula),e}},kL=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Unit=r,this.CountValue=n,this.Formula=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new kL(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.CountValue),e.push(this.Formula),e}},VL=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Unit=r,this.LengthValue=n,this.Formula=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new VL(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.LengthValue),e.push(this.Formula),e}},jL=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new jL(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},zL=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Unit=r,this.TimeValue=n,this.Formula=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new zL(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.TimeValue),e.push(this.Formula),e}},WL=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Unit=r,this.VolumeValue=n,this.Formula=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new WL(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.VolumeValue),e.push(this.Formula),e}},YL=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.Unit=r,this.WeightValue=n,this.Formula=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new YL(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.WeightValue),e.push(this.Formula),e}},XL=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new XL(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},qL=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new qL(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},QL=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new QL(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},$L=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new $L(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},ZL=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new ZL(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},KL=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new KL(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},JL=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.Degree=t,this.ControlPointsList=i,this.CurveForm=r,this.ClosedCurve=n,this.SelfIntersect=o,this.KnotMultiplicities=a,this.Knots=l,this.KnotSpec=h,this.WeightsData=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new JL(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.Degree),e.push(this.ControlPointsList),e.push(this.CurveForm),e.push(this.ClosedCurve),e.push(this.SelfIntersect),e.push(this.KnotMultiplicities),e.push(this.Knots),e.push(this.KnotSpec),e.push(this.WeightsData),e}},e3=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m){this.expressID=e,this.type=s,this.UDegree=t,this.VDegree=i,this.ControlPointsList=r,this.SurfaceForm=n,this.UClosed=o,this.VClosed=a,this.SelfIntersect=l,this.UMultiplicities=h,this.VMultiplicities=c,this.UKnots=u,this.VKnots=p,this.KnotSpec=f,this.WeightsData=m}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++];return new e3(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C)}ToTape(){let e=[];return e.push(this.UDegree),e.push(this.VDegree),e.push(this.ControlPointsList),e.push(this.SurfaceForm),e.push(this.UClosed),e.push(this.VClosed),e.push(this.SelfIntersect),e.push(this.UMultiplicities),e.push(this.VMultiplicities),e.push(this.UKnots),e.push(this.VKnots),e.push(this.KnotSpec),e.push(this.WeightsData),e}},t3=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.XDim=n,this.YDim=o,this.WallThickness=a,this.InnerFilletRadius=l,this.OuterFilletRadius=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new t3(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.XDim),e.push(this.YDim),e.push(this.WallThickness),e.push(this.InnerFilletRadius),e.push(this.OuterFilletRadius),e}},s3=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.XDim=n,this.YDim=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new s3(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.XDim),e.push(this.YDim),e}},i3=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Position=t,this.XLength=i,this.YLength=r,this.Height=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new i3(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Position),e.push(this.XLength),e.push(this.YLength),e.push(this.Height),e}},r3=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.BasisSurface=t,this.U1=i,this.V1=r,this.U2=n,this.V2=o,this.Usense=a,this.Vsense=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new r3(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.U1),e.push(this.V1),e.push(this.U2),e.push(this.V2),e.push(this.Usense),e.push(this.Vsense),e}},n3=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.RecurrenceType=t,this.DayComponent=i,this.WeekdayComponent=r,this.MonthComponent=n,this.Position=o,this.Interval=a,this.Occurrences=l,this.TimePeriods=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new n3(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.RecurrenceType),e.push(this.DayComponent),e.push(this.WeekdayComponent),e.push(this.MonthComponent),e.push(this.Position),e.push(this.Interval),e.push(this.Occurrences),e.push(this.TimePeriods),e}},o3=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.TypeIdentifier=t,this.AttributeIdentifier=i,this.InstanceName=r,this.ListPositions=n,this.InnerReference=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new o3(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.TypeIdentifier),e.push(this.AttributeIdentifier),e.push(this.InstanceName),e.push(this.ListPositions),e.push(this.InnerReference),e}},a3=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.PredefinedType=h,this.RestartDistance=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new a3(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.RestartDistance),e}},l3=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.StartTime=r,this.EndTime=n,this.TimeSeriesDataType=o,this.DataOrigin=a,this.UserDefinedDataOrigin=l,this.Unit=h,this.TimeStep=c,this.Values=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new l3(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.StartTime),e.push(this.EndTime),e.push(this.TimeSeriesDataType),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.Unit),e.push(this.TimeStep),e.push(this.Values),e}},h3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.TotalCrossSectionArea=t,this.SteelGrade=i,this.BarSurface=r,this.EffectiveDepth=n,this.NominalBarDiameter=o,this.BarCount=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new h3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.TotalCrossSectionArea),e.push(this.SteelGrade),e.push(this.BarSurface),e.push(this.EffectiveDepth),e.push(this.NominalBarDiameter),e.push(this.BarCount),e}},c3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.DefinitionType=o,this.ReinforcementSectionDefinitions=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new c3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.DefinitionType),e.push(this.ReinforcementSectionDefinitions),e}},u3=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.SteelGrade=c,this.NominalDiameter=u,this.CrossSectionArea=p,this.BarLength=f,this.PredefinedType=m,this.BarSurface=g}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++];return new u3(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.NominalDiameter),e.push(this.CrossSectionArea),e.push(this.BarLength),e.push(this.PredefinedType),e.push(this.BarSurface),e}},p3=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g,C,I){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.NominalDiameter=p,this.CrossSectionArea=f,this.BarLength=m,this.BarSurface=g,this.BendingShapeCode=C,this.BendingParameters=I}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++],E=t[i++],S=t[i++];return new p3(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.NominalDiameter),e.push(this.CrossSectionArea),e.push(this.BarLength),e.push(this.BarSurface),e.push(this.BendingShapeCode),e.push(this.BendingParameters),e}},f3=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.SteelGrade=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new f3(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e}},d3=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new d3(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},m3=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.SteelGrade=c,this.MeshLength=u,this.MeshWidth=p,this.LongitudinalBarNominalDiameter=f,this.TransverseBarNominalDiameter=m,this.LongitudinalBarCrossSectionArea=g,this.TransverseBarCrossSectionArea=C,this.LongitudinalBarSpacing=I,this.TransverseBarSpacing=E,this.PredefinedType=S}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++],E=t[i++],S=t[i++],x=t[i++],F=t[i++];return new m3(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S,x,F)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.MeshLength),e.push(this.MeshWidth),e.push(this.LongitudinalBarNominalDiameter),e.push(this.TransverseBarNominalDiameter),e.push(this.LongitudinalBarCrossSectionArea),e.push(this.TransverseBarCrossSectionArea),e.push(this.LongitudinalBarSpacing),e.push(this.TransverseBarSpacing),e.push(this.PredefinedType),e}},T3=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S,x,F){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.MeshLength=p,this.MeshWidth=f,this.LongitudinalBarNominalDiameter=m,this.TransverseBarNominalDiameter=g,this.LongitudinalBarCrossSectionArea=C,this.TransverseBarCrossSectionArea=I,this.LongitudinalBarSpacing=E,this.TransverseBarSpacing=S,this.BendingShapeCode=x,this.BendingParameters=F}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++],E=t[i++],S=t[i++],x=t[i++],F=t[i++],O=t[i++],R=t[i++];return new T3(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S,x,F,O,R)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.MeshLength),e.push(this.MeshWidth),e.push(this.LongitudinalBarNominalDiameter),e.push(this.TransverseBarNominalDiameter),e.push(this.LongitudinalBarCrossSectionArea),e.push(this.TransverseBarCrossSectionArea),e.push(this.LongitudinalBarSpacing),e.push(this.TransverseBarSpacing),e.push(this.BendingShapeCode),e.push(this.BendingParameters),e}},g3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingObject=o,this.RelatedObjects=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new g3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingObject),e.push(this.RelatedObjects),e}},y3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatedObjectsType=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new y3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e}},I3=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingActor=l,this.ActingRole=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new I3(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingActor),e.push(this.ActingRole),e}},E3=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingControl=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new E3(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingControl),e}},v3=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingGroup=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new v3(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingGroup),e}},C3=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingGroup=l,this.Factor=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new C3(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingGroup),e.push(this.Factor),e}},_3=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingProcess=l,this.QuantityInProcess=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new _3(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingProcess),e.push(this.QuantityInProcess),e}},w3=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingProduct=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new w3(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingProduct),e}},S3=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingResource=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new S3(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingResource),e}},x3=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new x3(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e}},b3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatingApproval=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new b3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingApproval),e}},F3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatingClassification=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new F3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingClassification),e}},R3=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.Intent=a,this.RelatingConstraint=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new R3(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.Intent),e.push(this.RelatingConstraint),e}},P3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatingDocument=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new P3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingDocument),e}},A3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatingLibrary=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new A3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingLibrary),e}},O3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatingMaterial=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new O3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingMaterial),e}},D3=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new D3(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},M3=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ConnectionGeometry=o,this.RelatingElement=a,this.RelatedElement=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new M3(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ConnectionGeometry),e.push(this.RelatingElement),e.push(this.RelatedElement),e}},N3=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ConnectionGeometry=o,this.RelatingElement=a,this.RelatedElement=l,this.RelatingPriorities=h,this.RelatedPriorities=c,this.RelatedConnectionType=u,this.RelatingConnectionType=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new N3(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ConnectionGeometry),e.push(this.RelatingElement),e.push(this.RelatedElement),e.push(this.RelatingPriorities),e.push(this.RelatedPriorities),e.push(this.RelatedConnectionType),e.push(this.RelatingConnectionType),e}},L3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingPort=o,this.RelatedElement=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new L3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingPort),e.push(this.RelatedElement),e}},U3=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingPort=o,this.RelatedPort=a,this.RealizingElement=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new U3(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingPort),e.push(this.RelatedPort),e.push(this.RealizingElement),e}},H3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingElement=o,this.RelatedStructuralActivity=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new H3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingElement),e.push(this.RelatedStructuralActivity),e}},G3=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingStructuralMember=o,this.RelatedStructuralConnection=a,this.AppliedCondition=l,this.AdditionalConditions=h,this.SupportedLength=c,this.ConditionCoordinateSystem=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new G3(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingStructuralMember),e.push(this.RelatedStructuralConnection),e.push(this.AppliedCondition),e.push(this.AdditionalConditions),e.push(this.SupportedLength),e.push(this.ConditionCoordinateSystem),e}},B3=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingStructuralMember=o,this.RelatedStructuralConnection=a,this.AppliedCondition=l,this.AdditionalConditions=h,this.SupportedLength=c,this.ConditionCoordinateSystem=u,this.ConnectionConstraint=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new B3(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingStructuralMember),e.push(this.RelatedStructuralConnection),e.push(this.AppliedCondition),e.push(this.AdditionalConditions),e.push(this.SupportedLength),e.push(this.ConditionCoordinateSystem),e.push(this.ConnectionConstraint),e}},k3=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ConnectionGeometry=o,this.RelatingElement=a,this.RelatedElement=l,this.RealizingElements=h,this.ConnectionType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new k3(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ConnectionGeometry),e.push(this.RelatingElement),e.push(this.RelatedElement),e.push(this.RealizingElements),e.push(this.ConnectionType),e}},V3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedElements=o,this.RelatingStructure=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new V3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedElements),e.push(this.RelatingStructure),e}},j3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingBuildingElement=o,this.RelatedCoverings=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new j3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingBuildingElement),e.push(this.RelatedCoverings),e}},z3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingSpace=o,this.RelatedCoverings=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new z3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSpace),e.push(this.RelatedCoverings),e}},W3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingContext=o,this.RelatedDefinitions=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new W3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingContext),e.push(this.RelatedDefinitions),e}},Y3=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new Y3(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},X3=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new X3(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},q3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatingObject=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new q3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingObject),e}},Q3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatingPropertyDefinition=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new Q3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingPropertyDefinition),e}},$3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedPropertySets=o,this.RelatingTemplate=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new $3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedPropertySets),e.push(this.RelatingTemplate),e}},Z3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedObjects=o,this.RelatingType=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new Z3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingType),e}},K3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingOpeningElement=o,this.RelatedBuildingElement=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new K3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingOpeningElement),e.push(this.RelatedBuildingElement),e}},J3=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedControlElements=o,this.RelatingFlowElement=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new J3(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedControlElements),e.push(this.RelatingFlowElement),e}},e4=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingElement=o,this.RelatedElement=a,this.InterferenceGeometry=l,this.InterferenceType=h,this.ImpliedOrder=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new e4(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingElement),e.push(this.RelatedElement),e.push(this.InterferenceGeometry),e.push(this.InterferenceType),e.push(this.ImpliedOrder),e}},t4=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingObject=o,this.RelatedObjects=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new t4(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingObject),e.push(this.RelatedObjects),e}},s4=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingPositioningElement=o,this.RelatedProducts=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new s4(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingPositioningElement),e.push(this.RelatedProducts),e}},i4=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingElement=o,this.RelatedFeatureElement=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new i4(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingElement),e.push(this.RelatedFeatureElement),e}},r4=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatedElements=o,this.RelatingStructure=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new r4(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedElements),e.push(this.RelatingStructure),e}},n4=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingProcess=o,this.RelatedProcess=a,this.TimeLag=l,this.SequenceType=h,this.UserDefinedSequenceType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new n4(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingProcess),e.push(this.RelatedProcess),e.push(this.TimeLag),e.push(this.SequenceType),e.push(this.UserDefinedSequenceType),e}},o4=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingSystem=o,this.RelatedBuildings=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new o4(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSystem),e.push(this.RelatedBuildings),e}},a4=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingSpace=o,this.RelatedBuildingElement=a,this.ConnectionGeometry=l,this.PhysicalOrVirtualBoundary=h,this.InternalOrExternalBoundary=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new a4(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSpace),e.push(this.RelatedBuildingElement),e.push(this.ConnectionGeometry),e.push(this.PhysicalOrVirtualBoundary),e.push(this.InternalOrExternalBoundary),e}},l4=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingSpace=o,this.RelatedBuildingElement=a,this.ConnectionGeometry=l,this.PhysicalOrVirtualBoundary=h,this.InternalOrExternalBoundary=c,this.ParentBoundary=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new l4(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSpace),e.push(this.RelatedBuildingElement),e.push(this.ConnectionGeometry),e.push(this.PhysicalOrVirtualBoundary),e.push(this.InternalOrExternalBoundary),e.push(this.ParentBoundary),e}},h4=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingSpace=o,this.RelatedBuildingElement=a,this.ConnectionGeometry=l,this.PhysicalOrVirtualBoundary=h,this.InternalOrExternalBoundary=c,this.ParentBoundary=u,this.CorrespondingBoundary=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new h4(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSpace),e.push(this.RelatedBuildingElement),e.push(this.ConnectionGeometry),e.push(this.PhysicalOrVirtualBoundary),e.push(this.InternalOrExternalBoundary),e.push(this.ParentBoundary),e.push(this.CorrespondingBoundary),e}},c4=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.RelatingBuildingElement=o,this.RelatedOpeningElement=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new c4(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingBuildingElement),e.push(this.RelatedOpeningElement),e}},u4=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new u4(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},p4=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Transition=t,this.SameSense=i,this.ParentCurve=r,this.ParamLength=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new p4(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Transition),e.push(this.SameSense),e.push(this.ParentCurve),e.push(this.ParamLength),e}},f4=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.ContextOfItems=t,this.RepresentationIdentifier=i,this.RepresentationType=r,this.Items=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new f4(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},d4=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.ContextIdentifier=t,this.ContextType=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new d4(e,s,r,n)}ToTape(){let e=[];return e.push(this.ContextIdentifier),e.push(this.ContextType),e}},m4=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new m4(e,s)}ToTape(){return[]}},T4=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.MappingOrigin=t,this.MappedRepresentation=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new T4(e,s,r,n)}ToTape(){let e=[];return e.push(this.MappingOrigin),e.push(this.MappedRepresentation),e}},g4=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LongDescription=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new g4(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e}},y4=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.RelatedResourceObjects=r,this.RelatingApproval=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new y4(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatedResourceObjects),e.push(this.RelatingApproval),e}},I4=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.RelatingConstraint=r,this.RelatedResourceObjects=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new I4(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingConstraint),e.push(this.RelatedResourceObjects),e}},E4=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Name=t,this.Description=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new E4(e,s,r,n)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e}},v4=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S){this.expressID=e,this.type=s,this.Name=t,this.DataOrigin=i,this.UserDefinedDataOrigin=r,this.ScheduleWork=n,this.ScheduleUsage=o,this.ScheduleStart=a,this.ScheduleFinish=l,this.ScheduleContour=h,this.LevelingDelay=c,this.IsOverAllocated=u,this.StatusTime=p,this.ActualWork=f,this.ActualUsage=m,this.ActualStart=g,this.ActualFinish=C,this.RemainingWork=I,this.RemainingUsage=E,this.Completion=S}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++],E=t[i++],S=t[i++],x=t[i++],F=t[i++];return new v4(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S,x,F)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.ScheduleWork),e.push(this.ScheduleUsage),e.push(this.ScheduleStart),e.push(this.ScheduleFinish),e.push(this.ScheduleContour),e.push(this.LevelingDelay),e.push(this.IsOverAllocated),e.push(this.StatusTime),e.push(this.ActualWork),e.push(this.ActualUsage),e.push(this.ActualStart),e.push(this.ActualFinish),e.push(this.RemainingWork),e.push(this.RemainingUsage),e.push(this.Completion),e}},C4=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.SweptArea=t,this.Position=i,this.Axis=r,this.Angle=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new C4(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.Axis),e.push(this.Angle),e}},_4=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.SweptArea=t,this.Position=i,this.Axis=r,this.Angle=n,this.EndSweptArea=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new _4(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.Axis),e.push(this.Angle),e.push(this.EndSweptArea),e}},w4=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Position=t,this.Height=i,this.BottomRadius=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new w4(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Height),e.push(this.BottomRadius),e}},S4=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Position=t,this.Height=i,this.Radius=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new S4(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Height),e.push(this.Radius),e}},x4=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new x4(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},b4=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new b4(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},F4=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new F4(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},R4=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.XDim=n,this.YDim=o,this.RoundingRadius=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new R4(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.XDim),e.push(this.YDim),e.push(this.RoundingRadius),e}},P4=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Dimensions=t,this.UnitType=i,this.Prefix=r,this.Name=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new P4(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e.push(this.Prefix),e.push(this.Name),e}},A4=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new A4(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},O4=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new O4(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},D4=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.DataOrigin=i,this.UserDefinedDataOrigin=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new D4(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e}},M4=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Curve3D=t,this.AssociatedGeometry=i,this.MasterRepresentation=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new M4(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Curve3D),e.push(this.AssociatedGeometry),e.push(this.MasterRepresentation),e}},N4=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.SectionType=t,this.StartProfile=i,this.EndProfile=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new N4(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.SectionType),e.push(this.StartProfile),e.push(this.EndProfile),e}},L4=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.LongitudinalStartPosition=t,this.LongitudinalEndPosition=i,this.TransversePosition=r,this.ReinforcementRole=n,this.SectionDefinition=o,this.CrossSectionReinforcementDefinitions=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new L4(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.LongitudinalStartPosition),e.push(this.LongitudinalEndPosition),e.push(this.TransversePosition),e.push(this.ReinforcementRole),e.push(this.SectionDefinition),e.push(this.CrossSectionReinforcementDefinitions),e}},U4=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Directrix=t,this.CrossSections=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new U4(e,s,r,n)}ToTape(){let e=[];return e.push(this.Directrix),e.push(this.CrossSections),e}},H4=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Directrix=t,this.CrossSections=i,this.CrossSectionPositions=r,this.FixedAxisVertical=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new H4(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Directrix),e.push(this.CrossSections),e.push(this.CrossSectionPositions),e.push(this.FixedAxisVertical),e}},G4=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.SpineCurve=t,this.CrossSections=i,this.CrossSectionPositions=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new G4(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.SpineCurve),e.push(this.CrossSections),e.push(this.CrossSectionPositions),e}},B4=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new B4(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},k4=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new k4(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},V4=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new V4(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},j4=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new j4(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},z4=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.ShapeRepresentations=t,this.Name=i,this.Description=r,this.ProductDefinitional=n,this.PartOfProductDefinitionShape=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new z4(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.ShapeRepresentations),e.push(this.Name),e.push(this.Description),e.push(this.ProductDefinitional),e.push(this.PartOfProductDefinitionShape),e}},W4=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.ContextOfItems=t,this.RepresentationIdentifier=i,this.RepresentationType=r,this.Items=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new W4(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},Y4=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.ContextOfItems=t,this.RepresentationIdentifier=i,this.RepresentationType=r,this.Items=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new Y4(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},X4=class{constructor(e,s,t){this.expressID=e,this.type=s,this.SbsmBoundary=t}static FromTape(e,s,t){let i=0,r=t[i++];return new X4(e,s,r)}ToTape(){let e=[];return e.push(this.SbsmBoundary),e}},q4=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Name=t,this.Description=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new q4(e,s,r,n)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e}},Q4=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.TemplateType=o,this.PrimaryMeasureType=a,this.SecondaryMeasureType=l,this.Enumerators=h,this.PrimaryUnit=c,this.SecondaryUnit=u,this.Expression=p,this.AccessState=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new Q4(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.TemplateType),e.push(this.PrimaryMeasureType),e.push(this.SecondaryMeasureType),e.push(this.Enumerators),e.push(this.PrimaryUnit),e.push(this.SecondaryUnit),e.push(this.Expression),e.push(this.AccessState),e}},$4=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c,this.RefLatitude=u,this.RefLongitude=p,this.RefElevation=f,this.LandTitleNumber=m,this.SiteAddress=g}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++];return new $4(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.RefLatitude),e.push(this.RefLongitude),e.push(this.RefElevation),e.push(this.LandTitleNumber),e.push(this.SiteAddress),e}},Z4=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new Z4(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},K4=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new K4(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},J4=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new J4(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},e5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new e5(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},t5=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.SlippageX=i,this.SlippageY=r,this.SlippageZ=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new t5(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.SlippageX),e.push(this.SlippageY),e.push(this.SlippageZ),e}},s5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new s5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},i5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new i5(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},r5=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new r5(e,s)}ToTape(){return[]}},n5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c,this.PredefinedType=u,this.ElevationWithFlooring=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new n5(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.PredefinedType),e.push(this.ElevationWithFlooring),e}},o5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new o5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},a5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new a5(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},l5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.LongName=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new l5(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.LongName),e}},h5=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new h5(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e}},c5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new c5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},u5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new u5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e}},p5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new p5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},f5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new f5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.PredefinedType),e}},d5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.LongName=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new d5(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.LongName),e}},m5=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Position=t,this.Radius=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new m5(e,s,r,n)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Radius),e}},T5=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Position=t,this.Radius=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new T5(e,s,r,n)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Radius),e}},g5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new g5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},y5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new y5(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},I5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new I5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},E5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.NumberOfRisers=c,this.NumberOfTreads=u,this.RiserHeight=p,this.TreadLength=f,this.PredefinedType=m}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++];return new E5(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.NumberOfRisers),e.push(this.NumberOfTreads),e.push(this.RiserHeight),e.push(this.TreadLength),e.push(this.PredefinedType),e}},v5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new v5(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},C5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new C5(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},_5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.DestabilizingLoad=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new _5(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e}},w5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new w5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e}},S5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.PredefinedType=a,this.OrientationOf2DPlane=l,this.LoadedBy=h,this.HasResults=c,this.SharedPlacement=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new S5(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.OrientationOf2DPlane),e.push(this.LoadedBy),e.push(this.HasResults),e.push(this.SharedPlacement),e}},x5=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedCondition=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new x5(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedCondition),e}},b5=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new b5(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},F5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.DestabilizingLoad=u,this.ProjectedOrTrue=p,this.PredefinedType=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new F5(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e.push(this.ProjectedOrTrue),e.push(this.PredefinedType),e}},R5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedCondition=h,this.Axis=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new R5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedCondition),e.push(this.Axis),e}},P5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.PredefinedType=h,this.Axis=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new P5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.Axis),e}},A5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.PredefinedType=h,this.Axis=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new A5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.Axis),e}},O5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new O5(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.PredefinedType),e}},D5=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new D5(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},M5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.DestabilizingLoad=u,this.ProjectedOrTrue=p,this.PredefinedType=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new M5(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e.push(this.ProjectedOrTrue),e.push(this.PredefinedType),e}},N5=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new N5(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},L5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.PredefinedType=a,this.ActionType=l,this.ActionSource=h,this.Coefficient=c,this.Purpose=u,this.SelfWeightCoefficients=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new L5(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.ActionType),e.push(this.ActionSource),e.push(this.Coefficient),e.push(this.Purpose),e.push(this.SelfWeightCoefficients),e}},U5=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.Values=i,this.Locations=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new U5(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Values),e.push(this.Locations),e}},H5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.PredefinedType=a,this.ActionType=l,this.ActionSource=h,this.Coefficient=c,this.Purpose=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new H5(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.ActionType),e.push(this.ActionSource),e.push(this.Coefficient),e.push(this.Purpose),e}},G5=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Name=t,this.LinearForceX=i,this.LinearForceY=r,this.LinearForceZ=n,this.LinearMomentX=o,this.LinearMomentY=a,this.LinearMomentZ=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new G5(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LinearForceX),e.push(this.LinearForceY),e.push(this.LinearForceZ),e.push(this.LinearMomentX),e.push(this.LinearMomentY),e.push(this.LinearMomentZ),e}},B5=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new B5(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},k5=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.PlanarForceX=i,this.PlanarForceY=r,this.PlanarForceZ=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new k5(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.PlanarForceX),e.push(this.PlanarForceY),e.push(this.PlanarForceZ),e}},V5=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Name=t,this.DisplacementX=i,this.DisplacementY=r,this.DisplacementZ=n,this.RotationalDisplacementRX=o,this.RotationalDisplacementRY=a,this.RotationalDisplacementRZ=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new V5(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DisplacementX),e.push(this.DisplacementY),e.push(this.DisplacementZ),e.push(this.RotationalDisplacementRX),e.push(this.RotationalDisplacementRY),e.push(this.RotationalDisplacementRZ),e}},j5=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.Name=t,this.DisplacementX=i,this.DisplacementY=r,this.DisplacementZ=n,this.RotationalDisplacementRX=o,this.RotationalDisplacementRY=a,this.RotationalDisplacementRZ=l,this.Distortion=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new j5(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DisplacementX),e.push(this.DisplacementY),e.push(this.DisplacementZ),e.push(this.RotationalDisplacementRX),e.push(this.RotationalDisplacementRY),e.push(this.RotationalDisplacementRZ),e.push(this.Distortion),e}},z5=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.Name=t,this.ForceX=i,this.ForceY=r,this.ForceZ=n,this.MomentX=o,this.MomentY=a,this.MomentZ=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new z5(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.ForceX),e.push(this.ForceY),e.push(this.ForceZ),e.push(this.MomentX),e.push(this.MomentY),e.push(this.MomentZ),e}},W5=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.Name=t,this.ForceX=i,this.ForceY=r,this.ForceZ=n,this.MomentX=o,this.MomentY=a,this.MomentZ=l,this.WarpingMoment=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new W5(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.ForceX),e.push(this.ForceY),e.push(this.ForceZ),e.push(this.MomentX),e.push(this.MomentY),e.push(this.MomentZ),e.push(this.WarpingMoment),e}},Y5=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Name=t}static FromTape(e,s,t){let i=0,r=t[i++];return new Y5(e,s,r)}ToTape(){let e=[];return e.push(this.Name),e}},X5=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.DeltaTConstant=i,this.DeltaTY=r,this.DeltaTZ=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new X5(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DeltaTConstant),e.push(this.DeltaTY),e.push(this.DeltaTZ),e}},q5=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new q5(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},Q5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.DestabilizingLoad=u,this.ProjectedOrTrue=p,this.PredefinedType=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new Q5(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e.push(this.ProjectedOrTrue),e.push(this.PredefinedType),e}},$5=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.DestabilizingLoad=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new $5(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e}},Z5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedCondition=h,this.ConditionCoordinateSystem=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new Z5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedCondition),e.push(this.ConditionCoordinateSystem),e}},K5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new K5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e}},J5=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new J5(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e}},eU=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.TheoryType=a,this.ResultForLoadGroup=l,this.IsLinear=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new eU(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.TheoryType),e.push(this.ResultForLoadGroup),e.push(this.IsLinear),e}},tU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.DestabilizingLoad=u,this.ProjectedOrTrue=p,this.PredefinedType=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new tU(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e.push(this.ProjectedOrTrue),e.push(this.PredefinedType),e}},sU=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedCondition=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new sU(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedCondition),e}},iU=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.PredefinedType=h,this.Thickness=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new iU(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.Thickness),e}},rU=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.PredefinedType=h,this.Thickness=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new rU(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.Thickness),e}},nU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new nU(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.PredefinedType),e}},oU=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.ContextOfItems=t,this.RepresentationIdentifier=i,this.RepresentationType=r,this.Items=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new oU(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},aU=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Item=t,this.Styles=i,this.Name=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new aU(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Item),e.push(this.Styles),e.push(this.Name),e}},lU=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.ContextOfItems=t,this.RepresentationIdentifier=i,this.RepresentationType=r,this.Items=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new lU(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},hU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new hU(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},cU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p,this.PredefinedType=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new cU(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},uU=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.EdgeStart=t,this.EdgeEnd=i,this.ParentEdge=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new uU(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.EdgeStart),e.push(this.EdgeEnd),e.push(this.ParentEdge),e}},pU=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new pU(e,s)}ToTape(){return[]}},fU=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Curve3D=t,this.AssociatedGeometry=i,this.MasterRepresentation=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new fU(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Curve3D),e.push(this.AssociatedGeometry),e.push(this.MasterRepresentation),e}},dU=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.SweptArea=t,this.Position=i,this.Directrix=r,this.StartParam=n,this.EndParam=o,this.ReferenceSurface=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new dU(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.Directrix),e.push(this.StartParam),e.push(this.EndParam),e.push(this.ReferenceSurface),e}},mU=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new mU(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},TU=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.SweptCurve=t,this.Position=i,this.ExtrudedDirection=r,this.Depth=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new TU(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.SweptCurve),e.push(this.Position),e.push(this.ExtrudedDirection),e.push(this.Depth),e}},gU=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.SweptCurve=t,this.Position=i,this.AxisPosition=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new gU(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.SweptCurve),e.push(this.Position),e.push(this.AxisPosition),e}},yU=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.Name=t,this.SurfaceReinforcement1=i,this.SurfaceReinforcement2=r,this.ShearReinforcement=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new yU(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.SurfaceReinforcement1),e.push(this.SurfaceReinforcement2),e.push(this.ShearReinforcement),e}},IU=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.Side=i,this.Styles=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new IU(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Side),e.push(this.Styles),e}},EU=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.DiffuseTransmissionColour=t,this.DiffuseReflectionColour=i,this.TransmissionColour=r,this.ReflectanceColour=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new EU(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.DiffuseTransmissionColour),e.push(this.DiffuseReflectionColour),e.push(this.TransmissionColour),e.push(this.ReflectanceColour),e}},vU=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.RefractionIndex=t,this.DispersionFactor=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new vU(e,s,r,n)}ToTape(){let e=[];return e.push(this.RefractionIndex),e.push(this.DispersionFactor),e}},CU=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.SurfaceColour=t,this.Transparency=i,this.DiffuseColour=r,this.TransmissionColour=n,this.DiffuseTransmissionColour=o,this.ReflectionColour=a,this.SpecularColour=l,this.SpecularHighlight=h,this.ReflectanceMethod=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new CU(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.SurfaceColour),e.push(this.Transparency),e.push(this.DiffuseColour),e.push(this.TransmissionColour),e.push(this.DiffuseTransmissionColour),e.push(this.ReflectionColour),e.push(this.SpecularColour),e.push(this.SpecularHighlight),e.push(this.ReflectanceMethod),e}},_U=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.SurfaceColour=t,this.Transparency=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new _U(e,s,r,n)}ToTape(){let e=[];return e.push(this.SurfaceColour),e.push(this.Transparency),e}},wU=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Textures=t}static FromTape(e,s,t){let i=0,r=t[i++];return new wU(e,s,r)}ToTape(){let e=[];return e.push(this.Textures),e}},SU=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.RepeatS=t,this.RepeatT=i,this.Mode=r,this.TextureTransform=n,this.Parameter=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new SU(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.RepeatS),e.push(this.RepeatT),e.push(this.Mode),e.push(this.TextureTransform),e.push(this.Parameter),e}},xU=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.SweptArea=t,this.Position=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new xU(e,s,r,n)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e}},bU=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Directrix=t,this.Radius=i,this.InnerRadius=r,this.StartParam=n,this.EndParam=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new bU(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Directrix),e.push(this.Radius),e.push(this.InnerRadius),e.push(this.StartParam),e.push(this.EndParam),e}},FU=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.Directrix=t,this.Radius=i,this.InnerRadius=r,this.StartParam=n,this.EndParam=o,this.FilletRadius=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new FU(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.Directrix),e.push(this.Radius),e.push(this.InnerRadius),e.push(this.StartParam),e.push(this.EndParam),e.push(this.FilletRadius),e}},RU=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.SweptCurve=t,this.Position=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new RU(e,s,r,n)}ToTape(){let e=[];return e.push(this.SweptCurve),e.push(this.Position),e}},PU=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new PU(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},AU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new AU(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},OU=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new OU(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e}},DU=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new DU(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},MU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new MU(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},NU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.Depth=n,this.FlangeWidth=o,this.WebThickness=a,this.FlangeThickness=l,this.FilletRadius=h,this.FlangeEdgeRadius=c,this.WebEdgeRadius=u,this.WebSlope=p,this.FlangeSlope=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new NU(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.FlangeWidth),e.push(this.WebThickness),e.push(this.FlangeThickness),e.push(this.FilletRadius),e.push(this.FlangeEdgeRadius),e.push(this.WebEdgeRadius),e.push(this.WebSlope),e.push(this.FlangeSlope),e}},LU=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Name=t,this.Rows=i,this.Columns=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new LU(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Rows),e.push(this.Columns),e}},UU=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Identifier=t,this.Name=i,this.Description=r,this.Unit=n,this.ReferencePath=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new UU(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Identifier),e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.ReferencePath),e}},HU=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.RowCells=t,this.IsHeading=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new HU(e,s,r,n)}ToTape(){let e=[];return e.push(this.RowCells),e.push(this.IsHeading),e}},GU=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new GU(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},BU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new BU(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},kU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Status=h,this.WorkMethod=c,this.IsMilestone=u,this.Priority=p,this.TaskTime=f,this.PredefinedType=m}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++];return new kU(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Status),e.push(this.WorkMethod),e.push(this.IsMilestone),e.push(this.Priority),e.push(this.TaskTime),e.push(this.PredefinedType),e}},VU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S,x,F){this.expressID=e,this.type=s,this.Name=t,this.DataOrigin=i,this.UserDefinedDataOrigin=r,this.DurationType=n,this.ScheduleDuration=o,this.ScheduleStart=a,this.ScheduleFinish=l,this.EarlyStart=h,this.EarlyFinish=c,this.LateStart=u,this.LateFinish=p,this.FreeFloat=f,this.TotalFloat=m,this.IsCritical=g,this.StatusTime=C,this.ActualDuration=I,this.ActualStart=E,this.ActualFinish=S,this.RemainingTime=x,this.Completion=F}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++],E=t[i++],S=t[i++],x=t[i++],F=t[i++],O=t[i++],R=t[i++];return new VU(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S,x,F,O,R)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.DurationType),e.push(this.ScheduleDuration),e.push(this.ScheduleStart),e.push(this.ScheduleFinish),e.push(this.EarlyStart),e.push(this.EarlyFinish),e.push(this.LateStart),e.push(this.LateFinish),e.push(this.FreeFloat),e.push(this.TotalFloat),e.push(this.IsCritical),e.push(this.StatusTime),e.push(this.ActualDuration),e.push(this.ActualStart),e.push(this.ActualFinish),e.push(this.RemainingTime),e.push(this.Completion),e}},jU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S,x,F,O){this.expressID=e,this.type=s,this.Name=t,this.DataOrigin=i,this.UserDefinedDataOrigin=r,this.DurationType=n,this.ScheduleDuration=o,this.ScheduleStart=a,this.ScheduleFinish=l,this.EarlyStart=h,this.EarlyFinish=c,this.LateStart=u,this.LateFinish=p,this.FreeFloat=f,this.TotalFloat=m,this.IsCritical=g,this.StatusTime=C,this.ActualDuration=I,this.ActualStart=E,this.ActualFinish=S,this.RemainingTime=x,this.Completion=F,this.Recurrence=O}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++],E=t[i++],S=t[i++],x=t[i++],F=t[i++],O=t[i++],R=t[i++],L=t[i++];return new jU(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S,x,F,O,R,L)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.DurationType),e.push(this.ScheduleDuration),e.push(this.ScheduleStart),e.push(this.ScheduleFinish),e.push(this.EarlyStart),e.push(this.EarlyFinish),e.push(this.LateStart),e.push(this.LateFinish),e.push(this.FreeFloat),e.push(this.TotalFloat),e.push(this.IsCritical),e.push(this.StatusTime),e.push(this.ActualDuration),e.push(this.ActualStart),e.push(this.ActualFinish),e.push(this.RemainingTime),e.push(this.Completion),e.push(this.Recurrence),e}},zU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ProcessType=c,this.PredefinedType=u,this.WorkMethod=p}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++];return new zU(e,s,r,n,o,a,l,h,c,u,p,f,m)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ProcessType),e.push(this.PredefinedType),e.push(this.WorkMethod),e}},WU=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.Purpose=t,this.Description=i,this.UserDefinedPurpose=r,this.TelephoneNumbers=n,this.FacsimileNumbers=o,this.PagerNumber=a,this.ElectronicMailAddresses=l,this.WWWHomePageURL=h,this.MessagingIDs=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new WU(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.Purpose),e.push(this.Description),e.push(this.UserDefinedPurpose),e.push(this.TelephoneNumbers),e.push(this.FacsimileNumbers),e.push(this.PagerNumber),e.push(this.ElectronicMailAddresses),e.push(this.WWWHomePageURL),e.push(this.MessagingIDs),e}},YU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.SteelGrade=c,this.PredefinedType=u,this.NominalDiameter=p,this.CrossSectionArea=f,this.TensionForce=m,this.PreStress=g,this.FrictionCoefficient=C,this.AnchorageSlip=I,this.MinCurvatureRadius=E}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++],E=t[i++],S=t[i++],x=t[i++];return new YU(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S,x)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.PredefinedType),e.push(this.NominalDiameter),e.push(this.CrossSectionArea),e.push(this.TensionForce),e.push(this.PreStress),e.push(this.FrictionCoefficient),e.push(this.AnchorageSlip),e.push(this.MinCurvatureRadius),e}},XU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.SteelGrade=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new XU(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.PredefinedType),e}},qU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new qU(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},QU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.SteelGrade=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new QU(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.PredefinedType),e}},$U=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new $U(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},ZU=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.NominalDiameter=p,this.CrossSectionArea=f,this.SheathDiameter=m}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++];return new ZU(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.NominalDiameter),e.push(this.CrossSectionArea),e.push(this.SheathDiameter),e}},KU=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Coordinates=t}static FromTape(e,s,t){let i=0,r=t[i++];return new KU(e,s,r)}ToTape(){let e=[];return e.push(this.Coordinates),e}},JU=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new JU(e,s)}ToTape(){return[]}},eH=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Literal=t,this.Placement=i,this.Path=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new eH(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Literal),e.push(this.Placement),e.push(this.Path),e}},tH=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Literal=t,this.Placement=i,this.Path=r,this.Extent=n,this.BoxAlignment=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new tH(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Literal),e.push(this.Placement),e.push(this.Path),e.push(this.Extent),e.push(this.BoxAlignment),e}},sH=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Name=t,this.TextCharacterAppearance=i,this.TextStyle=r,this.TextFontStyle=n,this.ModelOrDraughting=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new sH(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TextCharacterAppearance),e.push(this.TextStyle),e.push(this.TextFontStyle),e.push(this.ModelOrDraughting),e}},iH=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.Name=t,this.FontFamily=i,this.FontStyle=r,this.FontVariant=n,this.FontWeight=o,this.FontSize=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new iH(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.FontFamily),e.push(this.FontStyle),e.push(this.FontVariant),e.push(this.FontWeight),e.push(this.FontSize),e}},rH=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Colour=t,this.BackgroundColour=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new rH(e,s,r,n)}ToTape(){let e=[];return e.push(this.Colour),e.push(this.BackgroundColour),e}},nH=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.TextIndent=t,this.TextAlign=i,this.TextDecoration=r,this.LetterSpacing=n,this.WordSpacing=o,this.TextTransform=a,this.LineHeight=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new nH(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.TextIndent),e.push(this.TextAlign),e.push(this.TextDecoration),e.push(this.LetterSpacing),e.push(this.WordSpacing),e.push(this.TextTransform),e.push(this.LineHeight),e}},oH=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Maps=t}static FromTape(e,s,t){let i=0,r=t[i++];return new oH(e,s,r)}ToTape(){let e=[];return e.push(this.Maps),e}},aH=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Maps=t,this.Mode=i,this.Parameter=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new aH(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Maps),e.push(this.Mode),e.push(this.Parameter),e}},lH=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Maps=t,this.Vertices=i,this.MappedTo=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new lH(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Maps),e.push(this.Vertices),e.push(this.MappedTo),e}},hH=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Coordinates=t}static FromTape(e,s,t){let i=0,r=t[i++];return new hH(e,s,r)}ToTape(){let e=[];return e.push(this.Coordinates),e}},cH=class{constructor(e,s,t){this.expressID=e,this.type=s,this.TexCoordsList=t}static FromTape(e,s,t){let i=0,r=t[i++];return new cH(e,s,r)}ToTape(){let e=[];return e.push(this.TexCoordsList),e}},uH=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.StartTime=t,this.EndTime=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new uH(e,s,r,n)}ToTape(){let e=[];return e.push(this.StartTime),e.push(this.EndTime),e}},pH=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.Name=t,this.Description=i,this.StartTime=r,this.EndTime=n,this.TimeSeriesDataType=o,this.DataOrigin=a,this.UserDefinedDataOrigin=l,this.Unit=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new pH(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.StartTime),e.push(this.EndTime),e.push(this.TimeSeriesDataType),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.Unit),e}},fH=class{constructor(e,s,t){this.expressID=e,this.type=s,this.ListValues=t}static FromTape(e,s,t){let i=0,r=t[i++];return new fH(e,s,r)}ToTape(){let e=[];return e.push(this.ListValues),e}},dH=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new dH(e,s)}ToTape(){return[]}},mH=class{constructor(e,s,t,i,r,n){this.expressID=e,this.type=s,this.ContextOfItems=t,this.RepresentationIdentifier=i,this.RepresentationType=r,this.Items=n}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++];return new mH(e,s,r,n,o,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},TH=class{constructor(e,s,t,i,r){this.expressID=e,this.type=s,this.Position=t,this.MajorRadius=i,this.MinorRadius=r}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++];return new TH(e,s,r,n,o)}ToTape(){let e=[];return e.push(this.Position),e.push(this.MajorRadius),e.push(this.MinorRadius),e}},gH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new gH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},yH=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new yH(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},IH=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.StartPoint=t,this.StartDirection=i,this.SegmentLength=r,this.StartRadius=n,this.EndRadius=o,this.IsStartRadiusCCW=a,this.IsEndRadiusCCW=l,this.TransitionCurveType=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new IH(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.StartPoint),e.push(this.StartDirection),e.push(this.SegmentLength),e.push(this.StartRadius),e.push(this.EndRadius),e.push(this.IsStartRadiusCCW),e.push(this.IsEndRadiusCCW),e.push(this.TransitionCurveType),e}},EH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new EH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},vH=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new vH(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},CH=class{constructor(e,s,t,i,r,n,o,a,l){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.BottomXDim=n,this.TopXDim=o,this.YDim=a,this.TopXOffset=l}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++];return new CH(e,s,r,n,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.BottomXDim),e.push(this.TopXDim),e.push(this.YDim),e.push(this.TopXOffset),e}},_H=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.Coordinates=t,this.Normals=i,this.Closed=r,this.CoordIndex=n,this.PnIndex=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new _H(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.Coordinates),e.push(this.Normals),e.push(this.Closed),e.push(this.CoordIndex),e.push(this.PnIndex),e}},wH=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.Coordinates=t,this.Normals=i,this.Closed=r,this.CoordIndex=n,this.PnIndex=o,this.Flags=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new wH(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.Coordinates),e.push(this.Normals),e.push(this.Closed),e.push(this.CoordIndex),e.push(this.PnIndex),e.push(this.Flags),e}},SH=class{constructor(e,s,t,i,r,n,o){this.expressID=e,this.type=s,this.BasisCurve=t,this.Trim1=i,this.Trim2=r,this.SenseAgreement=n,this.MasterRepresentation=o}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++];return new SH(e,s,r,n,o,a,l)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.Trim1),e.push(this.Trim2),e.push(this.SenseAgreement),e.push(this.MasterRepresentation),e}},xH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new xH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},bH=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new bH(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},FH=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new FH(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e}},RH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ProcessType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new RH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ProcessType),e}},PH=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new PH(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e}},AH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new AH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e}},OH=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.Depth=n,this.FlangeWidth=o,this.WebThickness=a,this.FlangeThickness=l,this.FilletRadius=h,this.EdgeRadius=c,this.FlangeSlope=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new OH(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.FlangeWidth),e.push(this.WebThickness),e.push(this.FlangeThickness),e.push(this.FilletRadius),e.push(this.EdgeRadius),e.push(this.FlangeSlope),e}},DH=class{constructor(e,s,t){this.expressID=e,this.type=s,this.Units=t}static FromTape(e,s,t){let i=0,r=t[i++];return new DH(e,s,r)}ToTape(){let e=[];return e.push(this.Units),e}},MH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new MH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},NH=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new NH(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},LH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new LH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},UH=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new UH(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},HH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new HH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},GH=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new GH(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},BH=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.Orientation=t,this.Magnitude=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new BH(e,s,r,n)}ToTape(){let e=[];return e.push(this.Orientation),e.push(this.Magnitude),e}},kH=class{constructor(e,s){this.expressID=e,this.type=s}static FromTape(e,s,t){return new kH(e,s)}ToTape(){return[]}},VH=class{constructor(e,s,t){this.expressID=e,this.type=s,this.LoopVertex=t}static FromTape(e,s,t){let i=0,r=t[i++];return new VH(e,s,r)}ToTape(){let e=[];return e.push(this.LoopVertex),e}},jH=class{constructor(e,s,t){this.expressID=e,this.type=s,this.VertexGeometry=t}static FromTape(e,s,t){let i=0,r=t[i++];return new jH(e,s,r)}ToTape(){let e=[];return e.push(this.VertexGeometry),e}},zH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new zH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},WH=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new WH(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},YH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new YH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},XH=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new XH(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},qH=class{constructor(e,s,t,i,r,n,o,a,l,h){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++];return new qH(e,s,r,n,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},QH=class{constructor(e,s,t,i){this.expressID=e,this.type=s,this.IntersectingAxes=t,this.OffsetDistances=i}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++];return new QH(e,s,r,n)}ToTape(){let e=[];return e.push(this.IntersectingAxes),e.push(this.OffsetDistances),e}},$H=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new $H(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},ZH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new ZH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},KH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new KH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},JH=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new JH(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},eG=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new eG(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},tG=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new tG(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},sG=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++];return new sG(e,s,r,n,o,a,l,h,c,u,p,f)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},iG=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.OverallHeight=c,this.OverallWidth=u,this.PredefinedType=p,this.PartitioningType=f,this.UserDefinedPartitioningType=m}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++];return new iG(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.OverallHeight),e.push(this.OverallWidth),e.push(this.PredefinedType),e.push(this.PartitioningType),e.push(this.UserDefinedPartitioningType),e}},rG=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g,C,I){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.LiningDepth=o,this.LiningThickness=a,this.TransomThickness=l,this.MullionThickness=h,this.FirstTransomOffset=c,this.SecondTransomOffset=u,this.FirstMullionOffset=p,this.SecondMullionOffset=f,this.ShapeAspectStyle=m,this.LiningOffset=g,this.LiningToPanelOffsetX=C,this.LiningToPanelOffsetY=I}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++],E=t[i++],S=t[i++];return new rG(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I,E,S)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.LiningDepth),e.push(this.LiningThickness),e.push(this.TransomThickness),e.push(this.MullionThickness),e.push(this.FirstTransomOffset),e.push(this.SecondTransomOffset),e.push(this.FirstMullionOffset),e.push(this.SecondMullionOffset),e.push(this.ShapeAspectStyle),e.push(this.LiningOffset),e.push(this.LiningToPanelOffsetX),e.push(this.LiningToPanelOffsetY),e}},nG=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.OperationType=o,this.PanelPosition=a,this.FrameDepth=l,this.FrameThickness=h,this.ShapeAspectStyle=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new nG(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.OperationType),e.push(this.PanelPosition),e.push(this.FrameDepth),e.push(this.FrameThickness),e.push(this.ShapeAspectStyle),e}},oG=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.OverallHeight=c,this.OverallWidth=u,this.PredefinedType=p,this.PartitioningType=f,this.UserDefinedPartitioningType=m}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++];return new oG(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.OverallHeight),e.push(this.OverallWidth),e.push(this.PredefinedType),e.push(this.PartitioningType),e.push(this.UserDefinedPartitioningType),e}},aG=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ConstructionType=c,this.OperationType=u,this.ParameterTakesPrecedence=p,this.Sizeable=f}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++];return new aG(e,s,r,n,o,a,l,h,c,u,p,f,m,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ConstructionType),e.push(this.OperationType),e.push(this.ParameterTakesPrecedence),e.push(this.Sizeable),e}},lG=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.PartitioningType=p,this.ParameterTakesPrecedence=f,this.UserDefinedPartitioningType=m}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++];return new lG(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.PartitioningType),e.push(this.ParameterTakesPrecedence),e.push(this.UserDefinedPartitioningType),e}},hG=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.WorkingTimes=l,this.ExceptionTimes=h,this.PredefinedType=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new hG(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.WorkingTimes),e.push(this.ExceptionTimes),e.push(this.PredefinedType),e}},cG=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.CreationDate=l,this.Creators=h,this.Purpose=c,this.Duration=u,this.TotalFloat=p,this.StartTime=f,this.FinishTime=m}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++];return new cG(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.CreationDate),e.push(this.Creators),e.push(this.Purpose),e.push(this.Duration),e.push(this.TotalFloat),e.push(this.StartTime),e.push(this.FinishTime),e}},uG=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.CreationDate=l,this.Creators=h,this.Purpose=c,this.Duration=u,this.TotalFloat=p,this.StartTime=f,this.FinishTime=m,this.PredefinedType=g}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++];return new uG(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.CreationDate),e.push(this.Creators),e.push(this.Purpose),e.push(this.Duration),e.push(this.TotalFloat),e.push(this.StartTime),e.push(this.FinishTime),e.push(this.PredefinedType),e}},pG=class{constructor(e,s,t,i,r,n,o,a,l,h,c,u,p,f,m,g){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.Identification=a,this.CreationDate=l,this.Creators=h,this.Purpose=c,this.Duration=u,this.TotalFloat=p,this.StartTime=f,this.FinishTime=m,this.PredefinedType=g}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++],f=t[i++],m=t[i++],g=t[i++],C=t[i++],I=t[i++];return new pG(e,s,r,n,o,a,l,h,c,u,p,f,m,g,C,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.CreationDate),e.push(this.Creators),e.push(this.Purpose),e.push(this.Duration),e.push(this.TotalFloat),e.push(this.StartTime),e.push(this.FinishTime),e.push(this.PredefinedType),e}},fG=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.Name=t,this.DataOrigin=i,this.UserDefinedDataOrigin=r,this.RecurrencePattern=n,this.Start=o,this.Finish=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new fG(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.RecurrencePattern),e.push(this.Start),e.push(this.Finish),e}},dG=class{constructor(e,s,t,i,r,n,o,a,l,h,c){this.expressID=e,this.type=s,this.ProfileType=t,this.ProfileName=i,this.Position=r,this.Depth=n,this.FlangeWidth=o,this.WebThickness=a,this.FlangeThickness=l,this.FilletRadius=h,this.EdgeRadius=c}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++],c=t[i++],u=t[i++],p=t[i++];return new dG(e,s,r,n,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.FlangeWidth),e.push(this.WebThickness),e.push(this.FlangeThickness),e.push(this.FilletRadius),e.push(this.EdgeRadius),e}},mG=class{constructor(e,s,t,i,r,n,o,a){this.expressID=e,this.type=s,this.GlobalId=t,this.OwnerHistory=i,this.Name=r,this.Description=n,this.ObjectType=o,this.LongName=a}static FromTape(e,s,t){let i=0,r=t[i++],n=t[i++],o=t[i++],a=t[i++],l=t[i++],h=t[i++];return new mG(e,s,r,n,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e}},SC={103090709:"IFCPROJECT",4097777520:"IFCSITE",4031249490:"IFCBUILDING",3124254112:"IFCBUILDINGSTOREY",3856911033:"IFCSPACE",1674181508:"IFCANNOTATION",25142252:"IFCCONTROLLER",32344328:"IFCBOILER",76236018:"IFCLAMP",90941305:"IFCPUMP",177149247:"IFCAIRTERMINALBOX",182646315:"IFCFLOWINSTRUMENT",263784265:"IFCFURNISHINGELEMENT",264262732:"IFCELECTRICGENERATOR",277319702:"IFCAUDIOVISUALAPPLIANCE",310824031:"IFCPIPEFITTING",331165859:"IFCSTAIR",342316401:"IFCDUCTFITTING",377706215:"IFCMECHANICALFASTENER",395920057:"IFCDOOR",402227799:"IFCELECTRICMOTOR",413509423:"IFCSYSTEMFURNITUREELEMENT",484807127:"IFCEVAPORATOR",486154966:"IFCWINDOWSTANDARDCASE",629592764:"IFCLIGHTFIXTURE",630975310:"IFCUNITARYCONTROLELEMENT",635142910:"IFCCABLECARRIERFITTING",639361253:"IFCCOIL",647756555:"IFCFASTENER",707683696:"IFCFLOWSTORAGEDEVICE",738039164:"IFCPROTECTIVEDEVICE",753842376:"IFCBEAM",812556717:"IFCTANK",819412036:"IFCFILTER",843113511:"IFCCOLUMN",862014818:"IFCELECTRICDISTRIBUTIONBOARD",900683007:"IFCFOOTING",905975707:"IFCCOLUMNSTANDARDCASE",926996030:"IFCVOIDINGFEATURE",979691226:"IFCREINFORCINGBAR",987401354:"IFCFLOWSEGMENT",1003880860:"IFCELECTRICTIMECONTROL",1051757585:"IFCCABLEFITTING",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",1073191201:"IFCMEMBER",1095909175:"IFCBUILDINGELEMENTPROXY",1156407060:"IFCPLATESTANDARDCASE",1162798199:"IFCSWITCHINGDEVICE",1329646415:"IFCSHADINGDEVICE",1335981549:"IFCDISCRETEACCESSORY",1360408905:"IFCDUCTSILENCER",1404847402:"IFCSTACKTERMINAL",1426591983:"IFCFIRESUPPRESSIONTERMINAL",1437502449:"IFCMEDICALDEVICE",1509553395:"IFCFURNITURE",1529196076:"IFCSLAB",1620046519:"IFCTRANSPORTELEMENT",1634111441:"IFCAIRTERMINAL",1658829314:"IFCENERGYCONVERSIONDEVICE",1677625105:"IFCCIVILELEMENT",1687234759:"IFCPILE",1904799276:"IFCELECTRICAPPLIANCE",1911478936:"IFCMEMBERSTANDARDCASE",1945004755:"IFCDISTRIBUTIONELEMENT",1973544240:"IFCCOVERING",1999602285:"IFCSPACEHEATER",2016517767:"IFCROOF",2056796094:"IFCAIRTOAIRHEATRECOVERY",2058353004:"IFCFLOWCONTROLLER",2068733104:"IFCHUMIDIFIER",2176052936:"IFCJUNCTIONBOX",2188021234:"IFCFLOWMETER",2223149337:"IFCFLOWTERMINAL",2262370178:"IFCRAILING",2272882330:"IFCCONDENSER",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",2320036040:"IFCREINFORCINGMESH",2347447852:"IFCTENDONANCHOR",2391383451:"IFCVIBRATIONISOLATOR",2391406946:"IFCWALL",2474470126:"IFCMOTORCONNECTION",2769231204:"IFCVIRTUALELEMENT",2814081492:"IFCENGINE",2906023776:"IFCBEAMSTANDARDCASE",2938176219:"IFCBURNER",2979338954:"IFCBUILDINGELEMENTPART",3024970846:"IFCRAMP",3026737570:"IFCTUBEBUNDLE",3027962421:"IFCSLABSTANDARDCASE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3053780830:"IFCSANITARYTERMINAL",3079942009:"IFCOPENINGSTANDARDCASE",3087945054:"IFCALARM",3101698114:"IFCSURFACEFEATURE",3127900445:"IFCSLABELEMENTEDCASE",3132237377:"IFCFLOWMOVINGDEVICE",3171933400:"IFCPLATE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",3242481149:"IFCDOORSTANDARDCASE",3283111854:"IFCRAMPFLIGHT",3296154744:"IFCCHIMNEY",3304561284:"IFCWINDOW",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3319311131:"IFCHEATEXCHANGER",3415622556:"IFCFAN",3420628829:"IFCSOLARDEVICE",3493046030:"IFCGEOGRAPHICELEMENT",3495092785:"IFCCURTAINWALL",3508470533:"IFCFLOWTREATMENTDEVICE",3512223829:"IFCWALLSTANDARDCASE",3518393246:"IFCDUCTSEGMENT",3571504051:"IFCCOMPRESSOR",3588315303:"IFCOPENINGELEMENT",3612865200:"IFCPIPESEGMENT",3640358203:"IFCCOOLINGTOWER",3651124850:"IFCPROJECTIONELEMENT",3694346114:"IFCOUTLET",3747195512:"IFCEVAPORATIVECOOLER",3758799889:"IFCCABLECARRIERSEGMENT",3824725483:"IFCTENDON",3825984169:"IFCTRANSFORMER",3902619387:"IFCCHILLER",4074379575:"IFCDAMPER",4086658281:"IFCSENSOR",4123344466:"IFCELEMENTASSEMBLY",4136498852:"IFCCOOLEDBEAM",4156078855:"IFCWALLELEMENTEDCASE",4175244083:"IFCINTERCEPTOR",4207607924:"IFCVALVE",4217484030:"IFCCABLESEGMENT",4237592921:"IFCWASTETERMINAL",4252922144:"IFCSTAIRFLIGHT",4278956645:"IFCFLOWFITTING",4288193352:"IFCACTUATOR",4292641817:"IFCUNITARYEQUIPMENT",3009204131:"IFCGRID"},pne={3821786052:"IFCACTIONREQUEST",2296667514:"IFCACTOR",3630933823:"IFCACTORROLE",4288193352:"IFCACTUATOR",2874132201:"IFCACTUATORTYPE",618182010:"IFCADDRESS",1635779807:"IFCADVANCEDBREP",2603310189:"IFCADVANCEDBREPWITHVOIDS",3406155212:"IFCADVANCEDFACE",1634111441:"IFCAIRTERMINAL",177149247:"IFCAIRTERMINALBOX",1411407467:"IFCAIRTERMINALBOXTYPE",3352864051:"IFCAIRTERMINALTYPE",2056796094:"IFCAIRTOAIRHEATRECOVERY",1871374353:"IFCAIRTOAIRHEATRECOVERYTYPE",3087945054:"IFCALARM",3001207471:"IFCALARMTYPE",325726236:"IFCALIGNMENT",749761778:"IFCALIGNMENT2DHORIZONTAL",3199563722:"IFCALIGNMENT2DHORIZONTALSEGMENT",2483840362:"IFCALIGNMENT2DSEGMENT",3379348081:"IFCALIGNMENT2DVERSEGCIRCULARARC",3239324667:"IFCALIGNMENT2DVERSEGLINE",4263986512:"IFCALIGNMENT2DVERSEGPARABOLICARC",53199957:"IFCALIGNMENT2DVERTICAL",2029264950:"IFCALIGNMENT2DVERTICALSEGMENT",3512275521:"IFCALIGNMENTCURVE",1674181508:"IFCANNOTATION",669184980:"IFCANNOTATIONFILLAREA",639542469:"IFCAPPLICATION",411424972:"IFCAPPLIEDVALUE",130549933:"IFCAPPROVAL",3869604511:"IFCAPPROVALRELATIONSHIP",3798115385:"IFCARBITRARYCLOSEDPROFILEDEF",1310608509:"IFCARBITRARYOPENPROFILEDEF",2705031697:"IFCARBITRARYPROFILEDEFWITHVOIDS",3460190687:"IFCASSET",3207858831:"IFCASYMMETRICISHAPEPROFILEDEF",277319702:"IFCAUDIOVISUALAPPLIANCE",1532957894:"IFCAUDIOVISUALAPPLIANCETYPE",4261334040:"IFCAXIS1PLACEMENT",3125803723:"IFCAXIS2PLACEMENT2D",2740243338:"IFCAXIS2PLACEMENT3D",1967976161:"IFCBSPLINECURVE",2461110595:"IFCBSPLINECURVEWITHKNOTS",2887950389:"IFCBSPLINESURFACE",167062518:"IFCBSPLINESURFACEWITHKNOTS",753842376:"IFCBEAM",2906023776:"IFCBEAMSTANDARDCASE",819618141:"IFCBEAMTYPE",4196446775:"IFCBEARING",3649138523:"IFCBEARINGTYPE",616511568:"IFCBLOBTEXTURE",1334484129:"IFCBLOCK",32344328:"IFCBOILER",231477066:"IFCBOILERTYPE",3649129432:"IFCBOOLEANCLIPPINGRESULT",2736907675:"IFCBOOLEANRESULT",4037036970:"IFCBOUNDARYCONDITION",1136057603:"IFCBOUNDARYCURVE",1560379544:"IFCBOUNDARYEDGECONDITION",3367102660:"IFCBOUNDARYFACECONDITION",1387855156:"IFCBOUNDARYNODECONDITION",2069777674:"IFCBOUNDARYNODECONDITIONWARPING",1260505505:"IFCBOUNDEDCURVE",4182860854:"IFCBOUNDEDSURFACE",2581212453:"IFCBOUNDINGBOX",2713105998:"IFCBOXEDHALFSPACE",644574406:"IFCBRIDGE",963979645:"IFCBRIDGEPART",4031249490:"IFCBUILDING",3299480353:"IFCBUILDINGELEMENT",2979338954:"IFCBUILDINGELEMENTPART",39481116:"IFCBUILDINGELEMENTPARTTYPE",1095909175:"IFCBUILDINGELEMENTPROXY",1909888760:"IFCBUILDINGELEMENTPROXYTYPE",1950629157:"IFCBUILDINGELEMENTTYPE",3124254112:"IFCBUILDINGSTOREY",1177604601:"IFCBUILDINGSYSTEM",2938176219:"IFCBURNER",2188180465:"IFCBURNERTYPE",2898889636:"IFCCSHAPEPROFILEDEF",635142910:"IFCCABLECARRIERFITTING",395041908:"IFCCABLECARRIERFITTINGTYPE",3758799889:"IFCCABLECARRIERSEGMENT",3293546465:"IFCCABLECARRIERSEGMENTTYPE",1051757585:"IFCCABLEFITTING",2674252688:"IFCCABLEFITTINGTYPE",4217484030:"IFCCABLESEGMENT",1285652485:"IFCCABLESEGMENTTYPE",3999819293:"IFCCAISSONFOUNDATION",3203706013:"IFCCAISSONFOUNDATIONTYPE",1123145078:"IFCCARTESIANPOINT",574549367:"IFCCARTESIANPOINTLIST",1675464909:"IFCCARTESIANPOINTLIST2D",2059837836:"IFCCARTESIANPOINTLIST3D",59481748:"IFCCARTESIANTRANSFORMATIONOPERATOR",3749851601:"IFCCARTESIANTRANSFORMATIONOPERATOR2D",3486308946:"IFCCARTESIANTRANSFORMATIONOPERATOR2DNONUNIFORM",3331915920:"IFCCARTESIANTRANSFORMATIONOPERATOR3D",1416205885:"IFCCARTESIANTRANSFORMATIONOPERATOR3DNONUNIFORM",3150382593:"IFCCENTERLINEPROFILEDEF",3902619387:"IFCCHILLER",2951183804:"IFCCHILLERTYPE",3296154744:"IFCCHIMNEY",2197970202:"IFCCHIMNEYTYPE",2611217952:"IFCCIRCLE",2937912522:"IFCCIRCLEHOLLOWPROFILEDEF",1383045692:"IFCCIRCLEPROFILEDEF",1062206242:"IFCCIRCULARARCSEGMENT2D",1677625105:"IFCCIVILELEMENT",3893394355:"IFCCIVILELEMENTTYPE",747523909:"IFCCLASSIFICATION",647927063:"IFCCLASSIFICATIONREFERENCE",2205249479:"IFCCLOSEDSHELL",639361253:"IFCCOIL",2301859152:"IFCCOILTYPE",776857604:"IFCCOLOURRGB",3285139300:"IFCCOLOURRGBLIST",3264961684:"IFCCOLOURSPECIFICATION",843113511:"IFCCOLUMN",905975707:"IFCCOLUMNSTANDARDCASE",300633059:"IFCCOLUMNTYPE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",400855858:"IFCCOMMUNICATIONSAPPLIANCETYPE",2542286263:"IFCCOMPLEXPROPERTY",3875453745:"IFCCOMPLEXPROPERTYTEMPLATE",3732776249:"IFCCOMPOSITECURVE",15328376:"IFCCOMPOSITECURVEONSURFACE",2485617015:"IFCCOMPOSITECURVESEGMENT",1485152156:"IFCCOMPOSITEPROFILEDEF",3571504051:"IFCCOMPRESSOR",3850581409:"IFCCOMPRESSORTYPE",2272882330:"IFCCONDENSER",2816379211:"IFCCONDENSERTYPE",2510884976:"IFCCONIC",370225590:"IFCCONNECTEDFACESET",1981873012:"IFCCONNECTIONCURVEGEOMETRY",2859738748:"IFCCONNECTIONGEOMETRY",45288368:"IFCCONNECTIONPOINTECCENTRICITY",2614616156:"IFCCONNECTIONPOINTGEOMETRY",2732653382:"IFCCONNECTIONSURFACEGEOMETRY",775493141:"IFCCONNECTIONVOLUMEGEOMETRY",1959218052:"IFCCONSTRAINT",3898045240:"IFCCONSTRUCTIONEQUIPMENTRESOURCE",2185764099:"IFCCONSTRUCTIONEQUIPMENTRESOURCETYPE",1060000209:"IFCCONSTRUCTIONMATERIALRESOURCE",4105962743:"IFCCONSTRUCTIONMATERIALRESOURCETYPE",488727124:"IFCCONSTRUCTIONPRODUCTRESOURCE",1525564444:"IFCCONSTRUCTIONPRODUCTRESOURCETYPE",2559216714:"IFCCONSTRUCTIONRESOURCE",2574617495:"IFCCONSTRUCTIONRESOURCETYPE",3419103109:"IFCCONTEXT",3050246964:"IFCCONTEXTDEPENDENTUNIT",3293443760:"IFCCONTROL",25142252:"IFCCONTROLLER",578613899:"IFCCONTROLLERTYPE",2889183280:"IFCCONVERSIONBASEDUNIT",2713554722:"IFCCONVERSIONBASEDUNITWITHOFFSET",4136498852:"IFCCOOLEDBEAM",335055490:"IFCCOOLEDBEAMTYPE",3640358203:"IFCCOOLINGTOWER",2954562838:"IFCCOOLINGTOWERTYPE",1785450214:"IFCCOORDINATEOPERATION",1466758467:"IFCCOORDINATEREFERENCESYSTEM",3895139033:"IFCCOSTITEM",1419761937:"IFCCOSTSCHEDULE",602808272:"IFCCOSTVALUE",1973544240:"IFCCOVERING",1916426348:"IFCCOVERINGTYPE",3295246426:"IFCCREWRESOURCE",1815067380:"IFCCREWRESOURCETYPE",2506170314:"IFCCSGPRIMITIVE3D",2147822146:"IFCCSGSOLID",539742890:"IFCCURRENCYRELATIONSHIP",3495092785:"IFCCURTAINWALL",1457835157:"IFCCURTAINWALLTYPE",2601014836:"IFCCURVE",2827736869:"IFCCURVEBOUNDEDPLANE",2629017746:"IFCCURVEBOUNDEDSURFACE",1186437898:"IFCCURVESEGMENT2D",3800577675:"IFCCURVESTYLE",1105321065:"IFCCURVESTYLEFONT",2367409068:"IFCCURVESTYLEFONTANDSCALING",3510044353:"IFCCURVESTYLEFONTPATTERN",1213902940:"IFCCYLINDRICALSURFACE",4074379575:"IFCDAMPER",3961806047:"IFCDAMPERTYPE",3426335179:"IFCDEEPFOUNDATION",1306400036:"IFCDEEPFOUNDATIONTYPE",3632507154:"IFCDERIVEDPROFILEDEF",1765591967:"IFCDERIVEDUNIT",1045800335:"IFCDERIVEDUNITELEMENT",2949456006:"IFCDIMENSIONALEXPONENTS",32440307:"IFCDIRECTION",1335981549:"IFCDISCRETEACCESSORY",2635815018:"IFCDISCRETEACCESSORYTYPE",1945343521:"IFCDISTANCEEXPRESSION",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1599208980:"IFCDISTRIBUTIONCHAMBERELEMENTTYPE",562808652:"IFCDISTRIBUTIONCIRCUIT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",2063403501:"IFCDISTRIBUTIONCONTROLELEMENTTYPE",1945004755:"IFCDISTRIBUTIONELEMENT",3256556792:"IFCDISTRIBUTIONELEMENTTYPE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3849074793:"IFCDISTRIBUTIONFLOWELEMENTTYPE",3041715199:"IFCDISTRIBUTIONPORT",3205830791:"IFCDISTRIBUTIONSYSTEM",1154170062:"IFCDOCUMENTINFORMATION",770865208:"IFCDOCUMENTINFORMATIONRELATIONSHIP",3732053477:"IFCDOCUMENTREFERENCE",395920057:"IFCDOOR",2963535650:"IFCDOORLININGPROPERTIES",1714330368:"IFCDOORPANELPROPERTIES",3242481149:"IFCDOORSTANDARDCASE",526551008:"IFCDOORSTYLE",2323601079:"IFCDOORTYPE",445594917:"IFCDRAUGHTINGPREDEFINEDCOLOUR",4006246654:"IFCDRAUGHTINGPREDEFINEDCURVEFONT",342316401:"IFCDUCTFITTING",869906466:"IFCDUCTFITTINGTYPE",3518393246:"IFCDUCTSEGMENT",3760055223:"IFCDUCTSEGMENTTYPE",1360408905:"IFCDUCTSILENCER",2030761528:"IFCDUCTSILENCERTYPE",3900360178:"IFCEDGE",476780140:"IFCEDGECURVE",1472233963:"IFCEDGELOOP",1904799276:"IFCELECTRICAPPLIANCE",663422040:"IFCELECTRICAPPLIANCETYPE",862014818:"IFCELECTRICDISTRIBUTIONBOARD",2417008758:"IFCELECTRICDISTRIBUTIONBOARDTYPE",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3277789161:"IFCELECTRICFLOWSTORAGEDEVICETYPE",264262732:"IFCELECTRICGENERATOR",1534661035:"IFCELECTRICGENERATORTYPE",402227799:"IFCELECTRICMOTOR",1217240411:"IFCELECTRICMOTORTYPE",1003880860:"IFCELECTRICTIMECONTROL",712377611:"IFCELECTRICTIMECONTROLTYPE",1758889154:"IFCELEMENT",4123344466:"IFCELEMENTASSEMBLY",2397081782:"IFCELEMENTASSEMBLYTYPE",1623761950:"IFCELEMENTCOMPONENT",2590856083:"IFCELEMENTCOMPONENTTYPE",1883228015:"IFCELEMENTQUANTITY",339256511:"IFCELEMENTTYPE",2777663545:"IFCELEMENTARYSURFACE",1704287377:"IFCELLIPSE",2835456948:"IFCELLIPSEPROFILEDEF",1658829314:"IFCENERGYCONVERSIONDEVICE",2107101300:"IFCENERGYCONVERSIONDEVICETYPE",2814081492:"IFCENGINE",132023988:"IFCENGINETYPE",3747195512:"IFCEVAPORATIVECOOLER",3174744832:"IFCEVAPORATIVECOOLERTYPE",484807127:"IFCEVAPORATOR",3390157468:"IFCEVAPORATORTYPE",4148101412:"IFCEVENT",211053100:"IFCEVENTTIME",4024345920:"IFCEVENTTYPE",297599258:"IFCEXTENDEDPROPERTIES",4294318154:"IFCEXTERNALINFORMATION",3200245327:"IFCEXTERNALREFERENCE",1437805879:"IFCEXTERNALREFERENCERELATIONSHIP",1209101575:"IFCEXTERNALSPATIALELEMENT",2853485674:"IFCEXTERNALSPATIALSTRUCTUREELEMENT",2242383968:"IFCEXTERNALLYDEFINEDHATCHSTYLE",1040185647:"IFCEXTERNALLYDEFINEDSURFACESTYLE",3548104201:"IFCEXTERNALLYDEFINEDTEXTFONT",477187591:"IFCEXTRUDEDAREASOLID",2804161546:"IFCEXTRUDEDAREASOLIDTAPERED",2556980723:"IFCFACE",2047409740:"IFCFACEBASEDSURFACEMODEL",1809719519:"IFCFACEBOUND",803316827:"IFCFACEOUTERBOUND",3008276851:"IFCFACESURFACE",807026263:"IFCFACETEDBREP",3737207727:"IFCFACETEDBREPWITHVOIDS",24185140:"IFCFACILITY",1310830890:"IFCFACILITYPART",4219587988:"IFCFAILURECONNECTIONCONDITION",3415622556:"IFCFAN",346874300:"IFCFANTYPE",647756555:"IFCFASTENER",2489546625:"IFCFASTENERTYPE",2827207264:"IFCFEATUREELEMENT",2143335405:"IFCFEATUREELEMENTADDITION",1287392070:"IFCFEATUREELEMENTSUBTRACTION",738692330:"IFCFILLAREASTYLE",374418227:"IFCFILLAREASTYLEHATCHING",315944413:"IFCFILLAREASTYLETILES",819412036:"IFCFILTER",1810631287:"IFCFILTERTYPE",1426591983:"IFCFIRESUPPRESSIONTERMINAL",4222183408:"IFCFIRESUPPRESSIONTERMINALTYPE",2652556860:"IFCFIXEDREFERENCESWEPTAREASOLID",2058353004:"IFCFLOWCONTROLLER",3907093117:"IFCFLOWCONTROLLERTYPE",4278956645:"IFCFLOWFITTING",3198132628:"IFCFLOWFITTINGTYPE",182646315:"IFCFLOWINSTRUMENT",4037862832:"IFCFLOWINSTRUMENTTYPE",2188021234:"IFCFLOWMETER",3815607619:"IFCFLOWMETERTYPE",3132237377:"IFCFLOWMOVINGDEVICE",1482959167:"IFCFLOWMOVINGDEVICETYPE",987401354:"IFCFLOWSEGMENT",1834744321:"IFCFLOWSEGMENTTYPE",707683696:"IFCFLOWSTORAGEDEVICE",1339347760:"IFCFLOWSTORAGEDEVICETYPE",2223149337:"IFCFLOWTERMINAL",2297155007:"IFCFLOWTERMINALTYPE",3508470533:"IFCFLOWTREATMENTDEVICE",3009222698:"IFCFLOWTREATMENTDEVICETYPE",900683007:"IFCFOOTING",1893162501:"IFCFOOTINGTYPE",263784265:"IFCFURNISHINGELEMENT",4238390223:"IFCFURNISHINGELEMENTTYPE",1509553395:"IFCFURNITURE",1268542332:"IFCFURNITURETYPE",3493046030:"IFCGEOGRAPHICELEMENT",4095422895:"IFCGEOGRAPHICELEMENTTYPE",987898635:"IFCGEOMETRICCURVESET",3448662350:"IFCGEOMETRICREPRESENTATIONCONTEXT",2453401579:"IFCGEOMETRICREPRESENTATIONITEM",4142052618:"IFCGEOMETRICREPRESENTATIONSUBCONTEXT",3590301190:"IFCGEOMETRICSET",3009204131:"IFCGRID",852622518:"IFCGRIDAXIS",178086475:"IFCGRIDPLACEMENT",2706460486:"IFCGROUP",812098782:"IFCHALFSPACESOLID",3319311131:"IFCHEATEXCHANGER",1251058090:"IFCHEATEXCHANGERTYPE",2068733104:"IFCHUMIDIFIER",1806887404:"IFCHUMIDIFIERTYPE",1484403080:"IFCISHAPEPROFILEDEF",3905492369:"IFCIMAGETEXTURE",3570813810:"IFCINDEXEDCOLOURMAP",2571569899:"IFCINDEXEDPOLYCURVE",178912537:"IFCINDEXEDPOLYGONALFACE",2294589976:"IFCINDEXEDPOLYGONALFACEWITHVOIDS",1437953363:"IFCINDEXEDTEXTUREMAP",2133299955:"IFCINDEXEDTRIANGLETEXTUREMAP",4175244083:"IFCINTERCEPTOR",3946677679:"IFCINTERCEPTORTYPE",3113134337:"IFCINTERSECTIONCURVE",2391368822:"IFCINVENTORY",3741457305:"IFCIRREGULARTIMESERIES",3020489413:"IFCIRREGULARTIMESERIESVALUE",2176052936:"IFCJUNCTIONBOX",4288270099:"IFCJUNCTIONBOXTYPE",572779678:"IFCLSHAPEPROFILEDEF",3827777499:"IFCLABORRESOURCE",428585644:"IFCLABORRESOURCETYPE",1585845231:"IFCLAGTIME",76236018:"IFCLAMP",1051575348:"IFCLAMPTYPE",2655187982:"IFCLIBRARYINFORMATION",3452421091:"IFCLIBRARYREFERENCE",4162380809:"IFCLIGHTDISTRIBUTIONDATA",629592764:"IFCLIGHTFIXTURE",1161773419:"IFCLIGHTFIXTURETYPE",1566485204:"IFCLIGHTINTENSITYDISTRIBUTION",1402838566:"IFCLIGHTSOURCE",125510826:"IFCLIGHTSOURCEAMBIENT",2604431987:"IFCLIGHTSOURCEDIRECTIONAL",4266656042:"IFCLIGHTSOURCEGONIOMETRIC",1520743889:"IFCLIGHTSOURCEPOSITIONAL",3422422726:"IFCLIGHTSOURCESPOT",1281925730:"IFCLINE",3092502836:"IFCLINESEGMENT2D",388784114:"IFCLINEARPLACEMENT",1154579445:"IFCLINEARPOSITIONINGELEMENT",2624227202:"IFCLOCALPLACEMENT",1008929658:"IFCLOOP",1425443689:"IFCMANIFOLDSOLIDBREP",3057273783:"IFCMAPCONVERSION",2347385850:"IFCMAPPEDITEM",1838606355:"IFCMATERIAL",1847130766:"IFCMATERIALCLASSIFICATIONRELATIONSHIP",3708119e3:"IFCMATERIALCONSTITUENT",2852063980:"IFCMATERIALCONSTITUENTSET",760658860:"IFCMATERIALDEFINITION",2022407955:"IFCMATERIALDEFINITIONREPRESENTATION",248100487:"IFCMATERIALLAYER",3303938423:"IFCMATERIALLAYERSET",1303795690:"IFCMATERIALLAYERSETUSAGE",1847252529:"IFCMATERIALLAYERWITHOFFSETS",2199411900:"IFCMATERIALLIST",2235152071:"IFCMATERIALPROFILE",164193824:"IFCMATERIALPROFILESET",3079605661:"IFCMATERIALPROFILESETUSAGE",3404854881:"IFCMATERIALPROFILESETUSAGETAPERING",552965576:"IFCMATERIALPROFILEWITHOFFSETS",3265635763:"IFCMATERIALPROPERTIES",853536259:"IFCMATERIALRELATIONSHIP",1507914824:"IFCMATERIALUSAGEDEFINITION",2597039031:"IFCMEASUREWITHUNIT",377706215:"IFCMECHANICALFASTENER",2108223431:"IFCMECHANICALFASTENERTYPE",1437502449:"IFCMEDICALDEVICE",1114901282:"IFCMEDICALDEVICETYPE",1073191201:"IFCMEMBER",1911478936:"IFCMEMBERSTANDARDCASE",3181161470:"IFCMEMBERTYPE",3368373690:"IFCMETRIC",2998442950:"IFCMIRROREDPROFILEDEF",2706619895:"IFCMONETARYUNIT",2474470126:"IFCMOTORCONNECTION",977012517:"IFCMOTORCONNECTIONTYPE",1918398963:"IFCNAMEDUNIT",3888040117:"IFCOBJECT",219451334:"IFCOBJECTDEFINITION",3701648758:"IFCOBJECTPLACEMENT",2251480897:"IFCOBJECTIVE",4143007308:"IFCOCCUPANT",590820931:"IFCOFFSETCURVE",3388369263:"IFCOFFSETCURVE2D",3505215534:"IFCOFFSETCURVE3D",2485787929:"IFCOFFSETCURVEBYDISTANCES",2665983363:"IFCOPENSHELL",3588315303:"IFCOPENINGELEMENT",3079942009:"IFCOPENINGSTANDARDCASE",4251960020:"IFCORGANIZATION",1411181986:"IFCORGANIZATIONRELATIONSHIP",643959842:"IFCORIENTATIONEXPRESSION",1029017970:"IFCORIENTEDEDGE",144952367:"IFCOUTERBOUNDARYCURVE",3694346114:"IFCOUTLET",2837617999:"IFCOUTLETTYPE",1207048766:"IFCOWNERHISTORY",2529465313:"IFCPARAMETERIZEDPROFILEDEF",2519244187:"IFCPATH",1682466193:"IFCPCURVE",2382730787:"IFCPERFORMANCEHISTORY",3566463478:"IFCPERMEABLECOVERINGPROPERTIES",3327091369:"IFCPERMIT",2077209135:"IFCPERSON",101040310:"IFCPERSONANDORGANIZATION",3021840470:"IFCPHYSICALCOMPLEXQUANTITY",2483315170:"IFCPHYSICALQUANTITY",2226359599:"IFCPHYSICALSIMPLEQUANTITY",1687234759:"IFCPILE",1158309216:"IFCPILETYPE",310824031:"IFCPIPEFITTING",804291784:"IFCPIPEFITTINGTYPE",3612865200:"IFCPIPESEGMENT",4231323485:"IFCPIPESEGMENTTYPE",597895409:"IFCPIXELTEXTURE",2004835150:"IFCPLACEMENT",603570806:"IFCPLANARBOX",1663979128:"IFCPLANAREXTENT",220341763:"IFCPLANE",3171933400:"IFCPLATE",1156407060:"IFCPLATESTANDARDCASE",4017108033:"IFCPLATETYPE",2067069095:"IFCPOINT",4022376103:"IFCPOINTONCURVE",1423911732:"IFCPOINTONSURFACE",2924175390:"IFCPOLYLOOP",2775532180:"IFCPOLYGONALBOUNDEDHALFSPACE",2839578677:"IFCPOLYGONALFACESET",3724593414:"IFCPOLYLINE",3740093272:"IFCPORT",1946335990:"IFCPOSITIONINGELEMENT",3355820592:"IFCPOSTALADDRESS",759155922:"IFCPREDEFINEDCOLOUR",2559016684:"IFCPREDEFINEDCURVEFONT",3727388367:"IFCPREDEFINEDITEM",3778827333:"IFCPREDEFINEDPROPERTIES",3967405729:"IFCPREDEFINEDPROPERTYSET",1775413392:"IFCPREDEFINEDTEXTFONT",677532197:"IFCPRESENTATIONITEM",2022622350:"IFCPRESENTATIONLAYERASSIGNMENT",1304840413:"IFCPRESENTATIONLAYERWITHSTYLE",3119450353:"IFCPRESENTATIONSTYLE",2417041796:"IFCPRESENTATIONSTYLEASSIGNMENT",2744685151:"IFCPROCEDURE",569719735:"IFCPROCEDURETYPE",2945172077:"IFCPROCESS",4208778838:"IFCPRODUCT",673634403:"IFCPRODUCTDEFINITIONSHAPE",2095639259:"IFCPRODUCTREPRESENTATION",3958567839:"IFCPROFILEDEF",2802850158:"IFCPROFILEPROPERTIES",103090709:"IFCPROJECT",653396225:"IFCPROJECTLIBRARY",2904328755:"IFCPROJECTORDER",3843373140:"IFCPROJECTEDCRS",3651124850:"IFCPROJECTIONELEMENT",2598011224:"IFCPROPERTY",986844984:"IFCPROPERTYABSTRACTION",871118103:"IFCPROPERTYBOUNDEDVALUE",1680319473:"IFCPROPERTYDEFINITION",148025276:"IFCPROPERTYDEPENDENCYRELATIONSHIP",4166981789:"IFCPROPERTYENUMERATEDVALUE",3710013099:"IFCPROPERTYENUMERATION",2752243245:"IFCPROPERTYLISTVALUE",941946838:"IFCPROPERTYREFERENCEVALUE",1451395588:"IFCPROPERTYSET",3357820518:"IFCPROPERTYSETDEFINITION",492091185:"IFCPROPERTYSETTEMPLATE",3650150729:"IFCPROPERTYSINGLEVALUE",110355661:"IFCPROPERTYTABLEVALUE",3521284610:"IFCPROPERTYTEMPLATE",1482703590:"IFCPROPERTYTEMPLATEDEFINITION",738039164:"IFCPROTECTIVEDEVICE",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",655969474:"IFCPROTECTIVEDEVICETRIPPINGUNITTYPE",1842657554:"IFCPROTECTIVEDEVICETYPE",3219374653:"IFCPROXY",90941305:"IFCPUMP",2250791053:"IFCPUMPTYPE",2044713172:"IFCQUANTITYAREA",2093928680:"IFCQUANTITYCOUNT",931644368:"IFCQUANTITYLENGTH",2090586900:"IFCQUANTITYSET",3252649465:"IFCQUANTITYTIME",2405470396:"IFCQUANTITYVOLUME",825690147:"IFCQUANTITYWEIGHT",2262370178:"IFCRAILING",2893384427:"IFCRAILINGTYPE",3024970846:"IFCRAMP",3283111854:"IFCRAMPFLIGHT",2324767716:"IFCRAMPFLIGHTTYPE",1469900589:"IFCRAMPTYPE",1232101972:"IFCRATIONALBSPLINECURVEWITHKNOTS",683857671:"IFCRATIONALBSPLINESURFACEWITHKNOTS",2770003689:"IFCRECTANGLEHOLLOWPROFILEDEF",3615266464:"IFCRECTANGLEPROFILEDEF",2798486643:"IFCRECTANGULARPYRAMID",3454111270:"IFCRECTANGULARTRIMMEDSURFACE",3915482550:"IFCRECURRENCEPATTERN",2433181523:"IFCREFERENCE",4021432810:"IFCREFERENT",3413951693:"IFCREGULARTIMESERIES",1580146022:"IFCREINFORCEMENTBARPROPERTIES",3765753017:"IFCREINFORCEMENTDEFINITIONPROPERTIES",979691226:"IFCREINFORCINGBAR",2572171363:"IFCREINFORCINGBARTYPE",3027567501:"IFCREINFORCINGELEMENT",964333572:"IFCREINFORCINGELEMENTTYPE",2320036040:"IFCREINFORCINGMESH",2310774935:"IFCREINFORCINGMESHTYPE",160246688:"IFCRELAGGREGATES",3939117080:"IFCRELASSIGNS",1683148259:"IFCRELASSIGNSTOACTOR",2495723537:"IFCRELASSIGNSTOCONTROL",1307041759:"IFCRELASSIGNSTOGROUP",1027710054:"IFCRELASSIGNSTOGROUPBYFACTOR",4278684876:"IFCRELASSIGNSTOPROCESS",2857406711:"IFCRELASSIGNSTOPRODUCT",205026976:"IFCRELASSIGNSTORESOURCE",1865459582:"IFCRELASSOCIATES",4095574036:"IFCRELASSOCIATESAPPROVAL",919958153:"IFCRELASSOCIATESCLASSIFICATION",2728634034:"IFCRELASSOCIATESCONSTRAINT",982818633:"IFCRELASSOCIATESDOCUMENT",3840914261:"IFCRELASSOCIATESLIBRARY",2655215786:"IFCRELASSOCIATESMATERIAL",826625072:"IFCRELCONNECTS",1204542856:"IFCRELCONNECTSELEMENTS",3945020480:"IFCRELCONNECTSPATHELEMENTS",4201705270:"IFCRELCONNECTSPORTTOELEMENT",3190031847:"IFCRELCONNECTSPORTS",2127690289:"IFCRELCONNECTSSTRUCTURALACTIVITY",1638771189:"IFCRELCONNECTSSTRUCTURALMEMBER",504942748:"IFCRELCONNECTSWITHECCENTRICITY",3678494232:"IFCRELCONNECTSWITHREALIZINGELEMENTS",3242617779:"IFCRELCONTAINEDINSPATIALSTRUCTURE",886880790:"IFCRELCOVERSBLDGELEMENTS",2802773753:"IFCRELCOVERSSPACES",2565941209:"IFCRELDECLARES",2551354335:"IFCRELDECOMPOSES",693640335:"IFCRELDEFINES",1462361463:"IFCRELDEFINESBYOBJECT",4186316022:"IFCRELDEFINESBYPROPERTIES",307848117:"IFCRELDEFINESBYTEMPLATE",781010003:"IFCRELDEFINESBYTYPE",3940055652:"IFCRELFILLSELEMENT",279856033:"IFCRELFLOWCONTROLELEMENTS",427948657:"IFCRELINTERFERESELEMENTS",3268803585:"IFCRELNESTS",1441486842:"IFCRELPOSITIONS",750771296:"IFCRELPROJECTSELEMENT",1245217292:"IFCRELREFERENCEDINSPATIALSTRUCTURE",4122056220:"IFCRELSEQUENCE",366585022:"IFCRELSERVICESBUILDINGS",3451746338:"IFCRELSPACEBOUNDARY",3523091289:"IFCRELSPACEBOUNDARY1STLEVEL",1521410863:"IFCRELSPACEBOUNDARY2NDLEVEL",1401173127:"IFCRELVOIDSELEMENT",478536968:"IFCRELATIONSHIP",816062949:"IFCREPARAMETRISEDCOMPOSITECURVESEGMENT",1076942058:"IFCREPRESENTATION",3377609919:"IFCREPRESENTATIONCONTEXT",3008791417:"IFCREPRESENTATIONITEM",1660063152:"IFCREPRESENTATIONMAP",2914609552:"IFCRESOURCE",2943643501:"IFCRESOURCEAPPROVALRELATIONSHIP",1608871552:"IFCRESOURCECONSTRAINTRELATIONSHIP",2439245199:"IFCRESOURCELEVELRELATIONSHIP",1042787934:"IFCRESOURCETIME",1856042241:"IFCREVOLVEDAREASOLID",3243963512:"IFCREVOLVEDAREASOLIDTAPERED",4158566097:"IFCRIGHTCIRCULARCONE",3626867408:"IFCRIGHTCIRCULARCYLINDER",2016517767:"IFCROOF",2781568857:"IFCROOFTYPE",2341007311:"IFCROOT",2778083089:"IFCROUNDEDRECTANGLEPROFILEDEF",448429030:"IFCSIUNIT",3053780830:"IFCSANITARYTERMINAL",1768891740:"IFCSANITARYTERMINALTYPE",1054537805:"IFCSCHEDULINGTIME",2157484638:"IFCSEAMCURVE",2042790032:"IFCSECTIONPROPERTIES",4165799628:"IFCSECTIONREINFORCEMENTPROPERTIES",1862484736:"IFCSECTIONEDSOLID",1290935644:"IFCSECTIONEDSOLIDHORIZONTAL",1509187699:"IFCSECTIONEDSPINE",4086658281:"IFCSENSOR",1783015770:"IFCSENSORTYPE",1329646415:"IFCSHADINGDEVICE",4074543187:"IFCSHADINGDEVICETYPE",867548509:"IFCSHAPEASPECT",3982875396:"IFCSHAPEMODEL",4240577450:"IFCSHAPEREPRESENTATION",4124623270:"IFCSHELLBASEDSURFACEMODEL",3692461612:"IFCSIMPLEPROPERTY",3663146110:"IFCSIMPLEPROPERTYTEMPLATE",4097777520:"IFCSITE",1529196076:"IFCSLAB",3127900445:"IFCSLABELEMENTEDCASE",3027962421:"IFCSLABSTANDARDCASE",2533589738:"IFCSLABTYPE",2609359061:"IFCSLIPPAGECONNECTIONCONDITION",3420628829:"IFCSOLARDEVICE",1072016465:"IFCSOLARDEVICETYPE",723233188:"IFCSOLIDMODEL",3856911033:"IFCSPACE",1999602285:"IFCSPACEHEATER",1305183839:"IFCSPACEHEATERTYPE",3812236995:"IFCSPACETYPE",1412071761:"IFCSPATIALELEMENT",710998568:"IFCSPATIALELEMENTTYPE",2706606064:"IFCSPATIALSTRUCTUREELEMENT",3893378262:"IFCSPATIALSTRUCTUREELEMENTTYPE",463610769:"IFCSPATIALZONE",2481509218:"IFCSPATIALZONETYPE",451544542:"IFCSPHERE",4015995234:"IFCSPHERICALSURFACE",1404847402:"IFCSTACKTERMINAL",3112655638:"IFCSTACKTERMINALTYPE",331165859:"IFCSTAIR",4252922144:"IFCSTAIRFLIGHT",1039846685:"IFCSTAIRFLIGHTTYPE",338393293:"IFCSTAIRTYPE",682877961:"IFCSTRUCTURALACTION",3544373492:"IFCSTRUCTURALACTIVITY",2515109513:"IFCSTRUCTURALANALYSISMODEL",1179482911:"IFCSTRUCTURALCONNECTION",2273995522:"IFCSTRUCTURALCONNECTIONCONDITION",1004757350:"IFCSTRUCTURALCURVEACTION",4243806635:"IFCSTRUCTURALCURVECONNECTION",214636428:"IFCSTRUCTURALCURVEMEMBER",2445595289:"IFCSTRUCTURALCURVEMEMBERVARYING",2757150158:"IFCSTRUCTURALCURVEREACTION",3136571912:"IFCSTRUCTURALITEM",1807405624:"IFCSTRUCTURALLINEARACTION",2162789131:"IFCSTRUCTURALLOAD",385403989:"IFCSTRUCTURALLOADCASE",3478079324:"IFCSTRUCTURALLOADCONFIGURATION",1252848954:"IFCSTRUCTURALLOADGROUP",1595516126:"IFCSTRUCTURALLOADLINEARFORCE",609421318:"IFCSTRUCTURALLOADORRESULT",2668620305:"IFCSTRUCTURALLOADPLANARFORCE",2473145415:"IFCSTRUCTURALLOADSINGLEDISPLACEMENT",1973038258:"IFCSTRUCTURALLOADSINGLEDISPLACEMENTDISTORTION",1597423693:"IFCSTRUCTURALLOADSINGLEFORCE",1190533807:"IFCSTRUCTURALLOADSINGLEFORCEWARPING",2525727697:"IFCSTRUCTURALLOADSTATIC",3408363356:"IFCSTRUCTURALLOADTEMPERATURE",530289379:"IFCSTRUCTURALMEMBER",1621171031:"IFCSTRUCTURALPLANARACTION",2082059205:"IFCSTRUCTURALPOINTACTION",734778138:"IFCSTRUCTURALPOINTCONNECTION",1235345126:"IFCSTRUCTURALPOINTREACTION",3689010777:"IFCSTRUCTURALREACTION",2986769608:"IFCSTRUCTURALRESULTGROUP",3657597509:"IFCSTRUCTURALSURFACEACTION",1975003073:"IFCSTRUCTURALSURFACECONNECTION",3979015343:"IFCSTRUCTURALSURFACEMEMBER",2218152070:"IFCSTRUCTURALSURFACEMEMBERVARYING",603775116:"IFCSTRUCTURALSURFACEREACTION",2830218821:"IFCSTYLEMODEL",3958052878:"IFCSTYLEDITEM",3049322572:"IFCSTYLEDREPRESENTATION",148013059:"IFCSUBCONTRACTRESOURCE",4095615324:"IFCSUBCONTRACTRESOURCETYPE",2233826070:"IFCSUBEDGE",2513912981:"IFCSURFACE",699246055:"IFCSURFACECURVE",2028607225:"IFCSURFACECURVESWEPTAREASOLID",3101698114:"IFCSURFACEFEATURE",2809605785:"IFCSURFACEOFLINEAREXTRUSION",4124788165:"IFCSURFACEOFREVOLUTION",2934153892:"IFCSURFACEREINFORCEMENTAREA",1300840506:"IFCSURFACESTYLE",3303107099:"IFCSURFACESTYLELIGHTING",1607154358:"IFCSURFACESTYLEREFRACTION",1878645084:"IFCSURFACESTYLERENDERING",846575682:"IFCSURFACESTYLESHADING",1351298697:"IFCSURFACESTYLEWITHTEXTURES",626085974:"IFCSURFACETEXTURE",2247615214:"IFCSWEPTAREASOLID",1260650574:"IFCSWEPTDISKSOLID",1096409881:"IFCSWEPTDISKSOLIDPOLYGONAL",230924584:"IFCSWEPTSURFACE",1162798199:"IFCSWITCHINGDEVICE",2315554128:"IFCSWITCHINGDEVICETYPE",2254336722:"IFCSYSTEM",413509423:"IFCSYSTEMFURNITUREELEMENT",1580310250:"IFCSYSTEMFURNITUREELEMENTTYPE",3071757647:"IFCTSHAPEPROFILEDEF",985171141:"IFCTABLE",2043862942:"IFCTABLECOLUMN",531007025:"IFCTABLEROW",812556717:"IFCTANK",5716631:"IFCTANKTYPE",3473067441:"IFCTASK",1549132990:"IFCTASKTIME",2771591690:"IFCTASKTIMERECURRING",3206491090:"IFCTASKTYPE",912023232:"IFCTELECOMADDRESS",3824725483:"IFCTENDON",2347447852:"IFCTENDONANCHOR",3081323446:"IFCTENDONANCHORTYPE",3663046924:"IFCTENDONCONDUIT",2281632017:"IFCTENDONCONDUITTYPE",2415094496:"IFCTENDONTYPE",2387106220:"IFCTESSELLATEDFACESET",901063453:"IFCTESSELLATEDITEM",4282788508:"IFCTEXTLITERAL",3124975700:"IFCTEXTLITERALWITHEXTENT",1447204868:"IFCTEXTSTYLE",1983826977:"IFCTEXTSTYLEFONTMODEL",2636378356:"IFCTEXTSTYLEFORDEFINEDFONT",1640371178:"IFCTEXTSTYLETEXTMODEL",280115917:"IFCTEXTURECOORDINATE",1742049831:"IFCTEXTURECOORDINATEGENERATOR",2552916305:"IFCTEXTUREMAP",1210645708:"IFCTEXTUREVERTEX",3611470254:"IFCTEXTUREVERTEXLIST",1199560280:"IFCTIMEPERIOD",3101149627:"IFCTIMESERIES",581633288:"IFCTIMESERIESVALUE",1377556343:"IFCTOPOLOGICALREPRESENTATIONITEM",1735638870:"IFCTOPOLOGYREPRESENTATION",1935646853:"IFCTOROIDALSURFACE",3825984169:"IFCTRANSFORMER",1692211062:"IFCTRANSFORMERTYPE",2595432518:"IFCTRANSITIONCURVESEGMENT2D",1620046519:"IFCTRANSPORTELEMENT",2097647324:"IFCTRANSPORTELEMENTTYPE",2715220739:"IFCTRAPEZIUMPROFILEDEF",2916149573:"IFCTRIANGULATEDFACESET",1229763772:"IFCTRIANGULATEDIRREGULARNETWORK",3593883385:"IFCTRIMMEDCURVE",3026737570:"IFCTUBEBUNDLE",1600972822:"IFCTUBEBUNDLETYPE",1628702193:"IFCTYPEOBJECT",3736923433:"IFCTYPEPROCESS",2347495698:"IFCTYPEPRODUCT",3698973494:"IFCTYPERESOURCE",427810014:"IFCUSHAPEPROFILEDEF",180925521:"IFCUNITASSIGNMENT",630975310:"IFCUNITARYCONTROLELEMENT",3179687236:"IFCUNITARYCONTROLELEMENTTYPE",4292641817:"IFCUNITARYEQUIPMENT",1911125066:"IFCUNITARYEQUIPMENTTYPE",4207607924:"IFCVALVE",728799441:"IFCVALVETYPE",1417489154:"IFCVECTOR",2799835756:"IFCVERTEX",2759199220:"IFCVERTEXLOOP",1907098498:"IFCVERTEXPOINT",1530820697:"IFCVIBRATIONDAMPER",3956297820:"IFCVIBRATIONDAMPERTYPE",2391383451:"IFCVIBRATIONISOLATOR",3313531582:"IFCVIBRATIONISOLATORTYPE",2769231204:"IFCVIRTUALELEMENT",891718957:"IFCVIRTUALGRIDINTERSECTION",926996030:"IFCVOIDINGFEATURE",2391406946:"IFCWALL",4156078855:"IFCWALLELEMENTEDCASE",3512223829:"IFCWALLSTANDARDCASE",1898987631:"IFCWALLTYPE",4237592921:"IFCWASTETERMINAL",1133259667:"IFCWASTETERMINALTYPE",3304561284:"IFCWINDOW",336235671:"IFCWINDOWLININGPROPERTIES",512836454:"IFCWINDOWPANELPROPERTIES",486154966:"IFCWINDOWSTANDARDCASE",1299126871:"IFCWINDOWSTYLE",4009809668:"IFCWINDOWTYPE",4088093105:"IFCWORKCALENDAR",1028945134:"IFCWORKCONTROL",4218914973:"IFCWORKPLAN",3342526732:"IFCWORKSCHEDULE",1236880293:"IFCWORKTIME",2543172580:"IFCZSHAPEPROFILEDEF",1033361043:"IFCZONE"},xa={aggregates:{name:r0,relating:"RelatingObject",related:"RelatedObjects",key:"children"},spatial:{name:o0,relating:"RelatingStructure",related:"RelatedElements",key:"children"},psets:{name:a0,relating:"RelatingPropertyDefinition",related:"RelatedObjects",key:"hasPsets"},materials:{name:n0,relating:"RelatingMaterial",related:"RelatedObjects",key:"hasMaterial"},type:{name:l0,relating:"RelatingType",related:"RelatedObjects",key:"hasType"}},_y=class{constructor(e){this.api=e}getIfcType(e){return pne[e]}getItemProperties(e,s,t=!1){return Ui(this,null,function*(){return this.api.GetLine(e,s,t)})}getPropertySets(e,s,t=!1){return Ui(this,null,function*(){return yield this.getProperty(e,s,t,xa.psets)})}getTypeProperties(e,s,t=!1){return Ui(this,null,function*(){return yield this.getProperty(e,s,t,xa.type)})}getMaterialsProperties(e,s,t=!1){return Ui(this,null,function*(){return yield this.getProperty(e,s,t,xa.materials)})}getSpatialStructure(e,s){return Ui(this,null,function*(){yield this.getAllTypesOfModel(e);const t=yield this.getSpatialTreeChunks(e),r=(yield this.api.GetLineIDsWithType(e,rp)).get(0),n=_y.newIfcProject(r);return yield this.getSpatialNode(e,n,t,s),this.cleanupTypes(),n})}getAllItemsOfType(e,s,t){return Ui(this,null,function*(){let i=[];const r=yield this.api.GetLineIDsWithType(e,s);for(let o=0;o<r.size();o++)i.push(r.get(o));if(!t)return i;const n=[];for(let o=0;o<i.length;o++)n.push(yield this.api.GetLine(e,i[o]));return n})}getProperty(e,s,t=!1,i){return Ui(this,null,function*(){const r=yield this.getAllRelatedItemsOfType(e,s,i),n=[];for(let o=0;o<r.length;o++)n.push(yield this.api.GetLine(e,r[o],t));return n})}getChunks(e,s,t){return Ui(this,null,function*(){const i=yield this.api.GetLineIDsWithType(e,t.name);for(let r=0;r<i.size();r++){const n=yield this.api.GetLine(e,i.get(r),!1);this.saveChunk(s,t,n)}})}static isRelated(e,s,t){const i=s[t.related];return Array.isArray(i)?i.map(n=>n.value).includes(e):i.value===e}static newIfcProject(e){return{expressID:e,type:"IFCPROJECT",children:[]}}getSpatialNode(e,s,t,i){return Ui(this,null,function*(){yield this.getChildren(e,s,t,xa.aggregates,i),yield this.getChildren(e,s,t,xa.spatial,i)})}getChildren(e,s,t,i,r){return Ui(this,null,function*(){const n=t[s.expressID];if(n==null)return;const o=i.key,a=[];for(let l=0;l<n.length;l++){const h=n[l];let c=this.newNode(h);if(r){const u=yield this.getItemProperties(e,c.expressID);c=dd(dd({},u),c)}yield this.getSpatialNode(e,c,t,r),a.push(c)}s[o]=a})}newNode(e){const s=this.getNodeType(e);return{expressID:e,type:s,children:[]}}getNodeType(e){const s=this.types[e];return SC[s]}getSpatialTreeChunks(e){return Ui(this,null,function*(){const s={};return yield this.getChunks(e,s,xa.aggregates),yield this.getChunks(e,s,xa.spatial),s})}saveChunk(e,s,t){const i=t[s.relating].value,r=t[s.related].map(n=>n.value);e[i]==null?e[i]=r:e[i]=e[i].concat(r)}getRelated(e,s,t){const i=e[s.relating];Array.isArray(i)?i.forEach(r=>t.push(r.value)):t.push(i.value)}getAllRelatedItemsOfType(e,s,t){return Ui(this,null,function*(){const i=yield this.api.GetLineIDsWithType(e,t.name),r=[];for(let n=0;n<i.size();n++){const o=yield this.api.GetLine(e,i.get(n));_y.isRelated(s,o,t)&&this.getRelated(o,t,r)}return r})}cleanupTypes(){this.types={}}getAllTypesOfModel(e){return Ui(this,null,function*(){const s={},t=Object.keys(SC).map(i=>parseInt(i));for(let i=0;i<t.length;i++){const r=t[i],n=yield this.api.GetLineIDsWithType(e,r),o=n.size();for(let a=0;a<o;a++)s[n.get(a)]=r}this.types=s})}},gd;typeof self<"u"&&self.crossOriginIsolated?gd=NX():gd=LX();var gg=class{constructor(){this.wasmModule=void 0,this.fs=void 0,this.wasmPath="",this.isWasmPathAbsolute=!1,this.ifcGuidMap=new Map,this.properties=new _y(this)}Init(e){return Ui(this,null,function*(){if(gd){let s=(t,i)=>t.endsWith(".wasm")?this.isWasmPathAbsolute?this.wasmPath+t:i+this.wasmPath+t:i+t;this.wasmModule=yield gd({noInitialRun:!0,locateFile:e||s}),this.fs=this.wasmModule.FS}else console.error("Could not find wasm module at './web-ifc' from web-ifc-api.ts")})}OpenModel(e,s){let t=dd({COORDINATE_TO_ORIGIN:!1,USE_FAST_BOOLS:!1,CIRCLE_SEGMENTS_LOW:5,CIRCLE_SEGMENTS_MEDIUM:8,CIRCLE_SEGMENTS_HIGH:12,BOOL_ABORT_THRESHOLD:1e4},s),i=0;return this.wasmModule.OpenModel(t,(n,o)=>{let a=Math.min(e.byteLength-i,o),l=this.wasmModule.HEAPU8.subarray(n,n+o),h=e.subarray(i,i+a);return l.set(h),i+=a,a})}CreateModel(e){let s=dd({COORDINATE_TO_ORIGIN:!1,USE_FAST_BOOLS:!1,CIRCLE_SEGMENTS_LOW:5,CIRCLE_SEGMENTS_MEDIUM:8,CIRCLE_SEGMENTS_HIGH:12,BOOL_ABORT_THRESHOLD:1e4},e);return this.wasmModule.CreateModel(s)}ExportFileAsIFC(e){this.wasmModule.ExportFileAsIFC(e);let s=this.fs.readFile("/export.ifc");return this.wasmModule.FS_unlink("/export.ifc"),s}GetGeometry(e,s){return this.wasmModule.GetGeometry(e,s)}GetLine(e,s,t=!1){let i=this.GetRawLineData(e,s),r=w[i.type](i);return t&&this.FlattenLine(e,r),r}GetAndClearErrors(e){return this.wasmModule.GetAndClearErrors(e)}WriteLine(e,s){Object.keys(s).forEach(i=>{let r=s[i];if(r&&r.expressID!==void 0)this.WriteLine(e,r),s[i]={type:5,value:r.expressID};else if(Array.isArray(r)&&r.length>0)for(let n=0;n<r.length;n++)r[n].expressID!==void 0&&(this.WriteLine(e,r[n]),s[i][n]={type:5,value:r[n].expressID})});let t={ID:s.expressID,type:s.type,arguments:s.ToTape()};this.WriteRawLineData(e,t)}FlattenLine(e,s){Object.keys(s).forEach(t=>{let i=s[t];if(i&&i.type===5)s[t]=this.GetLine(e,i.value,!0);else if(Array.isArray(i)&&i.length>0&&i[0].type===5)for(let r=0;r<i.length;r++)s[t][r]=this.GetLine(e,i[r].value,!0)})}GetRawLineData(e,s){return this.wasmModule.GetLine(e,s)}WriteRawLineData(e,s){return this.wasmModule.WriteLine(e,s.ID,s.type,s.arguments)}GetLineIDsWithType(e,s){return this.wasmModule.GetLineIDsWithType(e,s)}GetAllLines(e){return this.wasmModule.GetAllLines(e)}SetGeometryTransformation(e,s){if(s.length!=16){console.log(`Bad transformation matrix size: ${s.length}`);return}this.wasmModule.SetGeometryTransformation(e,s)}GetCoordinationMatrix(e){return this.wasmModule.GetCoordinationMatrix(e)}GetVertexArray(e,s){return this.getSubArray(this.wasmModule.HEAPF32,e,s)}GetIndexArray(e,s){return this.getSubArray(this.wasmModule.HEAPU32,e,s)}getSubArray(e,s,t){return e.subarray(s/4,s/4+t).slice(0)}CloseModel(e){this.ifcGuidMap.delete(e),this.wasmModule.CloseModel(e)}StreamAllMeshes(e,s){this.wasmModule.StreamAllMeshes(e,s)}StreamAllMeshesWithTypes(e,s,t){this.wasmModule.StreamAllMeshesWithTypes(e,s,t)}IsModelOpen(e){return this.wasmModule.IsModelOpen(e)}LoadAllGeometry(e){return this.wasmModule.LoadAllGeometry(e)}GetFlatMesh(e,s){return this.wasmModule.GetFlatMesh(e,s)}CreateIfcGuidToExpressIdMapping(e){const s=new Map;for(let t=0;t<wC.length;t++){const i=wC[t],r=this.GetLineIDsWithType(e,i),n=r.size();for(let o=0;o<n;o++){const a=r.get(o),h=this.GetLine(e,a).GlobalId.value;s.set(a,h),s.set(h,a)}}this.ifcGuidMap.set(e,s)}SetWasmPath(e,s=!1){this.wasmPath=e,this.isWasmPathAbsolute=s}};class Tt{constructor(s){this.edges={},this.isVisible=!0,this.inverseMatrix=new rt,this.localPlane=new Bi,this.tempLine=new Es,this.tempVector=new H,this.stylesInitialized=!1,this.clippingPlane=s}get visible(){return this.isVisible}set visible(s){this.isVisible=s,Object.values(this.edges).forEach(i=>{i.mesh.visible=s,s?Tt.context.getScene().add(i.mesh):i.mesh.removeFromParent()}),s&&this.updateEdges()}static newGeneratorGeometry(){const s=new _t,t=new Rt(new Float32Array(3e5),3,!1);return t.setUsage(Du),s.setAttribute("position",t),s}dispose(){Object.values(this.edges).forEach(s=>{s.generatorGeometry.boundsTree&&s.generatorGeometry.disposeBoundsTree(),s.generatorGeometry.dispose(),s.mesh.geometry.boundsTree&&s.mesh.geometry.disposeBoundsTree(),s.mesh.geometry.dispose(),s.mesh.removeFromParent(),s.mesh=null}),this.edges=null,this.clippingPlane=null}disposeStylesAndHelpers(){if(Tt.basicEdges&&(Tt.basicEdges.removeFromParent(),Tt.basicEdges.geometry.dispose(),Tt.basicEdges=null,Tt.basicEdges=new Fn),Tt.context=null,Tt.ifc=null,Tt.edgesParent=void 0,!Tt.styles)return;Object.values(Tt.styles).forEach(t=>{t.ids.length=0,t.meshes.forEach(i=>{i.removeFromParent(),i.geometry.dispose(),i.geometry.boundsTree&&i.geometry.disposeBoundsTree(),Array.isArray(i.material)?i.material.forEach(r=>r.dispose()):i.material.dispose()}),t.meshes.length=0,t.categories.length=0,t.material.dispose()}),Tt.styles=null,Tt.styles={}}async updateEdges(){Tt.createDefaultIfcStyles&&await this.updateIfcStyles(),Tt.forceStyleUpdate&&this.updateSubsetsTranformation(),Object.keys(Tt.styles).forEach(s=>{try{this.drawEdges(s)}catch(t){console.error("error in drawing edges",t)}})}static async newStyle(s,t,i=Tt.defaultMaterial){const r=[],n=Tt.context.items.ifcModels;for(let o=0;o<n.length;o++){const a=await Tt.newSubset(s,n[o],t);a&&r.push(a)}i.clippingPlanes=Tt.context.getClippingPlanes(),Tt.styles[s]={ids:n.map(o=>o.modelID),categories:t,material:i,meshes:r}}static async newStyleFromMesh(s,t,i=Tt.defaultMaterial){const r=t.map(n=>n.modelID);t.forEach(n=>{n.geometry.boundsTree||n.geometry.computeBoundsTree()}),i.clippingPlanes=Tt.context.getClippingPlanes(),Tt.styles[s]={ids:r,categories:[],material:i,meshes:t}}async updateStylesIfcGeometry(){const s=Object.keys(Tt.styles);for(let t=0;t<s.length;t++){const i=s[t],r=Tt.styles[i],n=Tt.context.items.ifcModels;r.meshes.length=0;for(let o=0;o<n.length;o++){const a=await Tt.newSubset(i,n[o],r.categories);a&&r.meshes.push(a)}}}updateSubsetsTranformation(){const s=Object.keys(Tt.styles);for(let t=0;t<s.length;t++){const i=s[t];Tt.styles[i].meshes.forEach(n=>{const o=Tt.context.items.ifcModels.find(a=>a.modelID===n.modelID);o&&(n.position.copy(o.position),n.rotation.copy(o.rotation),n.scale.copy(o.scale))})}Tt.forceStyleUpdate=!1}async updateIfcStyles(){this.stylesInitialized||await this.createDefaultIfcStyles(),Tt.forceStyleUpdate&&(await this.updateStylesIfcGeometry(),Tt.forceStyleUpdate=!1)}async createDefaultIfcStyles(){Object.keys(Tt.styles).length===0&&(await Tt.newStyle("thick",[d0,f0,c0,u0,KI,ZI,h0,md,Td],new Vu({color:0,linewidth:.0015})),await Tt.newStyle("thin",[m0,i0,s0,JI,t0,Td,md,e0],new Vu({color:3355443,linewidth:.001})),this.stylesInitialized=!0)}static async newSubset(s,t,i){const r=t.modelID,n=await this.getItemIDs(r,i);if(!n.length)return null;const o=this.ifc.loader.ifcManager;let a;return n.length>0?a=o.createSubset({modelID:r,ids:n,customID:s,material:Tt.invisibleMaterial,removePrevious:!0,scene:Tt.context.getScene(),applyBVH:!0}):a=o.getSubset(r,Tt.invisibleMaterial,s),a.position.copy(t.position),a.rotation.copy(t.rotation),a.scale.copy(t.scale),a}static async getItemIDs(s,t){const i=[];for(let n=0;n<t.length;n++){const o=await this.ifc.getAllItemsOfType(s,t[n],!1);i.push(...o)}const r=this.getVisibileItems(s);return i.filter(n=>r.has(n))}static getVisibileItems(s){const t=new Set,i=this.context.items.ifcModels.find(n=>n.modelID===s);if(!i)throw new Error("IFC model was not found for computing clipping edges.");if(!i.geometry.index)throw new Error("Indices were not found for clipping edges.");return new Set(i.geometry.index.array).forEach(n=>{t.add(i.geometry.attributes.expressID.getX(n))}),t}newThickEdges(s){const t=Tt.styles[s].material,i=new QI,r=new ix(i,t);return r.material.polygonOffset=!0,r.material.polygonOffsetFactor=-2,r.material.polygonOffsetUnits=1,r.renderOrder=3,r}drawEdges(s){const t=Tt.styles[s];this.edges[s]||(this.edges[s]={generatorGeometry:Tt.newGeneratorGeometry(),mesh:this.newThickEdges(s)});const i=this.edges[s];let r=0;const n=i.generatorGeometry.attributes.position;n.array.fill(0),t.meshes.filter(a=>a.geometry).forEach(a=>{if(!a.geometry.boundsTree)throw new Error("Boundstree not found for clipping edges subset.");this.inverseMatrix.copy(a.matrixWorld).invert(),this.localPlane.copy(this.clippingPlane).applyMatrix4(this.inverseMatrix),a.geometry.boundsTree.shapecast({intersectsBounds:l=>this.localPlane.intersectsBox(l),intersectsTriangle:l=>{let h=0;if(this.tempLine.start.copy(l.a),this.tempLine.end.copy(l.b),this.localPlane.intersectLine(this.tempLine,this.tempVector)){const c=this.tempVector.applyMatrix4(a.matrixWorld);n.setXYZ(r,c.x,c.y,c.z),h++,r++}if(this.tempLine.start.copy(l.b),this.tempLine.end.copy(l.c),this.localPlane.intersectLine(this.tempLine,this.tempVector)){const c=this.tempVector.applyMatrix4(a.matrixWorld);n.setXYZ(r,c.x,c.y,c.z),h++,r++}if(this.tempLine.start.copy(l.c),this.tempLine.end.copy(l.a),this.localPlane.intersectLine(this.tempLine,this.tempVector)){const c=this.tempVector.applyMatrix4(a.matrixWorld);n.setXYZ(r,c.x,c.y,c.z),h++,r++}h!==2&&(r-=h)}})}),i.mesh.geometry.setDrawRange(0,r),i.mesh.position.copy(this.clippingPlane.normal).multiplyScalar(1e-4),n.needsUpdate=!0,Number.isNaN(i.generatorGeometry.attributes.position.array[0])||(Tt.basicEdges.geometry=i.generatorGeometry,i.mesh.geometry.fromLineSegments(Tt.basicEdges),(Tt.edgesParent||Tt.context.getScene()).add(i.mesh),Tt.context.renderer.postProduction.excludedItems.add(i.mesh))}}Tt.styles={};Tt.forceStyleUpdate=!1;Tt.createDefaultIfcStyles=!0;Tt.edgesParent=null;Tt.invisibleMaterial=new wi({visible:!1});Tt.defaultMaterial=new Vu({color:0,linewidth:.001});Tt.basicEdges=new Fn;class ks extends Fi{constructor(s,t,i,r,n,o,a){super(s),this.arrowBoundingBox=new Qe,this.isVisible=!0,this.enabled=!0,this.edgesActive=!0,this.isPlan=!1,this.removeFromScene=()=>{this.helper.removeFromParent(),this.arrowBoundingBox.removeFromParent(),this.arrowBoundingBox.geometry.dispose(),this.arrowBoundingBox=void 0,this.planeMesh.geometry.dispose(),this.planeMesh.geometry=void 0,this.controls.removeFromParent(),this.controls.dispose(),this.edges.dispose(),this.helper.removeFromParent()},this.planeSize=o,this.context=s,this.plane=new Bi,this.planeMesh=this.getPlaneMesh(),this.normal=i,this.origin=t,this.helper=this.createHelper(),this.controls=this.newTransformControls(),this.setupEvents(r,n),this.plane.setFromNormalAndCoplanarPoint(i,t),this.edges=new Tt(this.plane),this.edgesActive=a}get active(){return this.enabled}set active(s){this.enabled=s;const t=this.context.getClippingPlanes();if(this.edges.visible=s,s)t.push(this.plane);else{const i=t.indexOf(this.plane);i>=0&&t.splice(i)}}get visible(){return this.isVisible}set visible(s){this.isVisible=s,this.controls.visible=s,this.helper.visible=s,this.edges.visible=s}dispose(){ks.planeMaterial&&(ks.planeMaterial.dispose(),ks.planeMaterial=null,ks.planeMaterial=ks.getPlaneMaterial()),ks.hiddenMaterial&&(ks.hiddenMaterial.dispose(),ks.hiddenMaterial=null,ks.hiddenMaterial=ks.getHiddenMaterial()),this.removeFromScene(),this.edges.disposeStylesAndHelpers(),this.edges=null,this.context=null}static getPlaneMaterial(){return new wi({color:16776960,side:qi,transparent:!0,opacity:.2})}static getHiddenMaterial(){return new wi({visible:!1})}newTransformControls(){const s=this.context.getCamera(),t=this.context.getDomElement(),i=new ex(s,t);return this.initializeControls(i),this.context.getScene().add(i),this.context.renderer.postProduction.excludedItems.add(i),i}initializeControls(s){s.attach(this.helper),s.showX=!1,s.showY=!1,s.setSpace("local"),this.createArrowBoundingBox(),s.children[0].children[0].add(this.arrowBoundingBox)}createArrowBoundingBox(){this.arrowBoundingBox.geometry=new Qs(.18,.18,1.2),this.arrowBoundingBox.material=ks.hiddenMaterial,this.arrowBoundingBox.rotateX(Math.PI/2),this.arrowBoundingBox.updateMatrix(),this.arrowBoundingBox.geometry.applyMatrix4(this.arrowBoundingBox.matrix)}setupEvents(s,t){this.controls.addEventListener("change",()=>{!this.enabled||(this.plane.setFromNormalAndCoplanarPoint(this.normal,this.helper.position),this.edgesActive&&this.edges.updateEdges())}),this.controls.addEventListener("dragging-changed",i=>{!this.enabled||(this.isVisible=!i.value,this.context.toggleCameraControls(this.isVisible),i.value?s():t())}),this.context.ifcCamera.currentNavMode.onChangeProjection.on(i=>{this.controls.camera=i})}createHelper(){const s=new jt;return s.lookAt(this.normal),s.position.copy(this.origin),this.context.getScene().add(s),s.add(this.planeMesh),this.context.renderer.postProduction.excludedItems.add(s),s}getPlaneMesh(){const s=new tc(this.planeSize,this.planeSize,1);return new Qe(s,ks.planeMaterial)}}ks.planeMaterial=ks.getPlaneMaterial();ks.hiddenMaterial=ks.getHiddenMaterial();class fne extends Fi{constructor(s,t){super(s),this.orthogonalY=!0,this.toleranceOrthogonalY=.7,this.planeSize=5,this.createPlane=()=>{if(!this.enabled)return;const i=this.context.castRayIfc();!i||(this.createPlaneFromIntersection(i),this.intersection=void 0)},this.createFromNormalAndCoplanarPoint=(i,r,n=!1)=>{const o=new ks(this.context,r,i,this.activateDragging,this.deactivateDragging,this.planeSize,this.edgesEnabled);return o.isPlan=n,this.planes.push(o),this.context.addClippingPlane(o.plane),this.updateMaterials(),o},this.deletePlane=i=>{let r=i;if(!r){if(!this.enabled)return;r=this.pickPlane()}if(!r)return;const n=this.planes.indexOf(r);n!==-1&&(r.removeFromScene(),this.planes.splice(n,1),this.context.removeClippingPlane(r.plane),this.updateMaterials(),this.context.renderer.postProduction.update())},this.deleteAllPlanes=()=>{for(;this.planes.length>0;)this.deletePlane(this.planes[0])},this.pickPlane=()=>{const i=this.planes.map(o=>o.planeMesh),r=this.planes.map(o=>o.arrowBoundingBox),n=this.context.castRay([...i,...r]);return n.length>0?this.planes.find(o=>o.planeMesh===n[0].object||o.arrowBoundingBox===n[0].object?o:null):null},this.createPlaneFromIntersection=i=>{var r;const n=i.point.distanceTo(new H(0,0,0)),o=(r=i.face)===null||r===void 0?void 0:r.normal;if(!n||!o)return;const a=new Ks().getNormalMatrix(i.object.matrixWorld),l=o.clone().applyMatrix3(a).normalize();this.normalizePlaneDirectionY(l);const h=this.newPlane(i,l.negate());this.planes.push(h),this.context.addClippingPlane(h.plane),this.updateMaterials()},this.activateDragging=()=>{this.dragging=!0,this.context.renderer.postProduction.visible=!1},this.deactivateDragging=()=>{this.dragging=!1,this.context.renderer.postProduction.visible=!0},this.updateMaterials=()=>{const i=this.context.getClippingPlanes();this.context.items.ifcModels.forEach(r=>{Array.isArray(r.material)?r.material.forEach(n=>n.clippingPlanes=i):r.material.clippingPlanes=i}),Object.values(this.ifc.loader.ifcManager.subsets.getAllSubsets()).forEach(r=>{const n=r.mesh;n.material&&this.updateMaterial(n,i),n.userData.wireframe&&this.updateMaterial(n.userData.wireframe,i)})},this.context=s,this.ifc=t,this.enabled=!1,this.edgesEnabled=!0,this.dragging=!1,this.planes=[]}get active(){return this.enabled}set active(s){this.enabled=s,this.planes.forEach(t=>{t.isPlan||(t.visible=s,t.active=s)}),this.updateMaterials(),this.context.renderer.postProduction.visible=!0}get edgesActive(){return this.edgesEnabled}set edgesActive(s){this.edgesEnabled=s,this.planes.forEach(t=>{t.edgesActive=s})}toggle(){this.active=!this.active}dispose(){this.planes.forEach(s=>s.dispose()),this.planes.length=0,this.context=null,this.ifc=null}normalizePlaneDirectionY(s){this.orthogonalY&&(s.y>this.toleranceOrthogonalY&&(s.x=0,s.y=1,s.z=0),s.y<-this.toleranceOrthogonalY&&(s.x=0,s.y=-1,s.z=0))}newPlane(s,t){return new ks(this.context,s.point,t,this.activateDragging,this.deactivateDragging,this.planeSize,this.edgesEnabled)}updateMaterial(s,t){if(!Array.isArray(s.material)){s.material.clippingPlanes=t;return}s.material.forEach(i=>{i.clippingPlanes=t})}}new H,new H,new H;function lr(e){e.removeFromParent(),e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach(s=>s.dispose()):e.material.dispose()),e.children&&e.children.length&&e.children.forEach(s=>lr(s)),e.children.length=0}class dne{constructor(s,t){this.IFC=s,this.context=t,this.existMessage="The specified fill already exists",this.fills={}}dispose(){Object.values(this.fills).forEach(t=>lr(t)),this.fills=null}create(s,t,i,r){if(this.fills[s]!==void 0)throw new Error(this.existMessage);r.clippingPlanes=this.context.getClippingPlanes();const n=this.context.items.ifcModels.find(a=>a.modelID===t);if(!n)throw new Error("The requested model to fill was not found.");this.setupMaterial(r);const o=this.getSubset(t,i,r,s);return o?(this.context.items.pickableIfcModels.push(o),o.position.copy(n.position),o.rotation.copy(n.rotation),this.context.getScene().add(o),this.fills[s]=o,o):null}createFromMesh(s,t){if(this.fills[s]!==void 0)throw new Error(this.existMessage);const i=this.context.getClippingPlanes();Array.isArray(t.material)?t.material.forEach(r=>{r.clippingPlanes=i}):t.material.clippingPlanes=i,this.fills[s]=t}delete(s){const t=this.fills[s];delete this.fills[s],this.context.scene.removeModel(t),t.geometry.dispose()}setupMaterial(s){s.clippingPlanes=this.context.getClippingPlanes(),s.side=Us,s.polygonOffset=!0,s.polygonOffsetFactor=-1,s.polygonOffsetUnits=1}getSubset(s,t,i,r){return this.IFC.loader.ifcManager.createSubset({modelID:s,ids:t,scene:this.context.getScene(),removePrevious:!0,material:i,applyBVH:!0,customID:r})}}var yd;(function(e){e.LENGTHUNIT="LENGTHUNIT",e.AREAUNIT="AREAUNIT",e.VOLUMEUNIT="VOLUMEUNIT"})(yd||(yd={}));const xC={MILLI:.001,CENTI:.01,DECI:.1,NONE:1,DECA:10,HECTO:100,KILO:1e3};class mne{constructor(s){this.allUnits={},this.ifc=s}dispose(){this.allUnits=null,this.ifc=null}async getUnits(s,t){return this.allUnits[s]||await this.getUnitsOfModel(s),this.allUnits[s][t]}async getUnitsOfModel(s){this.allUnits[s]={};const i=(await this.ifc.getAllItemsOfType(s,p0,!1))[0],n=(await this.ifc.getProperties(s,i,!1,!0)).Units;Object.values(yd).forEach(o=>{const a=n.find(l=>l.UnitType&&l.UnitType.value===o);if(a){const l=a.Prefix;let h;l==null?h=xC.NONE:h=xC[l.value],this.allUnits[s][o]=h}})}}class Tne{constructor(s,t,i){this.ifc=s,this.context=t,this.clipper=i,this.planLists={},this.active=!1,this.defaultSectionOffset=1.5,this.defaultCameraOffset=30,this.storeys=[],this.floorPlanViewCached=!1,this.previousCamera=new H,this.previousTarget=new H,this.previousProjection=ar.Perspective,this.sectionFill=new Qe}dispose(){lr(this.sectionFill),this.sectionFill=null,this.storeys=null,this.planLists=null}getAll(s){const t=this.planLists[s];if(!t)throw new Error("The requested model doesn't have floor plans generated");return Object.keys(t)}async create(s){const{modelID:t,name:i}=s,r=s.ortho||!0;this.planLists[t]===void 0&&(this.planLists[t]={});const n=this.planLists[t],o=s.expressID;n[o]||(n[o]={modelID:t,name:i,ortho:r,expressID:o},await this.createClippingPlane(s,n[o]))}async goTo(s,t,i=!1){var r;((r=this.currentPlan)===null||r===void 0?void 0:r.modelID)===s&&this.currentPlan.name===t||(this.storeCameraPosition(),this.hidePreviousClippingPlane(),this.getCurrentPlan(s,t),this.activateCurrentPlan(),this.active||(await this.moveCameraTo2DPlanPosition(i),this.active=!0))}async exitPlanView(s=!1){!this.active||(this.active=!1,this.cacheFloorplanView(),this.context.ifcCamera.setNavigationMode(zi.Orbit),this.context.ifcCamera.projection=this.previousProjection,this.currentPlan&&this.currentPlan.plane&&(this.currentPlan.plane.active=!1),this.currentPlan=void 0,await this.context.ifcCamera.cameraControls.setLookAt(this.previousCamera.x,this.previousCamera.y,this.previousCamera.z,this.previousTarget.x,this.previousTarget.y,this.previousTarget.z,s))}async computeAllPlanViews(s){var t;await this.getCurrentStoreys(s);const i=await this.ifc.units.getUnits(s,yd.LENGTHUNIT),r=await this.getSiteCoords(s),n=await this.getTransformHeight(s),o=this.storeys[s];for(let a=0;a<o.length;a++)if(o[a]){const h=((((t=o[a].Elevation)===null||t===void 0?void 0:t.value)||0)+r[2])*i+n,c=o[a].expressID;await this.create({modelID:s,name:this.getFloorplanName(o[a]),point:new H(0,h+this.defaultSectionOffset,0),normal:new H(0,-1,0),rotation:0,ortho:!0,expressID:c})}}storeCameraPosition(){this.active?this.cacheFloorplanView():this.store3dCameraPosition()}async createClippingPlane(s,t){if(s.normal&&s.point){const{normal:i,point:r}=s,n=this.clipper.createFromNormalAndCoplanarPoint(i,r,!0);n.visible=!1,n.active=!1,t.plane=n,await n.edges.updateEdges(),n.edges.visible=!1}}async getTransformHeight(s){return(await this.ifc.loader.ifcManager.ifcAPI.GetCoordinationMatrix(s))[13]}async getCurrentStoreys(s){this.storeys[s]||(this.storeys[s]=await this.ifc.getAllItemsOfType(s,cm,!0))}async getSiteCoords(s){return(await this.getBuilding(s)).ObjectPlacement.PlacementRelTo.RelativePlacement.Location.Coordinates.map(r=>r.value)}async getBuilding(s){const i=(await this.ifc.getAllItemsOfType(s,ip,!1))[0];return this.ifc.getProperties(s,i,!1,!0)}cacheFloorplanView(){this.floorPlanViewCached=!0,this.context.ifcCamera.cameraControls.saveState()}async moveCameraTo2DPlanPosition(s){this.floorPlanViewCached?await this.context.ifcCamera.cameraControls.reset(s):await this.context.ifcCamera.cameraControls.setLookAt(0,100,0,0,0,0,s)}activateCurrentPlan(){if(!this.currentPlan)throw new Error("Current plan is not defined.");this.currentPlan.plane&&(this.currentPlan.plane.active=!0),this.context.ifcCamera.setNavigationMode(zi.Plan),this.context.ifcCamera.projection=this.currentPlan.ortho?ar.Orthographic:ar.Perspective}store3dCameraPosition(){this.context.getCamera().getWorldPosition(this.previousCamera),this.context.ifcCamera.cameraControls.getTarget(this.previousTarget),this.previousProjection=this.context.ifcCamera.projection}getCurrentPlan(s,t){if(this.planLists[s]===void 0)throw new Error("The specified plan is undefined!");const i=this.planLists[s];if(i[t]===void 0)throw new Error("The specified plan is undefined!");if(!i[t])throw new Error("The specified plan name does not exist!");this.currentPlan=i[t]}hidePreviousClippingPlane(){var s;const t=(s=this.currentPlan)===null||s===void 0?void 0:s.plane;t&&(t.active=!1)}getFloorplanName(s){var t,i,r,n;return!((i=(t=s==null?void 0:s.Name)===null||t===void 0?void 0:t.value)===null||i===void 0)&&i.length?s.Name.value:!((n=(r=s==null?void 0:s.LongName)===null||r===void 0?void 0:r.value)===null||n===void 0)&&n.length?s.LongName.value:s.GlobalId.value}}class gne extends Fi{constructor(s){super(s),this.context=s}dispose(){this.grid&&lr(this.grid),this.grid=null}setGrid(s,t,i,r){this.grid&&(this.grid.parent&&this.grid.removeFromParent(),this.grid.geometry.dispose()),this.grid=new JS(s,t,i,r),this.grid.renderOrder=0,this.context.getScene().add(this.grid),this.context.renderer.postProduction.excludedItems.add(this.grid)}}class yne extends Fi{constructor(s){super(s),this.context=s}dispose(){this.axes&&lr(this.axes),this.axes=null}setAxes(s){this.axes&&(this.axes.parent&&this.axes.removeFromParent(),this.axes.geometry.dispose()),this.axes=new wX(s),this.axes.material.depthTest=!1,this.axes.renderOrder=2,this.context.getScene().add(this.axes),this.context.renderer.postProduction.excludedItems.add(this.axes)}}class Id extends jt{constructor(s=document.createElement("div")){super(),this.element=s,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof Element&&t.element.parentNode!==null&&t.element.parentNode.removeChild(t.element)})})}copy(s,t){return super.copy(s,t),this.element=s.element.cloneNode(!0),this}}Id.prototype.isCSS2DObject=!0;const Po=new H,bC=new rt,FC=new rt,RC=new H,PC=new H;class Ine{constructor(s={}){const t=this;let i,r,n,o;const a={objects:new WeakMap},l=s.element!==void 0?s.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l,this.getSize=function(){return{width:i,height:r}},this.render=function(f,m){f.autoUpdate===!0&&f.updateMatrixWorld(),m.parent===null&&m.updateMatrixWorld(),bC.copy(m.matrixWorldInverse),FC.multiplyMatrices(m.projectionMatrix,bC),h(f,f,m),p(f)},this.setSize=function(f,m){i=f,r=m,n=i/2,o=r/2,l.style.width=f+"px",l.style.height=m+"px"};function h(f,m,g){if(f.isCSS2DObject){f.onBeforeRender(t,m,g),Po.setFromMatrixPosition(f.matrixWorld),Po.applyMatrix4(FC);const C=f.element;/apple/i.test(navigator.vendor)?C.style.transform="translate(-50%,-50%) translate("+Math.round(Po.x*n+n)+"px,"+Math.round(-Po.y*o+o)+"px)":C.style.transform="translate(-50%,-50%) translate("+(Po.x*n+n)+"px,"+(-Po.y*o+o)+"px)",C.style.display=f.visible&&Po.z>=-1&&Po.z<=1?"":"none";const I={distanceToCameraSquared:c(g,f)};a.objects.set(f,I),C.parentNode!==l&&l.appendChild(C),f.onAfterRender(t,m,g)}for(let C=0,I=f.children.length;C<I;C++)h(f.children[C],m,g)}function c(f,m){return RC.setFromMatrixPosition(f.matrixWorld),PC.setFromMatrixPosition(m.matrixWorld),RC.distanceToSquared(PC)}function u(f){const m=[];return f.traverse(function(g){g.isCSS2DObject&&m.push(g)}),m}function p(f){const m=u(f).sort(function(C,I){const E=a.objects.get(C).distanceToCameraSquared,S=a.objects.get(I).distanceToCameraSquared;return E-S}),g=m.length;for(let C=0,I=m.length;C<I;C++)m[C].element.style.zIndex=g-C}}}class eo{constructor(s,t,i,r,n,o,a,l){this.root=new gn,this.endpointMeshes=[],this.scale=new H(1,1,1),this.boundingSize=.05,this.context=s,this.labelClassName=a,this.start=t,this.end=i,this.scale=l,this.lineMaterial=r,this.endpointMaterial=n,this.length=this.getLength(),this.center=this.getCenter(),this.axis=new _t().setFromPoints([t,i]),this.line=new Ai(this.axis,this.lineMaterial),this.root.add(this.line),this.endpoint=o,this.addEndpointMeshes(),this.textLabel=this.newText(),this.root.renderOrder=2,this.context.getScene().add(this.root),this.camera=this.context.getCamera(),this.context.ifcCamera.onChange.on(()=>this.rescaleObjectsToCameraPosition()),this.rescaleObjectsToCameraPosition()}dispose(){this.removeFromScene(),this.context=null,lr(this.root),this.root=null,lr(this.line),this.line=null,this.endpointMeshes.forEach(s=>lr(s)),this.endpointMeshes.length=0,this.axis.dispose(),this.axis=null,this.endpoint.dispose(),this.endpoint=null,this.textLabel.removeFromParent(),this.textLabel.element.remove(),this.textLabel=null,this.lineMaterial.dispose(),this.lineMaterial=null,this.endpointMaterial.dispose(),this.endpointMaterial=null,this.boundingMesh&&(lr(this.boundingMesh),this.boundingMesh=null)}get boundingBox(){return this.boundingMesh}get text(){return this.textLabel}set dimensionColor(s){this.endpointMaterial.color=s,this.lineMaterial.color=s}set visibility(s){this.root.visible=s,this.textLabel.visible=s}set endpointGeometry(s){this.endpointMeshes.forEach(t=>this.root.remove(t)),this.endpointMeshes=[],this.endpoint=s,this.addEndpointMeshes()}set endpointScale(s){this.scale=s,this.endpointMeshes.forEach(t=>t.scale.set(s.x,s.y,s.z))}set endPoint(s){if(this.end=s,!this.axis)return;const t=this.axis.attributes.position;!t||(t.setXYZ(1,s.x,s.y,s.z),t.needsUpdate=!0,this.endpointMeshes[1].position.set(s.x,s.y,s.z),this.endpointMeshes[1].lookAt(this.start),this.endpointMeshes[0].lookAt(this.end),this.length=this.getLength(),this.textLabel.element.textContent=this.getTextContent(),this.center=this.getCenter(),this.textLabel.position.set(this.center.x,this.center.y,this.center.z),this.line.computeLineDistances())}removeFromScene(){this.context.getScene().remove(this.root),this.root.remove(this.textLabel)}createBoundingBox(){this.boundingMesh=this.newBoundingBox(),this.setupBoundingBox(this.end)}rescaleObjectsToCameraPosition(){this.endpointMeshes.forEach(s=>this.rescaleMesh(s,eo.scaleFactor)),this.boundingMesh&&this.rescaleMesh(this.boundingMesh,this.boundingSize,!0,!0,!1)}rescaleMesh(s,t=1,i=!0,r=!0,n=!0){let o=new H().subVectors(s.position,this.camera.position).length();o*=t;const a=i?o:1,l=r?o:1,h=n?o:1;s.scale.set(a,l,h)}addEndpointMeshes(){this.newEndpointMesh(this.start,this.end),this.newEndpointMesh(this.end,this.start)}newEndpointMesh(s,t){const i=new Qe(this.endpoint,this.endpointMaterial);i.position.set(s.x,s.y,s.z),i.scale.set(this.scale.x,this.scale.y,this.scale.z),i.lookAt(t),this.endpointMeshes.push(i),this.root.add(i)}newText(){const s=document.createElement("div");s.className=this.labelClassName,s.textContent=this.getTextContent();const t=new Id(s);return t.position.set(this.center.x,this.center.y,this.center.z),this.root.add(t),t}getTextContent(){return`${this.length/eo.scale} ${eo.units}`}newBoundingBox(){const s=new Ls(1,1,this.length);return new Qe(s)}setupBoundingBox(s){!this.boundingMesh||(this.boundingMesh.position.set(this.center.x,this.center.y,this.center.z),this.boundingMesh.lookAt(s),this.boundingMesh.visible=!1,this.root.add(this.boundingMesh))}getLength(){return parseFloat(this.start.distanceTo(this.end).toFixed(2))}getCenter(){let s=this.end.clone().sub(this.start);const t=s.length()*.5;return s=s.normalize().multiplyScalar(t),this.start.clone().add(s)}}eo.scaleFactor=.1;eo.scale=1;eo.units="m";class Ed extends Fi{constructor(s){super(s),this.dimensions=[],this.labelClassName="ifcjs-dimension-label",this.previewClassName="ifcjs-dimension-preview",this.enabled=!1,this.preview=!1,this.dragging=!1,this.snapDistance=.25,this.baseScale=new H(1,1,1),this.lineMaterial=new US({color:0,linewidth:2,depthTest:!1,dashSize:.2,gapSize:.2}),this.endpointsMaterial=new wi({color:0,depthTest:!1}),this.startPoint=new H,this.endPoint=new H,this.context=s,this.endpoint=Ed.getDefaultEndpointGeometry();const t=document.createElement("div");t.className=this.previewClassName,this.previewElement=new Id(t),this.previewElement.visible=!1}dispose(){this.context=null,this.dimensions.forEach(s=>s.dispose()),this.dimensions=null,this.currentDimension=null,this.endpoint.dispose(),this.endpoint=null,this.previewElement.removeFromParent(),this.previewElement.element.remove(),this.previewElement=null}update(s){if(this.enabled&&this.preview){const t=this.context.castRayIfc();if(this.previewElement.visible=!!t,!t)return;this.previewElement.visible=!0;const i=this.getClosestVertex(t);if(this.previewElement.visible=!!i,!i)return;this.previewElement.position.set(i.x,i.y,i.z),this.dragging&&this.drawInProcess()}}setArrow(s,t){this.endpoint=Ed.getDefaultEndpointGeometry(s,t)}setPreviewElement(s){this.previewElement=new Id(s)}get active(){return this.enabled}get previewActive(){return this.preview}get previewObject(){return this.previewElement}set previewActive(s){this.preview=s;const t=this.context.getScene();this.preview?t.add(this.previewElement):t.remove(this.previewElement)}set active(s){this.enabled=s,this.dimensions.forEach(t=>{t.visibility=s})}set dimensionsColor(s){this.endpointsMaterial.color=s,this.lineMaterial.color=s}set dimensionsWidth(s){this.lineMaterial.linewidth=s}set endpointGeometry(s){this.dimensions.forEach(t=>{t.endpointGeometry=s})}set endpointScaleFactor(s){eo.scaleFactor=s}set endpointScale(s){this.baseScale=s,this.dimensions.forEach(t=>{t.endpointScale=s})}create(){if(!!this.enabled){if(!this.dragging){this.drawStart();return}this.drawEnd()}}createInPlane(s){if(!!this.enabled){if(!this.dragging){this.drawStartInPlane(s);return}this.drawEnd()}}delete(){if(!this.enabled||this.dimensions.length===0)return;const s=this.getBoundingBoxes(),t=this.context.castRay(s);if(t.length===0)return;const i=this.dimensions.find(n=>n.boundingBox===t[0].object);if(!i)return;const r=this.dimensions.indexOf(i);this.dimensions.splice(r,1),i.removeFromScene()}deleteAll(){this.dimensions.forEach(s=>{s.removeFromScene()}),this.dimensions=[]}cancelDrawing(){var s;!this.currentDimension||(this.dragging=!1,(s=this.currentDimension)===null||s===void 0||s.removeFromScene(),this.currentDimension=void 0)}drawStart(){this.dragging=!0;const s=this.context.castRayIfc();if(!s)return;const t=this.getClosestVertex(s);!t||(this.startPoint=t)}drawStartInPlane(s){this.dragging=!0;const t=this.context.castRay([s]);!t||t.length<1||(this.startPoint=t[0].point)}drawInProcess(){const s=this.context.castRayIfc();if(!s)return;const t=this.getClosestVertex(s);!t||(this.endPoint=t,this.currentDimension||(this.currentDimension=this.drawDimension()),this.currentDimension.endPoint=this.endPoint)}drawEnd(){!this.currentDimension||(this.currentDimension.createBoundingBox(),this.dimensions.push(this.currentDimension),this.currentDimension=void 0,this.dragging=!1)}get getDimensionsLines(){return this.dimensions}drawDimension(){return new eo(this.context,this.startPoint,this.endPoint,this.lineMaterial,this.endpointsMaterial,this.endpoint,this.labelClassName,this.baseScale)}getBoundingBoxes(){return this.dimensions.map(s=>s.boundingBox).filter(s=>s!==void 0)}static getDefaultEndpointGeometry(s=.02,t=.05){const i=new NI(t,s);return i.translate(0,-s/2,0),i.rotateX(-Math.PI/2),i}getClosestVertex(s){let t=new H,i=!1,r=Number.MAX_SAFE_INTEGER;const n=this.getVertices(s);return n==null||n.forEach(o=>{if(!o)return;const a=s.point.distanceTo(o);a>r||a>this.snapDistance||(i=!0,t=o,r=s.point.distanceTo(o))}),i?t:s.point}getVertices(s){const t=s.object;if(!s.face||!t)return null;const i=t.geometry;return[this.getVertex(s.face.a,i),this.getVertex(s.face.b,i),this.getVertex(s.face.c,i)]}getVertex(s,t){if(s===void 0)return null;const i=t.attributes.position;return new H(i.getX(s),i.getY(s),i.getZ(s))}}class vd{constructor(s){this.context=s,this.threshold=30,this.edges={}}static setupModelMaterial(s){s.polygonOffset=!0,s.polygonOffsetFactor=1,s.polygonOffsetUnits=1}dispose(){Object.values(this.edges).forEach(t=>{lr(t.edges),Array.isArray(t.originalMaterials)?t.originalMaterials.forEach(i=>i.dispose()):t.originalMaterials.dispose(),t.baseMaterial&&t.baseMaterial.dispose()}),this.edges=null}getAll(){return Object.keys(this.edges)}get(s){return this.edges[s]}create(s,t,i,r){const n=this.context.items.ifcModels.find(o=>o.modelID===t);!n||this.createFromMesh(s,n,i,r)}createFromSubset(s,t,i,r){this.createFromMesh(s,t,i,r)}createFromMesh(s,t,i,r){const n=this.context.getClippingPlanes();i.clippingPlanes=n,r&&(r.clippingPlanes=n),this.setupModelMaterials(t);const o=new FS(t.geometry,this.threshold);i.clippingPlanes=this.context.getClippingPlanes(),this.edges[s]={edges:new Fn(o,i),originalMaterials:t.material,baseMaterial:r,model:t,active:!1}}toggle(s,t){const i=this.edges[s];if(!!i){if(t===void 0&&(t=!i.active),i.active=t,t){const r=i.model.position,n=i.model.rotation;i.edges.position.set(r.x,r.y,r.z),i.edges.rotation.set(n.x,n.y,n.z),i.baseMaterial&&(i.model.material=i.baseMaterial),this.context.getScene().add(i.edges);return}i.baseMaterial&&(i.model.material=i.originalMaterials),i.edges.removeFromParent()}}setupModelMaterials(s){if(Array.isArray(s.material)){s.material.forEach(t=>vd.setupModelMaterial(t));return}vd.setupModelMaterial(s.material)}}const TG=0,Ene=1,vne=2,yg=0,Ig=1,wy=2,Eg=1.25,AC=1,Zf=6*4+4+4,Sy=65535,Cne=Math.pow(2,-24);class bf{constructor(){}}function mn(e,s,t){return t.min.x=s[e],t.min.y=s[e+1],t.min.z=s[e+2],t.max.x=s[e+3],t.max.y=s[e+4],t.max.z=s[e+5],t}function OC(e){let s=-1,t=-1/0;for(let i=0;i<3;i++){const r=e[i+3]-e[i];r>t&&(t=r,s=i)}return s}function DC(e,s){s.set(e)}function MC(e,s,t){let i,r;for(let n=0;n<3;n++){const o=n+3;i=e[n],r=s[n],t[n]=i<r?i:r,i=e[o],r=s[o],t[o]=i>r?i:r}}function Ff(e,s,t){for(let i=0;i<3;i++){const r=s[e+2*i],n=s[e+2*i+1],o=r-n,a=r+n;o<t[i]&&(t[i]=o),a>t[i+3]&&(t[i+3]=a)}}function Vc(e){const s=e[3]-e[0],t=e[4]-e[1],i=e[5]-e[2];return 2*(s*t+t*i+i*s)}function _ne(e,s){if(!e.index){const t=e.attributes.position.count,i=s.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;let r;t>65535?r=new Uint32Array(new i(4*t)):r=new Uint16Array(new i(2*t)),e.setIndex(new Rt(r,1));for(let n=0;n<t;n++)r[n]=n}}function wne(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];const s=[],t=new Set;for(const r of e.groups)t.add(r.start),t.add(r.start+r.count);const i=Array.from(t.values()).sort((r,n)=>r-n);for(let r=0;r<i.length-1;r++){const n=i[r],o=i[r+1];s.push({offset:n/3,count:(o-n)/3})}return s}function vg(e,s,t,i,r=null){let n=1/0,o=1/0,a=1/0,l=-1/0,h=-1/0,c=-1/0,u=1/0,p=1/0,f=1/0,m=-1/0,g=-1/0,C=-1/0;const I=r!==null;for(let E=s*6,S=(s+t)*6;E<S;E+=6){const x=e[E+0],F=e[E+1],O=x-F,R=x+F;O<n&&(n=O),R>l&&(l=R),I&&x<u&&(u=x),I&&x>m&&(m=x);const L=e[E+2],G=e[E+3],V=L-G,B=L+G;V<o&&(o=V),B>h&&(h=B),I&&L<p&&(p=L),I&&L>g&&(g=L);const oe=e[E+4],$=e[E+5],Z=oe-$,te=oe+$;Z<a&&(a=Z),te>c&&(c=te),I&&oe<f&&(f=oe),I&&oe>C&&(C=oe)}i[0]=n,i[1]=o,i[2]=a,i[3]=l,i[4]=h,i[5]=c,I&&(r[0]=u,r[1]=p,r[2]=f,r[3]=m,r[4]=g,r[5]=C)}function Sne(e,s,t,i){let r=1/0,n=1/0,o=1/0,a=-1/0,l=-1/0,h=-1/0;for(let c=s*6,u=(s+t)*6;c<u;c+=6){const p=e[c+0];p<r&&(r=p),p>a&&(a=p);const f=e[c+2];f<n&&(n=f),f>l&&(l=f);const m=e[c+4];m<o&&(o=m),m>h&&(h=m)}i[0]=r,i[1]=n,i[2]=o,i[3]=a,i[4]=l,i[5]=h}function xne(e,s,t,i,r){let n=t,o=t+i-1;const a=r.pos,l=r.axis*2;for(;;){for(;n<=o&&s[n*6+l]<a;)n++;for(;n<=o&&s[o*6+l]>=a;)o--;if(n<o){for(let h=0;h<3;h++){let c=e[n*3+h];e[n*3+h]=e[o*3+h],e[o*3+h]=c;let u=s[n*6+h*2+0];s[n*6+h*2+0]=s[o*6+h*2+0],s[o*6+h*2+0]=u;let p=s[n*6+h*2+1];s[n*6+h*2+1]=s[o*6+h*2+1],s[o*6+h*2+1]=p}n++,o--}else return n}}const Xn=32,bne=(e,s)=>e.candidate-s.candidate,Ao=new Array(Xn).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),Rf=new Float32Array(6);function Fne(e,s,t,i,r,n){let o=-1,a=0;if(n===TG)o=OC(s),o!==-1&&(a=(s[o]+s[o+3])/2);else if(n===Ene)o=OC(e),o!==-1&&(a=Rne(t,i,r,o));else if(n===vne){const l=Vc(e);let h=Eg*r;const c=i*6,u=(i+r)*6;for(let p=0;p<3;p++){const f=s[p],C=(s[p+3]-f)/Xn;if(r<Xn/4){const I=[...Ao];I.length=r;let E=0;for(let x=c;x<u;x+=6,E++){const F=I[E];F.candidate=t[x+2*p],F.count=0;const{bounds:O,leftCacheBounds:R,rightCacheBounds:L}=F;for(let G=0;G<3;G++)L[G]=1/0,L[G+3]=-1/0,R[G]=1/0,R[G+3]=-1/0,O[G]=1/0,O[G+3]=-1/0;Ff(x,t,O)}I.sort(bne);let S=r;for(let x=0;x<S;x++){const F=I[x];for(;x+1<S&&I[x+1].candidate===F.candidate;)I.splice(x+1,1),S--}for(let x=c;x<u;x+=6){const F=t[x+2*p];for(let O=0;O<S;O++){const R=I[O];F>=R.candidate?Ff(x,t,R.rightCacheBounds):(Ff(x,t,R.leftCacheBounds),R.count++)}}for(let x=0;x<S;x++){const F=I[x],O=F.count,R=r-F.count,L=F.leftCacheBounds,G=F.rightCacheBounds;let V=0;O!==0&&(V=Vc(L)/l);let B=0;R!==0&&(B=Vc(G)/l);const oe=AC+Eg*(V*O+B*R);oe<h&&(o=p,h=oe,a=F.candidate)}}else{for(let S=0;S<Xn;S++){const x=Ao[S];x.count=0,x.candidate=f+C+S*C;const F=x.bounds;for(let O=0;O<3;O++)F[O]=1/0,F[O+3]=-1/0}for(let S=c;S<u;S+=6){let O=~~((t[S+2*p]-f)/C);O>=Xn&&(O=Xn-1);const R=Ao[O];R.count++,Ff(S,t,R.bounds)}const I=Ao[Xn-1];DC(I.bounds,I.rightCacheBounds);for(let S=Xn-2;S>=0;S--){const x=Ao[S],F=Ao[S+1];MC(x.bounds,F.rightCacheBounds,x.rightCacheBounds)}let E=0;for(let S=0;S<Xn-1;S++){const x=Ao[S],F=x.count,O=x.bounds,L=Ao[S+1].rightCacheBounds;F!==0&&(E===0?DC(O,Rf):MC(O,Rf,Rf)),E+=F;let G=0,V=0;E!==0&&(G=Vc(Rf)/l);const B=r-E;B!==0&&(V=Vc(L)/l);const oe=AC+Eg*(G*E+V*B);oe<h&&(o=p,h=oe,a=x.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${n} used.`);return{axis:o,pos:a}}function Rne(e,s,t,i){let r=0;for(let n=s,o=s+t;n<o;n++)r+=e[n*6+i*2];return r/t}function Pne(e,s){const t=e.attributes.position,i=t.array,r=e.index.array,n=r.length/3,o=new Float32Array(n*6),a=t.offset||0;let l=3;t.isInterleavedBufferAttribute&&(l=t.data.stride);for(let h=0;h<n;h++){const c=h*3,u=h*6,p=r[c+0]*l+a,f=r[c+1]*l+a,m=r[c+2]*l+a;for(let g=0;g<3;g++){const C=i[p+g],I=i[f+g],E=i[m+g];let S=C;I<S&&(S=I),E<S&&(S=E);let x=C;I>x&&(x=I),E>x&&(x=E);const F=(x-S)/2,O=g*2;o[u+O+0]=S+F,o[u+O+1]=F+(Math.abs(S)+F)*Cne,S<s[g]&&(s[g]=S),x>s[g+3]&&(s[g+3]=x)}}return o}function Ane(e,s){function t(I){p&&p(I/f)}function i(I,E,S,x=null,F=0){if(!m&&F>=l&&(m=!0,h&&(console.warn(`MeshBVH: Max depth of ${l} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),S<=c||F>=l)return t(E+S),I.offset=E,I.count=S,I;const O=Fne(I.boundingData,x,o,E,S,u);if(O.axis===-1)return t(E+S),I.offset=E,I.count=S,I;const R=xne(a,o,E,S,O);if(R===E||R===E+S)t(E+S),I.offset=E,I.count=S;else{I.splitAxis=O.axis;const L=new bf,G=E,V=R-E;I.left=L,L.boundingData=new Float32Array(6),vg(o,G,V,L.boundingData,n),i(L,G,V,n,F+1);const B=new bf,oe=R,$=S-V;I.right=B,B.boundingData=new Float32Array(6),vg(o,oe,$,B.boundingData,n),i(B,oe,$,n,F+1)}return I}_ne(e,s);const r=new Float32Array(6),n=new Float32Array(6),o=Pne(e,r),a=e.index.array,l=s.maxDepth,h=s.verbose,c=s.maxLeafTris,u=s.strategy,p=s.onProgress,f=e.index.count/3;let m=!1;const g=[],C=wne(e);if(C.length===1){const I=C[0],E=new bf;E.boundingData=r,Sne(o,I.offset,I.count,n),i(E,I.offset,I.count,n),g.push(E)}else for(let I of C){const E=new bf;E.boundingData=new Float32Array(6),vg(o,I.offset,I.count,E.boundingData,n),i(E,I.offset,I.count,n),g.push(E)}return g}function One(e,s){const t=Ane(e,s);let i,r,n;const o=[],a=s.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let c=0;c<t.length;c++){const u=t[c];let p=l(u);const f=new a(Zf*p);i=new Float32Array(f),r=new Uint32Array(f),n=new Uint16Array(f),h(0,u),o.push(f)}return o;function l(c){return c.count?1:1+l(c.left)+l(c.right)}function h(c,u){const p=c/4,f=c/2,m=!!u.count,g=u.boundingData;for(let C=0;C<6;C++)i[p+C]=g[C];if(m){const C=u.offset,I=u.count;return r[p+6]=C,n[f+14]=I,n[f+15]=Sy,c+Zf}else{const C=u.left,I=u.right,E=u.splitAxis;let S;if(S=h(c+Zf,C),S/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return r[p+6]=S/4,S=h(S,I),r[p+7]=E,S}}}class _n{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(s,t){let i=1/0,r=-1/0;for(let n=0,o=s.length;n<o;n++){const l=s[n][t];i=l<i?l:i,r=l>r?l:r}this.min=i,this.max=r}setFromPoints(s,t){let i=1/0,r=-1/0;for(let n=0,o=t.length;n<o;n++){const a=t[n],l=s.dot(a);i=l<i?l:i,r=l>r?l:r}this.min=i,this.max=r}isSeparated(s){return this.min>s.max||s.min>this.max}}_n.prototype.setFromBox=function(){const e=new H;return function(t,i){const r=i.min,n=i.max;let o=1/0,a=-1/0;for(let l=0;l<=1;l++)for(let h=0;h<=1;h++)for(let c=0;c<=1;c++){e.x=r.x*l+n.x*(1-l),e.y=r.y*h+n.y*(1-h),e.z=r.z*c+n.z*(1-c);const u=t.dot(e);o=Math.min(u,o),a=Math.max(u,a)}this.min=o,this.max=a}}();(function(){const e=new _n;return function(t,i){const r=t.points,n=t.satAxes,o=t.satBounds,a=i.points,l=i.satAxes,h=i.satBounds;for(let c=0;c<3;c++){const u=o[c],p=n[c];if(e.setFromPoints(p,a),u.isSeparated(e))return!1}for(let c=0;c<3;c++){const u=h[c],p=l[c];if(e.setFromPoints(p,r),u.isSeparated(e))return!1}}})();const Dne=function(){const e=new H,s=new H,t=new H;return function(r,n,o){const a=r.start,l=e,h=n.start,c=s;t.subVectors(a,h),e.subVectors(r.end,r.start),s.subVectors(n.end,n.start);const u=t.dot(c),p=c.dot(l),f=c.dot(c),m=t.dot(l),C=l.dot(l)*f-p*p;let I,E;C!==0?I=(u*p-m*f)/C:I=0,E=(u+I*p)/f,o.x=I,o.y=E}}(),T0=function(){const e=new Re,s=new H,t=new H;return function(r,n,o,a){Dne(r,n,e);let l=e.x,h=e.y;if(l>=0&&l<=1&&h>=0&&h<=1){r.at(l,o),n.at(h,a);return}else if(l>=0&&l<=1){h<0?n.at(0,a):n.at(1,a),r.closestPointToPoint(a,!0,o);return}else if(h>=0&&h<=1){l<0?r.at(0,o):r.at(1,o),n.closestPointToPoint(o,!0,a);return}else{let c;l<0?c=r.start:c=r.end;let u;h<0?u=n.start:u=n.end;const p=s,f=t;if(r.closestPointToPoint(u,!0,s),n.closestPointToPoint(c,!0,t),p.distanceToSquared(u)<=f.distanceToSquared(c)){o.copy(p),a.copy(u);return}else{o.copy(c),a.copy(f);return}}}}(),Mne=function(){const e=new H,s=new H,t=new Bi,i=new Es;return function(n,o){const{radius:a,center:l}=n,{a:h,b:c,c:u}=o;if(i.start=h,i.end=c,i.closestPointToPoint(l,!0,e).distanceTo(l)<=a||(i.start=h,i.end=u,i.closestPointToPoint(l,!0,e).distanceTo(l)<=a)||(i.start=c,i.end=u,i.closestPointToPoint(l,!0,e).distanceTo(l)<=a))return!0;const g=o.getPlane(t);if(Math.abs(g.distanceToPoint(l))<=a){const I=g.projectPoint(l,s);if(o.containsPoint(I))return!0}return!1}}(),Nne=1e-15;function ah(e){return Math.abs(e)<Nne}class wn extends xs{constructor(...s){super(...s),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new H),this.satBounds=new Array(4).fill().map(()=>new _n),this.points=[this.a,this.b,this.c],this.sphere=new Mr,this.plane=new Bi,this.needsUpdate=!0}intersectsSphere(s){return Mne(s,this)}update(){const s=this.a,t=this.b,i=this.c,r=this.points,n=this.satAxes,o=this.satBounds,a=n[0],l=o[0];this.getNormal(a),l.setFromPoints(a,r);const h=n[1],c=o[1];h.subVectors(s,t),c.setFromPoints(h,r);const u=n[2],p=o[2];u.subVectors(t,i),p.setFromPoints(u,r);const f=n[3],m=o[3];f.subVectors(i,s),m.setFromPoints(f,r),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(a,s),this.needsUpdate=!1}}wn.prototype.closestPointToSegment=function(){const e=new H,s=new H,t=new Es;return function(r,n=null,o=null){const{start:a,end:l}=r,h=this.points;let c,u=1/0;for(let p=0;p<3;p++){const f=(p+1)%3;t.start.copy(h[p]),t.end.copy(h[f]),T0(t,r,e,s),c=e.distanceToSquared(s),c<u&&(u=c,n&&n.copy(e),o&&o.copy(s))}return this.closestPointToPoint(a,e),c=a.distanceToSquared(e),c<u&&(u=c,n&&n.copy(e),o&&o.copy(a)),this.closestPointToPoint(l,e),c=l.distanceToSquared(e),c<u&&(u=c,n&&n.copy(e),o&&o.copy(l)),Math.sqrt(u)}}();wn.prototype.intersectsTriangle=function(){const e=new wn,s=new Array(3),t=new Array(3),i=new _n,r=new _n,n=new H,o=new H,a=new H,l=new H,h=new Es,c=new Es,u=new Es;return function(f,m=null){this.needsUpdate&&this.update(),f.isExtendedTriangle?f.needsUpdate&&f.update():(e.copy(f),e.update(),f=e);const g=this.plane,C=f.plane;if(Math.abs(g.normal.dot(C.normal))>1-1e-10){const I=this.satBounds,E=this.satAxes;t[0]=f.a,t[1]=f.b,t[2]=f.c;for(let F=0;F<4;F++){const O=I[F],R=E[F];if(i.setFromPoints(R,t),O.isSeparated(i))return!1}const S=f.satBounds,x=f.satAxes;s[0]=this.a,s[1]=this.b,s[2]=this.c;for(let F=0;F<4;F++){const O=S[F],R=x[F];if(i.setFromPoints(R,s),O.isSeparated(i))return!1}for(let F=0;F<4;F++){const O=E[F];for(let R=0;R<4;R++){const L=x[R];if(n.crossVectors(O,L),i.setFromPoints(n,s),r.setFromPoints(n,t),i.isSeparated(r))return!1}}return m&&(console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),m.start.set(0,0,0),m.end.set(0,0,0)),!0}else{const I=this.points;let E=!1,S=0;for(let $=0;$<3;$++){const Z=I[$],te=I[($+1)%3];h.start.copy(Z),h.end.copy(te),h.delta(o);const ee=E?c.start:c.end,J=ah(C.distanceToPoint(Z));if(ah(C.normal.dot(o))&&J){c.copy(h),S=2;break}if((C.intersectLine(h,ee)||J)&&!ah(ee.distanceTo(te))){if(S++,E)break;E=!0}}if(S===1&&this.containsPoint(c.end))return m&&(m.start.copy(c.end),m.end.copy(c.end)),!0;if(S!==2)return!1;const x=f.points;let F=!1,O=0;for(let $=0;$<3;$++){const Z=x[$],te=x[($+1)%3];h.start.copy(Z),h.end.copy(te),h.delta(a);const ee=F?u.start:u.end,J=ah(g.distanceToPoint(Z));if(ah(g.normal.dot(a))&&J){u.copy(h),O=2;break}if((g.intersectLine(h,ee)||J)&&!ah(ee.distanceTo(te))){if(O++,F)break;F=!0}}if(O===1&&this.containsPoint(u.end))return m&&(m.start.copy(u.end),m.end.copy(u.end)),!0;if(O!==2)return!1;if(c.delta(o),u.delta(a),o.dot(a)<0){let $=u.start;u.start=u.end,u.end=$}const R=c.start.dot(o),L=c.end.dot(o),G=u.start.dot(o),V=u.end.dot(o),B=L<G,oe=R<V;return R!==V&&G!==L&&B===oe?!1:(m&&(l.subVectors(c.start,u.start),l.dot(o)>0?m.start.copy(c.start):m.start.copy(u.start),l.subVectors(c.end,u.end),l.dot(o)<0?m.end.copy(c.end):m.end.copy(u.end)),!0)}}}();wn.prototype.distanceToPoint=function(){const e=new H;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();wn.prototype.distanceToTriangle=function(){const e=new H,s=new H,t=["a","b","c"],i=new Es,r=new Es;return function(o,a=null,l=null){const h=a||l?i:null;if(this.intersectsTriangle(o,h))return(a||l)&&(a&&h.getCenter(a),l&&h.getCenter(l)),0;let c=1/0;for(let u=0;u<3;u++){let p;const f=t[u],m=o[f];this.closestPointToPoint(m,e),p=m.distanceToSquared(e),p<c&&(c=p,a&&a.copy(e),l&&l.copy(m));const g=this[f];o.closestPointToPoint(g,e),p=g.distanceToSquared(e),p<c&&(c=p,a&&a.copy(g),l&&l.copy(e))}for(let u=0;u<3;u++){const p=t[u],f=t[(u+1)%3];i.set(this[p],this[f]);for(let m=0;m<3;m++){const g=t[m],C=t[(m+1)%3];r.set(o[g],o[C]),T0(i,r,e,s);const I=e.distanceToSquared(s);I<c&&(c=I,a&&a.copy(e),l&&l.copy(s))}}return Math.sqrt(c)}}();class Sn extends gs{constructor(...s){super(...s),this.isOrientedBox=!0,this.matrix=new rt,this.invMatrix=new rt,this.points=new Array(8).fill().map(()=>new H),this.satAxes=new Array(3).fill().map(()=>new H),this.satBounds=new Array(3).fill().map(()=>new _n),this.alignedSatBounds=new Array(3).fill().map(()=>new _n),this.needsUpdate=!1}set(s,t,i){super.set(s,t),this.matrix.copy(i),this.needsUpdate=!0}copy(s){super.copy(s),this.matrix.copy(s.matrix),this.needsUpdate=!0}}Sn.prototype.update=function(){return function(){const s=this.matrix,t=this.min,i=this.max,r=this.points;for(let h=0;h<=1;h++)for(let c=0;c<=1;c++)for(let u=0;u<=1;u++){const p=1*h|2*c|4*u,f=r[p];f.x=h?i.x:t.x,f.y=c?i.y:t.y,f.z=u?i.z:t.z,f.applyMatrix4(s)}const n=this.satBounds,o=this.satAxes,a=r[0];for(let h=0;h<3;h++){const c=o[h],u=n[h],p=1<<h,f=r[p];c.subVectors(a,f),u.setFromPoints(c,r)}const l=this.alignedSatBounds;l[0].setFromPointsField(r,"x"),l[1].setFromPointsField(r,"y"),l[2].setFromPointsField(r,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();Sn.prototype.intersectsBox=function(){const e=new _n;return function(t){this.needsUpdate&&this.update();const i=t.min,r=t.max,n=this.satBounds,o=this.satAxes,a=this.alignedSatBounds;if(e.min=i.x,e.max=r.x,a[0].isSeparated(e)||(e.min=i.y,e.max=r.y,a[1].isSeparated(e))||(e.min=i.z,e.max=r.z,a[2].isSeparated(e)))return!1;for(let l=0;l<3;l++){const h=o[l],c=n[l];if(e.setFromBox(h,t),c.isSeparated(e))return!1}return!0}}();Sn.prototype.intersectsTriangle=function(){const e=new wn,s=new Array(3),t=new _n,i=new _n,r=new H;return function(o){this.needsUpdate&&this.update(),o.isExtendedTriangle?o.needsUpdate&&o.update():(e.copy(o),e.update(),o=e);const a=this.satBounds,l=this.satAxes;s[0]=o.a,s[1]=o.b,s[2]=o.c;for(let p=0;p<3;p++){const f=a[p],m=l[p];if(t.setFromPoints(m,s),f.isSeparated(t))return!1}const h=o.satBounds,c=o.satAxes,u=this.points;for(let p=0;p<3;p++){const f=h[p],m=c[p];if(t.setFromPoints(m,u),f.isSeparated(t))return!1}for(let p=0;p<3;p++){const f=l[p];for(let m=0;m<4;m++){const g=c[m];if(r.crossVectors(f,g),t.setFromPoints(r,s),i.setFromPoints(r,u),t.isSeparated(i))return!1}}return!0}}();Sn.prototype.closestPointToPoint=function(){return function(s,t){return this.needsUpdate&&this.update(),t.copy(s).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t}}();Sn.prototype.distanceToPoint=function(){const e=new H;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();Sn.prototype.distanceToBox=function(){const e=["x","y","z"],s=new Array(12).fill().map(()=>new Es),t=new Array(12).fill().map(()=>new Es),i=new H,r=new H;return function(o,a=0,l=null,h=null){if(this.needsUpdate&&this.update(),this.intersectsBox(o))return(l||h)&&(o.getCenter(r),this.closestPointToPoint(r,i),o.closestPointToPoint(i,r),l&&l.copy(i),h&&h.copy(r)),0;const c=a*a,u=o.min,p=o.max,f=this.points;let m=1/0;for(let C=0;C<8;C++){const I=f[C];r.copy(I).clamp(u,p);const E=I.distanceToSquared(r);if(E<m&&(m=E,l&&l.copy(I),h&&h.copy(r),E<c))return Math.sqrt(E)}let g=0;for(let C=0;C<3;C++)for(let I=0;I<=1;I++)for(let E=0;E<=1;E++){const S=(C+1)%3,x=(C+2)%3,F=I<<S|E<<x,O=1<<C|I<<S|E<<x,R=f[F],L=f[O];s[g].set(R,L);const V=e[C],B=e[S],oe=e[x],$=t[g],Z=$.start,te=$.end;Z[V]=u[V],Z[B]=I?u[B]:p[B],Z[oe]=E?u[oe]:p[B],te[V]=p[V],te[B]=I?u[B]:p[B],te[oe]=E?u[oe]:p[B],g++}for(let C=0;C<=1;C++)for(let I=0;I<=1;I++)for(let E=0;E<=1;E++){r.x=C?p.x:u.x,r.y=I?p.y:u.y,r.z=E?p.z:u.z,this.closestPointToPoint(r,i);const S=r.distanceToSquared(i);if(S<m&&(m=S,l&&l.copy(i),h&&h.copy(r),S<c))return Math.sqrt(S)}for(let C=0;C<12;C++){const I=s[C];for(let E=0;E<12;E++){const S=t[E];T0(I,S,i,r);const x=i.distanceToSquared(r);if(x<m&&(m=x,l&&l.copy(i),h&&h.copy(r),x<c))return Math.sqrt(x)}}return Math.sqrt(m)}}();const Pf=new H,Af=new H,Of=new H,NC=new Re,LC=new Re,UC=new Re,HC=new H;function Lne(e,s,t,i,r,n){let o;return n===Us?o=e.intersectTriangle(i,t,s,!0,r):o=e.intersectTriangle(s,t,i,n!==qi,r),o===null?null:{distance:e.origin.distanceTo(r),point:r.clone()}}function Une(e,s,t,i,r,n,o){Pf.fromBufferAttribute(s,i),Af.fromBufferAttribute(s,r),Of.fromBufferAttribute(s,n);const a=Lne(e,Pf,Af,Of,HC,o);if(a){t&&(NC.fromBufferAttribute(t,i),LC.fromBufferAttribute(t,r),UC.fromBufferAttribute(t,n),a.uv=xs.getUV(HC,Pf,Af,Of,NC,LC,UC,new Re));const l={a:i,b:r,c:n,normal:new H,materialIndex:0};xs.getNormal(Pf,Af,Of,l.normal),a.face=l,a.faceIndex=i}return a}function gG(e,s,t,i,r){const n=i*3,o=e.index.getX(n),a=e.index.getX(n+1),l=e.index.getX(n+2),h=Une(t,e.attributes.position,e.attributes.uv,o,a,l,s);return h?(h.faceIndex=i,r&&r.push(h),h):null}function Hne(e,s,t,i,r,n){for(let o=i,a=i+r;o<a;o++)gG(e,s,t,o,n)}function Gne(e,s,t,i,r){let n=1/0,o=null;for(let a=i,l=i+r;a<l;a++){const h=gG(e,s,t,a);h&&h.distance<n&&(o=h,n=h.distance)}return o}function Cd(e,s,t){return e===null||(e.point.applyMatrix4(s.matrixWorld),e.distance=e.point.distanceTo(t.ray.origin),e.object=s,e.distance<t.near||e.distance>t.far)?null:e}function dn(e,s,t,i){const r=e.a,n=e.b,o=e.c;let a=s,l=s+1,h=s+2;t&&(a=t.getX(s),l=t.getX(s+1),h=t.getX(s+2)),r.x=i.getX(a),r.y=i.getY(a),r.z=i.getZ(a),n.x=i.getX(l),n.y=i.getY(l),n.z=i.getZ(l),o.x=i.getX(h),o.y=i.getY(h),o.z=i.getZ(h)}function GC(e,s,t,i,r,n,o){const a=t.index,l=t.attributes.position;for(let h=e,c=s+e;h<c;h++)if(dn(o,h*3,a,l),o.needsUpdate=!0,i(o,h,r,n))return!0;return!1}class yG{constructor(s){this._getNewPrimitive=s,this._primitives=[]}getPrimitive(){const s=this._primitives;return s.length===0?this._getNewPrimitive():s.pop()}releasePrimitive(s){this._primitives.push(s)}}function Go(e,s){return s[e+15]===65535}function Ph(e,s){return s[e+6]}function ju(e,s){return s[e+14]}function zu(e){return e+8}function Wu(e,s){return s[e+6]}function Bne(e,s){return s[e+7]}const Ih=new gs,_d=new H,kne=["x","y","z"];function xy(e,s,t,i,r){let n=e*2,o=ac,a=Qo,l=$o;if(Go(n,a)){const c=Ph(e,l),u=ju(n,a);Hne(s,t,i,c,u,r)}else{const c=zu(e);wd(c,o,i,_d)&&xy(c,s,t,i,r);const u=Wu(e,l);wd(u,o,i,_d)&&xy(u,s,t,i,r)}}function by(e,s,t,i){let r=e*2,n=ac,o=Qo,a=$o;if(Go(r,o)){const h=Ph(e,a),c=ju(r,o);return Gne(s,t,i,h,c)}else{const h=Bne(e,a),c=kne[h],p=i.direction[c]>=0;let f,m;p?(f=zu(e),m=Wu(e,a)):(f=Wu(e,a),m=zu(e));const C=wd(f,n,i,_d)?by(f,s,t,i):null;if(C){const S=C.point[c];if(p?S<=n[m+h]:S>=n[m+h+3])return C}const E=wd(m,n,i,_d)?by(m,s,t,i):null;return C&&E?C.distance<=E.distance?C:E:C||E||null}}const Vne=function(){let e,s;const t=[],i=new yG(()=>new gs);return function(...o){e=i.getPrimitive(),s=i.getPrimitive(),t.push(e,s);const a=r(...o);i.releasePrimitive(e),i.releasePrimitive(s),t.pop(),t.pop();const l=t.length;return l>0&&(s=t[l-1],e=t[l-2]),a};function r(n,o,a,l,h=null,c=0,u=0){function p(S){let x=S*2,F=Qo,O=$o;for(;!Go(x,F);)S=zu(S),x=S*2;return Ph(S,O)}function f(S){let x=S*2,F=Qo,O=$o;for(;!Go(x,F);)S=Wu(S,O),x=S*2;return Ph(S,O)+ju(x,F)}let m=n*2,g=ac,C=Qo,I=$o;if(Go(m,C)){const S=Ph(n,I),x=ju(m,C);return mn(n,g,e),l(S,x,!1,u,c+n,e)}else{const S=zu(n),x=Wu(n,I);let F=S,O=x,R,L,G,V;if(h&&(G=e,V=s,mn(F,g,G),mn(O,g,V),R=h(G),L=h(V),L<R)){F=x,O=S;const J=R;R=L,L=J,G=V}G||(G=e,mn(F,g,G));const B=Go(F*2,C),oe=a(G,B,R,u+1,c+F);let $;if(oe===wy){const J=p(F),re=f(F)-J;$=l(J,re,!0,u+1,c+F,G)}else $=oe&&r(F,o,a,l,h,c,u+1);if($)return!0;V=s,mn(O,g,V);const Z=Go(O*2,C),te=a(V,Z,L,u+1,c+O);let ee;if(te===wy){const J=p(O),re=f(O)-J;ee=l(J,re,!0,u+1,c+O,V)}else ee=te&&r(O,o,a,l,h,c,u+1);return!!ee}}}(),jne=function(){const e=new wn,s=new wn,t=new rt,i=new Sn,r=new Sn;return function n(o,a,l,h,c=null){let u=o*2,p=ac,f=Qo,m=$o;if(c===null&&(l.boundingBox||l.computeBoundingBox(),i.set(l.boundingBox.min,l.boundingBox.max,h),c=i),Go(u,f)){const C=a,I=C.index,E=C.attributes.position,S=l.index,x=l.attributes.position,F=Ph(o,m),O=ju(u,f);if(t.copy(h).invert(),l.boundsTree)return mn(o,p,r),r.matrix.copy(t),r.needsUpdate=!0,l.boundsTree.shapecast({intersectsBounds:L=>r.intersectsBox(L),intersectsTriangle:L=>{L.a.applyMatrix4(h),L.b.applyMatrix4(h),L.c.applyMatrix4(h),L.needsUpdate=!0;for(let G=F*3,V=(O+F)*3;G<V;G+=3)if(dn(s,G,I,E),s.needsUpdate=!0,L.intersectsTriangle(s))return!0;return!1}});for(let R=F*3,L=O+F*3;R<L;R+=3){dn(e,R,I,E),e.a.applyMatrix4(t),e.b.applyMatrix4(t),e.c.applyMatrix4(t),e.needsUpdate=!0;for(let G=0,V=S.count;G<V;G+=3)if(dn(s,G,S,x),s.needsUpdate=!0,e.intersectsTriangle(s))return!0}}else{const C=o+8,I=m[o+6];return mn(C,p,Ih),!!(c.intersectsBox(Ih)&&n(C,a,l,h,c)||(mn(I,p,Ih),c.intersectsBox(Ih)&&n(I,a,l,h,c)))}}}();function wd(e,s,t,i){return mn(e,s,Ih),t.intersectBox(Ih,i)}const Fy=[];let Kf,ac,Qo,$o;function ru(e){Kf&&Fy.push(Kf),Kf=e,ac=new Float32Array(e),Qo=new Uint16Array(e),$o=new Uint32Array(e)}function Df(){Kf=null,ac=null,Qo=null,$o=null,Fy.length&&ru(Fy.pop())}const Cg=Symbol("skip tree generation"),_g=new gs,wg=new gs,lh=new rt,ba=new Sn,jc=new Sn,zc=new H,Mf=new H,zne=new H,Wne=new H,Yne=new H,BC=new gs,ln=new yG(()=>new wn);class Js{static serialize(s,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),Js.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});t={cloneBuffers:!0,...t};const i=s.geometry,r=s._roots,n=i.getIndex();let o;return t.cloneBuffers?o={roots:r.map(a=>a.slice()),index:n.array.slice()}:o={roots:r,index:n.array},o}static deserialize(s,t,i={}){if(typeof i=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),Js.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});i={setIndex:!0,...i};const{index:r,roots:n}=s,o=new Js(t,{...i,[Cg]:!0});if(o._roots=n,i.setIndex){const a=t.getIndex();if(a===null){const l=new Rt(s.index,1,!1);t.setIndex(l)}else a.array!==r&&(a.array.set(r),a.needsUpdate=!0)}return o}constructor(s,t={}){if(s.isBufferGeometry){if(s.index&&s.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t=Object.assign({strategy:TG,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[Cg]:!1},t),t.useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[Cg]||(this._roots=One(s,t),!s.boundingBox&&t.setBoundingBox&&(s.boundingBox=this.getBoundingBox(new gs))),this.geometry=s}refit(s=null){s&&Array.isArray(s)&&(s=new Set(s));const t=this.geometry,i=t.index.array,r=t.attributes.position,n=r.array,o=r.offset||0;let a=3;r.isInterleavedBufferAttribute&&(a=r.data.stride);let l,h,c,u,p=0;const f=this._roots;for(let g=0,C=f.length;g<C;g++)l=f[g],h=new Uint32Array(l),c=new Uint16Array(l),u=new Float32Array(l),m(0,p),p+=l.byteLength;function m(g,C,I=!1){const E=g*2;if(c[E+15]===Sy){const x=h[g+6],F=c[E+14];let O=1/0,R=1/0,L=1/0,G=-1/0,V=-1/0,B=-1/0;for(let oe=3*x,$=3*(x+F);oe<$;oe++){const Z=i[oe]*a+o,te=n[Z+0],ee=n[Z+1],J=n[Z+2];te<O&&(O=te),te>G&&(G=te),ee<R&&(R=ee),ee>V&&(V=ee),J<L&&(L=J),J>B&&(B=J)}return u[g+0]!==O||u[g+1]!==R||u[g+2]!==L||u[g+3]!==G||u[g+4]!==V||u[g+5]!==B?(u[g+0]=O,u[g+1]=R,u[g+2]=L,u[g+3]=G,u[g+4]=V,u[g+5]=B,!0):!1}else{const x=g+8,F=h[g+6],O=x+C,R=F+C;let L=I,G=!1,V=!1;s?L||(G=s.has(O),V=s.has(R),L=!G&&!V):(G=!0,V=!0);const B=L||G,oe=L||V;let $=!1;B&&($=m(x,C,L));let Z=!1;oe&&(Z=m(F,C,L));const te=$||Z;if(te)for(let ee=0;ee<3;ee++){const J=x+ee,ie=F+ee,re=u[J],ae=u[J+3],le=u[ie],me=u[ie+3];u[g+ee]=re<le?re:le,u[g+ee+3]=ae>me?ae:me}return te}}}traverse(s,t=0){const i=this._roots[t],r=new Uint32Array(i),n=new Uint16Array(i);o(0);function o(a,l=0){const h=a*2,c=n[h+15]===Sy;if(c){const u=r[a+6],p=n[h+14];s(l,c,new Float32Array(i,a*4,6),u,p)}else{const u=a+Zf/4,p=r[a+6],f=r[a+7];s(l,c,new Float32Array(i,a*4,6),f)||(o(u,l+1),o(p,l+1))}}}raycast(s,t=sa){const i=this._roots,r=this.geometry,n=[],o=t.isMaterial,a=Array.isArray(t),l=r.groups,h=o?t.side:t;for(let c=0,u=i.length;c<u;c++){const p=a?t[l[c].materialIndex].side:h,f=n.length;if(ru(i[c]),xy(0,r,p,s,n),Df(),a){const m=l[c].materialIndex;for(let g=f,C=n.length;g<C;g++)n[g].face.materialIndex=m}}return n}raycastFirst(s,t=sa){const i=this._roots,r=this.geometry,n=t.isMaterial,o=Array.isArray(t);let a=null;const l=r.groups,h=n?t.side:t;for(let c=0,u=i.length;c<u;c++){const p=o?t[l[c].materialIndex].side:h;ru(i[c]);const f=by(0,r,p,s);Df(),f!=null&&(a==null||f.distance<a.distance)&&(a=f,o&&(f.face.materialIndex=l[c].materialIndex))}return a}intersectsGeometry(s,t){const i=this.geometry;let r=!1;for(const n of this._roots)if(ru(n),r=jne(0,i,s,t),Df(),r)break;return r}shapecast(s,t,i){const r=this.geometry;if(s instanceof Function){if(t){const p=t;t=(f,m,g,C)=>{const I=m*3;return p(f,I,I+1,I+2,g,C)}}s={boundsTraverseOrder:i,intersectsBounds:s,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}const n=ln.getPrimitive();let{boundsTraverseOrder:o,intersectsBounds:a,intersectsRange:l,intersectsTriangle:h}=s;if(l&&h){const p=l;l=(f,m,g,C,I)=>p(f,m,g,C,I)?!0:GC(f,m,r,h,g,C,n)}else l||(h?l=(p,f,m,g)=>GC(p,f,r,h,m,g,n):l=(p,f,m)=>m);let c=!1,u=0;for(const p of this._roots){if(ru(p),c=Vne(0,r,a,l,o,u),Df(),c)break;u+=p.byteLength}return ln.releasePrimitive(n),c}bvhcast(s,t,i){let{intersectsRanges:r,intersectsTriangles:n}=i;const o=this.geometry.index,a=this.geometry.attributes.position,l=s.geometry.index,h=s.geometry.attributes.position;lh.copy(t).invert();const c=ln.getPrimitive(),u=ln.getPrimitive();if(n){let m=function(g,C,I,E,S,x,F,O){for(let R=I,L=I+E;R<L;R++){dn(u,R*3,l,h),u.a.applyMatrix4(t),u.b.applyMatrix4(t),u.c.applyMatrix4(t),u.needsUpdate=!0;for(let G=g,V=g+C;G<V;G++)if(dn(c,G*3,o,a),c.needsUpdate=!0,n(c,u,G,R,S,x,F,O))return!0}return!1};var f=m;if(r){const g=r;r=function(C,I,E,S,x,F,O,R){return g(C,I,E,S,x,F,O,R)?!0:m(C,I,E,S,x,F,O,R)}}else r=m}s.getBoundingBox(wg),wg.applyMatrix4(t);const p=this.shapecast({intersectsBounds:m=>wg.intersectsBox(m),intersectsRange:(m,g,C,I,E,S)=>(_g.copy(S),_g.applyMatrix4(lh),s.shapecast({intersectsBounds:x=>_g.intersectsBox(x),intersectsRange:(x,F,O,R,L)=>r(m,g,x,F,I,E,R,L)}))});return ln.releasePrimitive(c),ln.releasePrimitive(u),p}intersectsBox(s,t){return ba.set(s.min,s.max,t),ba.needsUpdate=!0,this.shapecast({intersectsBounds:i=>ba.intersectsBox(i),intersectsTriangle:i=>ba.intersectsTriangle(i)})}intersectsSphere(s){return this.shapecast({intersectsBounds:t=>s.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(s)})}closestPointToGeometry(s,t,i={},r={},n=0,o=1/0){s.boundingBox||s.computeBoundingBox(),ba.set(s.boundingBox.min,s.boundingBox.max,t),ba.needsUpdate=!0;const a=this.geometry,l=a.attributes.position,h=a.index,c=s.attributes.position,u=s.index,p=ln.getPrimitive(),f=ln.getPrimitive();let m=Mf,g=zne,C=null,I=null;r&&(C=Wne,I=Yne);let E=1/0,S=null,x=null;return lh.copy(t).invert(),jc.matrix.copy(lh),this.shapecast({boundsTraverseOrder:F=>ba.distanceToBox(F),intersectsBounds:(F,O,R)=>R<E&&R<o?(O&&(jc.min.copy(F.min),jc.max.copy(F.max),jc.needsUpdate=!0),!0):!1,intersectsRange:(F,O)=>{if(s.boundsTree)return s.boundsTree.shapecast({boundsTraverseOrder:R=>jc.distanceToBox(R),intersectsBounds:(R,L,G)=>G<E&&G<o,intersectsRange:(R,L)=>{for(let G=R*3,V=(R+L)*3;G<V;G+=3){dn(f,G,u,c),f.a.applyMatrix4(t),f.b.applyMatrix4(t),f.c.applyMatrix4(t),f.needsUpdate=!0;for(let B=F*3,oe=(F+O)*3;B<oe;B+=3){dn(p,B,h,l),p.needsUpdate=!0;const $=p.distanceToTriangle(f,m,C);if($<E&&(g.copy(m),I&&I.copy(C),E=$,S=B/3,x=G/3),$<n)return!0}}}});{const R=u?u.count:c.count;for(let L=0,G=R;L<G;L+=3){dn(f,L,u,c),f.a.applyMatrix4(t),f.b.applyMatrix4(t),f.c.applyMatrix4(t),f.needsUpdate=!0;for(let V=F*3,B=(F+O)*3;V<B;V+=3){dn(p,V,h,l),p.needsUpdate=!0;const oe=p.distanceToTriangle(f,m,C);if(oe<E&&(g.copy(m),I&&I.copy(C),E=oe,S=V/3,x=L/3),oe<n)return!0}}}}}),ln.releasePrimitive(p),ln.releasePrimitive(f),E===1/0?null:(i.point?i.point.copy(g):i.point=g.clone(),i.distance=E,i.faceIndex=S,r&&(r.point?r.point.copy(I):r.point=I.clone(),r.point.applyMatrix4(lh),g.applyMatrix4(lh),r.distance=g.sub(r.point).length(),r.faceIndex=x),i)}closestPointToPoint(s,t={},i=0,r=1/0){const n=i*i,o=r*r;let a=1/0,l=null;if(this.shapecast({boundsTraverseOrder:c=>(zc.copy(s).clamp(c.min,c.max),zc.distanceToSquared(s)),intersectsBounds:(c,u,p)=>p<a&&p<o,intersectsTriangle:(c,u)=>{c.closestPointToPoint(s,zc);const p=s.distanceToSquared(zc);return p<a&&(Mf.copy(zc),a=p,l=u),p<n}}),a===1/0)return null;const h=Math.sqrt(a);return t.point?t.point.copy(Mf):t.point=Mf.clone(),t.distance=h,t.faceIndex=l,t}getBoundingBox(s){return s.makeEmpty(),this._roots.forEach(i=>{mn(0,new Float32Array(i),BC),s.union(BC)}),s}}const kC=Js.prototype.raycast;Js.prototype.raycast=function(...e){if(e[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycast" has changed. See docs for new signature.');const[s,t,i,r]=e;return kC.call(this,i,s.material).forEach(o=>{o=Cd(o,s,t),o&&r.push(o)}),r}else return kC.apply(this,e)};const VC=Js.prototype.raycastFirst;Js.prototype.raycastFirst=function(...e){if(e[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycastFirst" has changed. See docs for new signature.');const[s,t,i]=e;return Cd(VC.call(this,i,s.material),s,t)}else return VC.apply(this,e)};const jC=Js.prototype.closestPointToPoint;Js.prototype.closestPointToPoint=function(...e){if(e[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "closestPointToPoint" has changed. See docs for new signature.'),e.unshift();const s=e[1],t={};return e[1]=t,jC.apply(this,e),s&&s.copy(t.point),t.distance}else return jC.apply(this,e)};const zC=Js.prototype.closestPointToGeometry;Js.prototype.closestPointToGeometry=function(...e){const s=e[2],t=e[3];if(s&&s.isVector3||t&&t.isVector3){console.warn('MeshBVH: The function signature and results frame for "closestPointToGeometry" has changed. See docs for new signature.');const i={},r={},n=e[1];return e[2]=i,e[3]=r,zC.apply(this,e),s&&s.copy(i.point),t&&t.copy(r.point).applyMatrix4(n),i.distance}else return zC.apply(this,e)};const WC=Js.prototype.refit;Js.prototype.refit=function(...e){const s=e[0],t=e[1];if(t&&(t instanceof Set||Array.isArray(t))){console.warn('MeshBVH: The function signature for "refit" has changed. See docs for new signature.');const i=new Set;t.forEach(r=>i.add(r)),s&&s.forEach(r=>i.add(r)),WC.call(this,i)}else WC.apply(this,e)};["intersectsGeometry","shapecast","intersectsBox","intersectsSphere"].forEach(e=>{const s=Js.prototype[e];Js.prototype[e]=function(...t){return(t[0]===null||t[0].isMesh)&&(t.shift(),console.warn(`MeshBVH: The function signature for "${e}" has changed and no longer takes Mesh. See docs for new signature.`)),s.apply(this,t)}});const Sg=new ho,YC=new rt,Xne=Qe.prototype.raycast;function qne(e,s){if(this.geometry.boundsTree){if(this.material===void 0)return;YC.copy(this.matrixWorld).invert(),Sg.copy(e.ray).applyMatrix4(YC);const t=this.geometry.boundsTree;if(e.firstHitOnly===!0){const i=Cd(t.raycastFirst(Sg,this.material),this,e);i&&s.push(i)}else{const i=t.raycast(Sg,this.material);for(let r=0,n=i.length;r<n;r++){const o=Cd(i[r],this,e);o&&s.push(o)}}}else Xne.call(this,e,s)}function Qne(e){return this.boundsTree=new Js(this,e),this.boundsTree}function $ne(){this.boundsTree=null}function Ry(e,s=!1){const t=e[0].index!==null,i=new Set(Object.keys(e[0].attributes)),r=new Set(Object.keys(e[0].morphAttributes)),n={},o={},a=e[0].morphTargetsRelative,l=new _t;let h=0;for(let c=0;c<e.length;++c){const u=e[c];let p=0;if(t!==(u.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const f in u.attributes){if(!i.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+'. All geometries must have compatible attributes; make sure "'+f+'" attribute exists among all geometries, or in none of them.'),null;n[f]===void 0&&(n[f]=[]),n[f].push(u.attributes[f]),p++}if(p!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". Make sure all geometries have the same number of attributes."),null;if(a!==u.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const f in u.morphAttributes){if(!r.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+".  .morphAttributes must be consistent throughout all geometries."),null;o[f]===void 0&&(o[f]=[]),o[f].push(u.morphAttributes[f])}if(l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(u.userData),s){let f;if(t)f=u.index.count;else if(u.attributes.position!==void 0)f=u.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". The geometry must have either an index or a position attribute"),null;l.addGroup(h,f,c),h+=f}}if(t){let c=0;const u=[];for(let p=0;p<e.length;++p){const f=e[p].index;for(let m=0;m<f.count;++m)u.push(f.getX(m)+c);c+=e[p].attributes.position.count}l.setIndex(u)}for(const c in n){const u=XC(n[c]);if(!u)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+c+" attribute."),null;l.setAttribute(c,u)}for(const c in o){const u=o[c][0].length;if(u===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[c]=[];for(let p=0;p<u;++p){const f=[];for(let g=0;g<o[c].length;++g)f.push(o[c][g][p]);const m=XC(f);if(!m)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+c+" morphAttribute."),null;l.morphAttributes[c].push(m)}}return l}function XC(e){let s,t,i,r=0;for(let a=0;a<e.length;++a){const l=e[a];if(l.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(s===void 0&&(s=l.array.constructor),s!==l.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(t===void 0&&(t=l.itemSize),t!==l.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(i===void 0&&(i=l.normalized),i!==l.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;r+=l.array.length}const n=new s(r);let o=0;for(let a=0;a<e.length;++a)n.set(e[a].array,o),o+=e[a].array.length;return new Rt(n,t,i)}const _r="IfcManager is null!";class nl extends Qe{constructor(){super(...arguments),this.modelID=nl.modelIdCounter++,this.ifcManager=null,this.mesh=this}static dispose(){nl.modelIdCounter=0}setIFCManager(s){this.ifcManager=s}setWasmPath(s){if(this.ifcManager===null)throw new Error(_r);this.ifcManager.setWasmPath(s)}close(s){if(this.ifcManager===null)throw new Error(_r);this.ifcManager.close(this.modelID,s)}getExpressId(s,t){if(this.ifcManager===null)throw new Error(_r);return this.ifcManager.getExpressId(s,t)}getAllItemsOfType(s,t){if(this.ifcManager===null)throw new Error(_r);return this.ifcManager.getAllItemsOfType(this.modelID,s,t)}getItemProperties(s,t=!1){if(this.ifcManager===null)throw new Error(_r);return this.ifcManager.getItemProperties(this.modelID,s,t)}getPropertySets(s,t=!1){if(this.ifcManager===null)throw new Error(_r);return this.ifcManager.getPropertySets(this.modelID,s,t)}getTypeProperties(s,t=!1){if(this.ifcManager===null)throw new Error(_r);return this.ifcManager.getTypeProperties(this.modelID,s,t)}getIfcType(s){if(this.ifcManager===null)throw new Error(_r);return this.ifcManager.getIfcType(this.modelID,s)}getSpatialStructure(){if(this.ifcManager===null)throw new Error(_r);return this.ifcManager.getSpatialStructure(this.modelID)}getSubset(s){if(this.ifcManager===null)throw new Error(_r);return this.ifcManager.getSubset(this.modelID,s)}removeSubset(s,t){if(this.ifcManager===null)throw new Error(_r);this.ifcManager.removeSubset(this.modelID,s,t)}createSubset(s){if(this.ifcManager===null)throw new Error(_r);const t={...s,modelID:this.modelID};return this.ifcManager.createSubset(t)}}nl.modelIdCounter=0;class Zne{constructor(s,t){this.state=s,this.BVH=t,this.loadedModels=0,this.optionalCategories={[pm]:!0,[um]:!1},this.geometriesByMaterials={},this.loadingState={total:0,current:0,step:.1},this.currentWebIfcID=-1,this.currentModelID=-1}async setupOptionalCategories(s){this.optionalCategories=s}async parse(s,t){return this.state.api.wasmModule===void 0&&await this.state.api.Init(),await this.newIfcModel(s),this.loadedModels++,t&&await this.state.api.SetGeometryTransformation(this.currentWebIfcID,t),this.loadAllGeometry(this.currentWebIfcID)}getAndClearErrors(s){}notifyProgress(s,t){this.state.onProgress&&this.state.onProgress({loaded:s,total:t})}async newIfcModel(s){const t=new Uint8Array(s);this.currentWebIfcID=await this.state.api.OpenModel(t,this.state.webIfcSettings),this.currentModelID=this.state.useJSON?this.loadedModels:this.currentWebIfcID,this.state.models[this.currentModelID]={modelID:this.currentModelID,mesh:{},types:{},jsonData:{}}}async loadAllGeometry(s){this.addOptionalCategories(s),await this.initializeLoadingState(s),this.state.api.StreamAllMeshes(s,o=>{this.updateLoadingState(),this.streamMesh(s,o)}),this.notifyLoadingEnded();const t=[],i=[];Object.keys(this.geometriesByMaterials).forEach(o=>{const a=this.geometriesByMaterials[o].geometries,l=Ry(a);i.push(this.geometriesByMaterials[o].material),t.push(l)});const r=Ry(t,!0);this.cleanUpGeometryMemory(t),this.BVH&&this.BVH.applyThreeMeshBVH(r);const n=new nl(r,i);return this.state.models[this.currentModelID].mesh=n,n}async initializeLoadingState(s){const t=await this.state.api.GetLineIDsWithType(s,Kb);this.loadingState.total=t.size(),this.loadingState.current=0,this.loadingState.step=.1}notifyLoadingEnded(){this.notifyProgress(this.loadingState.total,this.loadingState.total)}updateLoadingState(){if(Math.min(this.loadingState.current++,this.loadingState.total)/this.loadingState.total>=this.loadingState.step){const t=Math.ceil(this.loadingState.total*this.loadingState.step);this.notifyProgress(t,this.loadingState.total),this.loadingState.step+=.1}}addOptionalCategories(s){const t=[];for(let i in this.optionalCategories)if(this.optionalCategories.hasOwnProperty(i)){const r=parseInt(i);this.optionalCategories[r]&&t.push(r)}this.state.api.StreamAllMeshesWithTypes(this.currentWebIfcID,t,i=>{this.streamMesh(s,i)})}streamMesh(s,t){const i=t.geometries,r=i.size();for(let n=0;n<r;n++){const o=i.get(n);let a=this.getPlacedGeometry(s,t.expressID,o),l=a.geometry.applyMatrix4(a.matrix);this.storeGeometryByMaterial(o.color,l)}}getPlacedGeometry(s,t,i){const r=this.getBufferGeometry(s,t,i),n=new Qe(r);return n.matrix=this.getMeshMatrix(i.flatTransformation),n.matrixAutoUpdate=!1,n}getBufferGeometry(s,t,i){const r=this.state.api.GetGeometry(s,i.geometryExpressID),n=this.state.api.GetVertexArray(r.GetVertexData(),r.GetVertexDataSize()),o=this.state.api.GetIndexArray(r.GetIndexData(),r.GetIndexDataSize()),a=this.ifcGeometryToBuffer(t,n,o);return r.delete(),a}storeGeometryByMaterial(s,t){let i=`${s.x}${s.y}${s.z}${s.w}`;if(this.geometriesByMaterials[i]){this.geometriesByMaterials[i].geometries.push(t);return}const r=new it(s.x,s.y,s.z),n=new fl({color:r,side:qi});n.transparent=s.w!==1,n.transparent&&(n.opacity=s.w),this.geometriesByMaterials[i]={material:n,geometries:[t]}}getMeshMatrix(s){const t=new rt;return t.fromArray(s),t}ifcGeometryToBuffer(s,t,i){const r=new _t,n=new Float32Array(t.length/2),o=new Float32Array(t.length/2),a=new Uint32Array(t.length/6);for(let l=0;l<t.length;l+=6)n[l/2]=t[l],n[l/2+1]=t[l+1],n[l/2+2]=t[l+2],o[l/2]=t[l+3],o[l/2+1]=t[l+4],o[l/2+2]=t[l+5],a[l/6]=s;return r.setAttribute("position",new Rt(n,3)),r.setAttribute("normal",new Rt(o,3)),r.setAttribute("expressID",new Rt(a,1)),r.setIndex(new Rt(i,1)),r}cleanUpGeometryMemory(s){s.forEach(t=>t.dispose()),Object.keys(this.geometriesByMaterials).forEach(t=>{const i=this.geometriesByMaterials[t];i.geometries.forEach(r=>r.dispose()),i.geometries=[],i.material=null}),this.geometriesByMaterials={}}}class Kne{constructor(s){this.state=s,this.map={}}generateGeometryIndexMap(s){if(this.map[s])return;const t=this.getGeometry(s),i=this.newItemsMap(s,t);for(const r of t.groups)this.fillItemsWithGroupInfo(r,t,i)}getSubsetID(s,t,i="DEFAULT"){const r=s,n=t?t.uuid:"DEFAULT";return`${r} - ${n} - ${i}`}dispose(){Object.values(this.map).forEach(s=>{s.indexCache=null,s.map=null}),this.map=null}getGeometry(s){const t=this.state.models[s].mesh.geometry;if(!t)throw new Error("Model without geometry.");if(!t.index)throw new Error("Geometry must be indexed");return t}newItemsMap(s,t){const i=t.index.array;return this.map[s]={indexCache:i.slice(0,t.index.array.length),map:new Map},this.map[s]}fillItemsWithGroupInfo(s,t,i){let r=-1;const n=s.materialIndex,o=s.start,a=o+s.count-1;let l=-1,h=-1;for(let c=o;c<=a;c++){const u=t.index.array[c],p=t.attributes.expressID.array[u];if(r===-1&&(r=p,l=c),c===a){this.getMaterialStore(i.map,p,n).push(l,a);break}if(r===p)continue;const m=this.getMaterialStore(i.map,r,n);h=c-1,m.push(l,h),r=p,l=c}}getMaterialStore(s,t,i){s.get(t)===void 0&&s.set(t,{});const r=s.get(t);if(r===void 0)throw new Error("Geometry map generation error");return r[i]===void 0&&(r[i]=[]),r[i]}}class g0{static getAllIndicesOfGroup(s,t,i,r,n=!0){const o=[];for(const a of t){const l=r.map.get(a);if(!l)continue;const h=l[i];!h||g0.getIndexChunk(h,o,i,r,n)}return o}static getIndexChunk(s,t,i,r,n){const o=s.length/2;for(let a=0;a<o;a++){const l=a*2,h=s[l],c=s[l+1];for(let u=h;u<=c;u++)n?t.push(r.indexCache[u]):(t[i]||(t[i]=[]),t[i].push(r.indexCache[u]))}}}class Jne{constructor(s,t,i,r){this.state=s,this.items=t,this.subsets=i,this.BVH=r,this.tempIndex=[]}createSubset(s,t){this.items.map[s.modelID]||this.items.generateGeometryIndexMap(s.modelID),this.subsets[t]||this.initializeSubset(s,t),this.filterIndices(s,t),this.constructSubsetByMaterial(s,t),s.ids.forEach(r=>this.subsets[t].ids.add(r)),this.subsets[t].mesh.geometry.setIndex(this.tempIndex),this.tempIndex.length=0;const i=this.subsets[t].mesh;return s.applyBVH&&this.BVH.applyThreeMeshBVH(i.geometry),s.scene&&s.scene.add(i),this.subsets[t].mesh}dispose(){this.tempIndex=[]}initializeSubset(s,t){const i=this.state.models[s.modelID].mesh,r=new _t;this.initializeSubsetAttributes(r,i),s.material||this.initializeSubsetGroups(r,i);const n=new Qe(r,s.material||i.material);n.modelID=s.modelID;const o=Boolean(s.applyBVH);this.subsets[t]={ids:new Set,mesh:n,bvh:o},i.add(n)}initializeSubsetAttributes(s,t){s.setAttribute("position",t.geometry.attributes.position),s.setAttribute("normal",t.geometry.attributes.normal),s.setAttribute("expressID",t.geometry.attributes.expressID),s.setIndex([])}initializeSubsetGroups(s,t){s.groups=JSON.parse(JSON.stringify(t.geometry.groups)),this.resetGroups(s)}filterIndices(s,t){const i=this.subsets[t].mesh.geometry;if(s.removePrevious){i.setIndex([]),this.resetGroups(i);return}const r=i.index.array,n=this.subsets[t].ids;s.ids=s.ids.filter(o=>!n.has(o)),this.tempIndex=Array.from(r)}constructSubsetByMaterial(s,t){const i=this.state.models[s.modelID].mesh,r={count:0};for(let n=0;n<i.geometry.groups.length;n++)this.insertNewIndices(s,t,n,r)}insertNewIndices(s,t,i,r){const n=this.items.map[s.modelID],o=g0.getAllIndicesOfGroup(s.modelID,s.ids,i,n);s.material?o.forEach(a=>this.tempIndex.push(a)):this.insertIndicesAtGroup(t,o,i,r)}insertIndicesAtGroup(s,t,i,r){const n=this.getCurrentGroup(s,i);n.start+=r.count;let o=n.start+n.count;if(r.count+=t.length,t.length>0){let a=o;const l=this.tempIndex.slice(0,a),h=this.tempIndex.slice(a);this.tempIndex=Array.prototype.concat.apply([],[l,t,h]),n.count+=t.length}}getCurrentGroup(s,t){return this.subsets[s].mesh.geometry.groups[t]}resetGroups(s){s.groups.forEach(t=>{t.start=0,t.count=0})}}class eoe{constructor(s,t){this.subsets={},this.state=s,this.items=new Kne(s),this.BVH=t,this.subsetCreator=new Jne(s,this.items,this.subsets,this.BVH)}getAllSubsets(){return this.subsets}getSubset(s,t,i){const r=this.getSubsetID(s,t,i);return this.subsets[r].mesh}removeSubset(s,t,i){const r=this.getSubsetID(s,t,i),n=this.subsets[r];!n||(n.mesh.parent&&n.mesh.removeFromParent(),n.mesh.geometry.attributes={},n.mesh.geometry.index=null,n.mesh.geometry.dispose(),n.mesh.geometry=null,delete this.subsets[r])}createSubset(s){const t=this.getSubsetID(s.modelID,s.material,s.customID);return this.subsetCreator.createSubset(s,t)}removeFromSubset(s,t,i,r){const n=this.getSubsetID(s,r,i);if(!this.subsets[n])return;const o=this.subsets[n].ids;return t.forEach(a=>{o.has(a)&&o.delete(a)}),this.createSubset({modelID:s,removePrevious:!0,material:r,customID:i,applyBVH:this.subsets[n].bvh,ids:Array.from(o),scene:this.subsets[n].mesh.parent})}clearSubset(s,t,i){const r=this.getSubsetID(s,i,t);if(!this.subsets[r])return;this.subsets[r].ids.clear(),this.getSubset(s,i,t).geometry.setIndex([])}dispose(){this.items.dispose(),this.subsetCreator.dispose(),Object.values(this.subsets).forEach(s=>{s.ids=null,s.mesh.removeFromParent();const t=s.mesh.material;Array.isArray(t)?t.forEach(r=>r.dispose()):t.dispose(),s.mesh.geometry.index=null,s.mesh.geometry.dispose();const i=s.mesh.geometry;i.disposeBoundsTree&&i.disposeBoundsTree(),s.mesh=null}),this.subsets=null}getSubsetID(s,t,i="DEFAULT"){const r=s,n=t?t.uuid:"DEFAULT";return`${r} - ${n} - ${i}`}}const IG="expressID",Fa={aggregates:{name:r0,relating:"RelatingObject",related:"RelatedObjects",key:"children"},spatial:{name:o0,relating:"RelatingStructure",related:"RelatedElements",key:"children"},psets:{name:a0,relating:"RelatingPropertyDefinition",related:"RelatedObjects",key:"hasPsets"},materials:{name:n0,relating:"RelatingMaterial",related:"RelatedObjects",key:"hasMaterial"},type:{name:l0,relating:"RelatingType",related:"RelatedObjects",key:"hasType"}};class Py{constructor(s){this.state=s}async getPropertySets(s,t,i=!1){return await this.getProperty(s,t,i,Fa.psets)}async getTypeProperties(s,t,i=!1){return await this.getProperty(s,t,i,Fa.type)}async getMaterialsProperties(s,t,i=!1){return await this.getProperty(s,t,i,Fa.materials)}async getSpatialNode(s,t,i,r){await this.getChildren(s,t,i,Fa.aggregates,r),await this.getChildren(s,t,i,Fa.spatial,r)}async getChildren(s,t,i,r,n){const o=i[t.expressID];if(o==null)return;const a=r.key,l=[];for(let h=0;h<o.length;h++){const c=o[h];let u=this.newNode(s,c);n&&(u={...await this.getItemProperties(s,u.expressID),...u}),await this.getSpatialNode(s,u,i,n),l.push(u)}t[a]=l}newNode(s,t){const i=this.getNodeType(s,t);return{expressID:t,type:i,children:[]}}async getSpatialTreeChunks(s){const t={};return await this.getChunks(s,t,Fa.aggregates),await this.getChunks(s,t,Fa.spatial),t}saveChunk(s,t,i){const r=i[t.relating].value,n=i[t.related].map(o=>o.value);s[r]==null?s[r]=n:s[r]=s[r].concat(n)}getRelated(s,t,i){const r=s[t.relating];if(!r)return console.warn(`The object with ID ${s.expressID} has a broken reference.`);Array.isArray(r)?r.forEach(n=>i.push(n.value)):i.push(r.value)}static isRelated(s,t,i){const r=t[i.related];return Array.isArray(r)?r.map(o=>o.value).includes(s):r.value===s}static newIfcProject(s){return{expressID:s,type:"IFCPROJECT",children:[]}}async getProperty(s,t,i=!1,r){}async getChunks(s,t,i){}async getItemProperties(s,t,i=!1){}getNodeType(s,t){}}let y0={103090709:"IFCPROJECT",4097777520:"IFCSITE",4031249490:"IFCBUILDING",3124254112:"IFCBUILDINGSTOREY",3856911033:"IFCSPACE",1674181508:"IFCANNOTATION",25142252:"IFCCONTROLLER",32344328:"IFCBOILER",76236018:"IFCLAMP",90941305:"IFCPUMP",177149247:"IFCAIRTERMINALBOX",182646315:"IFCFLOWINSTRUMENT",263784265:"IFCFURNISHINGELEMENT",264262732:"IFCELECTRICGENERATOR",277319702:"IFCAUDIOVISUALAPPLIANCE",310824031:"IFCPIPEFITTING",331165859:"IFCSTAIR",342316401:"IFCDUCTFITTING",377706215:"IFCMECHANICALFASTENER",395920057:"IFCDOOR",402227799:"IFCELECTRICMOTOR",413509423:"IFCSYSTEMFURNITUREELEMENT",484807127:"IFCEVAPORATOR",486154966:"IFCWINDOWSTANDARDCASE",629592764:"IFCLIGHTFIXTURE",630975310:"IFCUNITARYCONTROLELEMENT",635142910:"IFCCABLECARRIERFITTING",639361253:"IFCCOIL",647756555:"IFCFASTENER",707683696:"IFCFLOWSTORAGEDEVICE",738039164:"IFCPROTECTIVEDEVICE",753842376:"IFCBEAM",812556717:"IFCTANK",819412036:"IFCFILTER",843113511:"IFCCOLUMN",862014818:"IFCELECTRICDISTRIBUTIONBOARD",900683007:"IFCFOOTING",905975707:"IFCCOLUMNSTANDARDCASE",926996030:"IFCVOIDINGFEATURE",979691226:"IFCREINFORCINGBAR",987401354:"IFCFLOWSEGMENT",1003880860:"IFCELECTRICTIMECONTROL",1051757585:"IFCCABLEFITTING",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",1073191201:"IFCMEMBER",1095909175:"IFCBUILDINGELEMENTPROXY",1156407060:"IFCPLATESTANDARDCASE",1162798199:"IFCSWITCHINGDEVICE",1329646415:"IFCSHADINGDEVICE",1335981549:"IFCDISCRETEACCESSORY",1360408905:"IFCDUCTSILENCER",1404847402:"IFCSTACKTERMINAL",1426591983:"IFCFIRESUPPRESSIONTERMINAL",1437502449:"IFCMEDICALDEVICE",1509553395:"IFCFURNITURE",1529196076:"IFCSLAB",1620046519:"IFCTRANSPORTELEMENT",1634111441:"IFCAIRTERMINAL",1658829314:"IFCENERGYCONVERSIONDEVICE",1677625105:"IFCCIVILELEMENT",1687234759:"IFCPILE",1904799276:"IFCELECTRICAPPLIANCE",1911478936:"IFCMEMBERSTANDARDCASE",1945004755:"IFCDISTRIBUTIONELEMENT",1973544240:"IFCCOVERING",1999602285:"IFCSPACEHEATER",2016517767:"IFCROOF",2056796094:"IFCAIRTOAIRHEATRECOVERY",2058353004:"IFCFLOWCONTROLLER",2068733104:"IFCHUMIDIFIER",2176052936:"IFCJUNCTIONBOX",2188021234:"IFCFLOWMETER",2223149337:"IFCFLOWTERMINAL",2262370178:"IFCRAILING",2272882330:"IFCCONDENSER",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",2320036040:"IFCREINFORCINGMESH",2347447852:"IFCTENDONANCHOR",2391383451:"IFCVIBRATIONISOLATOR",2391406946:"IFCWALL",2474470126:"IFCMOTORCONNECTION",2769231204:"IFCVIRTUALELEMENT",2814081492:"IFCENGINE",2906023776:"IFCBEAMSTANDARDCASE",2938176219:"IFCBURNER",2979338954:"IFCBUILDINGELEMENTPART",3024970846:"IFCRAMP",3026737570:"IFCTUBEBUNDLE",3027962421:"IFCSLABSTANDARDCASE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3053780830:"IFCSANITARYTERMINAL",3079942009:"IFCOPENINGSTANDARDCASE",3087945054:"IFCALARM",3101698114:"IFCSURFACEFEATURE",3127900445:"IFCSLABELEMENTEDCASE",3132237377:"IFCFLOWMOVINGDEVICE",3171933400:"IFCPLATE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",3242481149:"IFCDOORSTANDARDCASE",3283111854:"IFCRAMPFLIGHT",3296154744:"IFCCHIMNEY",3304561284:"IFCWINDOW",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3319311131:"IFCHEATEXCHANGER",3415622556:"IFCFAN",3420628829:"IFCSOLARDEVICE",3493046030:"IFCGEOGRAPHICELEMENT",3495092785:"IFCCURTAINWALL",3508470533:"IFCFLOWTREATMENTDEVICE",3512223829:"IFCWALLSTANDARDCASE",3518393246:"IFCDUCTSEGMENT",3571504051:"IFCCOMPRESSOR",3588315303:"IFCOPENINGELEMENT",3612865200:"IFCPIPESEGMENT",3640358203:"IFCCOOLINGTOWER",3651124850:"IFCPROJECTIONELEMENT",3694346114:"IFCOUTLET",3747195512:"IFCEVAPORATIVECOOLER",3758799889:"IFCCABLECARRIERSEGMENT",3824725483:"IFCTENDON",3825984169:"IFCTRANSFORMER",3902619387:"IFCCHILLER",4074379575:"IFCDAMPER",4086658281:"IFCSENSOR",4123344466:"IFCELEMENTASSEMBLY",4136498852:"IFCCOOLEDBEAM",4156078855:"IFCWALLELEMENTEDCASE",4175244083:"IFCINTERCEPTOR",4207607924:"IFCVALVE",4217484030:"IFCCABLESEGMENT",4237592921:"IFCWASTETERMINAL",4252922144:"IFCSTAIRFLIGHT",4278956645:"IFCFLOWFITTING",4288193352:"IFCACTUATOR",4292641817:"IFCUNITARYEQUIPMENT",3009204131:"IFCGRID"};class I0 extends Py{async getItemProperties(s,t,i=!1){return this.state.api.GetLine(s,t,i)}async getSpatialStructure(s,t){const i=await this.getSpatialTreeChunks(s),n=(await this.state.api.GetLineIDsWithType(s,rp)).get(0),o=I0.newIfcProject(n);return await this.getSpatialNode(s,o,i,t),o}async getAllItemsOfType(s,t,i){let r=[];const n=await this.state.api.GetLineIDsWithType(s,t);for(let a=0;a<n.size();a++)r.push(n.get(a));if(!i)return r;const o=[];for(let a=0;a<r.length;a++)o.push(await this.state.api.GetLine(s,r[a]));return o}async getProperty(s,t,i=!1,r){const n=await this.getAllRelatedItemsOfType(s,t,r),o=[];for(let a=0;a<n.length;a++)o.push(await this.state.api.GetLine(s,n[a],i));return o}getNodeType(s,t){const i=this.state.models[s].types[t];return y0[i]}async getChunks(s,t,i){const r=await this.state.api.GetLineIDsWithType(s,i.name);for(let n=0;n<r.size();n++){const o=await this.state.api.GetLine(s,r.get(n),!1);this.saveChunk(t,i,o)}}async getAllRelatedItemsOfType(s,t,i){const r=await this.state.api.GetLineIDsWithType(s,i.name),n=[];for(let o=0;o<r.size();o++){const a=await this.state.api.GetLine(s,r.get(o));Py.isRelated(t,a,i)&&this.getRelated(a,i,n)}return n}}let yu={3821786052:"IFCACTIONREQUEST",2296667514:"IFCACTOR",3630933823:"IFCACTORROLE",4288193352:"IFCACTUATOR",2874132201:"IFCACTUATORTYPE",618182010:"IFCADDRESS",1635779807:"IFCADVANCEDBREP",2603310189:"IFCADVANCEDBREPWITHVOIDS",3406155212:"IFCADVANCEDFACE",1634111441:"IFCAIRTERMINAL",177149247:"IFCAIRTERMINALBOX",1411407467:"IFCAIRTERMINALBOXTYPE",3352864051:"IFCAIRTERMINALTYPE",2056796094:"IFCAIRTOAIRHEATRECOVERY",1871374353:"IFCAIRTOAIRHEATRECOVERYTYPE",3087945054:"IFCALARM",3001207471:"IFCALARMTYPE",325726236:"IFCALIGNMENT",749761778:"IFCALIGNMENT2DHORIZONTAL",3199563722:"IFCALIGNMENT2DHORIZONTALSEGMENT",2483840362:"IFCALIGNMENT2DSEGMENT",3379348081:"IFCALIGNMENT2DVERSEGCIRCULARARC",3239324667:"IFCALIGNMENT2DVERSEGLINE",4263986512:"IFCALIGNMENT2DVERSEGPARABOLICARC",53199957:"IFCALIGNMENT2DVERTICAL",2029264950:"IFCALIGNMENT2DVERTICALSEGMENT",3512275521:"IFCALIGNMENTCURVE",1674181508:"IFCANNOTATION",669184980:"IFCANNOTATIONFILLAREA",639542469:"IFCAPPLICATION",411424972:"IFCAPPLIEDVALUE",130549933:"IFCAPPROVAL",3869604511:"IFCAPPROVALRELATIONSHIP",3798115385:"IFCARBITRARYCLOSEDPROFILEDEF",1310608509:"IFCARBITRARYOPENPROFILEDEF",2705031697:"IFCARBITRARYPROFILEDEFWITHVOIDS",3460190687:"IFCASSET",3207858831:"IFCASYMMETRICISHAPEPROFILEDEF",277319702:"IFCAUDIOVISUALAPPLIANCE",1532957894:"IFCAUDIOVISUALAPPLIANCETYPE",4261334040:"IFCAXIS1PLACEMENT",3125803723:"IFCAXIS2PLACEMENT2D",2740243338:"IFCAXIS2PLACEMENT3D",1967976161:"IFCBSPLINECURVE",2461110595:"IFCBSPLINECURVEWITHKNOTS",2887950389:"IFCBSPLINESURFACE",167062518:"IFCBSPLINESURFACEWITHKNOTS",753842376:"IFCBEAM",2906023776:"IFCBEAMSTANDARDCASE",819618141:"IFCBEAMTYPE",4196446775:"IFCBEARING",3649138523:"IFCBEARINGTYPE",616511568:"IFCBLOBTEXTURE",1334484129:"IFCBLOCK",32344328:"IFCBOILER",231477066:"IFCBOILERTYPE",3649129432:"IFCBOOLEANCLIPPINGRESULT",2736907675:"IFCBOOLEANRESULT",4037036970:"IFCBOUNDARYCONDITION",1136057603:"IFCBOUNDARYCURVE",1560379544:"IFCBOUNDARYEDGECONDITION",3367102660:"IFCBOUNDARYFACECONDITION",1387855156:"IFCBOUNDARYNODECONDITION",2069777674:"IFCBOUNDARYNODECONDITIONWARPING",1260505505:"IFCBOUNDEDCURVE",4182860854:"IFCBOUNDEDSURFACE",2581212453:"IFCBOUNDINGBOX",2713105998:"IFCBOXEDHALFSPACE",644574406:"IFCBRIDGE",963979645:"IFCBRIDGEPART",4031249490:"IFCBUILDING",3299480353:"IFCBUILDINGELEMENT",2979338954:"IFCBUILDINGELEMENTPART",39481116:"IFCBUILDINGELEMENTPARTTYPE",1095909175:"IFCBUILDINGELEMENTPROXY",1909888760:"IFCBUILDINGELEMENTPROXYTYPE",1950629157:"IFCBUILDINGELEMENTTYPE",3124254112:"IFCBUILDINGSTOREY",1177604601:"IFCBUILDINGSYSTEM",2938176219:"IFCBURNER",2188180465:"IFCBURNERTYPE",2898889636:"IFCCSHAPEPROFILEDEF",635142910:"IFCCABLECARRIERFITTING",395041908:"IFCCABLECARRIERFITTINGTYPE",3758799889:"IFCCABLECARRIERSEGMENT",3293546465:"IFCCABLECARRIERSEGMENTTYPE",1051757585:"IFCCABLEFITTING",2674252688:"IFCCABLEFITTINGTYPE",4217484030:"IFCCABLESEGMENT",1285652485:"IFCCABLESEGMENTTYPE",3999819293:"IFCCAISSONFOUNDATION",3203706013:"IFCCAISSONFOUNDATIONTYPE",1123145078:"IFCCARTESIANPOINT",574549367:"IFCCARTESIANPOINTLIST",1675464909:"IFCCARTESIANPOINTLIST2D",2059837836:"IFCCARTESIANPOINTLIST3D",59481748:"IFCCARTESIANTRANSFORMATIONOPERATOR",3749851601:"IFCCARTESIANTRANSFORMATIONOPERATOR2D",3486308946:"IFCCARTESIANTRANSFORMATIONOPERATOR2DNONUNIFORM",3331915920:"IFCCARTESIANTRANSFORMATIONOPERATOR3D",1416205885:"IFCCARTESIANTRANSFORMATIONOPERATOR3DNONUNIFORM",3150382593:"IFCCENTERLINEPROFILEDEF",3902619387:"IFCCHILLER",2951183804:"IFCCHILLERTYPE",3296154744:"IFCCHIMNEY",2197970202:"IFCCHIMNEYTYPE",2611217952:"IFCCIRCLE",2937912522:"IFCCIRCLEHOLLOWPROFILEDEF",1383045692:"IFCCIRCLEPROFILEDEF",1062206242:"IFCCIRCULARARCSEGMENT2D",1677625105:"IFCCIVILELEMENT",3893394355:"IFCCIVILELEMENTTYPE",747523909:"IFCCLASSIFICATION",647927063:"IFCCLASSIFICATIONREFERENCE",2205249479:"IFCCLOSEDSHELL",639361253:"IFCCOIL",2301859152:"IFCCOILTYPE",776857604:"IFCCOLOURRGB",3285139300:"IFCCOLOURRGBLIST",3264961684:"IFCCOLOURSPECIFICATION",843113511:"IFCCOLUMN",905975707:"IFCCOLUMNSTANDARDCASE",300633059:"IFCCOLUMNTYPE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",400855858:"IFCCOMMUNICATIONSAPPLIANCETYPE",2542286263:"IFCCOMPLEXPROPERTY",3875453745:"IFCCOMPLEXPROPERTYTEMPLATE",3732776249:"IFCCOMPOSITECURVE",15328376:"IFCCOMPOSITECURVEONSURFACE",2485617015:"IFCCOMPOSITECURVESEGMENT",1485152156:"IFCCOMPOSITEPROFILEDEF",3571504051:"IFCCOMPRESSOR",3850581409:"IFCCOMPRESSORTYPE",2272882330:"IFCCONDENSER",2816379211:"IFCCONDENSERTYPE",2510884976:"IFCCONIC",370225590:"IFCCONNECTEDFACESET",1981873012:"IFCCONNECTIONCURVEGEOMETRY",2859738748:"IFCCONNECTIONGEOMETRY",45288368:"IFCCONNECTIONPOINTECCENTRICITY",2614616156:"IFCCONNECTIONPOINTGEOMETRY",2732653382:"IFCCONNECTIONSURFACEGEOMETRY",775493141:"IFCCONNECTIONVOLUMEGEOMETRY",1959218052:"IFCCONSTRAINT",3898045240:"IFCCONSTRUCTIONEQUIPMENTRESOURCE",2185764099:"IFCCONSTRUCTIONEQUIPMENTRESOURCETYPE",1060000209:"IFCCONSTRUCTIONMATERIALRESOURCE",4105962743:"IFCCONSTRUCTIONMATERIALRESOURCETYPE",488727124:"IFCCONSTRUCTIONPRODUCTRESOURCE",1525564444:"IFCCONSTRUCTIONPRODUCTRESOURCETYPE",2559216714:"IFCCONSTRUCTIONRESOURCE",2574617495:"IFCCONSTRUCTIONRESOURCETYPE",3419103109:"IFCCONTEXT",3050246964:"IFCCONTEXTDEPENDENTUNIT",3293443760:"IFCCONTROL",25142252:"IFCCONTROLLER",578613899:"IFCCONTROLLERTYPE",2889183280:"IFCCONVERSIONBASEDUNIT",2713554722:"IFCCONVERSIONBASEDUNITWITHOFFSET",4136498852:"IFCCOOLEDBEAM",335055490:"IFCCOOLEDBEAMTYPE",3640358203:"IFCCOOLINGTOWER",2954562838:"IFCCOOLINGTOWERTYPE",1785450214:"IFCCOORDINATEOPERATION",1466758467:"IFCCOORDINATEREFERENCESYSTEM",3895139033:"IFCCOSTITEM",1419761937:"IFCCOSTSCHEDULE",602808272:"IFCCOSTVALUE",1973544240:"IFCCOVERING",1916426348:"IFCCOVERINGTYPE",3295246426:"IFCCREWRESOURCE",1815067380:"IFCCREWRESOURCETYPE",2506170314:"IFCCSGPRIMITIVE3D",2147822146:"IFCCSGSOLID",539742890:"IFCCURRENCYRELATIONSHIP",3495092785:"IFCCURTAINWALL",1457835157:"IFCCURTAINWALLTYPE",2601014836:"IFCCURVE",2827736869:"IFCCURVEBOUNDEDPLANE",2629017746:"IFCCURVEBOUNDEDSURFACE",1186437898:"IFCCURVESEGMENT2D",3800577675:"IFCCURVESTYLE",1105321065:"IFCCURVESTYLEFONT",2367409068:"IFCCURVESTYLEFONTANDSCALING",3510044353:"IFCCURVESTYLEFONTPATTERN",1213902940:"IFCCYLINDRICALSURFACE",4074379575:"IFCDAMPER",3961806047:"IFCDAMPERTYPE",3426335179:"IFCDEEPFOUNDATION",1306400036:"IFCDEEPFOUNDATIONTYPE",3632507154:"IFCDERIVEDPROFILEDEF",1765591967:"IFCDERIVEDUNIT",1045800335:"IFCDERIVEDUNITELEMENT",2949456006:"IFCDIMENSIONALEXPONENTS",32440307:"IFCDIRECTION",1335981549:"IFCDISCRETEACCESSORY",2635815018:"IFCDISCRETEACCESSORYTYPE",1945343521:"IFCDISTANCEEXPRESSION",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1599208980:"IFCDISTRIBUTIONCHAMBERELEMENTTYPE",562808652:"IFCDISTRIBUTIONCIRCUIT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",2063403501:"IFCDISTRIBUTIONCONTROLELEMENTTYPE",1945004755:"IFCDISTRIBUTIONELEMENT",3256556792:"IFCDISTRIBUTIONELEMENTTYPE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3849074793:"IFCDISTRIBUTIONFLOWELEMENTTYPE",3041715199:"IFCDISTRIBUTIONPORT",3205830791:"IFCDISTRIBUTIONSYSTEM",1154170062:"IFCDOCUMENTINFORMATION",770865208:"IFCDOCUMENTINFORMATIONRELATIONSHIP",3732053477:"IFCDOCUMENTREFERENCE",395920057:"IFCDOOR",2963535650:"IFCDOORLININGPROPERTIES",1714330368:"IFCDOORPANELPROPERTIES",3242481149:"IFCDOORSTANDARDCASE",526551008:"IFCDOORSTYLE",2323601079:"IFCDOORTYPE",445594917:"IFCDRAUGHTINGPREDEFINEDCOLOUR",4006246654:"IFCDRAUGHTINGPREDEFINEDCURVEFONT",342316401:"IFCDUCTFITTING",869906466:"IFCDUCTFITTINGTYPE",3518393246:"IFCDUCTSEGMENT",3760055223:"IFCDUCTSEGMENTTYPE",1360408905:"IFCDUCTSILENCER",2030761528:"IFCDUCTSILENCERTYPE",3900360178:"IFCEDGE",476780140:"IFCEDGECURVE",1472233963:"IFCEDGELOOP",1904799276:"IFCELECTRICAPPLIANCE",663422040:"IFCELECTRICAPPLIANCETYPE",862014818:"IFCELECTRICDISTRIBUTIONBOARD",2417008758:"IFCELECTRICDISTRIBUTIONBOARDTYPE",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3277789161:"IFCELECTRICFLOWSTORAGEDEVICETYPE",264262732:"IFCELECTRICGENERATOR",1534661035:"IFCELECTRICGENERATORTYPE",402227799:"IFCELECTRICMOTOR",1217240411:"IFCELECTRICMOTORTYPE",1003880860:"IFCELECTRICTIMECONTROL",712377611:"IFCELECTRICTIMECONTROLTYPE",1758889154:"IFCELEMENT",4123344466:"IFCELEMENTASSEMBLY",2397081782:"IFCELEMENTASSEMBLYTYPE",1623761950:"IFCELEMENTCOMPONENT",2590856083:"IFCELEMENTCOMPONENTTYPE",1883228015:"IFCELEMENTQUANTITY",339256511:"IFCELEMENTTYPE",2777663545:"IFCELEMENTARYSURFACE",1704287377:"IFCELLIPSE",2835456948:"IFCELLIPSEPROFILEDEF",1658829314:"IFCENERGYCONVERSIONDEVICE",2107101300:"IFCENERGYCONVERSIONDEVICETYPE",2814081492:"IFCENGINE",132023988:"IFCENGINETYPE",3747195512:"IFCEVAPORATIVECOOLER",3174744832:"IFCEVAPORATIVECOOLERTYPE",484807127:"IFCEVAPORATOR",3390157468:"IFCEVAPORATORTYPE",4148101412:"IFCEVENT",211053100:"IFCEVENTTIME",4024345920:"IFCEVENTTYPE",297599258:"IFCEXTENDEDPROPERTIES",4294318154:"IFCEXTERNALINFORMATION",3200245327:"IFCEXTERNALREFERENCE",1437805879:"IFCEXTERNALREFERENCERELATIONSHIP",1209101575:"IFCEXTERNALSPATIALELEMENT",2853485674:"IFCEXTERNALSPATIALSTRUCTUREELEMENT",2242383968:"IFCEXTERNALLYDEFINEDHATCHSTYLE",1040185647:"IFCEXTERNALLYDEFINEDSURFACESTYLE",3548104201:"IFCEXTERNALLYDEFINEDTEXTFONT",477187591:"IFCEXTRUDEDAREASOLID",2804161546:"IFCEXTRUDEDAREASOLIDTAPERED",2556980723:"IFCFACE",2047409740:"IFCFACEBASEDSURFACEMODEL",1809719519:"IFCFACEBOUND",803316827:"IFCFACEOUTERBOUND",3008276851:"IFCFACESURFACE",807026263:"IFCFACETEDBREP",3737207727:"IFCFACETEDBREPWITHVOIDS",24185140:"IFCFACILITY",1310830890:"IFCFACILITYPART",4219587988:"IFCFAILURECONNECTIONCONDITION",3415622556:"IFCFAN",346874300:"IFCFANTYPE",647756555:"IFCFASTENER",2489546625:"IFCFASTENERTYPE",2827207264:"IFCFEATUREELEMENT",2143335405:"IFCFEATUREELEMENTADDITION",1287392070:"IFCFEATUREELEMENTSUBTRACTION",738692330:"IFCFILLAREASTYLE",374418227:"IFCFILLAREASTYLEHATCHING",315944413:"IFCFILLAREASTYLETILES",819412036:"IFCFILTER",1810631287:"IFCFILTERTYPE",1426591983:"IFCFIRESUPPRESSIONTERMINAL",4222183408:"IFCFIRESUPPRESSIONTERMINALTYPE",2652556860:"IFCFIXEDREFERENCESWEPTAREASOLID",2058353004:"IFCFLOWCONTROLLER",3907093117:"IFCFLOWCONTROLLERTYPE",4278956645:"IFCFLOWFITTING",3198132628:"IFCFLOWFITTINGTYPE",182646315:"IFCFLOWINSTRUMENT",4037862832:"IFCFLOWINSTRUMENTTYPE",2188021234:"IFCFLOWMETER",3815607619:"IFCFLOWMETERTYPE",3132237377:"IFCFLOWMOVINGDEVICE",1482959167:"IFCFLOWMOVINGDEVICETYPE",987401354:"IFCFLOWSEGMENT",1834744321:"IFCFLOWSEGMENTTYPE",707683696:"IFCFLOWSTORAGEDEVICE",1339347760:"IFCFLOWSTORAGEDEVICETYPE",2223149337:"IFCFLOWTERMINAL",2297155007:"IFCFLOWTERMINALTYPE",3508470533:"IFCFLOWTREATMENTDEVICE",3009222698:"IFCFLOWTREATMENTDEVICETYPE",900683007:"IFCFOOTING",1893162501:"IFCFOOTINGTYPE",263784265:"IFCFURNISHINGELEMENT",4238390223:"IFCFURNISHINGELEMENTTYPE",1509553395:"IFCFURNITURE",1268542332:"IFCFURNITURETYPE",3493046030:"IFCGEOGRAPHICELEMENT",4095422895:"IFCGEOGRAPHICELEMENTTYPE",987898635:"IFCGEOMETRICCURVESET",3448662350:"IFCGEOMETRICREPRESENTATIONCONTEXT",2453401579:"IFCGEOMETRICREPRESENTATIONITEM",4142052618:"IFCGEOMETRICREPRESENTATIONSUBCONTEXT",3590301190:"IFCGEOMETRICSET",3009204131:"IFCGRID",852622518:"IFCGRIDAXIS",178086475:"IFCGRIDPLACEMENT",2706460486:"IFCGROUP",812098782:"IFCHALFSPACESOLID",3319311131:"IFCHEATEXCHANGER",1251058090:"IFCHEATEXCHANGERTYPE",2068733104:"IFCHUMIDIFIER",1806887404:"IFCHUMIDIFIERTYPE",1484403080:"IFCISHAPEPROFILEDEF",3905492369:"IFCIMAGETEXTURE",3570813810:"IFCINDEXEDCOLOURMAP",2571569899:"IFCINDEXEDPOLYCURVE",178912537:"IFCINDEXEDPOLYGONALFACE",2294589976:"IFCINDEXEDPOLYGONALFACEWITHVOIDS",1437953363:"IFCINDEXEDTEXTUREMAP",2133299955:"IFCINDEXEDTRIANGLETEXTUREMAP",4175244083:"IFCINTERCEPTOR",3946677679:"IFCINTERCEPTORTYPE",3113134337:"IFCINTERSECTIONCURVE",2391368822:"IFCINVENTORY",3741457305:"IFCIRREGULARTIMESERIES",3020489413:"IFCIRREGULARTIMESERIESVALUE",2176052936:"IFCJUNCTIONBOX",4288270099:"IFCJUNCTIONBOXTYPE",572779678:"IFCLSHAPEPROFILEDEF",3827777499:"IFCLABORRESOURCE",428585644:"IFCLABORRESOURCETYPE",1585845231:"IFCLAGTIME",76236018:"IFCLAMP",1051575348:"IFCLAMPTYPE",2655187982:"IFCLIBRARYINFORMATION",3452421091:"IFCLIBRARYREFERENCE",4162380809:"IFCLIGHTDISTRIBUTIONDATA",629592764:"IFCLIGHTFIXTURE",1161773419:"IFCLIGHTFIXTURETYPE",1566485204:"IFCLIGHTINTENSITYDISTRIBUTION",1402838566:"IFCLIGHTSOURCE",125510826:"IFCLIGHTSOURCEAMBIENT",2604431987:"IFCLIGHTSOURCEDIRECTIONAL",4266656042:"IFCLIGHTSOURCEGONIOMETRIC",1520743889:"IFCLIGHTSOURCEPOSITIONAL",3422422726:"IFCLIGHTSOURCESPOT",1281925730:"IFCLINE",3092502836:"IFCLINESEGMENT2D",388784114:"IFCLINEARPLACEMENT",1154579445:"IFCLINEARPOSITIONINGELEMENT",2624227202:"IFCLOCALPLACEMENT",1008929658:"IFCLOOP",1425443689:"IFCMANIFOLDSOLIDBREP",3057273783:"IFCMAPCONVERSION",2347385850:"IFCMAPPEDITEM",1838606355:"IFCMATERIAL",1847130766:"IFCMATERIALCLASSIFICATIONRELATIONSHIP",3708119e3:"IFCMATERIALCONSTITUENT",2852063980:"IFCMATERIALCONSTITUENTSET",760658860:"IFCMATERIALDEFINITION",2022407955:"IFCMATERIALDEFINITIONREPRESENTATION",248100487:"IFCMATERIALLAYER",3303938423:"IFCMATERIALLAYERSET",1303795690:"IFCMATERIALLAYERSETUSAGE",1847252529:"IFCMATERIALLAYERWITHOFFSETS",2199411900:"IFCMATERIALLIST",2235152071:"IFCMATERIALPROFILE",164193824:"IFCMATERIALPROFILESET",3079605661:"IFCMATERIALPROFILESETUSAGE",3404854881:"IFCMATERIALPROFILESETUSAGETAPERING",552965576:"IFCMATERIALPROFILEWITHOFFSETS",3265635763:"IFCMATERIALPROPERTIES",853536259:"IFCMATERIALRELATIONSHIP",1507914824:"IFCMATERIALUSAGEDEFINITION",2597039031:"IFCMEASUREWITHUNIT",377706215:"IFCMECHANICALFASTENER",2108223431:"IFCMECHANICALFASTENERTYPE",1437502449:"IFCMEDICALDEVICE",1114901282:"IFCMEDICALDEVICETYPE",1073191201:"IFCMEMBER",1911478936:"IFCMEMBERSTANDARDCASE",3181161470:"IFCMEMBERTYPE",3368373690:"IFCMETRIC",2998442950:"IFCMIRROREDPROFILEDEF",2706619895:"IFCMONETARYUNIT",2474470126:"IFCMOTORCONNECTION",977012517:"IFCMOTORCONNECTIONTYPE",1918398963:"IFCNAMEDUNIT",3888040117:"IFCOBJECT",219451334:"IFCOBJECTDEFINITION",3701648758:"IFCOBJECTPLACEMENT",2251480897:"IFCOBJECTIVE",4143007308:"IFCOCCUPANT",590820931:"IFCOFFSETCURVE",3388369263:"IFCOFFSETCURVE2D",3505215534:"IFCOFFSETCURVE3D",2485787929:"IFCOFFSETCURVEBYDISTANCES",2665983363:"IFCOPENSHELL",3588315303:"IFCOPENINGELEMENT",3079942009:"IFCOPENINGSTANDARDCASE",4251960020:"IFCORGANIZATION",1411181986:"IFCORGANIZATIONRELATIONSHIP",643959842:"IFCORIENTATIONEXPRESSION",1029017970:"IFCORIENTEDEDGE",144952367:"IFCOUTERBOUNDARYCURVE",3694346114:"IFCOUTLET",2837617999:"IFCOUTLETTYPE",1207048766:"IFCOWNERHISTORY",2529465313:"IFCPARAMETERIZEDPROFILEDEF",2519244187:"IFCPATH",1682466193:"IFCPCURVE",2382730787:"IFCPERFORMANCEHISTORY",3566463478:"IFCPERMEABLECOVERINGPROPERTIES",3327091369:"IFCPERMIT",2077209135:"IFCPERSON",101040310:"IFCPERSONANDORGANIZATION",3021840470:"IFCPHYSICALCOMPLEXQUANTITY",2483315170:"IFCPHYSICALQUANTITY",2226359599:"IFCPHYSICALSIMPLEQUANTITY",1687234759:"IFCPILE",1158309216:"IFCPILETYPE",310824031:"IFCPIPEFITTING",804291784:"IFCPIPEFITTINGTYPE",3612865200:"IFCPIPESEGMENT",4231323485:"IFCPIPESEGMENTTYPE",597895409:"IFCPIXELTEXTURE",2004835150:"IFCPLACEMENT",603570806:"IFCPLANARBOX",1663979128:"IFCPLANAREXTENT",220341763:"IFCPLANE",3171933400:"IFCPLATE",1156407060:"IFCPLATESTANDARDCASE",4017108033:"IFCPLATETYPE",2067069095:"IFCPOINT",4022376103:"IFCPOINTONCURVE",1423911732:"IFCPOINTONSURFACE",2924175390:"IFCPOLYLOOP",2775532180:"IFCPOLYGONALBOUNDEDHALFSPACE",2839578677:"IFCPOLYGONALFACESET",3724593414:"IFCPOLYLINE",3740093272:"IFCPORT",1946335990:"IFCPOSITIONINGELEMENT",3355820592:"IFCPOSTALADDRESS",759155922:"IFCPREDEFINEDCOLOUR",2559016684:"IFCPREDEFINEDCURVEFONT",3727388367:"IFCPREDEFINEDITEM",3778827333:"IFCPREDEFINEDPROPERTIES",3967405729:"IFCPREDEFINEDPROPERTYSET",1775413392:"IFCPREDEFINEDTEXTFONT",677532197:"IFCPRESENTATIONITEM",2022622350:"IFCPRESENTATIONLAYERASSIGNMENT",1304840413:"IFCPRESENTATIONLAYERWITHSTYLE",3119450353:"IFCPRESENTATIONSTYLE",2417041796:"IFCPRESENTATIONSTYLEASSIGNMENT",2744685151:"IFCPROCEDURE",569719735:"IFCPROCEDURETYPE",2945172077:"IFCPROCESS",4208778838:"IFCPRODUCT",673634403:"IFCPRODUCTDEFINITIONSHAPE",2095639259:"IFCPRODUCTREPRESENTATION",3958567839:"IFCPROFILEDEF",2802850158:"IFCPROFILEPROPERTIES",103090709:"IFCPROJECT",653396225:"IFCPROJECTLIBRARY",2904328755:"IFCPROJECTORDER",3843373140:"IFCPROJECTEDCRS",3651124850:"IFCPROJECTIONELEMENT",2598011224:"IFCPROPERTY",986844984:"IFCPROPERTYABSTRACTION",871118103:"IFCPROPERTYBOUNDEDVALUE",1680319473:"IFCPROPERTYDEFINITION",148025276:"IFCPROPERTYDEPENDENCYRELATIONSHIP",4166981789:"IFCPROPERTYENUMERATEDVALUE",3710013099:"IFCPROPERTYENUMERATION",2752243245:"IFCPROPERTYLISTVALUE",941946838:"IFCPROPERTYREFERENCEVALUE",1451395588:"IFCPROPERTYSET",3357820518:"IFCPROPERTYSETDEFINITION",492091185:"IFCPROPERTYSETTEMPLATE",3650150729:"IFCPROPERTYSINGLEVALUE",110355661:"IFCPROPERTYTABLEVALUE",3521284610:"IFCPROPERTYTEMPLATE",1482703590:"IFCPROPERTYTEMPLATEDEFINITION",738039164:"IFCPROTECTIVEDEVICE",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",655969474:"IFCPROTECTIVEDEVICETRIPPINGUNITTYPE",1842657554:"IFCPROTECTIVEDEVICETYPE",3219374653:"IFCPROXY",90941305:"IFCPUMP",2250791053:"IFCPUMPTYPE",2044713172:"IFCQUANTITYAREA",2093928680:"IFCQUANTITYCOUNT",931644368:"IFCQUANTITYLENGTH",2090586900:"IFCQUANTITYSET",3252649465:"IFCQUANTITYTIME",2405470396:"IFCQUANTITYVOLUME",825690147:"IFCQUANTITYWEIGHT",2262370178:"IFCRAILING",2893384427:"IFCRAILINGTYPE",3024970846:"IFCRAMP",3283111854:"IFCRAMPFLIGHT",2324767716:"IFCRAMPFLIGHTTYPE",1469900589:"IFCRAMPTYPE",1232101972:"IFCRATIONALBSPLINECURVEWITHKNOTS",683857671:"IFCRATIONALBSPLINESURFACEWITHKNOTS",2770003689:"IFCRECTANGLEHOLLOWPROFILEDEF",3615266464:"IFCRECTANGLEPROFILEDEF",2798486643:"IFCRECTANGULARPYRAMID",3454111270:"IFCRECTANGULARTRIMMEDSURFACE",3915482550:"IFCRECURRENCEPATTERN",2433181523:"IFCREFERENCE",4021432810:"IFCREFERENT",3413951693:"IFCREGULARTIMESERIES",1580146022:"IFCREINFORCEMENTBARPROPERTIES",3765753017:"IFCREINFORCEMENTDEFINITIONPROPERTIES",979691226:"IFCREINFORCINGBAR",2572171363:"IFCREINFORCINGBARTYPE",3027567501:"IFCREINFORCINGELEMENT",964333572:"IFCREINFORCINGELEMENTTYPE",2320036040:"IFCREINFORCINGMESH",2310774935:"IFCREINFORCINGMESHTYPE",160246688:"IFCRELAGGREGATES",3939117080:"IFCRELASSIGNS",1683148259:"IFCRELASSIGNSTOACTOR",2495723537:"IFCRELASSIGNSTOCONTROL",1307041759:"IFCRELASSIGNSTOGROUP",1027710054:"IFCRELASSIGNSTOGROUPBYFACTOR",4278684876:"IFCRELASSIGNSTOPROCESS",2857406711:"IFCRELASSIGNSTOPRODUCT",205026976:"IFCRELASSIGNSTORESOURCE",1865459582:"IFCRELASSOCIATES",4095574036:"IFCRELASSOCIATESAPPROVAL",919958153:"IFCRELASSOCIATESCLASSIFICATION",2728634034:"IFCRELASSOCIATESCONSTRAINT",982818633:"IFCRELASSOCIATESDOCUMENT",3840914261:"IFCRELASSOCIATESLIBRARY",2655215786:"IFCRELASSOCIATESMATERIAL",826625072:"IFCRELCONNECTS",1204542856:"IFCRELCONNECTSELEMENTS",3945020480:"IFCRELCONNECTSPATHELEMENTS",4201705270:"IFCRELCONNECTSPORTTOELEMENT",3190031847:"IFCRELCONNECTSPORTS",2127690289:"IFCRELCONNECTSSTRUCTURALACTIVITY",1638771189:"IFCRELCONNECTSSTRUCTURALMEMBER",504942748:"IFCRELCONNECTSWITHECCENTRICITY",3678494232:"IFCRELCONNECTSWITHREALIZINGELEMENTS",3242617779:"IFCRELCONTAINEDINSPATIALSTRUCTURE",886880790:"IFCRELCOVERSBLDGELEMENTS",2802773753:"IFCRELCOVERSSPACES",2565941209:"IFCRELDECLARES",2551354335:"IFCRELDECOMPOSES",693640335:"IFCRELDEFINES",1462361463:"IFCRELDEFINESBYOBJECT",4186316022:"IFCRELDEFINESBYPROPERTIES",307848117:"IFCRELDEFINESBYTEMPLATE",781010003:"IFCRELDEFINESBYTYPE",3940055652:"IFCRELFILLSELEMENT",279856033:"IFCRELFLOWCONTROLELEMENTS",427948657:"IFCRELINTERFERESELEMENTS",3268803585:"IFCRELNESTS",1441486842:"IFCRELPOSITIONS",750771296:"IFCRELPROJECTSELEMENT",1245217292:"IFCRELREFERENCEDINSPATIALSTRUCTURE",4122056220:"IFCRELSEQUENCE",366585022:"IFCRELSERVICESBUILDINGS",3451746338:"IFCRELSPACEBOUNDARY",3523091289:"IFCRELSPACEBOUNDARY1STLEVEL",1521410863:"IFCRELSPACEBOUNDARY2NDLEVEL",1401173127:"IFCRELVOIDSELEMENT",478536968:"IFCRELATIONSHIP",816062949:"IFCREPARAMETRISEDCOMPOSITECURVESEGMENT",1076942058:"IFCREPRESENTATION",3377609919:"IFCREPRESENTATIONCONTEXT",3008791417:"IFCREPRESENTATIONITEM",1660063152:"IFCREPRESENTATIONMAP",2914609552:"IFCRESOURCE",2943643501:"IFCRESOURCEAPPROVALRELATIONSHIP",1608871552:"IFCRESOURCECONSTRAINTRELATIONSHIP",2439245199:"IFCRESOURCELEVELRELATIONSHIP",1042787934:"IFCRESOURCETIME",1856042241:"IFCREVOLVEDAREASOLID",3243963512:"IFCREVOLVEDAREASOLIDTAPERED",4158566097:"IFCRIGHTCIRCULARCONE",3626867408:"IFCRIGHTCIRCULARCYLINDER",2016517767:"IFCROOF",2781568857:"IFCROOFTYPE",2341007311:"IFCROOT",2778083089:"IFCROUNDEDRECTANGLEPROFILEDEF",448429030:"IFCSIUNIT",3053780830:"IFCSANITARYTERMINAL",1768891740:"IFCSANITARYTERMINALTYPE",1054537805:"IFCSCHEDULINGTIME",2157484638:"IFCSEAMCURVE",2042790032:"IFCSECTIONPROPERTIES",4165799628:"IFCSECTIONREINFORCEMENTPROPERTIES",1862484736:"IFCSECTIONEDSOLID",1290935644:"IFCSECTIONEDSOLIDHORIZONTAL",1509187699:"IFCSECTIONEDSPINE",4086658281:"IFCSENSOR",1783015770:"IFCSENSORTYPE",1329646415:"IFCSHADINGDEVICE",4074543187:"IFCSHADINGDEVICETYPE",867548509:"IFCSHAPEASPECT",3982875396:"IFCSHAPEMODEL",4240577450:"IFCSHAPEREPRESENTATION",4124623270:"IFCSHELLBASEDSURFACEMODEL",3692461612:"IFCSIMPLEPROPERTY",3663146110:"IFCSIMPLEPROPERTYTEMPLATE",4097777520:"IFCSITE",1529196076:"IFCSLAB",3127900445:"IFCSLABELEMENTEDCASE",3027962421:"IFCSLABSTANDARDCASE",2533589738:"IFCSLABTYPE",2609359061:"IFCSLIPPAGECONNECTIONCONDITION",3420628829:"IFCSOLARDEVICE",1072016465:"IFCSOLARDEVICETYPE",723233188:"IFCSOLIDMODEL",3856911033:"IFCSPACE",1999602285:"IFCSPACEHEATER",1305183839:"IFCSPACEHEATERTYPE",3812236995:"IFCSPACETYPE",1412071761:"IFCSPATIALELEMENT",710998568:"IFCSPATIALELEMENTTYPE",2706606064:"IFCSPATIALSTRUCTUREELEMENT",3893378262:"IFCSPATIALSTRUCTUREELEMENTTYPE",463610769:"IFCSPATIALZONE",2481509218:"IFCSPATIALZONETYPE",451544542:"IFCSPHERE",4015995234:"IFCSPHERICALSURFACE",1404847402:"IFCSTACKTERMINAL",3112655638:"IFCSTACKTERMINALTYPE",331165859:"IFCSTAIR",4252922144:"IFCSTAIRFLIGHT",1039846685:"IFCSTAIRFLIGHTTYPE",338393293:"IFCSTAIRTYPE",682877961:"IFCSTRUCTURALACTION",3544373492:"IFCSTRUCTURALACTIVITY",2515109513:"IFCSTRUCTURALANALYSISMODEL",1179482911:"IFCSTRUCTURALCONNECTION",2273995522:"IFCSTRUCTURALCONNECTIONCONDITION",1004757350:"IFCSTRUCTURALCURVEACTION",4243806635:"IFCSTRUCTURALCURVECONNECTION",214636428:"IFCSTRUCTURALCURVEMEMBER",2445595289:"IFCSTRUCTURALCURVEMEMBERVARYING",2757150158:"IFCSTRUCTURALCURVEREACTION",3136571912:"IFCSTRUCTURALITEM",1807405624:"IFCSTRUCTURALLINEARACTION",2162789131:"IFCSTRUCTURALLOAD",385403989:"IFCSTRUCTURALLOADCASE",3478079324:"IFCSTRUCTURALLOADCONFIGURATION",1252848954:"IFCSTRUCTURALLOADGROUP",1595516126:"IFCSTRUCTURALLOADLINEARFORCE",609421318:"IFCSTRUCTURALLOADORRESULT",2668620305:"IFCSTRUCTURALLOADPLANARFORCE",2473145415:"IFCSTRUCTURALLOADSINGLEDISPLACEMENT",1973038258:"IFCSTRUCTURALLOADSINGLEDISPLACEMENTDISTORTION",1597423693:"IFCSTRUCTURALLOADSINGLEFORCE",1190533807:"IFCSTRUCTURALLOADSINGLEFORCEWARPING",2525727697:"IFCSTRUCTURALLOADSTATIC",3408363356:"IFCSTRUCTURALLOADTEMPERATURE",530289379:"IFCSTRUCTURALMEMBER",1621171031:"IFCSTRUCTURALPLANARACTION",2082059205:"IFCSTRUCTURALPOINTACTION",734778138:"IFCSTRUCTURALPOINTCONNECTION",1235345126:"IFCSTRUCTURALPOINTREACTION",3689010777:"IFCSTRUCTURALREACTION",2986769608:"IFCSTRUCTURALRESULTGROUP",3657597509:"IFCSTRUCTURALSURFACEACTION",1975003073:"IFCSTRUCTURALSURFACECONNECTION",3979015343:"IFCSTRUCTURALSURFACEMEMBER",2218152070:"IFCSTRUCTURALSURFACEMEMBERVARYING",603775116:"IFCSTRUCTURALSURFACEREACTION",2830218821:"IFCSTYLEMODEL",3958052878:"IFCSTYLEDITEM",3049322572:"IFCSTYLEDREPRESENTATION",148013059:"IFCSUBCONTRACTRESOURCE",4095615324:"IFCSUBCONTRACTRESOURCETYPE",2233826070:"IFCSUBEDGE",2513912981:"IFCSURFACE",699246055:"IFCSURFACECURVE",2028607225:"IFCSURFACECURVESWEPTAREASOLID",3101698114:"IFCSURFACEFEATURE",2809605785:"IFCSURFACEOFLINEAREXTRUSION",4124788165:"IFCSURFACEOFREVOLUTION",2934153892:"IFCSURFACEREINFORCEMENTAREA",1300840506:"IFCSURFACESTYLE",3303107099:"IFCSURFACESTYLELIGHTING",1607154358:"IFCSURFACESTYLEREFRACTION",1878645084:"IFCSURFACESTYLERENDERING",846575682:"IFCSURFACESTYLESHADING",1351298697:"IFCSURFACESTYLEWITHTEXTURES",626085974:"IFCSURFACETEXTURE",2247615214:"IFCSWEPTAREASOLID",1260650574:"IFCSWEPTDISKSOLID",1096409881:"IFCSWEPTDISKSOLIDPOLYGONAL",230924584:"IFCSWEPTSURFACE",1162798199:"IFCSWITCHINGDEVICE",2315554128:"IFCSWITCHINGDEVICETYPE",2254336722:"IFCSYSTEM",413509423:"IFCSYSTEMFURNITUREELEMENT",1580310250:"IFCSYSTEMFURNITUREELEMENTTYPE",3071757647:"IFCTSHAPEPROFILEDEF",985171141:"IFCTABLE",2043862942:"IFCTABLECOLUMN",531007025:"IFCTABLEROW",812556717:"IFCTANK",5716631:"IFCTANKTYPE",3473067441:"IFCTASK",1549132990:"IFCTASKTIME",2771591690:"IFCTASKTIMERECURRING",3206491090:"IFCTASKTYPE",912023232:"IFCTELECOMADDRESS",3824725483:"IFCTENDON",2347447852:"IFCTENDONANCHOR",3081323446:"IFCTENDONANCHORTYPE",3663046924:"IFCTENDONCONDUIT",2281632017:"IFCTENDONCONDUITTYPE",2415094496:"IFCTENDONTYPE",2387106220:"IFCTESSELLATEDFACESET",901063453:"IFCTESSELLATEDITEM",4282788508:"IFCTEXTLITERAL",3124975700:"IFCTEXTLITERALWITHEXTENT",1447204868:"IFCTEXTSTYLE",1983826977:"IFCTEXTSTYLEFONTMODEL",2636378356:"IFCTEXTSTYLEFORDEFINEDFONT",1640371178:"IFCTEXTSTYLETEXTMODEL",280115917:"IFCTEXTURECOORDINATE",1742049831:"IFCTEXTURECOORDINATEGENERATOR",2552916305:"IFCTEXTUREMAP",1210645708:"IFCTEXTUREVERTEX",3611470254:"IFCTEXTUREVERTEXLIST",1199560280:"IFCTIMEPERIOD",3101149627:"IFCTIMESERIES",581633288:"IFCTIMESERIESVALUE",1377556343:"IFCTOPOLOGICALREPRESENTATIONITEM",1735638870:"IFCTOPOLOGYREPRESENTATION",1935646853:"IFCTOROIDALSURFACE",3825984169:"IFCTRANSFORMER",1692211062:"IFCTRANSFORMERTYPE",2595432518:"IFCTRANSITIONCURVESEGMENT2D",1620046519:"IFCTRANSPORTELEMENT",2097647324:"IFCTRANSPORTELEMENTTYPE",2715220739:"IFCTRAPEZIUMPROFILEDEF",2916149573:"IFCTRIANGULATEDFACESET",1229763772:"IFCTRIANGULATEDIRREGULARNETWORK",3593883385:"IFCTRIMMEDCURVE",3026737570:"IFCTUBEBUNDLE",1600972822:"IFCTUBEBUNDLETYPE",1628702193:"IFCTYPEOBJECT",3736923433:"IFCTYPEPROCESS",2347495698:"IFCTYPEPRODUCT",3698973494:"IFCTYPERESOURCE",427810014:"IFCUSHAPEPROFILEDEF",180925521:"IFCUNITASSIGNMENT",630975310:"IFCUNITARYCONTROLELEMENT",3179687236:"IFCUNITARYCONTROLELEMENTTYPE",4292641817:"IFCUNITARYEQUIPMENT",1911125066:"IFCUNITARYEQUIPMENTTYPE",4207607924:"IFCVALVE",728799441:"IFCVALVETYPE",1417489154:"IFCVECTOR",2799835756:"IFCVERTEX",2759199220:"IFCVERTEXLOOP",1907098498:"IFCVERTEXPOINT",1530820697:"IFCVIBRATIONDAMPER",3956297820:"IFCVIBRATIONDAMPERTYPE",2391383451:"IFCVIBRATIONISOLATOR",3313531582:"IFCVIBRATIONISOLATORTYPE",2769231204:"IFCVIRTUALELEMENT",891718957:"IFCVIRTUALGRIDINTERSECTION",926996030:"IFCVOIDINGFEATURE",2391406946:"IFCWALL",4156078855:"IFCWALLELEMENTEDCASE",3512223829:"IFCWALLSTANDARDCASE",1898987631:"IFCWALLTYPE",4237592921:"IFCWASTETERMINAL",1133259667:"IFCWASTETERMINALTYPE",3304561284:"IFCWINDOW",336235671:"IFCWINDOWLININGPROPERTIES",512836454:"IFCWINDOWPANELPROPERTIES",486154966:"IFCWINDOWSTANDARDCASE",1299126871:"IFCWINDOWSTYLE",4009809668:"IFCWINDOWTYPE",4088093105:"IFCWORKCALENDAR",1028945134:"IFCWORKCONTROL",4218914973:"IFCWORKPLAN",3342526732:"IFCWORKSCHEDULE",1236880293:"IFCWORKTIME",2543172580:"IFCZSHAPEPROFILEDEF",1033361043:"IFCZONE"};class Sd extends Py{async getItemProperties(s,t,i=!1){return{...this.state.models[s].jsonData[t]}}async getSpatialStructure(s,t){const i=await this.getSpatialTreeChunks(s),n=(await this.getAllItemsOfType(s,rp,!1))[0],o=Sd.newIfcProject(n);return await this.getSpatialNode(s,o,i,t),{...o}}async getAllItemsOfType(s,t,i){const r=this.state.models[s].jsonData,n=yu[t];if(!n)throw new Error(`Type not found: ${t}`);return this.filterItemsByType(r,n,i)}async getProperty(s,t,i=!1,r){const n=await this.getAllRelatedItemsOfType(s,t,r),o=this.getItemsByID(s,n);return i&&o.forEach(a=>this.getReferencesRecursively(s,a)),o}getNodeType(s,t){return this.state.models[s].jsonData[t].type}async getChunks(s,t,i){(await this.getAllItemsOfType(s,i.name,!0)).forEach(n=>{this.saveChunk(t,i,n)})}filterItemsByType(s,t,i){const r=[];return Object.keys(s).forEach(n=>{const o=parseInt(n);s[o].type.toUpperCase()===t&&r.push(i?{...s[o]}:o)}),r}async getAllRelatedItemsOfType(s,t,i){const r=await this.getAllItemsOfType(s,i.name,!0),n=[];return r.forEach(o=>{Sd.isRelated(t,o,i)&&this.getRelated(o,i,n)}),n}getItemsByID(s,t){const i=this.state.models[s].jsonData,r=[];return t.forEach(n=>r.push({...i[n]})),r}getReferencesRecursively(s,t){if(t==null)return;const i=Object.keys(t);for(let r=0;r<i.length;r++){const n=i[r];this.getJSONItem(s,t,n)}}getJSONItem(s,t,i){if(Array.isArray(t[i]))return this.getMultipleJSONItems(s,t,i);t[i]&&t[i].type===5&&(t[i]=this.getItemsByID(s,[t[i].value])[0],this.getReferencesRecursively(s,t[i]))}getMultipleJSONItems(s,t,i){t[i]=t[i].map(r=>(r.type===5&&(r=this.getItemsByID(s,[r.value])[0],this.getReferencesRecursively(s,r)),r))}}class toe{constructor(s){this.state=s,this.webIfcProps=new I0(s),this.jsonProps=new Sd(s),this.currentProps=this.webIfcProps}getExpressId(s,t){if(!s.index)throw new Error("Geometry does not have index information.");const i=s.index.array;return s.attributes[IG].getX(i[3*t])}async getItemProperties(s,t,i=!1){return this.updateCurrentProps(),this.currentProps.getItemProperties(s,t,i)}async getAllItemsOfType(s,t,i){return this.updateCurrentProps(),this.currentProps.getAllItemsOfType(s,t,i)}async getPropertySets(s,t,i=!1){return this.updateCurrentProps(),this.currentProps.getPropertySets(s,t,i)}async getTypeProperties(s,t,i=!1){return this.updateCurrentProps(),this.currentProps.getTypeProperties(s,t,i)}async getMaterialsProperties(s,t,i=!1){return this.updateCurrentProps(),this.currentProps.getMaterialsProperties(s,t,i)}async getSpatialStructure(s,t){return this.updateCurrentProps(),!this.state.useJSON&&t&&console.warn("Including properties in getSpatialStructure with the JSON workflow disabled can lead to poor performance."),await this.currentProps.getSpatialStructure(s,t)}updateCurrentProps(){this.currentProps=this.state.useJSON?this.jsonProps:this.webIfcProps}}class soe{constructor(s){this.state=s,this.state=s}async getAllTypes(s){for(let t in this.state.models)if(this.state.models.hasOwnProperty(t)){const i=this.state.models[t].types;Object.keys(i).length==0&&await this.getAllTypesOfModel(parseInt(t),s)}}async getAllTypesOfModel(s,t){const i={},r=Object.keys(y0).map(n=>parseInt(n));for(let n=0;n<r.length;n++){const o=r[n],a=await this.state.api.GetLineIDsWithType(s,o),l=a.size();for(let h=0;h<l;h++)i[a.get(h)]=o}this.state.worker.active&&t&&await t.workerState.updateModelStateTypes(s,i),this.state.models[s].types=i}}class ioe{initializeMeshBVH(s,t,i){this.computeBoundsTree=s,this.disposeBoundsTree=t,this.acceleratedRaycast=i,this.setupThreeMeshBVH()}applyThreeMeshBVH(s){this.computeBoundsTree&&s.computeBoundsTree()}setupThreeMeshBVH(){!this.computeBoundsTree||!this.disposeBoundsTree||!this.acceleratedRaycast||(_t.prototype.computeBoundsTree=this.computeBoundsTree,_t.prototype.disposeBoundsTree=this.disposeBoundsTree,Qe.prototype.raycast=this.acceleratedRaycast)}}var St;(function(e){e.updateStateUseJson="updateStateUseJson",e.updateStateWebIfcSettings="updateStateWebIfcSettings",e.updateModelStateTypes="updateModelStateTypes",e.updateModelStateJsonData="updateModelStateJsonData",e.loadJsonDataFromWorker="loadJsonDataFromWorker",e.dispose="dispose",e.Close="Close",e.DisposeWebIfc="DisposeWebIfc",e.Init="Init",e.OpenModel="OpenModel",e.CreateModel="CreateModel",e.ExportFileAsIFC="ExportFileAsIFC",e.GetGeometry="GetGeometry",e.GetLine="GetLine",e.GetAndClearErrors="GetAndClearErrors",e.WriteLine="WriteLine",e.FlattenLine="FlattenLine",e.GetRawLineData="GetRawLineData",e.WriteRawLineData="WriteRawLineData",e.GetLineIDsWithType="GetLineIDsWithType",e.GetAllLines="GetAllLines",e.SetGeometryTransformation="SetGeometryTransformation",e.GetCoordinationMatrix="GetCoordinationMatrix",e.GetVertexArray="GetVertexArray",e.GetIndexArray="GetIndexArray",e.getSubArray="getSubArray",e.CloseModel="CloseModel",e.StreamAllMeshes="StreamAllMeshes",e.StreamAllMeshesWithTypes="StreamAllMeshesWithTypes",e.IsModelOpen="IsModelOpen",e.LoadAllGeometry="LoadAllGeometry",e.GetFlatMesh="GetFlatMesh",e.SetWasmPath="SetWasmPath",e.parse="parse",e.setupOptionalCategories="setupOptionalCategories",e.getExpressId="getExpressId",e.initializeProperties="initializeProperties",e.getAllItemsOfType="getAllItemsOfType",e.getItemProperties="getItemProperties",e.getMaterialsProperties="getMaterialsProperties",e.getPropertySets="getPropertySets",e.getSpatialStructure="getSpatialStructure",e.getTypeProperties="getTypeProperties"})(St||(St={}));var to;(function(e){e.workerState="workerState",e.webIfc="webIfc",e.properties="properties",e.parser="parser"})(to||(to={}));class roe{constructor(s){this._data={},this._size=s.size,Object.keys(s).filter(i=>i.indexOf("size")===-1).map(i=>parseInt(i)).forEach(i=>this._data[i]=s[i])}size(){return this._size}get(s){return this._data[s]}}class noe{constructor(s){this._GetVertexData=s.GetVertexData,this._GetVertexDataSize=s.GetVertexDataSize,this._GetIndexData=s.GetIndexData,this._GetIndexDataSize=s.GetIndexDataSize}GetVertexData(){return this._GetVertexData}GetVertexDataSize(){return this._GetVertexDataSize}GetIndexData(){return this._GetIndexData}GetIndexDataSize(){return this._GetIndexDataSize}}class ooe{constructor(s,t){this.expressID=t.expressID,this.geometries=s.reconstructVector(t.geometries)}}class aoe{constructor(s,t){this._data={},this._size=t.size,Object.keys(t).filter(r=>r.indexOf("size")===-1).map(r=>parseInt(r)).forEach(r=>this._data[r]=s.reconstructFlatMesh(t[r]))}size(){return this._size}get(s){return this._data[s]}}class qC{constructor(s){this.color=[s.color.r,s.color.g,s.color.b],this.opacity=s.opacity,this.transparent=s.transparent}}class loe{static new(s){return new fl({color:new it(s.color[0],s.color[1],s.color[2]),opacity:s.opacity,transparent:s.transparent,side:qi})}}class hoe{constructor(s){var t,i,r,n;this.position=((t=s.attributes.position)===null||t===void 0?void 0:t.array)||[],this.normal=((i=s.attributes.normal)===null||i===void 0?void 0:i.array)||[],this.expressID=((r=s.attributes.expressID)===null||r===void 0?void 0:r.array)||[],this.index=((n=s.index)===null||n===void 0?void 0:n.array)||[],this.groups=s.groups}}class Iu{static new(s){const t=new _t;return Iu.set(t,"expressID",new Uint32Array(s.expressID),1),Iu.set(t,"position",new Float32Array(s.position),3),Iu.set(t,"normal",new Float32Array(s.normal),3),t.setIndex(Array.from(s.index)),t.groups=s.groups,t}static set(s,t,i,r){i.length>0&&s.setAttribute(t,new Rt(i,r))}}class coe{constructor(s){this.materials=[],this.modelID=s.modelID,this.geometry=new hoe(s.geometry),Array.isArray(s.material)?s.material.forEach(t=>{this.materials.push(new qC(t))}):this.materials.push(new qC(s.material))}}class E0{static new(s){const t=new nl;return t.modelID=s.modelID,t.geometry=Iu.new(s.geometry),E0.getMaterials(s,t),t}static getMaterials(s,t){t.material=[];const i=t.material;s.materials.forEach(r=>{i.push(loe.new(r))})}}class uoe{serializeVector(s){const t=s.size(),i={size:t};for(let r=0;r<t;r++)i[r]=s.get(r);return i}reconstructVector(s){return new roe(s)}serializeIfcGeometry(s){const t=s.GetVertexData(),i=s.GetVertexDataSize(),r=s.GetIndexData(),n=s.GetIndexDataSize();return{GetVertexData:t,GetVertexDataSize:i,GetIndexData:r,GetIndexDataSize:n}}reconstructIfcGeometry(s){return new noe(s)}serializeFlatMesh(s){return{expressID:s.expressID,geometries:this.serializeVector(s.geometries)}}reconstructFlatMesh(s){return new ooe(this,s)}serializeFlatMeshVector(s){const t=s.size(),i={size:t};for(let r=0;r<t;r++){const n=s.get(r);i[r]=this.serializeFlatMesh(n)}return i}reconstructFlatMeshVector(s){return new aoe(this,s)}serializeIfcModel(s){return new coe(s)}reconstructIfcModel(s){return E0.new(s)}}class poe{constructor(s){this.handler=s,this.API=to.properties}getExpressId(s,t){if(!s.index)throw new Error("Geometry does not have index information.");const i=s.index.array;return s.attributes[IG].getX(i[3*t])}getAllItemsOfType(s,t,i){return this.handler.request(this.API,St.getAllItemsOfType,{modelID:s,type:t,verbose:i})}getItemProperties(s,t,i){return this.handler.request(this.API,St.getItemProperties,{modelID:s,elementID:t,recursive:i})}getMaterialsProperties(s,t,i){return this.handler.request(this.API,St.getMaterialsProperties,{modelID:s,elementID:t,recursive:i})}getPropertySets(s,t,i){return this.handler.request(this.API,St.getPropertySets,{modelID:s,elementID:t,recursive:i})}getTypeProperties(s,t,i){return this.handler.request(this.API,St.getTypeProperties,{modelID:s,elementID:t,recursive:i})}getSpatialStructure(s,t){return this.handler.request(this.API,St.getSpatialStructure,{modelID:s,includeProperties:t})}}class foe{constructor(s,t){this.handler=s,this.serializer=t,this.API=to.webIfc}async Init(){return this.wasmModule=!0,this.handler.request(this.API,St.Init)}async OpenModel(s,t){return this.handler.request(this.API,St.OpenModel,{data:s,settings:t})}async CreateModel(s){return this.handler.request(this.API,St.CreateModel,{settings:s})}async ExportFileAsIFC(s){return this.handler.request(this.API,St.ExportFileAsIFC,{modelID:s})}async GetGeometry(s,t){return this.handler.serializeHandlers[this.handler.requestID]=i=>this.serializer.reconstructIfcGeometry(i),this.handler.request(this.API,St.GetGeometry,{modelID:s,geometryExpressID:t})}async GetLine(s,t,i){return this.handler.request(this.API,St.GetLine,{modelID:s,expressID:t,flatten:i})}async GetAndClearErrors(s){return this.handler.serializeHandlers[this.handler.requestID]=t=>this.serializer.reconstructVector(t),this.handler.request(this.API,St.GetAndClearErrors,{modelID:s})}async WriteLine(s,t){return this.handler.request(this.API,St.WriteLine,{modelID:s,lineObject:t})}async FlattenLine(s,t){return this.handler.request(this.API,St.FlattenLine,{modelID:s,line:t})}async GetRawLineData(s,t){return this.handler.request(this.API,St.GetRawLineData,{modelID:s,expressID:t})}async WriteRawLineData(s,t){return this.handler.request(this.API,St.WriteRawLineData,{modelID:s,data:t})}async GetLineIDsWithType(s,t){return this.handler.serializeHandlers[this.handler.requestID]=i=>this.serializer.reconstructVector(i),this.handler.request(this.API,St.GetLineIDsWithType,{modelID:s,type:t})}async GetAllLines(s){return this.handler.serializeHandlers[this.handler.requestID]=t=>this.serializer.reconstructVector(t),this.handler.request(this.API,St.GetAllLines,{modelID:s})}async SetGeometryTransformation(s,t){return this.handler.request(this.API,St.SetGeometryTransformation,{modelID:s,transformationMatrix:t})}async GetCoordinationMatrix(s){return this.handler.request(this.API,St.GetCoordinationMatrix,{modelID:s})}async GetVertexArray(s,t){return this.handler.request(this.API,St.GetVertexArray,{ptr:s,size:t})}async GetIndexArray(s,t){return this.handler.request(this.API,St.GetIndexArray,{ptr:s,size:t})}async getSubArray(s,t,i){return this.handler.request(this.API,St.getSubArray,{heap:s,startPtr:t,sizeBytes:i})}async CloseModel(s){return this.handler.request(this.API,St.CloseModel,{modelID:s})}async StreamAllMeshes(s,t){return this.handler.callbackHandlers[this.handler.requestID]={action:t,serializer:this.serializer.reconstructFlatMesh},this.handler.request(this.API,St.StreamAllMeshes,{modelID:s})}async StreamAllMeshesWithTypes(s,t,i){return this.handler.callbackHandlers[this.handler.requestID]={action:i,serializer:this.serializer.reconstructFlatMesh},this.handler.request(this.API,St.StreamAllMeshesWithTypes,{modelID:s,types:t})}async IsModelOpen(s){return this.handler.request(this.API,St.IsModelOpen,{modelID:s})}async LoadAllGeometry(s){return this.handler.serializeHandlers[this.handler.requestID]=t=>this.serializer.reconstructFlatMeshVector(t),this.handler.request(this.API,St.LoadAllGeometry,{modelID:s})}async GetFlatMesh(s,t){return this.handler.serializeHandlers[this.handler.requestID]=i=>this.serializer.reconstructFlatMesh(i),this.handler.request(this.API,St.GetFlatMesh,{modelID:s,expressID:t})}async SetWasmPath(s){return this.handler.request(this.API,St.SetWasmPath,{path:s})}}class doe{constructor(s){this.handler=s,this.API=to.workerState,this.state=this.handler.state}async updateStateUseJson(){const s=this.state.useJSON;return this.handler.request(this.API,St.updateStateUseJson,{useJson:s})}async updateStateWebIfcSettings(){const s=this.state.webIfcSettings;return this.handler.request(this.API,St.updateStateWebIfcSettings,{webIfcSettings:s})}async updateModelStateTypes(s,t){return this.handler.request(this.API,St.updateModelStateTypes,{modelID:s,types:t})}async updateModelStateJsonData(s,t){return this.handler.request(this.API,St.updateModelStateJsonData,{modelID:s,jsonData:t})}async loadJsonDataFromWorker(s,t){return this.handler.request(this.API,St.loadJsonDataFromWorker,{modelID:s,path:t})}}var Ay;(function(e){e[e.transferIfcModel=0]="transferIfcModel",e[e.transferIndividualItems=1]="transferIndividualItems"})(Ay||(Ay={}));class Uo{async save(s,t){const i=Uo.openOrCreateDB(t);return this.createSchema(i,t),new Promise((r,n)=>{i.onsuccess=()=>this.saveItem(s,i,t,r)})}async load(s){const t=Uo.openOrCreateDB(s);return new Promise((i,r)=>{t.onsuccess=()=>this.loadItem(t,s,i)})}createSchema(s,t){s.onupgradeneeded=function(){s.result.createObjectStore(t.toString(),{keyPath:"id"})}}saveItem(s,t,i,r){const{db:n,tx:o,store:a}=Uo.getDBItems(t,i);s.id=i,a.put(s),o.oncomplete=()=>Uo.closeDB(n,o,r)}loadItem(s,t,i){const{db:r,tx:n,store:o}=Uo.getDBItems(s,t),a=o.get(t),l=()=>{delete a.result.id,i(a.result)};n.oncomplete=()=>Uo.closeDB(r,n,l)}static getDBItems(s,t){const i=s.result,r=i.transaction(t.toString(),"readwrite"),n=r.objectStore(t.toString());return{db:i,tx:r,store:n}}static openOrCreateDB(s){return indexedDB.open(s.toString(),1)}static closeDB(s,t,i){s.close(),i("success")}}class moe{constructor(s,t,i,r){this.handler=s,this.serializer=t,this.BVH=i,this.IDB=r,this.optionalCategories={[pm]:!0,[um]:!1},this.API=to.parser}async setupOptionalCategories(s){return this.optionalCategories=s,this.handler.request(this.API,St.setupOptionalCategories,{config:s})}async parse(s,t){return this.handler.onprogressHandlers[this.handler.requestID]=i=>{this.handler.state.onProgress&&this.handler.state.onProgress(i)},this.handler.serializeHandlers[this.handler.requestID]=async i=>(this.updateState(i.modelID),this.getModel()),this.handler.request(this.API,St.parse,{buffer:s,coordinationMatrix:t})}getAndClearErrors(s){}updateState(s){this.handler.state.models[s]={modelID:s,mesh:{},types:{},jsonData:{}}}async getModel(){const s=await this.IDB.load(Ay.transferIfcModel),t=this.serializer.reconstructIfcModel(s);return this.BVH.applyThreeMeshBVH(t.geometry),this.handler.state.models[t.modelID].mesh=t,t}}class Toe{constructor(s,t){this.state=s,this.BVH=t,this.requestID=0,this.rejectHandlers={},this.resolveHandlers={},this.serializeHandlers={},this.callbackHandlers={},this.onprogressHandlers={},this.serializer=new uoe,this.IDB=new Uo,this.workerPath=this.state.worker.path,this.ifcWorker=new Worker(this.workerPath),this.ifcWorker.onmessage=i=>this.handleResponse(i),this.properties=new poe(this),this.parser=new moe(this,this.serializer,this.BVH,this.IDB),this.webIfc=new foe(this,this.serializer),this.workerState=new doe(this)}request(s,t,i){const r={worker:s,action:t,args:i,id:this.requestID,result:void 0,onProgress:!1};return new Promise((n,o)=>{this.resolveHandlers[this.requestID]=n,this.rejectHandlers[this.requestID]=o,this.requestID++,this.ifcWorker.postMessage(r)})}async terminate(){await this.request(to.workerState,St.dispose),await this.request(to.webIfc,St.DisposeWebIfc),this.ifcWorker.terminate()}async Close(){await this.request(to.webIfc,St.Close)}handleResponse(s){const t=s.data;if(t.onProgress){this.resolveOnProgress(t);return}this.callHandlers(t),delete this.resolveHandlers[t.id],delete this.rejectHandlers[t.id],delete this.onprogressHandlers[t.id]}callHandlers(s){try{this.resolveSerializations(s),this.resolveCallbacks(s),this.resolveHandlers[s.id](s.result)}catch(t){this.rejectHandlers[s.id](t)}}resolveOnProgress(s){this.onprogressHandlers[s.id]&&(s.result=this.onprogressHandlers[s.id](s.result))}resolveSerializations(s){this.serializeHandlers[s.id]&&(s.result=this.serializeHandlers[s.id](s.result),delete this.serializeHandlers[s.id])}resolveCallbacks(s){if(this.callbackHandlers[s.id]){let t=s.result;this.callbackHandlers[s.id].serializer&&(t=this.callbackHandlers[s.id].serializer(s.result)),this.callbackHandlers[s.id].action(t)}}}class goe{constructor(s){this.state=s}async dispose(){Object.keys(this.state.models).forEach(s=>{const t=this.state.models[parseInt(s,10)];t.mesh.removeFromParent();const i=t.mesh.geometry;i.disposeBoundsTree&&i.disposeBoundsTree(),i.dispose(),Array.isArray(t.mesh.material)?t.mesh.material.forEach(r=>r.dispose()):t.mesh.material.dispose(),t.mesh=null,t.types=null,t.jsonData=null}),this.state.api=null,this.state.models=null}}class EG{constructor(s){this.state=s,this.map={}}getMapping(){this.map=this.reverseElementMapping(yu)}releaseMapping(){this.map={}}reverseElementMapping(s){let t={};return Object.keys(s).forEach(i=>{t[s[i]]=i}),t}isA(s,t){var i=!1;return t?(yu[s.type]===t.toUpperCase()&&(i=!0),i):yu[s.type]}async byId(s,t){return this.state.api.GetLine(s,t)}async idsByType(s,t){this.getMapping();let i=await this.state.api.GetLineIDsWithType(s,Number(this.map[t.toUpperCase()]));return this.releaseMapping(),i}async byType(s,t){let i=await this.idsByType(s,t);if(i!==null){this.getMapping();let r=[];for(let n=0;n<i.size();n++){let o=await this.byId(s,i.get(n));r.push(o)}return this.releaseMapping(),r}}}class yoe{constructor(s){this.state=s,this.isLoaded=!1,this.workPlans={},this.workSchedules={},this.workCalendars={},this.workTimes={},this.recurrencePatterns={},this.timePeriods={},this.tasks={},this.taskTimes={},this.lagTimes={},this.sequences={},this.utils=new EG(this.state)}async load(s){await this.loadTasks(s),await this.loadWorkSchedules(s),await this.loadWorkCalendars(s),await this.loadWorkTimes(s),await this.loadTimePeriods(s),this.isLoaded=!0}async loadWorkSchedules(s){let t=await this.utils.byType(s,"IfcWorkSchedule");for(let i=0;i<t.length;i++){let r=t[i];this.workSchedules[r.expressID]={Id:r.expressID,Name:r.Name.value,Description:r.Description?r.Description.value:"",Creators:[],CreationDate:r.CreationDate?r.CreationDate.value:"",StartTime:r.StartTime?r.StartTime.value:"",FinishTime:r.FinishTime?r.FinishTime.value:"",TotalFloat:r.TotalFloat?r.TotalFloat.value:"",RelatedObjects:[]}}this.loadWorkScheduleRelatedObjects(s)}async loadWorkScheduleRelatedObjects(s){let t=await this.utils.byType(s,"IfcRelAssignsToControl");for(let r=0;r<t.length;r++){let n=t[r],o=await this.utils.byId(s,n.RelatingControl.value),a=n.RelatedObjects;if(this.utils.isA(o,"IfcWorkSchedule"))for(var i=0;i<a.length;i++)this.workSchedules[o.expressID].RelatedObjects.push(a[i].value)}}async loadTasks(s){let t=await this.utils.byType(s,"IfcTask");for(let i=0;i<t.length;i++){let r=t[i];this.tasks[r.expressID]={Id:r.expressID,Name:r.Name?r.Name.value:"",PredefinedType:r.PredefinedType?r.PredefinedType.value:"",TaskTime:r.TaskTime?await this.utils.byId(s,r.TaskTime.value):"",Identification:r.Identification?r.Identification.value:"",IsMilestone:r.IsMilestone?r.IsMilestone.value:"",IsPredecessorTo:[],IsSucessorFrom:[],Inputs:[],Resources:[],Outputs:[],Controls:[],Nests:[],IsNestedBy:[],OperatesOn:[],HasAssignmentsWorkCalendars:[]}}await this.loadTaskSequence(s),await this.loadTaskOutputs(s),await this.loadTaskNesting(s),await this.loadTaskOperations(s),await this.loadAssignementsWorkCalendar(s)}async loadTaskSequence(s){let t=await this.utils.idsByType(s,"IfcRelSequence");for(let i=0;i<t.size();i++){let r=t.get(i);if(r!==0){let n=await this.utils.byId(s,r),o=n.RelatedProcess.value,a=n.RelatingProcess.value;this.tasks[a].IsPredecessorTo.push(n.expressID),this.tasks[o].IsSucessorFrom.push(n.expressID)}}}async loadTaskOutputs(s){let t=await this.utils.byType(s,"IfcRelAssignsToProduct");for(let i=0;i<t.length;i++){let r=t[i],n=await this.utils.byId(s,r.RelatedObjects[0].value);if(this.utils.isA(n,"IfcTask")){let o=await this.utils.byId(s,r.RelatingProduct.value);this.tasks[n.expressID].Outputs.push(o.expressID)}}}async loadTaskNesting(s){let t=await this.utils.byType(s,"IfcRelNests");for(let r=0;r<t.length;r++){let n=t[r],o=await this.utils.byId(s,n.RelatingObject.value);if(this.utils.isA(o,"IfcTask")){let a=n.RelatedObjects;for(var i=0;i<a.length;i++)this.tasks[o.expressID].IsNestedBy.push(a[i].value),this.tasks[a[i].value].Nests.push(o.expressID)}}}async loadTaskOperations(s){let t=await this.utils.byType(s,"IfcRelAssignsToProcess");for(let r=0;r<t.length;r++){let n=t[r],o=await this.utils.byId(s,n.RelatingProcess.value);if(this.utils.isA(o,"IfcTask")){let a=n.RelatedObjects;for(var i=0;i<a.length;i++)this.tasks[o.expressID].OperatesOn.push(a[i].value)}}}async loadAssignementsWorkCalendar(s){let t=await this.utils.byType(s,"IfcRelAssignsToControl");for(let r=0;r<t.length;r++){let n=t[r],o=await this.utils.byId(s,n.RelatingControl.value);if(this.utils.isA(o,"IfcWorkCalendar")){let a=n.RelatedObjects;for(var i=0;i<a.length;i++)this.tasks[a[i].value].HasAssignmentsWorkCalendars.push(o.expressID)}}}async loadWorkCalendars(s){let t=await this.utils.byType(s,"IfcWorkCalendar");for(let i=0;i<t.length;i++){let r=t[i],n={Id:r.expressID,Name:r.Name?r.Name.value:"",Description:r.Description?r.Description.value:"",WorkingTimes:r.WorkingTimes?r.WorkingTimes:[],ExceptionTimes:r.ExceptionTimes?r.ExceptionTimes:[]};this.workCalendars[r.expressID]=n}}async loadWorkTimes(s){let t=await this.utils.byType(s,"IfcWorkTime");for(let i=0;i<t.length;i++){let r=t[i],n={Name:r.Name?r.Name.value:"",RecurrencePattern:r.RecurrencePattern?await this.utils.byId(s,r.RecurrencePattern.value):"",Start:r.Start?new Date(r.Start.value):"",Finish:r.Finish?new Date(r.Finish.value):""};this.workTimes[r.expressID]=n}}async loadTimePeriods(s){let t=await this.utils.byType(s,"IfcTimePeriod");for(let i=0;i<t.length;i++){let r=t[i],n={StartTime:r.StartTime?new Date(r.StartTime.value):"",EndTime:r.EndTime?new Date(r.EndTime.value):""};this.timePeriods[r.expressID]=n}}}class Ioe{constructor(){this.state={models:[],api:new gg,useJSON:!1,worker:{active:!1,path:""}},this.BVH=new ioe,this.typesMap=yu,this.parser=new Zne(this.state,this.BVH),this.subsets=new eoe(this.state,this.BVH),this.utils=new EG(this.state),this.sequenceData=new yoe(this.state),this.properties=new toe(this.state),this.types=new soe(this.state),this.cleaner=new goe(this.state)}get ifcAPI(){return this.state.api}async parse(s){var t;const i=await this.parser.parse(s,(t=this.state.coordinationMatrix)===null||t===void 0?void 0:t.toArray());return i.setIFCManager(this),await this.types.getAllTypes(this.worker),i}async setWasmPath(s){this.state.api.SetWasmPath(s),this.state.wasmPath=s}setupThreeMeshBVH(s,t,i){this.BVH.initializeMeshBVH(s,t,i)}setOnProgress(s){this.state.onProgress=s}setupCoordinationMatrix(s){this.state.coordinationMatrix=s}clearCoordinationMatrix(){delete this.state.coordinationMatrix}async applyWebIfcConfig(s){this.state.webIfcSettings=s,this.state.worker.active&&this.worker&&await this.worker.workerState.updateStateWebIfcSettings()}async useWebWorkers(s,t){if(this.state.worker.active!==s)if(this.state.api=null,s){if(!t)throw new Error("You must provide a path to the web worker.");this.state.worker.active=s,this.state.worker.path=t,await this.initializeWorkers();const i=this.state.wasmPath;i&&await this.setWasmPath(i)}else this.state.api=new gg}async useJSONData(s=!0){var t;this.state.useJSON=s,s&&await((t=this.worker)===null||t===void 0?void 0:t.workerState.updateStateUseJson())}async addModelJSONData(s,t){var i;const r=this.state.models[s];if(!r)throw new Error("The specified model for the JSON data does not exist");this.state.worker.active?await((i=this.worker)===null||i===void 0?void 0:i.workerState.updateModelStateJsonData(s,t)):r.jsonData=t}async loadJsonDataFromWorker(s,t){var i;this.state.worker.active&&await((i=this.worker)===null||i===void 0?void 0:i.workerState.loadJsonDataFromWorker(s,t))}close(s,t){this.state.api.CloseModel(s),t&&t.remove(this.state.models[s].mesh),delete this.state.models[s]}getExpressId(s,t){return this.properties.getExpressId(s,t)}getAllItemsOfType(s,t,i){return this.properties.getAllItemsOfType(s,t,i)}getItemProperties(s,t,i=!1){return this.properties.getItemProperties(s,t,i)}getPropertySets(s,t,i=!1){return this.properties.getPropertySets(s,t,i)}getTypeProperties(s,t,i=!1){return this.properties.getTypeProperties(s,t,i)}getMaterialsProperties(s,t,i=!1){return this.properties.getMaterialsProperties(s,t,i)}getIfcType(s,t){const i=this.state.models[s].types[t];return y0[i]}getSpatialStructure(s,t){return this.properties.getSpatialStructure(s,t)}getSubset(s,t,i){return this.subsets.getSubset(s,t,i)}removeSubset(s,t,i){this.subsets.removeSubset(s,t,i)}createSubset(s){return this.subsets.createSubset(s)}removeFromSubset(s,t,i,r){return this.subsets.removeFromSubset(s,t,i,r)}clearSubset(s,t,i){return this.subsets.clearSubset(s,t,i)}async isA(s,t){return this.utils.isA(s,t)}async getSequenceData(s){return await this.sequenceData.load(s),this.sequenceData}async byType(s,t){return this.utils.byType(s,t)}async byId(s,t){return this.utils.byId(s,t)}async idsByType(s,t){return this.utils.idsByType(s,t)}async dispose(){nl.dispose(),await this.cleaner.dispose(),this.subsets.dispose(),this.worker&&this.state.worker.active&&await this.worker.terminate(),this.state=null}async disposeMemory(){var s;this.state.worker.active?await((s=this.worker)===null||s===void 0?void 0:s.Close()):(this.state.api.Close(),this.state.api=null,this.state.api=new gg)}getAndClearErrors(s){return this.parser.getAndClearErrors(s)}async initializeWorkers(){this.worker=new Toe(this.state,this.BVH),this.state.api=this.worker.webIfc,this.properties=this.worker.properties,await this.worker.parser.setupOptionalCategories(this.parser.optionalCategories),this.parser=this.worker.parser,await this.worker.workerState.updateStateUseJson(),await this.worker.workerState.updateStateWebIfcSettings()}}class vG extends Pn{constructor(s){super(s),this.ifcManager=new Ioe}load(s,t,i,r){const n=this,o=new hm(n.manager);this.onProgress=i,o.setPath(n.path),o.setResponseType("arraybuffer"),o.setRequestHeader(n.requestHeader),o.setWithCredentials(n.withCredentials),o.load(s,async function(a){try{if(typeof a=="string")throw new Error("IFC files must be given as a buffer!");t(await n.parse(a))}catch(l){r?r(l):console.error(l),n.manager.itemError(s)}},i,r)}parse(s){return this.ifcManager.parse(s)}}class Jf extends Fi{constructor(s,t,i){super(s),this.context=s,this.meshes=new Set,this.fastRemovePrevious=!1,this.renderOrder=0,this.modelIDs=new Set,this.selectedFaces={},this.pick=async(r,n=!1,o=!0)=>{var a;const l=r.object;if(r.faceIndex===void 0||((a=this.selectedFaces[l.modelID])===null||a===void 0?void 0:a.has(r.faceIndex)))return null;const h=this.loader.ifcManager.getExpressId(l.geometry,r.faceIndex);if(h===void 0)return null;o&&(this.fastRemovePrevious?(this.toggleVisibility(!1),this.modelIDs.clear(),this.selectedFaces={}):this.unpick()),this.selectedFaces[l.modelID]||(this.selectedFaces[l.modelID]=new Set),this.selectedFaces[l.modelID].add(r.faceIndex),this.modelIDs.add(l.modelID);const c=this.newSelection(l.modelID,[h],o);return c.position.copy(l.position),c.rotation.copy(l.rotation),c.scale.copy(l.scale),c.visible=!0,c.renderOrder=this.renderOrder,n&&await this.focusSelection(c),{modelID:l.modelID,id:h}},this.pickByID=async(r,n,o=!1,a=!0)=>{const l=this.context.items.ifcModels.find(c=>c.modelID===r);if(!l)return;a&&this.modelIDs.clear(),this.modelIDs.add(r);const h=this.newSelection(r,n,a);h.visible=!0,h.position.copy(l.position),h.rotation.copy(l.rotation),h.scale.copy(l.scale),h.renderOrder=this.renderOrder,o&&await this.focusSelection(h)},this.newSelection=(r,n,o)=>{const a=this.loader.ifcManager.createSubset({scene:this.scene,modelID:r,ids:n,removePrevious:o,material:this.material});return a&&(this.meshes.add(a),this.context.renderer.postProduction.excludedItems.add(a)),a},this.scene=s.getScene(),this.loader=t,i&&(this.material=i)}dispose(){var s;this.meshes.forEach(t=>{t.removeFromParent(),t.geometry.dispose()}),(s=this.material)===null||s===void 0||s.dispose(),this.meshes=null,this.material=null,this.scene=null,this.loader=null,this.context=null}unpick(){for(const s of this.modelIDs)this.loader.ifcManager.removeSubset(s,this.material);this.modelIDs.clear(),this.meshes.clear(),this.selectedFaces={}}toggleVisibility(s){this.meshes.forEach(t=>t.visible=s)}async focusSelection(s){const t=this.context.renderer.postProduction.active;this.context.renderer.postProduction.active=!1,await this.context.ifcCamera.targetItem(s),this.context.renderer.postProduction.active=t}}class Eoe{constructor(s,t){this.context=s,this.ifc=t,this.userDataField="ifcjsFadedModel",this.defSelectMat=this.initializeDefMaterial(16724991,.3),this.defPreselectMat=this.initializeDefMaterial(16733695,.5),this.defHighlightMat=this.initializeDefMaterial(15658734,.05),this.preselection=new Jf(s,this.ifc.loader,this.defPreselectMat),this.preselection.fastRemovePrevious=!0,this.selection=new Jf(s,this.ifc.loader,this.defSelectMat),this.highlight=new Jf(s,this.ifc.loader),this.highlight.renderOrder=-1}dispose(){var s,t,i;(s=this.defPreselectMat)===null||s===void 0||s.dispose(),this.defHighlightMat=null,(t=this.defSelectMat)===null||t===void 0||t.dispose(),this.defSelectMat=null,(i=this.defHighlightMat)===null||i===void 0||i.dispose(),this.defHighlightMat=null,this.preselection.dispose(),this.preselection=null,this.selection.dispose(),this.selection=null,this.highlight.dispose(),this.highlight=null}async prePickIfcItem(){const s=this.context.castRayIfc();if(!s){this.preselection.toggleVisibility(!1);return}await this.preselection.pick(s)}async pickIfcItem(s=!1,t=!0){const i=this.context.castRayIfc();if(!i)return null;const r=await this.selection.pick(i,s,t);return r==null||r.modelID==null||r.id==null?null:r}async highlightIfcItem(s=!1,t=!0){const i=this.context.castRayIfc();if(!i)return null;this.fadeAwayModels();const r=await this.highlight.pick(i,s,t);return r==null||r.modelID==null||r.id==null?null:r}async pickIfcItemsByID(s,t,i=!1,r=!0){await this.selection.pickByID(s,t,i,r)}async prepickIfcItemsByID(s,t,i=!1,r=!0){await this.preselection.pickByID(s,t,i,r)}async highlightIfcItemsByID(s,t,i=!1,r=!0){this.fadeAwayModels(),await this.highlight.pickByID(s,t,i,r)}unpickIfcItems(){this.selection.unpick()}unPrepickIfcItems(){this.preselection.unpick()}unHighlightIfcItems(){this.context.items.ifcModels.forEach(s=>this.unHighlightItem(s)),this.highlight.unpick(),this.context.renderer.postProduction.active&&(this.context.renderer.postProduction.visible=!0)}unHighlightItem(s){const t=s.userData[this.userDataField];t&&t.parent&&(t.parent.add(s),t.removeFromParent())}fadeAwayModels(){this.context.items.ifcModels.forEach(s=>{if(!s.userData[this.userDataField]){const t=new Qe(s.geometry,this.defHighlightMat);s.userData[this.userDataField]=t,this.context.renderer.postProduction.excludedItems.add(t)}if(s.parent){const t=s.userData[this.userDataField];t.position.copy(s.position),t.rotation.copy(s.rotation),t.scale.copy(s.scale),s.parent.add(t),s.removeFromParent()}})}initializeDefMaterial(s,t){const i=this.context.getClippingPlanes();return new fl({color:s,opacity:t,transparent:!0,depthTest:!1,side:qi,clippingPlanes:i})}}const voe=new Set([1123145078,574549367,1675464909,2059837836,3798115385,32440307,3125803723,3207858831,2740243338,2624227202,4240577450,3615266464,3724593414,220341763,477187591,1878645084,1300840506,3303107099,1607154358,1878645084,846575682,1351298697,2417041796,3049322572,3331915920,1416205885,776857604,3285139300,3958052878,2827736869,2732653382,673634403,3448662350,4142052618,2924175390,803316827,2556980723,1809719519,2205249479,807026263,3737207727,1660063152,2347385850,3940055652,2705031697,3732776249,2485617015,2611217952,1704287377,2937912522,2770003689,1281925730,1484403080,3448662350,4142052618,3800577675,4006246654,3590301190,1383045692,2775532180,2047409740,370225590,3593883385,2665983363,4124623270,812098782,3649129432,987898635,1105321065,3510044353,1635779807,2603310189,3406155212,1310608509,4261334040,2736907675,3649129432,1136057603,1260505505,4182860854,2713105998,2898889636,59481748,3749851601,3486308946,3150382593,1062206242,3264961684,15328376,1485152156,370225590,1981873012,2859738748,45288368,2614616156,2732653382,775493141,2147822146,2601014836,2629017746,1186437898,2367409068,1213902940,3632507154,3900360178,476780140,1472233963,2804161546,3008276851,738692330,374418227,315944413,3905492369,3570813810,2571569899,178912537,2294589976,1437953363,2133299955,572779678,3092502836,388784114,2624227202,1425443689,3057273783,2347385850,1682466193,2519244187,2839578677,3958567839,2513912981,2830218821,427810014]);class Coe{constructor(s,t){this.context=s,this.loader=t}dispose(){this.context=null,this.loader=null,this.webIfc=null}async serializeAllProperties(s,t,i){if(this.webIfc=this.loader.ifcManager.ifcAPI,!s)throw new Error("The requested model was not found.");const r=[];return await this.getPropertiesAsBlobs(s.modelID,r,t,i),r}async getPropertiesAsBlobs(s,t,i,r){const n=await this.getAllGeometriesIDs(s);let o=await this.initializePropertiesObject(s);const a=await this.webIfc.GetAllLines(s),l=a.size();let h=.1,c=0;for(let u=0;u<l;u++){const p=a.get(u);n.has(p)||(await this.getItemProperty(s,p,o),c++),i&&c>i&&(t.push(new Blob([JSON.stringify(o)],{type:"application/json"})),o={},c=0),r&&u/l>h&&(r(u,l),h+=.1)}t.push(new Blob([JSON.stringify(o)],{type:"application/json"}))}async getItemProperty(s,t,i){try{const r=await this.webIfc.GetLine(s,t);r.type&&(r.type=this.loader.ifcManager.typesMap[r.type]),this.formatItemProperties(r),i[t]=r}catch{console.log(`There was a problem getting the properties of the item with ID ${t}`)}}formatItemProperties(s){Object.keys(s).forEach(t=>{const i=s[t];i&&i.value!==void 0?s[t]=i.value:Array.isArray(i)&&(s[t]=i.map(r=>r&&r.value?r.value:r))})}async initializePropertiesObject(s){return{coordinationMatrix:await this.webIfc.GetCoordinationMatrix(s),globalHeight:await this.getBuildingHeight(s)}}async getBuildingHeight(s){const t=await this.getBuilding(s);let i;const r=t.ObjectPlacement.PlacementRelTo;return r?i=r.RelativePlacement.Location:i=t.ObjectPlacement.RelativePlacement.Location,i.Coordinates.map(o=>o.value)[2]}async getBuilding(s){const t=this.loader.ifcManager,r=(await t.getAllItemsOfType(s,ip,!1))[0];return t.getItemProperties(s,r,!0)}async getAllGeometriesIDs(s){const t=new Set,i=Array.from(voe);for(let r=0;r<i.length;r++){const n=i[r],o=await this.webIfc.GetLineIDsWithType(s,n),a=o.size();for(let l=0;l<a;l++)t.add(o.get(l))}return t}}class _oe extends Fi{constructor(s){super(s),this.context=s,this.loader=new vG,this.setupThreeMeshBVH(),this.selector=new Eoe(s,this),this.units=new mne(this),this.properties=new Coe(s,this.loader)}async dispose(){this.context=null,this.selector.dispose(),this.selector=null,this.units.dispose(),this.units=null,this.properties.dispose(),this.properties=null,await this.loader.ifcManager.dispose(),this.loader=null}async loadIfc(s,t=!1,i){const r=URL.createObjectURL(s);return this.loadIfcUrl(r,t,void 0,i)}async loadIfcUrl(s,t=!1,i,r){try{const n=Boolean(this.context.items.ifcModels.length===0),o=this.loader.ifcManager.state.webIfcSettings,a=(o==null?void 0:o.USE_FAST_BOOLS)||!0;await this.loader.ifcManager.applyWebIfcConfig({COORDINATE_TO_ORIGIN:n,USE_FAST_BOOLS:a});const l=await this.loader.loadAsync(s,i);if(this.addIfcModel(l),n){const h=await this.loader.ifcManager.ifcAPI.GetCoordinationMatrix(l.modelID),c=new rt().fromArray(h);this.loader.ifcManager.setupCoordinationMatrix(c)}return t&&this.context.fitToFrame(),l}catch(n){return console.error("Error loading IFC."),console.error(n),r&&r(n),null}}async setWasmPath(s){await this.loader.ifcManager.setWasmPath(s)}async applyWebIfcConfig(s){await this.loader.ifcManager.applyWebIfcConfig(s)}getSpatialStructure(s,t){return this.loader.ifcManager.getSpatialStructure(s,t)}async getProperties(s,t,i,r){if(s==null||t==null)return null;const n=await this.loader.ifcManager.getItemProperties(s,t,r);return i&&(n.psets=await this.loader.ifcManager.getPropertySets(s,t,r),n.mats=await this.loader.ifcManager.getMaterialsProperties(s,t,r),n.type=await this.loader.ifcManager.getTypeProperties(s,t,r)),n}getModelID(){const s=this.context.castRayIfc();if(!s)return null;const t=s.object;return!t||t.modelID===void 0||t.modelID===null?null:t.modelID}getAllItemsOfType(s,t,i=!1){return this.loader.ifcManager.getAllItemsOfType(s,t,i)}async prePickIfcItem(){await this.selector.prePickIfcItem()}async pickIfcItem(s=!1){return this.selector.pickIfcItem(s)}async highlightIfcItem(s=!1){return this.selector.highlightIfcItem(s)}async pickIfcItemsByID(s,t,i=!1){await this.selector.pickIfcItemsByID(s,t,i)}async prepickIfcItemsByID(s,t,i=!1){await this.selector.prepickIfcItemsByID(s,t,i)}async highlightIfcItemsByID(s,t,i=!1){await this.selector.highlightIfcItemsByID(s,t,i)}unpickIfcItems(){this.selector.unpickIfcItems()}unPrepickIfcItems(){this.selector.unPrepickIfcItems()}unHighlightIfcItems(){this.selector.unHighlightIfcItems()}addIfcModel(s){this.context.items.ifcModels.push(s),this.context.items.pickableIfcModels.push(s),this.context.getScene().add(s)}setupThreeMeshBVH(){this.loader.ifcManager.setupThreeMeshBVH(Qne,$ne,qne)}}class woe extends Fi{constructor(s,t){super(s),this.onDBChooserSuccess=async i=>{const n=await(await fetch(i[0].link)).text(),o=new Blob([n],{type:"text/plain"}),a=new File([o],"ifcFile");this.loader.loadIfc(a)},this.getOptions=()=>({success:this.onDBChooserSuccess,cancel:this.onDBChooserCancel,linkType:"direct",multiselect:!1,extensions:[".ifc"],folderselect:!1}),this.loader=t,this.counter=0}initializeAPI(){const s=document.createElement("script");s.type="text/javascript",s.src="https://www.dropbox.com/static/api/2/dropins.js",s.id="dropboxjs",s.setAttribute("data-app-key","iej3z16hhyca35a"),document.getElementsByTagName("head")[0].appendChild(s)}loadDropboxIfc(){this.openDropboxChooser(this.getOptions())}openDropboxChooser(s){try{if(Dropbox)return Dropbox.choose(this.getOptions()),clearTimeout(this.tid)}catch{if(this.counter++>9)return this.errorOnConnection();this.tid=setTimeout(()=>this.openDropboxChooser(s),2e3)}return null}errorOnConnection(){console.error("Error: could not communicate with dropbox"),clearTimeout(this.tid)}onDBChooserCancel(s){console.log("Canceled!")}}/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const qs={LEFT:1,RIGHT:2,MIDDLE:4},pt=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_ZOOM_TRUCK:4096,TOUCH_ZOOM_OFFSET:8192});function Ra(e){return e.isPerspectiveCamera}function No(e){return e.isOrthographicCamera}const hh=Math.PI*2,QC=Math.PI/2,CG=1e-5;function Is(e,s=CG){return Math.abs(e)<s}function Cs(e,s,t=CG){return Is(e-s,t)}function $C(e,s){return Math.round(e/s)*s}function Wc(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Yc(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function xg(e,s){s.set(0,0),e.forEach(t=>{s.x+=t.clientX,s.y+=t.clientY}),s.x/=e.length,s.y/=e.length}function bg(e,s){return No(e)?(console.warn(`${s} is not supported in OrthographicCamera`),!0):!1}function ZC(e){return e.invert?e.invert():e.inverse(),e}class Soe{constructor(){this._listeners={}}addEventListener(s,t){const i=this._listeners;i[s]===void 0&&(i[s]=[]),i[s].indexOf(t)===-1&&i[s].push(t)}removeEventListener(s,t){const r=this._listeners[s];if(r!==void 0){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}}removeAllEventListeners(s){if(!s){this._listeners={};return}Array.isArray(this._listeners[s])&&(this._listeners[s].length=0)}dispatchEvent(s){const i=this._listeners[s.type];if(i!==void 0){s.target=this;const r=i.slice(0);for(let n=0,o=r.length;n<o;n++)r[n].call(this,s)}}}const _G=typeof window<"u",xoe=_G&&/Mac/.test(navigator.platform),KC=!(_G&&"PointerEvent"in window),Nf=1/8;let vt,JC,Lf,Fg,Li,Gt,os,ch,hn,cn,Pa,e_,t_,Wr,Xc,Ah,s_,Rg,i_,Pg,Ag,Uf;class Zo extends Soe{constructor(s,t){if(super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=0,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.dampingFactor=.05,this.draggingDampingFactor=.25,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=pt.NONE,this._viewport=null,this._dollyControlAmount=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._activePointers=[],this._truckInternal=(i,r,n)=>{if(Ra(this._camera)){const o=Gt.copy(this._camera.position).sub(this._target),a=this._camera.getEffectiveFOV()*vt.MathUtils.DEG2RAD,l=o.length()*Math.tan(a*.5),h=this.truckSpeed*i*l/this._elementRect.height,c=this.truckSpeed*r*l/this._elementRect.height;this.verticalDragToForward?(n?this.setFocalOffset(this._focalOffsetEnd.x+h,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(h,0,!0),this.forward(-c,!0)):n?this.setFocalOffset(this._focalOffsetEnd.x+h,this._focalOffsetEnd.y+c,this._focalOffsetEnd.z,!0):this.truck(h,c,!0)}else if(No(this._camera)){const o=this._camera,a=i*(o.right-o.left)/o.zoom/this._elementRect.width,l=r*(o.top-o.bottom)/o.zoom/this._elementRect.height;n?this.setFocalOffset(this._focalOffsetEnd.x+a,this._focalOffsetEnd.y+l,this._focalOffsetEnd.z,!0):this.truck(a,l,!0)}},this._rotateInternal=(i,r)=>{const n=hh*this.azimuthRotateSpeed*i/this._elementRect.height,o=hh*this.polarRotateSpeed*r/this._elementRect.height;this.rotate(n,o,!0)},this._dollyInternal=(i,r,n)=>{const o=Math.pow(.95,-i*this.dollySpeed),a=this._sphericalEnd.radius*o,l=this._sphericalEnd.radius,h=l*(i>=0?-1:1);this.dollyTo(a),this.infinityDolly&&(a<this.minDistance||this.maxDistance===this.minDistance)&&(this._camera.getWorldDirection(Gt),this._targetEnd.add(Gt.normalize().multiplyScalar(h)),this._target.add(Gt.normalize().multiplyScalar(h))),this.dollyToCursor&&(this._dollyControlAmount+=this._sphericalEnd.radius-l,this.infinityDolly&&(a<this.minDistance||this.maxDistance===this.minDistance)&&(this._dollyControlAmount-=h),this._dollyControlCoord.set(r,n))},this._zoomInternal=(i,r,n)=>{const o=Math.pow(.95,i*this.dollySpeed);this.zoomTo(this._zoom*o),this.dollyToCursor&&(this._dollyControlAmount=this._zoomEnd,this._dollyControlCoord.set(r,n))},typeof vt>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=s,this._yAxisUpSpace=new vt.Quaternion().setFromUnitVectors(this._camera.up,Lf),this._yAxisUpSpaceInverse=ZC(this._yAxisUpSpace.clone()),this._state=pt.NONE,this._domElement=t,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._target=new vt.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new vt.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new vt.Spherical().setFromVector3(Gt.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._nearPlaneCorners=[new vt.Vector3,new vt.Vector3,new vt.Vector3,new vt.Vector3],this._updateNearPlaneCorners(),this._boundary=new vt.Box3(new vt.Vector3(-1/0,-1/0,-1/0),new vt.Vector3(1/0,1/0,1/0)),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlAmount=0,this._dollyControlCoord=new vt.Vector2,this.mouseButtons={left:pt.ROTATE,middle:pt.DOLLY,right:pt.TRUCK,wheel:Ra(this._camera)?pt.DOLLY:No(this._camera)?pt.ZOOM:pt.NONE},this.touches={one:pt.TOUCH_ROTATE,two:Ra(this._camera)?pt.TOUCH_DOLLY_TRUCK:No(this._camera)?pt.TOUCH_ZOOM_TRUCK:pt.NONE,three:pt.TOUCH_TRUCK},this._domElement){const i=new vt.Vector2,r=new vt.Vector2,n=new vt.Vector2,o=F=>{if(!this._enabled)return;const O={pointerId:F.pointerId,clientX:F.clientX,clientY:F.clientY,deltaX:0,deltaY:0};this._activePointers.push(O),this._domElement.ownerDocument.removeEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",p),this._domElement.ownerDocument.addEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",p),E(F)},a=F=>{if(!this._enabled)return;const O={pointerId:0,clientX:F.clientX,clientY:F.clientY,deltaX:0,deltaY:0};this._activePointers.push(O),this._domElement.ownerDocument.removeEventListener("mousemove",c),this._domElement.ownerDocument.removeEventListener("mouseup",f),this._domElement.ownerDocument.addEventListener("mousemove",c),this._domElement.ownerDocument.addEventListener("mouseup",f),E(F)},l=F=>{!this._enabled||(F.preventDefault(),Array.prototype.forEach.call(F.changedTouches,O=>{const R={pointerId:O.identifier,clientX:O.clientX,clientY:O.clientY,deltaX:0,deltaY:0};this._activePointers.push(R)}),this._domElement.ownerDocument.removeEventListener("touchmove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",m),this._domElement.ownerDocument.addEventListener("touchmove",u,{passive:!1}),this._domElement.ownerDocument.addEventListener("touchend",m),E(F))},h=F=>{F.cancelable&&F.preventDefault();const O=F.pointerId,R=this._findPointerById(O);if(!!R){if(R.clientX=F.clientX,R.clientY=F.clientY,R.deltaX=F.movementX,R.deltaY=F.movementY,F.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=0,(F.buttons&qs.LEFT)===qs.LEFT&&(this._state=this._state|this.mouseButtons.left),(F.buttons&qs.MIDDLE)===qs.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(F.buttons&qs.RIGHT)===qs.RIGHT&&(this._state=this._state|this.mouseButtons.right);S()}},c=F=>{const O=this._findPointerById(0);!O||(O.clientX=F.clientX,O.clientY=F.clientY,O.deltaX=F.movementX,O.deltaY=F.movementY,this._state=0,(F.buttons&qs.LEFT)===qs.LEFT&&(this._state=this._state|this.mouseButtons.left),(F.buttons&qs.MIDDLE)===qs.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(F.buttons&qs.RIGHT)===qs.RIGHT&&(this._state=this._state|this.mouseButtons.right),S())},u=F=>{F.cancelable&&F.preventDefault(),Array.prototype.forEach.call(F.changedTouches,O=>{const R=O.identifier,L=this._findPointerById(R);!L||(L.clientX=O.clientX,L.clientY=O.clientY)}),S()},p=F=>{const O=F.pointerId,R=this._findPointerById(O);if(R&&this._activePointers.splice(this._activePointers.indexOf(R),1),F.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=pt.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=pt.NONE;x()},f=()=>{const F=this._findPointerById(0);F&&this._activePointers.splice(this._activePointers.indexOf(F),1),this._state=pt.NONE,x()},m=F=>{switch(Array.prototype.forEach.call(F.changedTouches,O=>{const R=O.identifier,L=this._findPointerById(R);L&&this._activePointers.splice(this._activePointers.indexOf(L),1)}),this._activePointers.length){case 0:this._state=pt.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}x()};let g=-1;const C=F=>{if(!this._enabled||this.mouseButtons.wheel===pt.NONE)return;if(F.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===pt.ROTATE||this.mouseButtons.wheel===pt.TRUCK){const V=performance.now();g-V<1e3&&this._getClientRect(this._elementRect),g=V}const O=xoe?-1:-3,R=F.deltaMode===1?F.deltaY/O:F.deltaY/(O*10),L=this.dollyToCursor?(F.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,G=this.dollyToCursor?(F.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case pt.ROTATE:{this._rotateInternal(F.deltaX,F.deltaY);break}case pt.TRUCK:{this._truckInternal(F.deltaX,F.deltaY,!1);break}case pt.OFFSET:{this._truckInternal(F.deltaX,F.deltaY,!0);break}case pt.DOLLY:{this._dollyInternal(-R,L,G);break}case pt.ZOOM:{this._zoomInternal(-R,L,G);break}}this.dispatchEvent({type:"control"})},I=F=>{!this._enabled||F.preventDefault()},E=F=>{if(!this._enabled)return;if(xg(this._activePointers,Li),this._getClientRect(this._elementRect),i.copy(Li),r.copy(Li),this._activePointers.length>=2){const R=Li.x-this._activePointers[1].clientX,L=Li.y-this._activePointers[1].clientY,G=Math.sqrt(R*R+L*L);n.set(0,G);const V=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,B=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;r.set(V,B)}if("touches"in F||"pointerType"in F&&F.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=0,(F.buttons&qs.LEFT)===qs.LEFT&&(this._state=this._state|this.mouseButtons.left),(F.buttons&qs.MIDDLE)===qs.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(F.buttons&qs.RIGHT)===qs.RIGHT&&(this._state=this._state|this.mouseButtons.right);this.dispatchEvent({type:"controlstart"})},S=()=>{if(!this._enabled)return;xg(this._activePointers,Li);const F=this._domElement&&document.pointerLockElement===this._domElement,O=F?-this._activePointers[0].deltaX:r.x-Li.x,R=F?-this._activePointers[0].deltaY:r.y-Li.y;if(r.copy(Li),((this._state&pt.ROTATE)===pt.ROTATE||(this._state&pt.TOUCH_ROTATE)===pt.TOUCH_ROTATE)&&this._rotateInternal(O,R),(this._state&pt.DOLLY)===pt.DOLLY||(this._state&pt.ZOOM)===pt.ZOOM){const L=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,G=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0;this._state===pt.DOLLY?this._dollyInternal(R*Nf,L,G):this._zoomInternal(R*Nf,L,G)}if((this._state&pt.TOUCH_DOLLY)===pt.TOUCH_DOLLY||(this._state&pt.TOUCH_ZOOM)===pt.TOUCH_ZOOM||(this._state&pt.TOUCH_DOLLY_TRUCK)===pt.TOUCH_DOLLY_TRUCK||(this._state&pt.TOUCH_ZOOM_TRUCK)===pt.TOUCH_ZOOM_TRUCK||(this._state&pt.TOUCH_DOLLY_OFFSET)===pt.TOUCH_DOLLY_OFFSET||(this._state&pt.TOUCH_ZOOM_OFFSET)===pt.TOUCH_ZOOM_OFFSET){const L=Li.x-this._activePointers[1].clientX,G=Li.y-this._activePointers[1].clientY,V=Math.sqrt(L*L+G*G),B=n.y-V;n.set(0,V);const oe=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,$=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;this._state===pt.TOUCH_DOLLY||this._state===pt.TOUCH_DOLLY_TRUCK||this._state===pt.TOUCH_DOLLY_OFFSET?this._dollyInternal(B*Nf,oe,$):this._zoomInternal(B*Nf,oe,$)}((this._state&pt.TRUCK)===pt.TRUCK||(this._state&pt.TOUCH_TRUCK)===pt.TOUCH_TRUCK||(this._state&pt.TOUCH_DOLLY_TRUCK)===pt.TOUCH_DOLLY_TRUCK||(this._state&pt.TOUCH_ZOOM_TRUCK)===pt.TOUCH_ZOOM_TRUCK)&&this._truckInternal(O,R,!1),((this._state&pt.OFFSET)===pt.OFFSET||(this._state&pt.TOUCH_OFFSET)===pt.TOUCH_OFFSET||(this._state&pt.TOUCH_DOLLY_OFFSET)===pt.TOUCH_DOLLY_OFFSET||(this._state&pt.TOUCH_ZOOM_OFFSET)===pt.TOUCH_ZOOM_OFFSET)&&this._truckInternal(O,R,!0),this.dispatchEvent({type:"control"})},x=()=>{xg(this._activePointers,Li),r.copy(Li),this._activePointers.length===0&&(this._domElement.ownerDocument.removeEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",p),this._domElement.ownerDocument.removeEventListener("touchmove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",m),this.dispatchEvent({type:"controlend"}))};this._domElement.addEventListener("pointerdown",o),KC&&this._domElement.addEventListener("mousedown",a),KC&&this._domElement.addEventListener("touchstart",l),this._domElement.addEventListener("pointercancel",p),this._domElement.addEventListener("wheel",C,{passive:!1}),this._domElement.addEventListener("contextmenu",I),this._removeAllEventListeners=()=>{this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("mousedown",a),this._domElement.removeEventListener("touchstart",l),this._domElement.removeEventListener("pointercancel",p),this._domElement.removeEventListener("wheel",C,{passive:!1}),this._domElement.removeEventListener("contextmenu",I),this._domElement.ownerDocument.removeEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",c),this._domElement.ownerDocument.removeEventListener("touchmove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",p),this._domElement.ownerDocument.removeEventListener("mouseup",f),this._domElement.ownerDocument.removeEventListener("touchend",m)},this.cancel=()=>{this._state!==pt.NONE&&(this._state=pt.NONE,this._activePointers.length=0,x())}}this.update(0)}static install(s){vt=s.THREE,JC=Object.freeze(new vt.Vector3(0,0,0)),Lf=Object.freeze(new vt.Vector3(0,1,0)),Fg=Object.freeze(new vt.Vector3(0,0,1)),Li=new vt.Vector2,Gt=new vt.Vector3,os=new vt.Vector3,ch=new vt.Vector3,hn=new vt.Vector3,cn=new vt.Vector3,Pa=new vt.Vector3,e_=new vt.Vector3,t_=new vt.Vector3,Wr=new vt.Spherical,Xc=new vt.Spherical,Ah=new vt.Box3,s_=new vt.Box3,Rg=new vt.Sphere,i_=new vt.Quaternion,Pg=new vt.Quaternion,Ag=new vt.Matrix4,Uf=new vt.Raycaster}static get ACTION(){return pt}get camera(){return this._camera}set camera(s){this._camera=s,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(s){this._enabled=s,s?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="")}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(s){this._spherical.radius===s&&this._sphericalEnd.radius===s||(this._spherical.radius=s,this._sphericalEnd.radius=s,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(s){this._spherical.theta===s&&this._sphericalEnd.theta===s||(this._spherical.theta=s,this._sphericalEnd.theta=s,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(s){this._spherical.phi===s&&this._sphericalEnd.phi===s||(this._spherical.phi=s,this._sphericalEnd.phi=s,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(s){this._boundaryEnclosesCamera=s,this._needsUpdate=!0}addEventListener(s,t){super.addEventListener(s,t)}removeEventListener(s,t){super.removeEventListener(s,t)}rotate(s,t,i=!1){return this.rotateTo(this._sphericalEnd.theta+s,this._sphericalEnd.phi+t,i)}rotateAzimuthTo(s,t=!1){return this.rotateTo(s,this._sphericalEnd.phi,t)}rotatePolarTo(s,t=!1){return this.rotateTo(this._sphericalEnd.theta,s,t)}rotateTo(s,t,i=!1){const r=vt.MathUtils.clamp(s,this.minAzimuthAngle,this.maxAzimuthAngle),n=vt.MathUtils.clamp(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=n,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,i||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!i||Cs(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Cs(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(s,t=!1){return this.dollyTo(this._sphericalEnd.radius-s,t)}dollyTo(s,t=!1){const i=this._sphericalEnd.radius,r=vt.MathUtils.clamp(s,this.minDistance,this.maxDistance);if(this.colliderMeshes.length>=1){const a=this._collisionTest(),l=Cs(a,this._spherical.radius);if(!(i>r)&&l)return Promise.resolve();this._sphericalEnd.radius=Math.min(r,a)}else this._sphericalEnd.radius=r;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const o=!t||Cs(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(o)}zoom(s,t=!1){return this.zoomTo(this._zoomEnd+s,t)}zoomTo(s,t=!1){this._zoomEnd=vt.MathUtils.clamp(s,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const i=!t||Cs(this._zoom,this._zoomEnd,this.restThreshold);return this._createOnRestPromise(i)}pan(s,t,i=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(s,t,i)}truck(s,t,i=!1){this._camera.updateMatrix(),hn.setFromMatrixColumn(this._camera.matrix,0),cn.setFromMatrixColumn(this._camera.matrix,1),hn.multiplyScalar(s),cn.multiplyScalar(-t);const r=Gt.copy(hn).add(cn),n=os.copy(this._targetEnd).add(r);return this.moveTo(n.x,n.y,n.z,i)}forward(s,t=!1){Gt.setFromMatrixColumn(this._camera.matrix,0),Gt.crossVectors(this._camera.up,Gt),Gt.multiplyScalar(s);const i=os.copy(this._targetEnd).add(Gt);return this.moveTo(i.x,i.y,i.z,t)}moveTo(s,t,i,r=!1){const n=Gt.set(s,t,i).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,n,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);const o=!r||Cs(this._target.x,this._targetEnd.x,this.restThreshold)&&Cs(this._target.y,this._targetEnd.y,this.restThreshold)&&Cs(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}fitToBox(s,t,{cover:i=!1,paddingLeft:r=0,paddingRight:n=0,paddingBottom:o=0,paddingTop:a=0}={}){const l=[],h=s.isBox3?Ah.copy(s):Ah.setFromObject(s);h.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const c=$C(this._sphericalEnd.theta,QC),u=$C(this._sphericalEnd.phi,QC);l.push(this.rotateTo(c,u,t));const p=Gt.setFromSpherical(this._sphericalEnd).normalize(),f=i_.setFromUnitVectors(p,Fg),m=Cs(Math.abs(p.y),1);m&&f.multiply(Pg.setFromAxisAngle(Lf,c)),f.multiply(this._yAxisUpSpaceInverse);const g=s_.makeEmpty();os.copy(h.min).applyQuaternion(f),g.expandByPoint(os),os.copy(h.min).setX(h.max.x).applyQuaternion(f),g.expandByPoint(os),os.copy(h.min).setY(h.max.y).applyQuaternion(f),g.expandByPoint(os),os.copy(h.max).setZ(h.min.z).applyQuaternion(f),g.expandByPoint(os),os.copy(h.min).setZ(h.max.z).applyQuaternion(f),g.expandByPoint(os),os.copy(h.max).setY(h.min.y).applyQuaternion(f),g.expandByPoint(os),os.copy(h.max).setX(h.min.x).applyQuaternion(f),g.expandByPoint(os),os.copy(h.max).applyQuaternion(f),g.expandByPoint(os),g.min.x-=r,g.min.y-=o,g.max.x+=n,g.max.y+=a,f.setFromUnitVectors(Fg,p),m&&f.premultiply(Pg.invert()),f.premultiply(this._yAxisUpSpace);const C=g.getSize(Gt),I=g.getCenter(os).applyQuaternion(f);if(Ra(this._camera)){const E=this.getDistanceToFitBox(C.x,C.y,C.z,i);l.push(this.moveTo(I.x,I.y,I.z,t)),l.push(this.dollyTo(E,t)),l.push(this.setFocalOffset(0,0,0,t))}else if(No(this._camera)){const E=this._camera,S=E.right-E.left,x=E.top-E.bottom,F=i?Math.max(S/C.x,x/C.y):Math.min(S/C.x,x/C.y);l.push(this.moveTo(I.x,I.y,I.z,t)),l.push(this.zoomTo(F,t)),l.push(this.setFocalOffset(0,0,0,t))}return Promise.all(l)}fitToSphere(s,t){const i=[],n=s instanceof vt.Sphere?Rg.copy(s):boe(s,Rg);if(i.push(this.moveTo(n.center.x,n.center.y,n.center.z,t)),Ra(this._camera)){const o=this.getDistanceToFitSphere(n.radius);i.push(this.dollyTo(o,t))}else if(No(this._camera)){const o=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,l=2*n.radius,h=Math.min(o/l,a/l);i.push(this.zoomTo(h,t))}return i.push(this.setFocalOffset(0,0,0,t)),Promise.all(i)}setLookAt(s,t,i,r,n,o,a=!1){const l=os.set(r,n,o),h=Gt.set(s,t,i);this._targetEnd.copy(l),this._sphericalEnd.setFromVector3(h.sub(l).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const c=!a||Cs(this._target.x,this._targetEnd.x,this.restThreshold)&&Cs(this._target.y,this._targetEnd.y,this.restThreshold)&&Cs(this._target.z,this._targetEnd.z,this.restThreshold)&&Cs(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Cs(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Cs(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(c)}lerpLookAt(s,t,i,r,n,o,a,l,h,c,u,p,f,m=!1){const g=Gt.set(r,n,o),C=os.set(s,t,i);Wr.setFromVector3(C.sub(g).applyQuaternion(this._yAxisUpSpace));const I=ch.set(c,u,p),E=os.set(a,l,h);Xc.setFromVector3(E.sub(I).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(g.lerp(I,f));const S=Xc.theta-Wr.theta,x=Xc.phi-Wr.phi,F=Xc.radius-Wr.radius;this._sphericalEnd.set(Wr.radius+F*f,Wr.phi+x*f,Wr.theta+S*f),this.normalizeRotations(),this._needsUpdate=!0,m||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const O=!m||Cs(this._target.x,this._targetEnd.x,this.restThreshold)&&Cs(this._target.y,this._targetEnd.y,this.restThreshold)&&Cs(this._target.z,this._targetEnd.z,this.restThreshold)&&Cs(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Cs(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Cs(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(O)}setPosition(s,t,i,r=!1){return this.setLookAt(s,t,i,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}setTarget(s,t,i,r=!1){const n=this.getPosition(Gt);return this.setLookAt(n.x,n.y,n.z,s,t,i,r)}setFocalOffset(s,t,i,r=!1){this._focalOffsetEnd.set(s,t,i),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);const n=!r||Cs(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Cs(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Cs(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(n)}setOrbitPoint(s,t,i){hn.setFromMatrixColumn(this._camera.matrixWorldInverse,0),cn.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Pa.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const r=Gt.set(s,t,i),n=r.distanceTo(this._camera.position),o=r.sub(this._camera.position);hn.multiplyScalar(o.x),cn.multiplyScalar(o.y),Pa.multiplyScalar(o.z),Gt.copy(hn).add(cn).add(Pa),Gt.z=Gt.z+n,this.dollyTo(n,!1),this.setFocalOffset(-Gt.x,Gt.y,-Gt.z,!1),this.moveTo(s,t,i,!1)}setBoundary(s){if(!s){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(s),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(s,t,i,r){if(s===null){this._viewport=null;return}this._viewport=this._viewport||new vt.Vector4,typeof s=="number"?this._viewport.set(s,t,i,r):this._viewport.copy(s)}getDistanceToFitBox(s,t,i,r=!1){if(bg(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const n=s/t,o=this._camera.getEffectiveFOV()*vt.MathUtils.DEG2RAD,a=this._camera.aspect;return((r?n>a:n<a)?t:s/a)*.5/Math.tan(o*.5)+i*.5}getDistanceToFitSphere(s){if(bg(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*vt.MathUtils.DEG2RAD,i=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,r=1<this._camera.aspect?t:i;return s/Math.sin(r*.5)}getTarget(s){return(!!s&&s.isVector3?s:new vt.Vector3).copy(this._targetEnd)}getPosition(s){return(!!s&&s.isVector3?s:new vt.Vector3).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)}getFocalOffset(s){return(!!s&&s.isVector3?s:new vt.Vector3).copy(this._focalOffsetEnd)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%hh,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=hh),this._spherical.theta+=hh*Math.round((this._sphericalEnd.theta-this._spherical.theta)/hh)}reset(s=!1){const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,s),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,s),this.zoomTo(this._zoom0,s)];return Promise.all(t)}saveState(){this._target0.copy(this._target),this._position0.copy(this._camera.position),this._zoom0=this._zoom}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,Lf),ZC(this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace))}update(s){const t=this._state===pt.NONE?this.dampingFactor:this.draggingDampingFactor,i=Math.min(t*s*60,1),r=this._sphericalEnd.theta-this._spherical.theta,n=this._sphericalEnd.phi-this._spherical.phi,o=this._sphericalEnd.radius-this._spherical.radius,a=e_.subVectors(this._targetEnd,this._target),l=t_.subVectors(this._focalOffsetEnd,this._focalOffset);if(!Is(r)||!Is(n)||!Is(o)||!Is(a.x)||!Is(a.y)||!Is(a.z)||!Is(l.x)||!Is(l.y)||!Is(l.z)?(this._spherical.set(this._spherical.radius+o*i,this._spherical.phi+n*i,this._spherical.theta+r*i),this._target.add(a.multiplyScalar(i)),this._focalOffset.add(l.multiplyScalar(i)),this._needsUpdate=!0):(this._spherical.copy(this._sphericalEnd),this._target.copy(this._targetEnd),this._focalOffset.copy(this._focalOffsetEnd)),this._dollyControlAmount!==0){if(Ra(this._camera)){const f=this._camera,m=Gt.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),g=os.copy(m).cross(f.up).normalize();g.lengthSq()===0&&(g.x=1);const C=ch.crossVectors(g,m),I=this._sphericalEnd.radius*Math.tan(f.getEffectiveFOV()*vt.MathUtils.DEG2RAD*.5),S=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,x=Gt.copy(this._targetEnd).add(g.multiplyScalar(this._dollyControlCoord.x*I*f.aspect)).add(C.multiplyScalar(this._dollyControlCoord.y*I));this._targetEnd.lerp(x,S),this._target.copy(this._targetEnd)}else if(No(this._camera)){const f=this._camera,m=Gt.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(f.near+f.far)/(f.near-f.far)).unproject(f),g=os.set(0,0,-1).applyQuaternion(f.quaternion),C=g.dot(f.up),I=Is(C)?-m.dot(f.up):-m.dot(f.up)/C,E=ch.copy(m).add(g.multiplyScalar(I));this._targetEnd.lerp(E,1-f.zoom/this._dollyControlAmount),this._target.copy(this._targetEnd)}this._dollyControlAmount=0}const h=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,h),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!Is(this._focalOffset.x)||!Is(this._focalOffset.y)||!Is(this._focalOffset.z))&&(this._camera.updateMatrix(),hn.setFromMatrixColumn(this._camera.matrix,0),cn.setFromMatrixColumn(this._camera.matrix,1),Pa.setFromMatrixColumn(this._camera.matrix,2),hn.multiplyScalar(this._focalOffset.x),cn.multiplyScalar(-this._focalOffset.y),Pa.multiplyScalar(this._focalOffset.z),Gt.copy(hn).add(cn).add(Pa),this._camera.position.add(Gt)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),Gt.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const u=this._zoomEnd-this._zoom;this._zoom+=u*i,this._camera.zoom!==this._zoom&&(Is(u)&&(this._zoom=this._zoomEnd),this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);const p=this._needsUpdate;return p&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):p?(this.dispatchEvent({type:"update"}),Is(r,this.restThreshold)&&Is(n,this.restThreshold)&&Is(o,this.restThreshold)&&Is(a.x,this.restThreshold)&&Is(a.y,this.restThreshold)&&Is(a.z,this.restThreshold)&&Is(l.x,this.restThreshold)&&Is(l.y,this.restThreshold)&&Is(l.z,this.restThreshold)&&Is(u,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!p&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._updatedLastTime=p,this._needsUpdate=!1,p}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Wc(this.maxDistance),minZoom:this.minZoom,maxZoom:Wc(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Wc(this.maxPolarAngle),minAzimuthAngle:Wc(this.minAzimuthAngle),maxAzimuthAngle:Wc(this.maxAzimuthAngle),dampingFactor:this.dampingFactor,draggingDampingFactor:this.draggingDampingFactor,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:Gt.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(s,t=!1){const i=JSON.parse(s),r=Gt.fromArray(i.position);this.enabled=i.enabled,this.minDistance=i.minDistance,this.maxDistance=Yc(i.maxDistance),this.minZoom=i.minZoom,this.maxZoom=Yc(i.maxZoom),this.minPolarAngle=i.minPolarAngle,this.maxPolarAngle=Yc(i.maxPolarAngle),this.minAzimuthAngle=Yc(i.minAzimuthAngle),this.maxAzimuthAngle=Yc(i.maxAzimuthAngle),this.dampingFactor=i.dampingFactor,this.draggingDampingFactor=i.draggingDampingFactor,this.dollySpeed=i.dollySpeed,this.truckSpeed=i.truckSpeed,this.dollyToCursor=i.dollyToCursor,this.verticalDragToForward=i.verticalDragToForward,this._target0.fromArray(i.target0),this._position0.fromArray(i.position0),this._zoom0=i.zoom0,this._focalOffset0.fromArray(i.focalOffset0),this.moveTo(i.target[0],i.target[1],i.target[2],t),Wr.setFromVector3(r.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Wr.theta,Wr.phi,t),this.zoomTo(i.zoom,t),this.setFocalOffset(i.focalOffset[0],i.focalOffset[1],i.focalOffset[2],t),this._needsUpdate=!0}dispose(){this._removeAllEventListeners()}_findPointerById(s){let t=null;return this._activePointers.some(i=>i.pointerId===s?(t=i,!0):!1),t}_encloseToBoundary(s,t,i){const r=t.lengthSq();if(r===0)return s;const n=os.copy(t).add(s),a=this._boundary.clampPoint(n,ch).sub(n),l=a.lengthSq();if(l===0)return s.add(t);if(l===r)return s;if(i===0)return s.add(t).add(a);{const h=1+i*l/t.dot(a);return s.add(os.copy(t).multiplyScalar(h)).add(a.multiplyScalar(1-i))}}_updateNearPlaneCorners(){if(Ra(this._camera)){const s=this._camera,t=s.near,i=s.getEffectiveFOV()*vt.MathUtils.DEG2RAD,r=Math.tan(i*.5)*t,n=r*s.aspect;this._nearPlaneCorners[0].set(-n,-r,0),this._nearPlaneCorners[1].set(n,-r,0),this._nearPlaneCorners[2].set(n,r,0),this._nearPlaneCorners[3].set(-n,r,0)}else if(No(this._camera)){const s=this._camera,t=1/s.zoom,i=s.left*t,r=s.right*t,n=s.top*t,o=s.bottom*t;this._nearPlaneCorners[0].set(i,n,0),this._nearPlaneCorners[1].set(r,n,0),this._nearPlaneCorners[2].set(r,o,0),this._nearPlaneCorners[3].set(i,o,0)}}_collisionTest(){let s=1/0;if(!(this.colliderMeshes.length>=1)||bg(this._camera,"_collisionTest"))return s;const i=Gt.setFromSpherical(this._spherical).divideScalar(this._spherical.radius);Ag.lookAt(JC,i,this._camera.up);for(let r=0;r<4;r++){const n=os.copy(this._nearPlaneCorners[r]);n.applyMatrix4(Ag);const o=ch.addVectors(this._target,n);Uf.set(o,i),Uf.far=this._spherical.radius+1;const a=Uf.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<s&&(s=a[0].distance)}return s}_getClientRect(s){const t=this._domElement.getBoundingClientRect();return s.x=t.left,s.y=t.top,this._viewport?(s.x+=this._viewport.x,s.y+=t.height-this._viewport.w-this._viewport.y,s.width=this._viewport.z,s.height=this._viewport.w):(s.width=t.width,s.height=t.height),s}_createOnRestPromise(s){return s?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const i=()=>{this.removeEventListener("rest",i),t()};this.addEventListener("rest",i)}))}_removeAllEventListeners(){}}function boe(e,s){const t=s,i=t.center;Ah.makeEmpty(),e.traverseVisible(n=>{!n.isMesh||Ah.expandByObject(n)}),Ah.getCenter(i);let r=0;return e.traverseVisible(n=>{if(!n.isMesh)return;const o=n,a=o.geometry.clone();if(a.applyMatrix4(o.matrixWorld),a.isBufferGeometry){const h=a.attributes.position;for(let c=0,u=h.count;c<u;c++)Gt.fromBufferAttribute(h,c),r=Math.max(r,i.distanceToSquared(Gt))}else{const l=a.attributes.position,h=new vt.Vector3;for(let c=0,u=l.count;c<u;c++)h.fromBufferAttribute(l,c),r=Math.max(r,i.distanceToSquared(h))}}),t.radius=Math.sqrt(r),t}class so{constructor(){this.handlers=[],this.trigger=s=>{this.handlers.slice(0).forEach(t=>t(s))}}on(s){this.handlers.push(s)}off(s){this.handlers=this.handlers.filter(t=>t!==s)}expose(){return this}}class Foe extends Fi{constructor(s,t){super(s),this.ifcCamera=t,this.mode=zi.FirstPerson,this.enabled=!1,this.onChange=new so,this.onChangeProjection=new so}toggle(s){if(this.enabled=s,s){if(this.ifcCamera.projection!==ar.Perspective){this.ifcCamera.setNavigationMode(zi.Orbit);return}this.setupFirstPersonCamera()}}setupFirstPersonCamera(){const s=this.ifcCamera.cameraControls,t=new H;s.camera.getWorldPosition(t);const i=new H;s.distance--,s.camera.getWorldPosition(i),s.minDistance=1,s.maxDistance=1,s.distance=1,s.moveTo(i.x,i.y,i.z),this.ifcCamera.cameraControls.truckSpeed=50,s.mouseButtons.wheel=Zo.ACTION.DOLLY,s.touches.two=Zo.ACTION.TOUCH_ZOOM_TRUCK}fitModelToFrame(){}}class Roe extends Fi{constructor(s,t){super(s),this.context=s,this.ifcCamera=t,this.enabled=!0,this.mode=zi.Orbit,this.onChange=new so,this.onUnlock=new so,this.onChangeProjection=new so,this.activateOrbitControls()}get target(){const s=new H;return this.ifcCamera.cameraControls.getTarget(s),s}toggle(s){this.enabled=s,s&&this.activateOrbitControls()}async fitModelToFrame(){if(!this.enabled)return;const s=this.context.getScene(),t=new gs().setFromObject(s.children[s.children.length-1]),i=new H;t.getSize(i);const r=new H;t.getCenter(r);const n=.5,o=Math.max(i.x,i.y,i.z)*n,a=new Mr(r,o);await this.ifcCamera.cameraControls.fitToSphere(a,!0)}activateOrbitControls(){const s=this.ifcCamera.cameraControls;s.minDistance=1,s.maxDistance=300,this.ifcCamera.cameraControls.truckSpeed=2}}class Poe{constructor(s,t){this.context=s,this.previousDistance=-1,this.cameras=t,this.currentCamera=t.perspectiveCamera,this.currentProjection=ar.Perspective}get activeCamera(){return this.currentCamera}get projection(){return this.currentProjection}set projection(s){this.projection!==s&&(s===ar.Orthographic?this.setOrthoCamera():this.setPerspectiveCamera())}setOrthoCamera(){if(this.cameras.currentNavMode.mode===zi.FirstPerson)return;this.previousDistance=this.cameras.cameraControls.distance,this.cameras.cameraControls.distance=200;const{width:s,height:t}=this.getDims();this.setupOrthoCamera(t,s),this.currentCamera=this.cameras.orthographicCamera,this.currentProjection=ar.Orthographic}getDims(){const s=new H;this.cameras.perspectiveCamera.getWorldDirection(s);const t=new H;this.cameras.cameraControls.getTarget(t);const r=t.clone().sub(this.cameras.perspectiveCamera.position).dot(s),n=this.context.getDimensions(),o=n.x/n.y,a=this.cameras.perspectiveCamera.fov,l=r*2*Math.atan(a*(Math.PI/180)/2);return{width:l*o,height:l}}setupOrthoCamera(s,t){this.cameras.cameraControls.mouseButtons.wheel=Zo.ACTION.ZOOM,this.cameras.orthographicCamera.zoom=1,this.cameras.orthographicCamera.left=t/-2,this.cameras.orthographicCamera.right=t/2,this.cameras.orthographicCamera.top=s/2,this.cameras.orthographicCamera.bottom=s/-2,this.cameras.orthographicCamera.updateProjectionMatrix(),this.cameras.orthographicCamera.position.copy(this.cameras.perspectiveCamera.position),this.cameras.orthographicCamera.quaternion.copy(this.cameras.perspectiveCamera.quaternion),this.cameras.cameraControls.camera=this.cameras.orthographicCamera}setPerspectiveCamera(){this.cameras.cameraControls.mouseButtons.wheel=Zo.ACTION.DOLLY,this.cameras.perspectiveCamera.position.copy(this.cameras.orthographicCamera.position),this.cameras.perspectiveCamera.quaternion.copy(this.cameras.orthographicCamera.quaternion),this.cameras.perspectiveCamera.updateProjectionMatrix(),this.cameras.cameraControls.camera=this.cameras.perspectiveCamera,this.cameras.cameraControls.mouseButtons.wheel=Zo.ACTION.DOLLY,this.currentCamera=this.cameras.perspectiveCamera,this.currentProjection=ar.Perspective,this.cameras.cameraControls.distance=this.previousDistance,this.cameras.cameraControls.zoomTo(1)}}class Aoe extends Fi{constructor(s,t){super(s),this.context=s,this.ifcCamera=t,this.mode=zi.Plan,this.enabled=!1,this.onChange=new so,this.onChangeProjection=new so,this.defaultAzimuthSpeed=t.cameraControls.azimuthRotateSpeed,this.defaultPolarSpeed=t.cameraControls.polarRotateSpeed}toggle(s){this.enabled=s;const t=this.ifcCamera.cameraControls;t.azimuthRotateSpeed=s?0:this.defaultAzimuthSpeed,t.polarRotateSpeed=s?0:this.defaultPolarSpeed,t.mouseButtons.left=Zo.ACTION.ROTATE}async fitModelToFrame(){if(!this.enabled)return;const s=this.context.getScene();console.log(s);const t=new gs().setFromObject(s.children[0]);await this.ifcCamera.cameraControls.fitToBox(t,!1)}}const Ooe={MOUSE:j9,Vector2:Re,Vector3:H,Vector4:Qt,Quaternion:Ts,Matrix4:rt,Spherical:CX,Box3:gs,Sphere:Mr,Raycaster:qI,MathUtils:{DEG2RAD:sl.DEG2RAD,clamp:sl.clamp}},Oo=50;class Doe extends Fi{constructor(s){super(s),this.onChange=new so,this.onChangeProjection=new so,this.previousUserInput={},this.context=s;const t=this.context.getDimensions(),i=t.x/t.y;this.perspectiveCamera=new ui(45,i,1,2e3),this.orthographicCamera=new oa(Oo*i/-2,Oo*i/2,Oo/2,Oo/-2,.1,1e3),this.setupCameras(),Zo.install({THREE:Ooe}),this.cameraControls=new Zo(this.perspectiveCamera,s.getDomElement()),this.navMode={[zi.Orbit]:new Roe(this.context,this),[zi.FirstPerson]:new Foe(this.context,this),[zi.Plan]:new Aoe(this.context,this)},this.currentNavMode=this.navMode[zi.Orbit],this.currentNavMode.toggle(!0,{preventTargetAdjustment:!0}),Object.values(this.navMode).forEach(r=>{r.onChange.on(this.onChange.trigger),r.onChangeProjection.on(this.onChangeProjection.trigger)}),this.projectionManager=new Poe(s,this),this.setupControls()}dispose(){this.perspectiveCamera.removeFromParent(),this.perspectiveCamera=null,this.orthographicCamera.removeFromParent(),this.orthographicCamera=null,this.cameraControls.dispose(),this.cameraControls=null,this.navMode=null,this.context=null,this.projectionManager=null}get projection(){return this.projectionManager.projection}set projection(s){this.projectionManager.projection=s}get controls(){return this.cameraControls}get activeCamera(){return this.projectionManager.activeCamera}update(s){super.update(s),this.cameraControls.enabled&&this.cameraControls.update(s)}updateAspect(s){s||(s=this.context.getDimensions()),this.perspectiveCamera.aspect=s.x/s.y,this.perspectiveCamera.updateProjectionMatrix(),this.setOrthoCameraAspect(s)}submitOnChange(s){this.onChange.on(s)}setNavigationMode(s){this.currentNavMode.mode!==s&&(this.currentNavMode.toggle(!1),this.currentNavMode=this.navMode[s],this.currentNavMode.toggle(!0))}toggleCameraControls(s){this.cameraControls.enabled=s}toggleProjection(){const s=this.projection===ar.Orthographic;this.projection=s?ar.Perspective:ar.Orthographic,this.onChangeProjection.trigger(this.activeCamera)}async targetItem(s){const t=this.context.getCenter(s);await this.cameraControls.moveTo(t.x,t.y,t.z,!0)}toggleUserInput(s){if(console.log(this.previousUserInput),s){if(Object.keys(this.previousUserInput).length===0)return;this.cameraControls.mouseButtons.left=this.previousUserInput.left,this.cameraControls.mouseButtons.right=this.previousUserInput.right,this.cameraControls.mouseButtons.middle=this.previousUserInput.middle,this.cameraControls.mouseButtons.wheel=this.previousUserInput.wheel}else this.previousUserInput.left=this.cameraControls.mouseButtons.left,this.previousUserInput.right=this.cameraControls.mouseButtons.right,this.previousUserInput.middle=this.cameraControls.mouseButtons.middle,this.previousUserInput.wheel=this.cameraControls.mouseButtons.wheel,this.cameraControls.mouseButtons.left=0,this.cameraControls.mouseButtons.right=0,this.cameraControls.mouseButtons.middle=0,this.cameraControls.mouseButtons.wheel=0}setOrthoCameraAspect(s){const t=s.x/s.y;this.orthographicCamera.left=-Oo*t/2,this.orthographicCamera.right=Oo*t/2,this.orthographicCamera.top=Oo/2,this.orthographicCamera.bottom=-Oo/2,this.orthographicCamera.updateProjectionMatrix()}setupCameras(){this.setCameraPositionAndTarget(this.perspectiveCamera),this.setCameraPositionAndTarget(this.perspectiveCamera)}setCameraPositionAndTarget(s){s.position.z=10,s.position.y=10,s.position.x=10,s.lookAt(new H(0,0,0))}setupControls(){this.cameraControls.dampingFactor=.2,this.cameraControls.dollyToCursor=!0,this.cameraControls.infinityDolly=!0,this.cameraControls.setTarget(0,0,0)}}class Moe extends Fi{constructor(s){super(s),this.context=s,this.raycaster=new qI}dispose(){this.raycaster=null,this.context=null}castRay(s){const t=this.context.getCamera();return this.raycaster.setFromCamera(this.context.mouse.position,t),this.raycaster.intersectObjects(s)}castRayIfc(){const s=this.castRay(this.context.items.pickableIfcModels),t=this.filterClippingPlanes(s);return t.length>0?t[0]:null}filterClippingPlanes(s){const t=this.context.getClippingPlanes();return s.length<=0||!t||(t==null?void 0:t.length)<=0?s:s.filter(i=>t.every(r=>r.distanceToPoint(i.point)>0))}}var Eh={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;

		}`};class lc{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const Noe=new oa(-1,1,1,-1,0,1),v0=new _t;v0.setAttribute("position",new wt([-1,3,0,-1,-1,0,3,-1,0],3));v0.setAttribute("uv",new wt([0,2,0,0,2,0],2));class C0{constructor(s){this._mesh=new Qe(v0,s)}dispose(){this._mesh.geometry.dispose()}render(s){s.render(this._mesh,Noe)}get material(){return this._mesh.material}set material(s){this._mesh.material=s}}class Oy extends lc{constructor(s,t){super(),this.textureID=t!==void 0?t:"tDiffuse",s instanceof Zs?(this.uniforms=s.uniforms,this.material=s):s&&(this.uniforms=Kn.clone(s.uniforms),this.material=new Zs({defines:Object.assign({},s.defines),uniforms:this.uniforms,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader})),this.fsQuad=new C0(this.material)}render(s,t,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(s.setRenderTarget(null),this.fsQuad.render(s)):(s.setRenderTarget(t),this.clear&&s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil),this.fsQuad.render(s))}}class r_ extends lc{constructor(s,t){super(),this.scene=s,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(s,t,i){const r=s.getContext(),n=s.state;n.buffers.color.setMask(!1),n.buffers.depth.setMask(!1),n.buffers.color.setLocked(!0),n.buffers.depth.setLocked(!0);let o,a;this.inverse?(o=0,a=1):(o=1,a=0),n.buffers.stencil.setTest(!0),n.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),n.buffers.stencil.setFunc(r.ALWAYS,o,4294967295),n.buffers.stencil.setClear(a),n.buffers.stencil.setLocked(!0),s.setRenderTarget(i),this.clear&&s.clear(),s.render(this.scene,this.camera),s.setRenderTarget(t),this.clear&&s.clear(),s.render(this.scene,this.camera),n.buffers.color.setLocked(!1),n.buffers.depth.setLocked(!1),n.buffers.stencil.setLocked(!1),n.buffers.stencil.setFunc(r.EQUAL,1,4294967295),n.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),n.buffers.stencil.setLocked(!0)}}class Loe extends lc{constructor(){super(),this.needsSwap=!1}render(s){s.state.buffers.stencil.setLocked(!1),s.state.buffers.stencil.setTest(!1)}}class Uoe{constructor(s,t){if(this.renderer=s,t===void 0){const i={minFilter:js,magFilter:js,format:Ds},r=s.getSize(new Re);this._pixelRatio=s.getPixelRatio(),this._width=r.width,this._height=r.height,t=new zs(this._width*this._pixelRatio,this._height*this._pixelRatio,i),t.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],Eh===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),Oy===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new Oy(Eh),this.clock=new ZS}swapBuffers(){const s=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=s}addPass(s){this.passes.push(s),s.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(s,t){this.passes.splice(t,0,s),s.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(s){const t=this.passes.indexOf(s);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(s){for(let t=s+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(s){s===void 0&&(s=this.clock.getDelta());const t=this.renderer.getRenderTarget();let i=!1;for(let r=0,n=this.passes.length;r<n;r++){const o=this.passes[r];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),o.render(this.renderer,this.writeBuffer,this.readBuffer,s,i),o.needsSwap){if(i){const a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,s),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}r_!==void 0&&(o instanceof r_?i=!0:o instanceof Loe&&(i=!1))}}this.renderer.setRenderTarget(t)}reset(s){if(s===void 0){const t=this.renderer.getSize(new Re);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,s=this.renderTarget1.clone(),s.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=s,this.renderTarget2=s.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(s,t){this._width=s,this._height=t;const i=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(i,r),this.renderTarget2.setSize(i,r);for(let n=0;n<this.passes.length;n++)this.passes[n].setSize(i,r)}setPixelRatio(s){this._pixelRatio=s,this.setSize(this._width,this._height)}}new oa(-1,1,1,-1,0,1);const wG=new _t;wG.setAttribute("position",new wt([-1,3,0,-1,-1,0,3,-1,0],3));wG.setAttribute("uv",new wt([0,2,0,0,2,0],2));class Hoe extends lc{constructor(s,t,i,r,n){super(),this.scene=s,this.camera=t,this.overrideMaterial=i,this.clearColor=r,this.clearAlpha=n!==void 0?n:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new it}render(s,t,i){const r=s.autoClear;s.autoClear=!1;let n,o;this.overrideMaterial!==void 0&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(s.getClearColor(this._oldClearColor),n=s.getClearAlpha(),s.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&s.clearDepth(),s.setRenderTarget(this.renderToScreen?null:i),this.clear&&s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil),s.render(this.scene,this.camera),this.clearColor&&s.setClearColor(this._oldClearColor,n),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=o),s.autoClear=r}}const qc={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new Re(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new rt},cameraInverseProjectionMatrix:{value:new rt},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`

		#include <common>

		varying vec2 vUv;

		#if DIFFUSE_TEXTURE == 1
		uniform sampler2D tDiffuse;
		#endif

		uniform sampler2D tDepth;

		#if NORMAL_TEXTURE == 1
		uniform sampler2D tNormal;
		#endif

		uniform float cameraNear;
		uniform float cameraFar;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;

		uniform float scale;
		uniform float intensity;
		uniform float bias;
		uniform float kernelRadius;
		uniform float minResolution;
		uniform vec2 size;
		uniform float randomSeed;

		// RGBA depth

		#include <packing>

		vec4 getDefaultColor( const in vec2 screenPosition ) {
			#if DIFFUSE_TEXTURE == 1
			return texture2D( tDiffuse, vUv );
			#else
			return vec4( 1.0 );
			#endif
		}

		float getDepth( const in vec2 screenPosition ) {
			#if DEPTH_PACKING == 1
			return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );
			#else
			return texture2D( tDepth, screenPosition ).x;
			#endif
		}

		float getViewZ( const in float depth ) {
			#if PERSPECTIVE_CAMERA == 1
			return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
			return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}

		vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {
			float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];
			vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );
			clipPosition *= clipW; // unprojection.

			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;
		}

		vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {
			#if NORMAL_TEXTURE == 1
			return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );
			#else
			return normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );
			#endif
		}

		float scaleDividedByCameraFar;
		float minResolutionMultipliedByCameraFar;

		float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {
			vec3 viewDelta = sampleViewPosition - centerViewPosition;
			float viewDistance = length( viewDelta );
			float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;

			return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );
		}

		// moving costly divides into consts
		const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );
		const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );

		float getAmbientOcclusion( const in vec3 centerViewPosition ) {
			// precompute some variables require in getOcclusion.
			scaleDividedByCameraFar = scale / cameraFar;
			minResolutionMultipliedByCameraFar = minResolution * cameraFar;
			vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );

			// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/
			float angle = rand( vUv + randomSeed ) * PI2;
			vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;
			vec2 radiusStep = radius;

			float occlusionSum = 0.0;
			float weightSum = 0.0;

			for( int i = 0; i < NUM_SAMPLES; i ++ ) {
				vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;
				radius += radiusStep;
				angle += ANGLE_STEP;

				float sampleDepth = getDepth( sampleUv );
				if( sampleDepth >= ( 1.0 - EPSILON ) ) {
					continue;
				}

				float sampleViewZ = getViewZ( sampleDepth );
				vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );
				occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );
				weightSum += 1.0;
			}

			if( weightSum == 0.0 ) discard;

			return occlusionSum * ( intensity / weightSum );
		}

		void main() {
			float centerDepth = getDepth( vUv );
			if( centerDepth >= ( 1.0 - EPSILON ) ) {
				discard;
			}

			float centerViewZ = getViewZ( centerDepth );
			vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );

			float ambientOcclusion = getAmbientOcclusion( viewPosition );

			gl_FragColor = getDefaultColor( vUv );
			gl_FragColor.xyz *=  1.0 - ambientOcclusion;
		}`},Wn={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new Re(512,512)},sampleUvOffsets:{value:[new Re(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:`

		#include <common>

		uniform vec2 size;

		varying vec2 vUv;
		varying vec2 vInvSize;

		void main() {
			vUv = uv;
			vInvSize = 1.0 / size;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`

		#include <common>
		#include <packing>

		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;

		uniform float cameraNear;
		uniform float cameraFar;
		uniform float depthCutoff;

		uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];
		uniform float sampleWeights[ KERNEL_RADIUS + 1 ];

		varying vec2 vUv;
		varying vec2 vInvSize;

		float getDepth( const in vec2 screenPosition ) {
			#if DEPTH_PACKING == 1
			return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );
			#else
			return texture2D( tDepth, screenPosition ).x;
			#endif
		}

		float getViewZ( const in float depth ) {
			#if PERSPECTIVE_CAMERA == 1
			return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
			return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}

		void main() {
			float depth = getDepth( vUv );
			if( depth >= ( 1.0 - EPSILON ) ) {
				discard;
			}

			float centerViewZ = -getViewZ( depth );
			bool rBreak = false, lBreak = false;

			float weightSum = sampleWeights[0];
			vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;

			for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {

				float sampleWeight = sampleWeights[i];
				vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;

				vec2 sampleUv = vUv + sampleUvOffset;
				float viewZ = -getViewZ( getDepth( sampleUv ) );

				if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;

				if( ! rBreak ) {
					diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;
					weightSum += sampleWeight;
				}

				sampleUv = vUv - sampleUvOffset;
				viewZ = -getViewZ( getDepth( sampleUv ) );

				if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;

				if( ! lBreak ) {
					diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;
					weightSum += sampleWeight;
				}

			}

			gl_FragColor = diffuseSum / weightSum;
		}`},xd={createSampleWeights:function(e,s){const t=[];for(let i=0;i<=e;i++)t.push(Goe(i,s));return t},createSampleOffsets:function(e,s){const t=[];for(let i=0;i<=e;i++)t.push(s.clone().multiplyScalar(i));return t},configure:function(e,s,t,i){e.defines.KERNEL_RADIUS=s,e.uniforms.sampleUvOffsets.value=xd.createSampleOffsets(s,i),e.uniforms.sampleWeights.value=xd.createSampleWeights(s,t),e.needsUpdate=!0}};function Goe(e,s){return Math.exp(-(e*e)/(2*(s*s)))/(Math.sqrt(2*Math.PI)*s)}const Hf={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		#include <packing>

		void main() {

			float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );
			gl_FragColor = vec4( vec3( depth ), opacity );

		}`};class SG extends lc{constructor(s,t,i=!1,r=!1,n=new Re(256,256)){super(),this.scene=s,this.camera=t,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=i,this.supportsNormalTexture=r,this.originalClearColor=new it,this._oldClearColor=new it,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=new Re(n.x,n.y),this.saoRenderTarget=new zs(this.resolution.x,this.resolution.y,{minFilter:js,magFilter:js,format:Ds}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new zs(this.resolution.x,this.resolution.y,{minFilter:Ss,magFilter:Ss,format:Ds}),this.depthRenderTarget=this.normalRenderTarget.clone();let o;this.supportsDepthTextureExtension&&(o=new Nu,o.type=Hh,this.beautyRenderTarget.depthTexture=o,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new nm,this.depthMaterial.depthPacking=Jw,this.depthMaterial.blending=ci,this.normalMaterial=new jI,this.normalMaterial.blending=ci,qc===void 0&&console.error("THREE.SAOPass relies on SAOShader"),this.saoMaterial=new Zs({defines:Object.assign({},qc.defines),fragmentShader:qc.fragmentShader,vertexShader:qc.vertexShader,uniforms:Kn.clone(qc.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=ci,Wn===void 0&&console.error("THREE.SAOPass relies on DepthLimitedBlurShader"),this.vBlurMaterial=new Zs({uniforms:Kn.clone(Wn.uniforms),defines:Object.assign({},Wn.defines),vertexShader:Wn.vertexShader,fragmentShader:Wn.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=ci,this.hBlurMaterial=new Zs({uniforms:Kn.clone(Wn.uniforms),defines:Object.assign({},Wn.defines),vertexShader:Wn.vertexShader,fragmentShader:Wn.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=ci,Eh===void 0&&console.error("THREE.SAOPass relies on CopyShader"),this.materialCopy=new Zs({uniforms:Kn.clone(Eh.uniforms),vertexShader:Eh.vertexShader,fragmentShader:Eh.fragmentShader,blending:ci}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=hy,this.materialCopy.blendSrc=Yw,this.materialCopy.blendDst=cy,this.materialCopy.blendEquation=Ho,this.materialCopy.blendSrcAlpha=Ww,this.materialCopy.blendDstAlpha=cy,this.materialCopy.blendEquationAlpha=Ho,Hf===void 0&&console.error("THREE.SAOPass relies on UnpackDepthRGBAShader"),this.depthCopy=new Zs({uniforms:Kn.clone(Hf.uniforms),vertexShader:Hf.vertexShader,fragmentShader:Hf.fragmentShader,blending:ci}),this.fsQuad=new C0(null)}render(s,t,i){if(this.renderToScreen&&(this.materialCopy.blending=ci,this.materialCopy.uniforms.tDiffuse.value=i.texture,this.materialCopy.needsUpdate=!0,this.renderPass(s,this.materialCopy,null)),this.params.output===1)return;s.getClearColor(this._oldClearColor),this.oldClearAlpha=s.getClearAlpha();const r=s.autoClear;s.autoClear=!1,s.setRenderTarget(this.depthRenderTarget),s.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const n=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=n,this.hBlurMaterial.uniforms.depthCutoff.value=n,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),(this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)&&(xd.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new Re(0,1)),xd.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new Re(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),s.setClearColor(0),s.setRenderTarget(this.beautyRenderTarget),s.clear(),s.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(s,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(s,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(s,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(s,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(s,this.hBlurMaterial,this.saoRenderTarget,16777215,1));let o=this.materialCopy;this.params.output===3?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,o=this.depthCopy):this.params.output===4?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),this.params.output===0?o.blending=hy:o.blending=ci,this.renderPass(s,o,this.renderToScreen?null:i),s.setClearColor(this._oldClearColor,this.oldClearAlpha),s.autoClear=r}renderPass(s,t,i,r,n){s.getClearColor(this.originalClearColor);const o=s.getClearAlpha(),a=s.autoClear;s.setRenderTarget(i),s.autoClear=!1,r!=null&&(s.setClearColor(r),s.setClearAlpha(n||0),s.clear()),this.fsQuad.material=t,this.fsQuad.render(s),s.autoClear=a,s.setClearColor(this.originalClearColor),s.setClearAlpha(o)}renderOverride(s,t,i,r,n){s.getClearColor(this.originalClearColor);const o=s.getClearAlpha(),a=s.autoClear;s.setRenderTarget(i),s.autoClear=!1,r=t.clearColor||r,n=t.clearAlpha||n,r!=null&&(s.setClearColor(r),s.setClearAlpha(n||0),s.clear()),this.scene.overrideMaterial=t,s.render(this.scene,this.camera),this.scene.overrideMaterial=null,s.autoClear=a,s.setClearColor(this.originalClearColor),s.setClearAlpha(o)}setSize(s,t){this.beautyRenderTarget.setSize(s,t),this.saoRenderTarget.setSize(s,t),this.blurIntermediateRenderTarget.setSize(s,t),this.normalRenderTarget.setSize(s,t),this.depthRenderTarget.setSize(s,t),this.saoMaterial.uniforms.size.value.set(s,t),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(s,t),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(s,t),this.hBlurMaterial.needsUpdate=!0}}SG.OUTPUT={Beauty:1,Default:0,SAO:2,Depth:3,Normal:4};const Boe={uniforms:{tDiffuse:{value:null},resolution:{value:new Re(1/1024,1/512)}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D tDiffuse;

		uniform vec2 resolution;

		varying vec2 vUv;

		#define FXAA_PC 1
		#define FXAA_GLSL_100 1
		#define FXAA_QUALITY_PRESET 12

		#define FXAA_GREEN_AS_LUMA 1

		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_PC_CONSOLE
				//
				// The console algorithm for PC is included
				// for developers targeting really low spec machines.
				// Likely better to just run FXAA_PC, and use a really low preset.
				//
				#define FXAA_PC_CONSOLE 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_GLSL_120
				#define FXAA_GLSL_120 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_GLSL_130
				#define FXAA_GLSL_130 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_HLSL_3
				#define FXAA_HLSL_3 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_HLSL_4
				#define FXAA_HLSL_4 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_HLSL_5
				#define FXAA_HLSL_5 0
		#endif
		/*==========================================================================*/
		#ifndef FXAA_GREEN_AS_LUMA
				//
				// For those using non-linear color,
				// and either not able to get luma in alpha, or not wanting to,
				// this enables FXAA to run using green as a proxy for luma.
				// So with this enabled, no need to pack luma in alpha.
				//
				// This will turn off AA on anything which lacks some amount of green.
				// Pure red and blue or combination of only R and B, will get no AA.
				//
				// Might want to lower the settings for both,
				//		fxaaConsoleEdgeThresholdMin
				//		fxaaQualityEdgeThresholdMin
				// In order to insure AA does not get turned off on colors
				// which contain a minor amount of green.
				//
				// 1 = On.
				// 0 = Off.
				//
				#define FXAA_GREEN_AS_LUMA 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_EARLY_EXIT
				//
				// Controls algorithm's early exit path.
				// On PS3 turning this ON adds 2 cycles to the shader.
				// On 360 turning this OFF adds 10ths of a millisecond to the shader.
				// Turning this off on console will result in a more blurry image.
				// So this defaults to on.
				//
				// 1 = On.
				// 0 = Off.
				//
				#define FXAA_EARLY_EXIT 1
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_DISCARD
				//
				// Only valid for PC OpenGL currently.
				// Probably will not work when FXAA_GREEN_AS_LUMA = 1.
				//
				// 1 = Use discard on pixels which don't need AA.
				//		 For APIs which enable concurrent TEX+ROP from same surface.
				// 0 = Return unchanged color on pixels which don't need AA.
				//
				#define FXAA_DISCARD 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_FAST_PIXEL_OFFSET
				//
				// Used for GLSL 120 only.
				//
				// 1 = GL API supports fast pixel offsets
				// 0 = do not use fast pixel offsets
				//
				#ifdef GL_EXT_gpu_shader4
						#define FXAA_FAST_PIXEL_OFFSET 1
				#endif
				#ifdef GL_NV_gpu_shader5
						#define FXAA_FAST_PIXEL_OFFSET 1
				#endif
				#ifdef GL_ARB_gpu_shader5
						#define FXAA_FAST_PIXEL_OFFSET 1
				#endif
				#ifndef FXAA_FAST_PIXEL_OFFSET
						#define FXAA_FAST_PIXEL_OFFSET 0
				#endif
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_GATHER4_ALPHA
				//
				// 1 = API supports gather4 on alpha channel.
				// 0 = API does not support gather4 on alpha channel.
				//
				#if (FXAA_HLSL_5 == 1)
						#define FXAA_GATHER4_ALPHA 1
				#endif
				#ifdef GL_ARB_gpu_shader5
						#define FXAA_GATHER4_ALPHA 1
				#endif
				#ifdef GL_NV_gpu_shader5
						#define FXAA_GATHER4_ALPHA 1
				#endif
				#ifndef FXAA_GATHER4_ALPHA
						#define FXAA_GATHER4_ALPHA 0
				#endif
		#endif


		/*============================================================================
														FXAA QUALITY - TUNING KNOBS
		------------------------------------------------------------------------------
		NOTE the other tuning knobs are now in the shader function inputs!
		============================================================================*/
		#ifndef FXAA_QUALITY_PRESET
				//
				// Choose the quality preset.
				// This needs to be compiled into the shader as it effects code.
				// Best option to include multiple presets is to
				// in each shader define the preset, then include this file.
				//
				// OPTIONS
				// -----------------------------------------------------------------------
				// 10 to 15 - default medium dither (10=fastest, 15=highest quality)
				// 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)
				// 39			 - no dither, very expensive
				//
				// NOTES
				// -----------------------------------------------------------------------
				// 12 = slightly faster then FXAA 3.9 and higher edge quality (default)
				// 13 = about same speed as FXAA 3.9 and better than 12
				// 23 = closest to FXAA 3.9 visually and performance wise
				//	_ = the lowest digit is directly related to performance
				// _	= the highest digit is directly related to style
				//
				#define FXAA_QUALITY_PRESET 12
		#endif


		/*============================================================================

															 FXAA QUALITY - PRESETS

		============================================================================*/

		/*============================================================================
												 FXAA QUALITY - MEDIUM DITHER PRESETS
		============================================================================*/
		#if (FXAA_QUALITY_PRESET == 10)
				#define FXAA_QUALITY_PS 3
				#define FXAA_QUALITY_P0 1.5
				#define FXAA_QUALITY_P1 3.0
				#define FXAA_QUALITY_P2 12.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 11)
				#define FXAA_QUALITY_PS 4
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 3.0
				#define FXAA_QUALITY_P3 12.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 12)
				#define FXAA_QUALITY_PS 5
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 4.0
				#define FXAA_QUALITY_P4 12.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 13)
				#define FXAA_QUALITY_PS 6
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 4.0
				#define FXAA_QUALITY_P5 12.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 14)
				#define FXAA_QUALITY_PS 7
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 4.0
				#define FXAA_QUALITY_P6 12.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 15)
				#define FXAA_QUALITY_PS 8
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 2.0
				#define FXAA_QUALITY_P6 4.0
				#define FXAA_QUALITY_P7 12.0
		#endif

		/*============================================================================
												 FXAA QUALITY - LOW DITHER PRESETS
		============================================================================*/
		#if (FXAA_QUALITY_PRESET == 20)
				#define FXAA_QUALITY_PS 3
				#define FXAA_QUALITY_P0 1.5
				#define FXAA_QUALITY_P1 2.0
				#define FXAA_QUALITY_P2 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 21)
				#define FXAA_QUALITY_PS 4
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 22)
				#define FXAA_QUALITY_PS 5
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 23)
				#define FXAA_QUALITY_PS 6
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 24)
				#define FXAA_QUALITY_PS 7
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 3.0
				#define FXAA_QUALITY_P6 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 25)
				#define FXAA_QUALITY_PS 8
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 2.0
				#define FXAA_QUALITY_P6 4.0
				#define FXAA_QUALITY_P7 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 26)
				#define FXAA_QUALITY_PS 9
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 2.0
				#define FXAA_QUALITY_P6 2.0
				#define FXAA_QUALITY_P7 4.0
				#define FXAA_QUALITY_P8 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 27)
				#define FXAA_QUALITY_PS 10
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 2.0
				#define FXAA_QUALITY_P6 2.0
				#define FXAA_QUALITY_P7 2.0
				#define FXAA_QUALITY_P8 4.0
				#define FXAA_QUALITY_P9 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 28)
				#define FXAA_QUALITY_PS 11
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 2.0
				#define FXAA_QUALITY_P6 2.0
				#define FXAA_QUALITY_P7 2.0
				#define FXAA_QUALITY_P8 2.0
				#define FXAA_QUALITY_P9 4.0
				#define FXAA_QUALITY_P10 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 29)
				#define FXAA_QUALITY_PS 12
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 2.0
				#define FXAA_QUALITY_P6 2.0
				#define FXAA_QUALITY_P7 2.0
				#define FXAA_QUALITY_P8 2.0
				#define FXAA_QUALITY_P9 2.0
				#define FXAA_QUALITY_P10 4.0
				#define FXAA_QUALITY_P11 8.0
		#endif

		/*============================================================================
												 FXAA QUALITY - EXTREME QUALITY
		============================================================================*/
		#if (FXAA_QUALITY_PRESET == 39)
				#define FXAA_QUALITY_PS 12
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.0
				#define FXAA_QUALITY_P2 1.0
				#define FXAA_QUALITY_P3 1.0
				#define FXAA_QUALITY_P4 1.0
				#define FXAA_QUALITY_P5 1.5
				#define FXAA_QUALITY_P6 2.0
				#define FXAA_QUALITY_P7 2.0
				#define FXAA_QUALITY_P8 2.0
				#define FXAA_QUALITY_P9 2.0
				#define FXAA_QUALITY_P10 4.0
				#define FXAA_QUALITY_P11 8.0
		#endif



		/*============================================================================

																		API PORTING

		============================================================================*/
		#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)
				#define FxaaBool bool
				#define FxaaDiscard discard
				#define FxaaFloat float
				#define FxaaFloat2 vec2
				#define FxaaFloat3 vec3
				#define FxaaFloat4 vec4
				#define FxaaHalf float
				#define FxaaHalf2 vec2
				#define FxaaHalf3 vec3
				#define FxaaHalf4 vec4
				#define FxaaInt2 ivec2
				#define FxaaSat(x) clamp(x, 0.0, 1.0)
				#define FxaaTex sampler2D
		#else
				#define FxaaBool bool
				#define FxaaDiscard clip(-1)
				#define FxaaFloat float
				#define FxaaFloat2 float2
				#define FxaaFloat3 float3
				#define FxaaFloat4 float4
				#define FxaaHalf half
				#define FxaaHalf2 half2
				#define FxaaHalf3 half3
				#define FxaaHalf4 half4
				#define FxaaSat(x) saturate(x)
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_GLSL_100 == 1)
			#define FxaaTexTop(t, p) texture2D(t, p, 0.0)
			#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_GLSL_120 == 1)
				// Requires,
				//	#version 120
				// And at least,
				//	#extension GL_EXT_gpu_shader4 : enable
				//	(or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)
				#define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)
				#if (FXAA_FAST_PIXEL_OFFSET == 1)
						#define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)
				#else
						#define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)
				#endif
				#if (FXAA_GATHER4_ALPHA == 1)
						// use #extension GL_ARB_gpu_shader5 : enable
						#define FxaaTexAlpha4(t, p) textureGather(t, p, 3)
						#define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)
						#define FxaaTexGreen4(t, p) textureGather(t, p, 1)
						#define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)
				#endif
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_GLSL_130 == 1)
				// Requires "#version 130" or better
				#define FxaaTexTop(t, p) textureLod(t, p, 0.0)
				#define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)
				#if (FXAA_GATHER4_ALPHA == 1)
						// use #extension GL_ARB_gpu_shader5 : enable
						#define FxaaTexAlpha4(t, p) textureGather(t, p, 3)
						#define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)
						#define FxaaTexGreen4(t, p) textureGather(t, p, 1)
						#define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)
				#endif
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_HLSL_3 == 1)
				#define FxaaInt2 float2
				#define FxaaTex sampler2D
				#define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))
				#define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_HLSL_4 == 1)
				#define FxaaInt2 int2
				struct FxaaTex { SamplerState smpl; Texture2D tex; };
				#define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)
				#define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_HLSL_5 == 1)
				#define FxaaInt2 int2
				struct FxaaTex { SamplerState smpl; Texture2D tex; };
				#define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)
				#define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)
				#define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)
				#define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)
				#define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)
				#define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)
		#endif


		/*============================================================================
											 GREEN AS LUMA OPTION SUPPORT FUNCTION
		============================================================================*/
		#if (FXAA_GREEN_AS_LUMA == 0)
				FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }
		#else
				FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }
		#endif




		/*============================================================================

																 FXAA3 QUALITY - PC

		============================================================================*/
		#if (FXAA_PC == 1)
		/*--------------------------------------------------------------------------*/
		FxaaFloat4 FxaaPixelShader(
				//
				// Use noperspective interpolation here (turn off perspective interpolation).
				// {xy} = center of pixel
				FxaaFloat2 pos,
				//
				// Used only for FXAA Console, and not used on the 360 version.
				// Use noperspective interpolation here (turn off perspective interpolation).
				// {xy_} = upper left of pixel
				// {_zw} = lower right of pixel
				FxaaFloat4 fxaaConsolePosPos,
				//
				// Input color texture.
				// {rgb_} = color in linear or perceptual color space
				// if (FXAA_GREEN_AS_LUMA == 0)
				//		 {__a} = luma in perceptual color space (not linear)
				FxaaTex tex,
				//
				// Only used on the optimized 360 version of FXAA Console.
				// For everything but 360, just use the same input here as for "tex".
				// For 360, same texture, just alias with a 2nd sampler.
				// This sampler needs to have an exponent bias of -1.
				FxaaTex fxaaConsole360TexExpBiasNegOne,
				//
				// Only used on the optimized 360 version of FXAA Console.
				// For everything but 360, just use the same input here as for "tex".
				// For 360, same texture, just alias with a 3nd sampler.
				// This sampler needs to have an exponent bias of -2.
				FxaaTex fxaaConsole360TexExpBiasNegTwo,
				//
				// Only used on FXAA Quality.
				// This must be from a constant/uniform.
				// {x_} = 1.0/screenWidthInPixels
				// {_y} = 1.0/screenHeightInPixels
				FxaaFloat2 fxaaQualityRcpFrame,
				//
				// Only used on FXAA Console.
				// This must be from a constant/uniform.
				// This effects sub-pixel AA quality and inversely sharpness.
				//	 Where N ranges between,
				//		 N = 0.50 (default)
				//		 N = 0.33 (sharper)
				// {x__} = -N/screenWidthInPixels
				// {_y_} = -N/screenHeightInPixels
				// {_z_} =	N/screenWidthInPixels
				// {__w} =	N/screenHeightInPixels
				FxaaFloat4 fxaaConsoleRcpFrameOpt,
				//
				// Only used on FXAA Console.
				// Not used on 360, but used on PS3 and PC.
				// This must be from a constant/uniform.
				// {x__} = -2.0/screenWidthInPixels
				// {_y_} = -2.0/screenHeightInPixels
				// {_z_} =	2.0/screenWidthInPixels
				// {__w} =	2.0/screenHeightInPixels
				FxaaFloat4 fxaaConsoleRcpFrameOpt2,
				//
				// Only used on FXAA Console.
				// Only used on 360 in place of fxaaConsoleRcpFrameOpt2.
				// This must be from a constant/uniform.
				// {x__} =	8.0/screenWidthInPixels
				// {_y_} =	8.0/screenHeightInPixels
				// {_z_} = -4.0/screenWidthInPixels
				// {__w} = -4.0/screenHeightInPixels
				FxaaFloat4 fxaaConsole360RcpFrameOpt2,
				//
				// Only used on FXAA Quality.
				// This used to be the FXAA_QUALITY_SUBPIX define.
				// It is here now to allow easier tuning.
				// Choose the amount of sub-pixel aliasing removal.
				// This can effect sharpness.
				//	 1.00 - upper limit (softer)
				//	 0.75 - default amount of filtering
				//	 0.50 - lower limit (sharper, less sub-pixel aliasing removal)
				//	 0.25 - almost off
				//	 0.00 - completely off
				FxaaFloat fxaaQualitySubpix,
				//
				// Only used on FXAA Quality.
				// This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.
				// It is here now to allow easier tuning.
				// The minimum amount of local contrast required to apply algorithm.
				//	 0.333 - too little (faster)
				//	 0.250 - low quality
				//	 0.166 - default
				//	 0.125 - high quality
				//	 0.063 - overkill (slower)
				FxaaFloat fxaaQualityEdgeThreshold,
				//
				// Only used on FXAA Quality.
				// This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.
				// It is here now to allow easier tuning.
				// Trims the algorithm from processing darks.
				//	 0.0833 - upper limit (default, the start of visible unfiltered edges)
				//	 0.0625 - high quality (faster)
				//	 0.0312 - visible limit (slower)
				// Special notes when using FXAA_GREEN_AS_LUMA,
				//	 Likely want to set this to zero.
				//	 As colors that are mostly not-green
				//	 will appear very dark in the green channel!
				//	 Tune by looking at mostly non-green content,
				//	 then start at zero and increase until aliasing is a problem.
				FxaaFloat fxaaQualityEdgeThresholdMin,
				//
				// Only used on FXAA Console.
				// This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.
				// It is here now to allow easier tuning.
				// This does not effect PS3, as this needs to be compiled in.
				//	 Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.
				//	 Due to the PS3 being ALU bound,
				//	 there are only three safe values here: 2 and 4 and 8.
				//	 These options use the shaders ability to a free *|/ by 2|4|8.
				// For all other platforms can be a non-power of two.
				//	 8.0 is sharper (default!!!)
				//	 4.0 is softer
				//	 2.0 is really soft (good only for vector graphics inputs)
				FxaaFloat fxaaConsoleEdgeSharpness,
				//
				// Only used on FXAA Console.
				// This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.
				// It is here now to allow easier tuning.
				// This does not effect PS3, as this needs to be compiled in.
				//	 Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.
				//	 Due to the PS3 being ALU bound,
				//	 there are only two safe values here: 1/4 and 1/8.
				//	 These options use the shaders ability to a free *|/ by 2|4|8.
				// The console setting has a different mapping than the quality setting.
				// Other platforms can use other values.
				//	 0.125 leaves less aliasing, but is softer (default!!!)
				//	 0.25 leaves more aliasing, and is sharper
				FxaaFloat fxaaConsoleEdgeThreshold,
				//
				// Only used on FXAA Console.
				// This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.
				// It is here now to allow easier tuning.
				// Trims the algorithm from processing darks.
				// The console setting has a different mapping than the quality setting.
				// This only applies when FXAA_EARLY_EXIT is 1.
				// This does not apply to PS3,
				// PS3 was simplified to avoid more shader instructions.
				//	 0.06 - faster but more aliasing in darks
				//	 0.05 - default
				//	 0.04 - slower and less aliasing in darks
				// Special notes when using FXAA_GREEN_AS_LUMA,
				//	 Likely want to set this to zero.
				//	 As colors that are mostly not-green
				//	 will appear very dark in the green channel!
				//	 Tune by looking at mostly non-green content,
				//	 then start at zero and increase until aliasing is a problem.
				FxaaFloat fxaaConsoleEdgeThresholdMin,
				//
				// Extra constants for 360 FXAA Console only.
				// Use zeros or anything else for other platforms.
				// These must be in physical constant registers and NOT immediates.
				// Immediates will result in compiler un-optimizing.
				// {xyzw} = float4(1.0, -1.0, 0.25, -0.25)
				FxaaFloat4 fxaaConsole360ConstDir
		) {
		/*--------------------------------------------------------------------------*/
				FxaaFloat2 posM;
				posM.x = pos.x;
				posM.y = pos.y;
				#if (FXAA_GATHER4_ALPHA == 1)
						#if (FXAA_DISCARD == 0)
								FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);
								#if (FXAA_GREEN_AS_LUMA == 0)
										#define lumaM rgbyM.w
								#else
										#define lumaM rgbyM.y
								#endif
						#endif
						#if (FXAA_GREEN_AS_LUMA == 0)
								FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);
								FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));
						#else
								FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);
								FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));
						#endif
						#if (FXAA_DISCARD == 1)
								#define lumaM luma4A.w
						#endif
						#define lumaE luma4A.z
						#define lumaS luma4A.x
						#define lumaSE luma4A.y
						#define lumaNW luma4B.w
						#define lumaN luma4B.z
						#define lumaW luma4B.x
				#else
						FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);
						#if (FXAA_GREEN_AS_LUMA == 0)
								#define lumaM rgbyM.w
						#else
								#define lumaM rgbyM.y
						#endif
						#if (FXAA_GLSL_100 == 1)
							FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));
						#else
							FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));
						#endif
				#endif
		/*--------------------------------------------------------------------------*/
				FxaaFloat maxSM = max(lumaS, lumaM);
				FxaaFloat minSM = min(lumaS, lumaM);
				FxaaFloat maxESM = max(lumaE, maxSM);
				FxaaFloat minESM = min(lumaE, minSM);
				FxaaFloat maxWN = max(lumaN, lumaW);
				FxaaFloat minWN = min(lumaN, lumaW);
				FxaaFloat rangeMax = max(maxWN, maxESM);
				FxaaFloat rangeMin = min(minWN, minESM);
				FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;
				FxaaFloat range = rangeMax - rangeMin;
				FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);
				FxaaBool earlyExit = range < rangeMaxClamped;
		/*--------------------------------------------------------------------------*/
				if(earlyExit)
						#if (FXAA_DISCARD == 1)
								FxaaDiscard;
						#else
								return rgbyM;
						#endif
		/*--------------------------------------------------------------------------*/
				#if (FXAA_GATHER4_ALPHA == 0)
						#if (FXAA_GLSL_100 == 1)
							FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));
						#else
							FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));
						#endif
				#else
						FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));
						FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));
				#endif
		/*--------------------------------------------------------------------------*/
				FxaaFloat lumaNS = lumaN + lumaS;
				FxaaFloat lumaWE = lumaW + lumaE;
				FxaaFloat subpixRcpRange = 1.0/range;
				FxaaFloat subpixNSWE = lumaNS + lumaWE;
				FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;
				FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;
		/*--------------------------------------------------------------------------*/
				FxaaFloat lumaNESE = lumaNE + lumaSE;
				FxaaFloat lumaNWNE = lumaNW + lumaNE;
				FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;
				FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;
		/*--------------------------------------------------------------------------*/
				FxaaFloat lumaNWSW = lumaNW + lumaSW;
				FxaaFloat lumaSWSE = lumaSW + lumaSE;
				FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);
				FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);
				FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;
				FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;
				FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;
				FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;
		/*--------------------------------------------------------------------------*/
				FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;
				FxaaFloat lengthSign = fxaaQualityRcpFrame.x;
				FxaaBool horzSpan = edgeHorz >= edgeVert;
				FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;
		/*--------------------------------------------------------------------------*/
				if(!horzSpan) lumaN = lumaW;
				if(!horzSpan) lumaS = lumaE;
				if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;
				FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;
		/*--------------------------------------------------------------------------*/
				FxaaFloat gradientN = lumaN - lumaM;
				FxaaFloat gradientS = lumaS - lumaM;
				FxaaFloat lumaNN = lumaN + lumaM;
				FxaaFloat lumaSS = lumaS + lumaM;
				FxaaBool pairN = abs(gradientN) >= abs(gradientS);
				FxaaFloat gradient = max(abs(gradientN), abs(gradientS));
				if(pairN) lengthSign = -lengthSign;
				FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);
		/*--------------------------------------------------------------------------*/
				FxaaFloat2 posB;
				posB.x = posM.x;
				posB.y = posM.y;
				FxaaFloat2 offNP;
				offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;
				offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;
				if(!horzSpan) posB.x += lengthSign * 0.5;
				if( horzSpan) posB.y += lengthSign * 0.5;
		/*--------------------------------------------------------------------------*/
				FxaaFloat2 posN;
				posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;
				posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;
				FxaaFloat2 posP;
				posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;
				posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;
				FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;
				FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));
				FxaaFloat subpixE = subpixC * subpixC;
				FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));
		/*--------------------------------------------------------------------------*/
				if(!pairN) lumaNN = lumaSS;
				FxaaFloat gradientScaled = gradient * 1.0/4.0;
				FxaaFloat lumaMM = lumaM - lumaNN * 0.5;
				FxaaFloat subpixF = subpixD * subpixE;
				FxaaBool lumaMLTZero = lumaMM < 0.0;
		/*--------------------------------------------------------------------------*/
				lumaEndN -= lumaNN * 0.5;
				lumaEndP -= lumaNN * 0.5;
				FxaaBool doneN = abs(lumaEndN) >= gradientScaled;
				FxaaBool doneP = abs(lumaEndP) >= gradientScaled;
				if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;
				if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;
				FxaaBool doneNP = (!doneN) || (!doneP);
				if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;
				if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;
		/*--------------------------------------------------------------------------*/
				if(doneNP) {
						if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
						if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
						if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
						if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
						doneN = abs(lumaEndN) >= gradientScaled;
						doneP = abs(lumaEndP) >= gradientScaled;
						if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;
						if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;
						doneNP = (!doneN) || (!doneP);
						if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;
						if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;
		/*--------------------------------------------------------------------------*/
						#if (FXAA_QUALITY_PS > 3)
						if(doneNP) {
								if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
								if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
								if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
								if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
								doneN = abs(lumaEndN) >= gradientScaled;
								doneP = abs(lumaEndP) >= gradientScaled;
								if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;
								if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;
								doneNP = (!doneN) || (!doneP);
								if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;
								if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;
		/*--------------------------------------------------------------------------*/
								#if (FXAA_QUALITY_PS > 4)
								if(doneNP) {
										if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
										if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
										if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
										if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
										doneN = abs(lumaEndN) >= gradientScaled;
										doneP = abs(lumaEndP) >= gradientScaled;
										if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;
										if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;
										doneNP = (!doneN) || (!doneP);
										if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;
										if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;
		/*--------------------------------------------------------------------------*/
										#if (FXAA_QUALITY_PS > 5)
										if(doneNP) {
												if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
												if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
												if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
												if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
												doneN = abs(lumaEndN) >= gradientScaled;
												doneP = abs(lumaEndP) >= gradientScaled;
												if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;
												if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;
												doneNP = (!doneN) || (!doneP);
												if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;
												if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;
		/*--------------------------------------------------------------------------*/
												#if (FXAA_QUALITY_PS > 6)
												if(doneNP) {
														if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
														if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
														if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
														if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
														doneN = abs(lumaEndN) >= gradientScaled;
														doneP = abs(lumaEndP) >= gradientScaled;
														if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;
														if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;
														doneNP = (!doneN) || (!doneP);
														if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;
														if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;
		/*--------------------------------------------------------------------------*/
														#if (FXAA_QUALITY_PS > 7)
														if(doneNP) {
																if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
																if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
																if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
																if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
																doneN = abs(lumaEndN) >= gradientScaled;
																doneP = abs(lumaEndP) >= gradientScaled;
																if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;
																if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;
																doneNP = (!doneN) || (!doneP);
																if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;
																if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;
		/*--------------------------------------------------------------------------*/
				#if (FXAA_QUALITY_PS > 8)
				if(doneNP) {
						if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
						if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
						if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
						if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
						doneN = abs(lumaEndN) >= gradientScaled;
						doneP = abs(lumaEndP) >= gradientScaled;
						if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;
						if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;
						doneNP = (!doneN) || (!doneP);
						if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;
						if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;
		/*--------------------------------------------------------------------------*/
						#if (FXAA_QUALITY_PS > 9)
						if(doneNP) {
								if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
								if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
								if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
								if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
								doneN = abs(lumaEndN) >= gradientScaled;
								doneP = abs(lumaEndP) >= gradientScaled;
								if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;
								if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;
								doneNP = (!doneN) || (!doneP);
								if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;
								if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;
		/*--------------------------------------------------------------------------*/
								#if (FXAA_QUALITY_PS > 10)
								if(doneNP) {
										if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
										if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
										if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
										if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
										doneN = abs(lumaEndN) >= gradientScaled;
										doneP = abs(lumaEndP) >= gradientScaled;
										if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;
										if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;
										doneNP = (!doneN) || (!doneP);
										if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;
										if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;
		/*--------------------------------------------------------------------------*/
										#if (FXAA_QUALITY_PS > 11)
										if(doneNP) {
												if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
												if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
												if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
												if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
												doneN = abs(lumaEndN) >= gradientScaled;
												doneP = abs(lumaEndP) >= gradientScaled;
												if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;
												if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;
												doneNP = (!doneN) || (!doneP);
												if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;
												if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;
		/*--------------------------------------------------------------------------*/
												#if (FXAA_QUALITY_PS > 12)
												if(doneNP) {
														if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
														if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
														if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
														if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
														doneN = abs(lumaEndN) >= gradientScaled;
														doneP = abs(lumaEndP) >= gradientScaled;
														if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;
														if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;
														doneNP = (!doneN) || (!doneP);
														if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;
														if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;
		/*--------------------------------------------------------------------------*/
												}
												#endif
		/*--------------------------------------------------------------------------*/
										}
										#endif
		/*--------------------------------------------------------------------------*/
								}
								#endif
		/*--------------------------------------------------------------------------*/
						}
						#endif
		/*--------------------------------------------------------------------------*/
				}
				#endif
		/*--------------------------------------------------------------------------*/
														}
														#endif
		/*--------------------------------------------------------------------------*/
												}
												#endif
		/*--------------------------------------------------------------------------*/
										}
										#endif
		/*--------------------------------------------------------------------------*/
								}
								#endif
		/*--------------------------------------------------------------------------*/
						}
						#endif
		/*--------------------------------------------------------------------------*/
				}
		/*--------------------------------------------------------------------------*/
				FxaaFloat dstN = posM.x - posN.x;
				FxaaFloat dstP = posP.x - posM.x;
				if(!horzSpan) dstN = posM.y - posN.y;
				if(!horzSpan) dstP = posP.y - posM.y;
		/*--------------------------------------------------------------------------*/
				FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;
				FxaaFloat spanLength = (dstP + dstN);
				FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;
				FxaaFloat spanLengthRcp = 1.0/spanLength;
		/*--------------------------------------------------------------------------*/
				FxaaBool directionN = dstN < dstP;
				FxaaFloat dst = min(dstN, dstP);
				FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;
				FxaaFloat subpixG = subpixF * subpixF;
				FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;
				FxaaFloat subpixH = subpixG * fxaaQualitySubpix;
		/*--------------------------------------------------------------------------*/
				FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;
				FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);
				if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;
				if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;
				#if (FXAA_DISCARD == 1)
						return FxaaTexTop(tex, posM);
				#else
						return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);
				#endif
		}
		/*==========================================================================*/
		#endif

		void main() {
			gl_FragColor = FxaaPixelShader(
				vUv,
				vec4(0.0),
				tDiffuse,
				tDiffuse,
				tDiffuse,
				resolution,
				vec4(0.0),
				vec4(0.0),
				vec4(0.0),
				0.75,
				0.166,
				0.0833,
				0.0,
				0.0,
				0.0,
				vec4(0.0)
			);

			// TODO avoid querying texture twice for same texel
			gl_FragColor.a = texture2D(tDiffuse, vUv).a;
		}`};class koe extends lc{constructor(s,t,i){super(),this.renderScene=t,this.camera=i,this.resolution=new Re(s.x,s.y),this.fsQuad=new C0(null),this.fsQuad.material=this.createOutlinePostProcessMaterial();const r=new zs(this.resolution.x,this.resolution.y);r.texture.format=In,r.texture.minFilter=Ss,r.texture.magFilter=Ss,r.texture.generateMipmaps=!1,r.stencilBuffer=!1,this.normalTarget=r,this.normalOverrideMaterial=new jI}dispose(){this.normalTarget.dispose(),this.normalTarget=null,this.fsQuad.dispose(),this.fsQuad=null}setSize(s,t){this.normalTarget.setSize(s,t),this.resolution.set(s*2,t*2),this.fsQuad.material.uniforms.screenSize.value.set(this.resolution.x,this.resolution.y,1/this.resolution.x,1/this.resolution.y)}render(s,t,i){const r=t.depthBuffer;t.depthBuffer=!1,s.setRenderTarget(this.normalTarget);const n=this.renderScene.overrideMaterial;this.renderScene.overrideMaterial=this.normalOverrideMaterial,s.render(this.renderScene,this.camera),this.renderScene.overrideMaterial=n,this.fsQuad.material.uniforms.depthBuffer.value=i.depthTexture,this.fsQuad.material.uniforms.normalBuffer.value=this.normalTarget.texture,this.fsQuad.material.uniforms.sceneColorBuffer.value=i.texture,this.renderToScreen?(s.setRenderTarget(null),this.fsQuad.render(s)):(s.setRenderTarget(t),this.fsQuad.render(s)),t.depthBuffer=r}get vertexShader(){return`
			varying vec2 vUv;
			void main() {
			  vUv = uv;
			  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
			}
			`}get fragmentShader(){return`
			#include <packing>
			// The above include imports "perspectiveDepthToViewZ"
			// and other GLSL functions from ThreeJS we need for reading depth.
			uniform sampler2D sceneColorBuffer;
			uniform sampler2D depthBuffer;
			uniform sampler2D normalBuffer;
			uniform float cameraNear;
  		uniform float cameraFar;
  		uniform vec4 screenSize;
      uniform vec3 outlineColor;
      uniform vec4 multiplierParameters;
      uniform int debugVisualize;

			varying vec2 vUv;

			// Helper functions for reading from depth buffer.
			float readDepth (sampler2D depthSampler, vec2 coord) {
				float fragCoordZ = texture2D(depthSampler, coord).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );
			}
			float getLinearDepth(vec3 pos) {
				return -(viewMatrix * vec4(pos, 1.0)).z;
			}

			float getLinearScreenDepth(sampler2D map) {
		    	vec2 uv = gl_FragCoord.xy * screenSize.zw;
		    	return readDepth(map,uv);
			}
			// Helper functions for reading normals and depth of neighboring pixels.
			float getPixelDepth(int x, int y) {
				// screenSize.zw is pixel size 
				// vUv is current position
				return readDepth(depthBuffer, vUv + screenSize.zw * vec2(x, y));
			}
			vec3 getPixelNormal(int x, int y) {
				return texture2D(normalBuffer, vUv + screenSize.zw * vec2(x, y)).rgb;
			}

      float saturate(float num) {
        return clamp(num, 0.0, 1.0);
      }

			void main() {
				vec4 sceneColor = texture2D(sceneColorBuffer, vUv);
				float depth = getPixelDepth(0, 0);
				vec3 normal = getPixelNormal(0, 0);

				// Get the difference between depth of neighboring pixels and current.
				float depthDiff = 0.0;
		  	depthDiff += abs(depth - getPixelDepth(1, 0));
		  	depthDiff += abs(depth - getPixelDepth(-1, 0));
		  	depthDiff += abs(depth - getPixelDepth(0, 1));
		  	depthDiff += abs(depth - getPixelDepth(0, -1));

		  	// Get the difference between normals of neighboring pixels and current
		  	float normalDiff = 0.0;
		  	normalDiff += distance(normal, getPixelNormal(1, 0));
		  	normalDiff += distance(normal, getPixelNormal(0, 1));
		  	normalDiff += distance(normal, getPixelNormal(0, 1));
		  	normalDiff += distance(normal, getPixelNormal(0, -1));

        normalDiff += distance(normal, getPixelNormal(1, 1));
        normalDiff += distance(normal, getPixelNormal(1, -1));
        normalDiff += distance(normal, getPixelNormal(-1, 1));
        normalDiff += distance(normal, getPixelNormal(-1, -1));

        // Apply multiplier & bias to each 
        float depthBias = multiplierParameters.x;
        float depthMultiplier = multiplierParameters.y;
        float normalBias = multiplierParameters.z;
        float normalMultiplier = multiplierParameters.w;

        depthDiff = depthDiff * depthMultiplier;
        depthDiff = saturate(depthDiff);
        depthDiff = pow(depthDiff, depthBias);

        normalDiff = normalDiff * normalMultiplier;
        normalDiff = saturate(normalDiff);
        normalDiff = pow(normalDiff, normalBias);


		  	float outline = normalDiff + depthDiff;
			
		  	// Combine outline with scene color.
		  	vec4 outlineColor = vec4(outlineColor, 1.0);
		  	gl_FragColor = vec4(mix(sceneColor, outlineColor, outline));

        // For debug visualization of the different inputs to this shader.
        if (debugVisualize == 1) {
          gl_FragColor = sceneColor;
        }
        if (debugVisualize == 2) {
          gl_FragColor = vec4(vec3(depth), 1.0);
        }
        if (debugVisualize == 3) {
          gl_FragColor = vec4(normal, 1.0);
        }
        if (debugVisualize == 4) {
          gl_FragColor = vec4(vec3(outline * outlineColor), 1.0);
        }
			}
			`}createOutlinePostProcessMaterial(){return new Zs({uniforms:{debugVisualize:{value:0},sceneColorBuffer:{},depthBuffer:{},normalBuffer:{},outlineColor:{value:new it(16777215)},multiplierParameters:{value:new Qt(1,1,1,1)},cameraNear:{value:this.camera.near},cameraFar:{value:this.camera.far},screenSize:{value:new Qt(this.resolution.x,this.resolution.y,1/this.resolution.x,1/this.resolution.y)}},vertexShader:this.vertexShader,fragmentShader:this.fragmentShader})}}class Voe{constructor(s,t){this.context=s,this.renderer=t,this.htmlOverlay=document.createElement("img"),this.excludedItems=new Set,this.initialized=!1,this.visibilityField="ifcjsPostproductionVisible",this.isUserControllingCamera=!1,this.isControlSleeping=!0,this.lastWheelUsed=0,this.lastResized=0,this.resizeDelay=500,this.isActive=!1,this.isVisible=!1,this.white=new it(255,255,255),this.tempMaterial=new fl({colorWrite:!1,opacity:0,transparent:!0}),this.outlineParams={mode:{Mode:0},FXAA:!0,outlineColor:7829367,depthBias:16,depthMult:83,normalBias:5,normalMult:1},this.onControlStart=()=>this.isUserControllingCamera=!0,this.onWake=()=>this.isControlSleeping=!1,this.onResize=()=>{this.lastResized=performance.now(),this.visible=!1,setTimeout(()=>{performance.now()-this.lastResized>=this.resizeDelay&&(this.visible=!0)},this.resizeDelay)},this.onControl=()=>{this.visible=!1},this.onControlEnd=()=>{this.isUserControllingCamera=!1,!this.isUserControllingCamera&&this.isControlSleeping&&(this.visible=!0)},this.onWheel=()=>{this.lastWheelUsed=performance.now()},this.onSleep=()=>{this.isControlSleeping=!0;const i=performance.now();setTimeout(()=>{this.lastWheelUsed>i||!this.isUserControllingCamera&&this.isControlSleeping&&(this.visible=!0)},200)},this.onChangeProjection=i=>{this.composer.passes.forEach(r=>{r.camera=i}),this.update()},this.renderTarget=this.newRenderTarget(),this.composer=new Uoe(t,this.renderTarget),this.composer.setSize(window.innerWidth,window.innerHeight)}get active(){return this.isActive}set active(s){this.isActive!==s&&(this.initialized||this.tryToInitialize(),this.visible=s,this.isActive=s)}get visible(){return this.isVisible}set visible(s){!this.isActive||(this.isVisible=s,s&&this.update(),this.htmlOverlay.style.visibility=s?"visible":"collapse")}get outlineColor(){return this.outlineParams.outlineColor}set outlineColor(s){this.outlineParams.outlineColor=s,this.outlineUniforms.outlineColor.value.set(s)}get sao(){var s;return(s=this.saoPass)===null||s===void 0?void 0:s.params}dispose(){var s,t;this.active=!1,window.removeEventListener("resize",this.onResize),this.renderTarget.dispose(),this.renderTarget=null,(s=this.depthTexture)===null||s===void 0||s.dispose(),this.depthTexture=null,(t=this.customOutline)===null||t===void 0||t.dispose(),this.customOutline=null,this.composer=null,this.excludedItems.clear(),this.excludedItems=null,this.composer=null,this.htmlOverlay.remove(),this.htmlOverlay=null,this.outlineParams=null,this.context=null,this.renderer=null,this.saoPass=null,this.outlineUniforms=null,this.scene=null}setSize(s,t){this.composer.setSize(s,t)}update(){var s,t,i;if(!this.initialized||!this.isActive)return;this.hideExcludedItems(),this.context.getScene().traverse(n=>{n.userData.prevMaterial=n.material,n.material=this.tempMaterial});const r=(s=this.scene)===null||s===void 0?void 0:s.background;((t=this.scene)===null||t===void 0?void 0:t.background)&&r&&(this.scene.background=this.white),this.composer.render(),((i=this.scene)===null||i===void 0?void 0:i.background)&&r&&(this.scene.background=r),this.context.getScene().traverse(n=>{n.material=n.userData.prevMaterial,delete n.userData.prevMaterial}),this.htmlOverlay.src=this.renderer.domElement.toDataURL(),this.showExcludedItems()}hideExcludedItems(){for(const s of this.excludedItems)s.userData[this.visibilityField]=s.visible,s.visible=!1}showExcludedItems(){for(const s of this.excludedItems)s.userData[this.visibilityField]!==void 0&&(s.visible=s.userData[this.visibilityField])}tryToInitialize(){const s=this.context.getScene(),t=this.context.getCamera();!s||!t||(this.scene=s,this.renderer.clippingPlanes=this.context.getClippingPlanes(),this.setupEvents(),this.addBasePass(s,t),this.addSaoPass(s,t),this.addOutlinePass(s,t),this.addAntialiasPass(),this.setupHtmlOverlay(),this.initialized=!0)}setupEvents(){const s=this.context.ifcCamera.cameraControls,t=this.context.getDomElement();s.addEventListener("control",this.onControl),s.addEventListener("controlstart",this.onControlStart),s.addEventListener("wake",this.onWake),s.addEventListener("controlend",this.onControlEnd),t.addEventListener("wheel",this.onWheel),s.addEventListener("sleep",this.onSleep),window.addEventListener("resize",this.onResize),this.context.ifcCamera.onChangeProjection.on(this.onChangeProjection)}setupHtmlOverlay(){this.context.getContainerElement().appendChild(this.htmlOverlay),this.htmlOverlay.style.mixBlendMode="multiply",this.htmlOverlay.style.position="absolute",this.htmlOverlay.style.height="100%",this.htmlOverlay.style.userSelect="none",this.htmlOverlay.style.pointerEvents="none",this.htmlOverlay.style.top="0",this.htmlOverlay.style.left="0"}addAntialiasPass(){this.fxaaPass=new Oy(Boe),this.fxaaPass.uniforms.resolution.value.set(1/this.renderer.domElement.offsetWidth*this.renderer.getPixelRatio(),1/this.renderer.domElement.offsetHeight*this.renderer.getPixelRatio()),this.composer.addPass(this.fxaaPass)}addOutlinePass(s,t){this.customOutline=new koe(new Re(window.innerWidth,window.innerHeight),s,t),this.outlineUniforms=this.customOutline.fsQuad.material.uniforms,this.outlineUniforms.outlineColor.value.set(this.outlineParams.outlineColor),this.outlineUniforms.multiplierParameters.value.x=this.outlineParams.depthBias,this.outlineUniforms.multiplierParameters.value.y=this.outlineParams.depthMult,this.outlineUniforms.multiplierParameters.value.z=this.outlineParams.normalBias,this.outlineUniforms.multiplierParameters.value.w=this.outlineParams.normalMult,this.composer.addPass(this.customOutline)}addSaoPass(s,t){this.saoPass=new SG(s,t,!1,!0),this.composer.addPass(this.saoPass),this.saoPass.enabled=!0,this.saoPass.params.saoIntensity=.01,this.saoPass.params.saoBias=.5,this.saoPass.params.saoBlurRadius=8,this.saoPass.params.saoBlurDepthCutoff=.0015,this.saoPass.params.saoScale=30,this.saoPass.params.saoKernelRadius=30}addBasePass(s,t){this.basePass=new Hoe(s,t),this.composer.addPass(this.basePass)}newRenderTarget(){return this.depthTexture=new Nu(window.innerWidth,window.innerHeight),new zs(window.innerWidth,window.innerHeight,{depthTexture:this.depthTexture,depthBuffer:!0})}}class joe extends Fi{constructor(s){super(s),this.renderer2D=new Ine,this.blocked=!1,this.context=s,this.container=s.options.container,this.renderer=new is({alpha:!0,antialias:!0}),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.setupRenderers(),this.postProduction=new Voe(this.context,this.renderer),this.adjustRendererSize()}dispose(){var s,t;this.renderer.domElement.remove(),this.renderer.dispose(),this.postProduction.dispose(),this.postProduction=null,this.renderer=null,this.renderer2D=null,this.container=null,this.context=null,(s=this.tempRenderer)===null||s===void 0||s.dispose(),(t=this.tempCanvas)===null||t===void 0||t.remove()}update(s){if(this.blocked)return;const t=this.context.getScene(),i=this.context.getCamera();this.renderer.render(t,i),this.renderer2D.render(t,i)}getSize(){return new Re(this.renderer.domElement.clientWidth,this.renderer.domElement.clientHeight)}adjustRendererSize(){const s=this.container.clientWidth,t=this.container.clientHeight;this.renderer.setSize(s,t),this.postProduction.setSize(s,t),this.renderer2D.setSize(s,t)}newScreenshot(s,t){const i=this.getSize(),n=this.renderer.domElement.cloneNode(!0);this.tempRenderer||(this.tempRenderer=new is({canvas:n,antialias:!0}),this.tempRenderer.localClippingEnabled=!0),t&&(this.tempRenderer.setSize(t.x,t.y),this.context.ifcCamera.updateAspect(t));const o=this.context.getScene(),a=s||this.context.getCamera();this.tempRenderer.render(o,a);const l=this.tempRenderer.domElement.toDataURL();return t&&this.context.ifcCamera.updateAspect(i),l}setupRenderers(){this.renderer.localClippingEnabled=!0,this.container.appendChild(this.renderer.domElement),this.renderer2D.domElement.style.position="absolute",this.renderer2D.domElement.style.top="0px",this.renderer2D.domElement.style.pointerEvents="none",this.container.appendChild(this.renderer2D.domElement)}}class zoe extends Fi{constructor(s){super(s),this.context=s,this.scene=new Lu,this.setupScene(s.options),this.setupLights()}dispose(){this.scene.children.length=0,this.scene=null}add(s){this.scene.add(s)}remove(s){this.scene.remove(s)}addModel(s){this.context.items.ifcModels.push(s),this.context.items.pickableIfcModels.push(s),this.scene.add(s)}removeModel(s){let t=this.context.items.ifcModels.indexOf(s);t>=0&&this.context.items.ifcModels.splice(t,1),t=this.context.items.pickableIfcModels.indexOf(s),t>=0&&this.context.items.pickableIfcModels.splice(t,1),s.parent&&s.removeFromParent()}setupScene(s){}setupLights(){const s=new pd(16772863,.8);s.position.set(1,1,1),this.scene.add(s);const t=new pd(16777215,.8);t.position.set(-1,.5,-1),this.scene.add(t);const i=new XS(16777198,.25);this.scene.add(i)}}function qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xG(e,s){e.prototype=Object.create(s.prototype),e.prototype.constructor=e,e.__proto__=s}/*!
 * GSAP 3.11.0
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var cr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},jh={duration:.5,overwrite:!1,delay:0},_0,Kr,Gs,br=1e8,ps=1/br,Dy=Math.PI*2,Woe=Dy/4,Yoe=0,bG=Math.sqrt,Xoe=Math.cos,qoe=Math.sin,si=function(s){return typeof s=="string"},Os=function(s){return typeof s=="function"},no=function(s){return typeof s=="number"},w0=function(s){return typeof s>"u"},xn=function(s){return typeof s=="object"},Wi=function(s){return s!==!1},FG=function(){return typeof window<"u"},Gf=function(s){return Os(s)||si(s)},RG=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Si=Array.isArray,My=/(?:-?\.?\d|\.)+/gi,PG=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,vh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Og=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,AG=/[+-]=-?[.\d]+/,OG=/[^,'"\[\]\s]+/gi,Qoe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,bs,Sr,Ny,S0,pr={},bd={},DG,MG=function(s){return(bd=ol(s,pr))&&fr},x0=function(s,t){return console.warn("Invalid property",s,"set to",t,"Missing plugin? gsap.registerPlugin()")},Fd=function(s,t){return!t&&console.warn(s)},NG=function(s,t){return s&&(pr[s]=t)&&bd&&(bd[s]=t)||pr},Yu=function(){return 0},$oe={suppressEvents:!0,isStart:!0},Eu={suppressEvents:!0},b0={},Ko=[],Ly={},LG,rr={},Dg={},n_=30,ed=[],F0="",R0=function(s){var t=s[0],i,r;if(xn(t)||Os(t)||(s=[s]),!(i=(t._gsap||{}).harness)){for(r=ed.length;r--&&!ed[r].targetTest(t););i=ed[r]}for(r=s.length;r--;)s[r]&&(s[r]._gsap||(s[r]._gsap=new r6(s[r],i)))||s.splice(r,1);return s},$a=function(s){return s._gsap||R0(Fr(s))[0]._gsap},UG=function(s,t,i){return(i=s[t])&&Os(i)?s[t]():w0(i)&&s.getAttribute&&s.getAttribute(t)||i},Yi=function(s,t){return(s=s.split(",")).forEach(t)||s},Hs=function(s){return Math.round(s*1e5)/1e5||0},pi=function(s){return Math.round(s*1e7)/1e7||0},Oh=function(s,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return s=parseFloat(s),i==="+"?s+r:i==="-"?s-r:i==="*"?s*r:s/r},Zoe=function(s,t){for(var i=t.length,r=0;s.indexOf(t[r])<0&&++r<i;);return r<i},Rd=function(){var s=Ko.length,t=Ko.slice(0),i,r;for(Ly={},Ko.length=0,i=0;i<s;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},HG=function(s,t,i,r){Ko.length&&Rd(),s.render(t,i,r||Kr),Ko.length&&Rd()},GG=function(s){var t=parseFloat(s);return(t||t===0)&&(s+"").match(OG).length<2?t:si(s)?s.trim():s},BG=function(s){return s},Dr=function(s,t){for(var i in t)i in s||(s[i]=t[i]);return s},Koe=function(s){return function(t,i){for(var r in i)r in t||r==="duration"&&s||r==="ease"||(t[r]=i[r])}},ol=function(s,t){for(var i in t)s[i]=t[i];return s},o_=function e(s,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(s[i]=xn(t[i])?e(s[i]||(s[i]={}),t[i]):t[i]);return s},Pd=function(s,t){var i={},r;for(r in s)r in t||(i[r]=s[r]);return i},vu=function(s){var t=s.parent||bs,i=s.keyframes?Koe(Si(s.keyframes)):Dr;if(Wi(s.inherit))for(;t;)i(s,t.vars.defaults),t=t.parent||t._dp;return s},Joe=function(s,t){for(var i=s.length,r=i===t.length;r&&i--&&s[i]===t[i];);return i<0},kG=function(s,t,i,r,n){i===void 0&&(i="_first"),r===void 0&&(r="_last");var o=s[r],a;if(n)for(a=t[n];o&&o[n]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=s[i],s[i]=t),t._next?t._next._prev=t:s[r]=t,t._prev=o,t.parent=t._dp=s,t},fm=function(s,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var n=t._prev,o=t._next;n?n._next=o:s[i]===t&&(s[i]=o),o?o._prev=n:s[r]===t&&(s[r]=n),t._next=t._prev=t.parent=null},oo=function(s,t){s.parent&&(!t||s.parent.autoRemoveChildren)&&s.parent.remove(s),s._act=0},Za=function(s,t){if(s&&(!t||t._end>s._dur||t._start<0))for(var i=s;i;)i._dirty=1,i=i.parent;return s},eae=function(s){for(var t=s.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return s},Uy=function(s,t,i,r){return s._startAt&&(Kr?s._startAt.revert(Eu):s.vars.immediateRender&&!s.vars.autoRevert||s._startAt.render(t,!0,r))},tae=function e(s){return!s||s._ts&&e(s.parent)},a_=function(s){return s._repeat?zh(s._tTime,s=s.duration()+s._rDelay)*s:0},zh=function(s,t){var i=Math.floor(s/=t);return s&&i===s?i-1:i},Ad=function(s,t){return(s-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},dm=function(s){return s._end=pi(s._start+(s._tDur/Math.abs(s._ts||s._rts||ps)||0))},mm=function(s,t){var i=s._dp;return i&&i.smoothChildTiming&&s._ts&&(s._start=pi(i._time-(s._ts>0?t/s._ts:((s._dirty?s.totalDuration():s._tDur)-t)/-s._ts)),dm(s),i._dirty||Za(i,s)),s},VG=function(s,t){var i;if((t._time||t._initted&&!t._dur)&&(i=Ad(s.rawTime(),t),(!t._dur||np(0,t.totalDuration(),i)-t._tTime>ps)&&t.render(i,!0)),Za(s,t)._dp&&s._initted&&s._time>=s._dur&&s._ts){if(s._dur<s.duration())for(i=s;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;s._zTime=-ps}},Tn=function(s,t,i,r){return t.parent&&oo(t),t._start=pi((no(i)?i:i||s!==bs?wr(s,i,t):s._time)+t._delay),t._end=pi(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),kG(s,t,"_first","_last",s._sort?"_start":0),Hy(t)||(s._recent=t),r||VG(s,t),s._ts<0&&mm(s,s._tTime),s},jG=function(s,t){return(pr.ScrollTrigger||x0("scrollTrigger",t))&&pr.ScrollTrigger.create(t,s)},zG=function(s,t,i,r){if(A0(s,t),!s._initted)return 1;if(!i&&s._pt&&(s._dur&&s.vars.lazy!==!1||!s._dur&&s.vars.lazy)&&LG!==or.frame)return Ko.push(s),s._lazy=[t,r],1},sae=function e(s){var t=s.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||e(t))},Hy=function(s){var t=s.data;return t==="isFromStart"||t==="isStart"},iae=function(s,t,i,r){var n=s.ratio,o=t<0||!t&&(!s._start&&sae(s)&&!(!s._initted&&Hy(s))||(s._ts<0||s._dp._ts<0)&&!Hy(s))?0:1,a=s._rDelay,l=0,h,c,u;if(a&&s._repeat&&(l=np(0,s._tDur,t),c=zh(l,a),s._yoyo&&c&1&&(o=1-o),c!==zh(s._tTime,a)&&(n=1-o,s.vars.repeatRefresh&&s._initted&&s.invalidate())),o!==n||Kr||r||s._zTime===ps||!t&&s._zTime){if(!s._initted&&zG(s,t,r,i))return;for(u=s._zTime,s._zTime=t||(i?ps:0),i||(i=t&&!u),s.ratio=o,s._from&&(o=1-o),s._time=0,s._tTime=l,h=s._pt;h;)h.r(o,h.d),h=h._next;t<0&&Uy(s,t,i,!0),s._onUpdate&&!i&&Rr(s,"onUpdate"),l&&s._repeat&&!i&&s.parent&&Rr(s,"onRepeat"),(t>=s._tDur||t<0)&&s.ratio===o&&(o&&oo(s,1),i||(Rr(s,o?"onComplete":"onReverseComplete",!0),s._prom&&s._prom()))}else s._zTime||(s._zTime=t)},rae=function(s,t,i){var r;if(i>t)for(r=s._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=s._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},Wh=function(s,t,i,r){var n=s._repeat,o=pi(t)||0,a=s._tTime/s._tDur;return a&&!r&&(s._time*=o/s._dur),s._dur=o,s._tDur=n?n<0?1e10:pi(o*(n+1)+s._rDelay*n):o,a>0&&!r?mm(s,s._tTime=s._tDur*a):s.parent&&dm(s),i||Za(s.parent,s),s},l_=function(s){return s instanceof ji?Za(s):Wh(s,s._dur)},nae={_start:0,endTime:Yu,totalDuration:Yu},wr=function e(s,t,i){var r=s.labels,n=s._recent||nae,o=s.duration()>=br?n.endTime(!1):s._dur,a,l,h;return si(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),h=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(a<0?n:i).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),h&&i&&(l=l/100*(Si(i)?i[0]:i).totalDuration()),a>1?e(s,t.substr(0,a-1),i)+l:o+l)):t==null?o:+t},Cu=function(s,t,i){var r=no(t[1]),n=(r?2:1)+(s<2?0:1),o=t[n],a,l;if(r&&(o.duration=t[1]),o.parent=i,s){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Wi(l.vars.inherit)&&l.parent;o.immediateRender=Wi(a.immediateRender),s<2?o.runBackwards=1:o.startAt=t[n-1]}return new Vs(t[0],o,t[n+1])},aa=function(s,t){return s||s===0?t(s):t},np=function(s,t,i){return i<s?s:i>t?t:i},_i=function(s,t){return!si(s)||!(t=Qoe.exec(s))?"":t[1]},oae=function(s,t,i){return aa(i,function(r){return np(s,t,r)})},Gy=[].slice,WG=function(s,t){return s&&xn(s)&&"length"in s&&(!t&&!s.length||s.length-1 in s&&xn(s[0]))&&!s.nodeType&&s!==Sr},aae=function(s,t,i){return i===void 0&&(i=[]),s.forEach(function(r){var n;return si(r)&&!t||WG(r,1)?(n=i).push.apply(n,Fr(r)):i.push(r)})||i},Fr=function(s,t,i){return Gs&&!t&&Gs.selector?Gs.selector(s):si(s)&&!i&&(Ny||!Yh())?Gy.call((t||S0).querySelectorAll(s),0):Si(s)?aae(s,i):WG(s)?Gy.call(s,0):s?[s]:[]},By=function(s){return s=Fr(s)[0]||Fd("Invalid scope")||{},function(t){var i=s.current||s.nativeElement||s;return Fr(t,i.querySelectorAll?i:i===s?Fd("Invalid scope")||S0.createElement("div"):s)}},YG=function(s){return s.sort(function(){return .5-Math.random()})},XG=function(s){if(Os(s))return s;var t=xn(s)?s:{each:s},i=Ka(t.ease),r=t.from||0,n=parseFloat(t.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,h=t.axis,c=r,u=r;return si(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(c=r[0],u=r[1]),function(p,f,m){var g=(m||t).length,C=o[g],I,E,S,x,F,O,R,L,G;if(!C){if(G=t.grid==="auto"?0:(t.grid||[1,br])[1],!G){for(R=-br;R<(R=m[G++].getBoundingClientRect().left)&&G<g;);G--}for(C=o[g]=[],I=l?Math.min(G,g)*c-.5:r%G,E=G===br?0:l?g*u/G-.5:r/G|0,R=0,L=br,O=0;O<g;O++)S=O%G-I,x=E-(O/G|0),C[O]=F=h?Math.abs(h==="y"?x:S):bG(S*S+x*x),F>R&&(R=F),F<L&&(L=F);r==="random"&&YG(C),C.max=R-L,C.min=L,C.v=g=(parseFloat(t.amount)||parseFloat(t.each)*(G>g?g-1:h?h==="y"?g/G:G:Math.max(G,g/G))||0)*(r==="edges"?-1:1),C.b=g<0?n-g:n,C.u=_i(t.amount||t.each)||0,i=i&&g<0?t6(i):i}return g=(C[p]-C.min)/C.max||0,pi(C.b+(i?i(g):g)*C.v)+C.u}},ky=function(s){var t=Math.pow(10,((s+"").split(".")[1]||"").length);return function(i){var r=pi(Math.round(parseFloat(i)/s)*s*t);return(r-r%1)/t+(no(i)?0:_i(i))}},qG=function(s,t){var i=Si(s),r,n;return!i&&xn(s)&&(r=i=s.radius||br,s.values?(s=Fr(s.values),(n=!no(s[0]))&&(r*=r)):s=ky(s.increment)),aa(t,i?Os(s)?function(o){return n=s(o),Math.abs(n-o)<=r?n:o}:function(o){for(var a=parseFloat(n?o.x:o),l=parseFloat(n?o.y:0),h=br,c=0,u=s.length,p,f;u--;)n?(p=s[u].x-a,f=s[u].y-l,p=p*p+f*f):p=Math.abs(s[u]-a),p<h&&(h=p,c=u);return c=!r||h<=r?s[c]:o,n||c===o||no(o)?c:c+_i(o)}:ky(s))},QG=function(s,t,i,r){return aa(Si(s)?!t:i===!0?!!(i=0):!r,function(){return Si(s)?s[~~(Math.random()*s.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((s-i/2+Math.random()*(t-s+i*.99))/i)*i*r)/r})},lae=function(){for(var s=arguments.length,t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];return function(r){return t.reduce(function(n,o){return o(n)},r)}},hae=function(s,t){return function(i){return s(parseFloat(i))+(t||_i(i))}},cae=function(s,t,i){return ZG(s,t,0,1,i)},$G=function(s,t,i){return aa(i,function(r){return s[~~t(r)]})},uae=function e(s,t,i){var r=t-s;return Si(s)?$G(s,e(0,s.length),t):aa(i,function(n){return(r+(n-s)%r)%r+s})},pae=function e(s,t,i){var r=t-s,n=r*2;return Si(s)?$G(s,e(0,s.length-1),t):aa(i,function(o){return o=(n+(o-s)%n)%n||0,s+(o>r?n-o:o)})},Xu=function(s){for(var t=0,i="",r,n,o,a;~(r=s.indexOf("random(",t));)o=s.indexOf(")",r),a=s.charAt(r+7)==="[",n=s.substr(r+7,o-r-7).match(a?OG:My),i+=s.substr(t,r-t)+QG(a?n:+n[0],a?0:+n[1],+n[2]||1e-5),t=o+1;return i+s.substr(t,s.length-t)},ZG=function(s,t,i,r,n){var o=t-s,a=r-i;return aa(n,function(l){return i+((l-s)/o*a||0)})},fae=function e(s,t,i,r){var n=isNaN(s+t)?0:function(f){return(1-f)*s+f*t};if(!n){var o=si(s),a={},l,h,c,u,p;if(i===!0&&(r=1)&&(i=null),o)s={p:s},t={p:t};else if(Si(s)&&!Si(t)){for(c=[],u=s.length,p=u-2,h=1;h<u;h++)c.push(e(s[h-1],s[h]));u--,n=function(m){m*=u;var g=Math.min(p,~~m);return c[g](m-g)},i=t}else r||(s=ol(Si(s)?[]:{},s));if(!c){for(l in t)P0.call(a,s,l,"get",t[l]);n=function(m){return M0(m,a)||(o?s.p:s)}}}return aa(i,n)},h_=function(s,t,i){var r=s.labels,n=br,o,a,l;for(o in r)a=r[o]-t,a<0==!!i&&a&&n>(a=Math.abs(a))&&(l=o,n=a);return l},Rr=function(s,t,i){var r=s.vars,n=r[t],o=Gs,a=s._ctx,l,h,c;if(!!n)return l=r[t+"Params"],h=r.callbackScope||s,i&&Ko.length&&Rd(),a&&(Gs=a),c=l?n.apply(h,l):n.call(h),Gs=o,c},nu=function(s){return oo(s),s.scrollTrigger&&s.scrollTrigger.kill(!1),s.progress()<1&&Rr(s,"onInterrupt"),s},Ch,dae=function(s){s=!s.name&&s.default||s;var t=s.name,i=Os(s),r=t&&!i&&s.init?function(){this._props=[]}:s,n={init:Yu,render:M0,add:P0,kill:Pae,modifier:Rae,rawVars:0},o={targetTest:0,get:0,getSetter:D0,aliases:{},register:0};if(Yh(),s!==r){if(rr[t])return;Dr(r,Dr(Pd(s,n),o)),ol(r.prototype,ol(n,Pd(s,o))),rr[r.prop=t]=r,s.targetTest&&(ed.push(r),b0[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}NG(t,r),s.register&&s.register(fr,r,Xi)},cs=255,ou={aqua:[0,cs,cs],lime:[0,cs,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,cs],navy:[0,0,128],white:[cs,cs,cs],olive:[128,128,0],yellow:[cs,cs,0],orange:[cs,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[cs,0,0],pink:[cs,192,203],cyan:[0,cs,cs],transparent:[cs,cs,cs,0]},Mg=function(s,t,i){return s+=s<0?1:s>1?-1:0,(s*6<1?t+(i-t)*s*6:s<.5?i:s*3<2?t+(i-t)*(2/3-s)*6:t)*cs+.5|0},KG=function(s,t,i){var r=s?no(s)?[s>>16,s>>8&cs,s&cs]:0:ou.black,n,o,a,l,h,c,u,p,f,m;if(!r){if(s.substr(-1)===","&&(s=s.substr(0,s.length-1)),ou[s])r=ou[s];else if(s.charAt(0)==="#"){if(s.length<6&&(n=s.charAt(1),o=s.charAt(2),a=s.charAt(3),s="#"+n+n+o+o+a+a+(s.length===5?s.charAt(4)+s.charAt(4):"")),s.length===9)return r=parseInt(s.substr(1,6),16),[r>>16,r>>8&cs,r&cs,parseInt(s.substr(7),16)/255];s=parseInt(s.substr(1),16),r=[s>>16,s>>8&cs,s&cs]}else if(s.substr(0,3)==="hsl"){if(r=m=s.match(My),!t)l=+r[0]%360/360,h=+r[1]/100,c=+r[2]/100,o=c<=.5?c*(h+1):c+h-c*h,n=c*2-o,r.length>3&&(r[3]*=1),r[0]=Mg(l+1/3,n,o),r[1]=Mg(l,n,o),r[2]=Mg(l-1/3,n,o);else if(~s.indexOf("="))return r=s.match(PG),i&&r.length<4&&(r[3]=1),r}else r=s.match(My)||ou.transparent;r=r.map(Number)}return t&&!m&&(n=r[0]/cs,o=r[1]/cs,a=r[2]/cs,u=Math.max(n,o,a),p=Math.min(n,o,a),c=(u+p)/2,u===p?l=h=0:(f=u-p,h=c>.5?f/(2-u-p):f/(u+p),l=u===n?(o-a)/f+(o<a?6:0):u===o?(a-n)/f+2:(n-o)/f+4,l*=60),r[0]=~~(l+.5),r[1]=~~(h*100+.5),r[2]=~~(c*100+.5)),i&&r.length<4&&(r[3]=1),r},JG=function(s){var t=[],i=[],r=-1;return s.split(Jo).forEach(function(n){var o=n.match(vh)||[];t.push.apply(t,o),i.push(r+=o.length+1)}),t.c=i,t},c_=function(s,t,i){var r="",n=(s+r).match(Jo),o=t?"hsla(":"rgba(",a=0,l,h,c,u;if(!n)return s;if(n=n.map(function(p){return(p=KG(p,t,1))&&o+(t?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),i&&(c=JG(s),l=i.c,l.join(r)!==c.c.join(r)))for(h=s.replace(Jo,"1").split(vh),u=h.length-1;a<u;a++)r+=h[a]+(~l.indexOf(a)?n.shift()||o+"0,0,0,0)":(c.length?c:n.length?n:i).shift());if(!h)for(h=s.split(Jo),u=h.length-1;a<u;a++)r+=h[a]+n[a];return r+h[u]},Jo=function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",s;for(s in ou)e+="|"+s+"\\b";return new RegExp(e+")","gi")}(),mae=/hsl[a]?\(/,e6=function(s){var t=s.join(" "),i;if(Jo.lastIndex=0,Jo.test(t))return i=mae.test(t),s[1]=c_(s[1],i),s[0]=c_(s[0],i,JG(s[1])),!0},qu,or=function(){var e=Date.now,s=500,t=33,i=e(),r=i,n=1e3/240,o=n,a=[],l,h,c,u,p,f,m=function g(C){var I=e()-r,E=C===!0,S,x,F,O;if(I>s&&(i+=I-t),r+=I,F=r-i,S=F-o,(S>0||E)&&(O=++u.frame,p=F-u.time*1e3,u.time=F=F/1e3,o+=S+(S>=n?4:n-S),x=1),E||(l=h(g)),x)for(f=0;f<a.length;f++)a[f](F,p,O,C)};return u={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(C){return p/(1e3/(C||60))},wake:function(){DG&&(!Ny&&FG()&&(Sr=Ny=window,S0=Sr.document||{},pr.gsap=fr,(Sr.gsapVersions||(Sr.gsapVersions=[])).push(fr.version),MG(bd||Sr.GreenSockGlobals||!Sr.gsap&&Sr||{}),c=Sr.requestAnimationFrame),l&&u.sleep(),h=c||function(C){return setTimeout(C,o-u.time*1e3+1|0)},qu=1,m(2))},sleep:function(){(c?Sr.cancelAnimationFrame:clearTimeout)(l),qu=0,h=Yu},lagSmoothing:function(C,I){s=C||1/ps,t=Math.min(I,s,0)},fps:function(C){n=1e3/(C||240),o=u.time*1e3+n},add:function(C,I,E){var S=I?function(x,F,O,R){C(x,F,O,R),u.remove(S)}:C;return u.remove(C),a[E?"unshift":"push"](S),Yh(),S},remove:function(C,I){~(I=a.indexOf(C))&&a.splice(I,1)&&f>=I&&f--},_listeners:a},u}(),Yh=function(){return!qu&&or.wake()},Vt={},Tae=/^[\d.\-M][\d.\-,\s]/,gae=/["']/g,yae=function(s){for(var t={},i=s.substr(1,s.length-3).split(":"),r=i[0],n=1,o=i.length,a,l,h;n<o;n++)l=i[n],a=n!==o-1?l.lastIndexOf(","):l.length,h=l.substr(0,a),t[r]=isNaN(h)?h.replace(gae,"").trim():+h,r=l.substr(a+1).trim();return t},Iae=function(s){var t=s.indexOf("(")+1,i=s.indexOf(")"),r=s.indexOf("(",t);return s.substring(t,~r&&r<i?s.indexOf(")",i+1):i)},Eae=function(s){var t=(s+"").split("("),i=Vt[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~s.indexOf("{")?[yae(t[1])]:Iae(s).split(",").map(GG)):Vt._CE&&Tae.test(s)?Vt._CE("",s):i},t6=function(s){return function(t){return 1-s(1-t)}},s6=function e(s,t){for(var i=s._first,r;i;)i instanceof ji?e(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?e(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},Ka=function(s,t){return s&&(Os(s)?s:Vt[s]||Eae(s))||t},dl=function(s,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var n={easeIn:t,easeOut:i,easeInOut:r},o;return Yi(s,function(a){Vt[a]=pr[a]=n,Vt[o=a.toLowerCase()]=i;for(var l in n)Vt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Vt[a+"."+l]=n[l]}),n},i6=function(s){return function(t){return t<.5?(1-s(1-t*2))/2:.5+s((t-.5)*2)/2}},Ng=function e(s,t,i){var r=t>=1?t:1,n=(i||(s?.3:.45))/(t<1?t:1),o=n/Dy*(Math.asin(1/r)||0),a=function(c){return c===1?1:r*Math.pow(2,-10*c)*qoe((c-o)*n)+1},l=s==="out"?a:s==="in"?function(h){return 1-a(1-h)}:i6(a);return n=Dy/n,l.config=function(h,c){return e(s,h,c)},l},Lg=function e(s,t){t===void 0&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},r=s==="out"?i:s==="in"?function(n){return 1-i(1-n)}:i6(i);return r.config=function(n){return e(s,n)},r};Yi("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,s){var t=s<5?s+1:s;dl(e+",Power"+(t-1),s?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});Vt.Linear.easeNone=Vt.none=Vt.Linear.easeIn;dl("Elastic",Ng("in"),Ng("out"),Ng());(function(e,s){var t=1/s,i=2*t,r=2.5*t,n=function(a){return a<t?e*a*a:a<i?e*Math.pow(a-1.5/s,2)+.75:a<r?e*(a-=2.25/s)*a+.9375:e*Math.pow(a-2.625/s,2)+.984375};dl("Bounce",function(o){return 1-n(1-o)},n)})(7.5625,2.75);dl("Expo",function(e){return e?Math.pow(2,10*(e-1)):0});dl("Circ",function(e){return-(bG(1-e*e)-1)});dl("Sine",function(e){return e===1?1:-Xoe(e*Woe)+1});dl("Back",Lg("in"),Lg("out"),Lg());Vt.SteppedEase=Vt.steps=pr.SteppedEase={config:function(s,t){s===void 0&&(s=1);var i=1/s,r=s+(t?0:1),n=t?1:0,o=1-ps;return function(a){return((r*np(0,o,a)|0)+n)*i}}};jh.ease=Vt["quad.out"];Yi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return F0+=e+","+e+"Params,"});var r6=function(s,t){this.id=Yoe++,s._gsap=this,this.target=s,this.harness=t,this.get=t?t.get:UG,this.set=t?t.getSetter:D0},Xh=function(){function e(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Wh(this,+t.duration,1,1),this.data=t.data,Gs&&(this._ctx=Gs,Gs.data.push(this)),qu||or.wake()}var s=e.prototype;return s.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},s.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},s.totalDuration=function(i){return arguments.length?(this._dirty=0,Wh(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},s.totalTime=function(i,r){if(Yh(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(mm(this,i),!n._dp||n.parent||VG(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Tn(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===ps||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),HG(this,i,r)),this},s.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+a_(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},s.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},s.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+a_(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},s.iteration=function(i,r){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*n,r):this._repeat?zh(this._tTime,n)+1:1},s.timeScale=function(i){if(!arguments.length)return this._rts===-ps?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?Ad(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-ps?0:this._rts,this.totalTime(np(-this._delay,this._tDur,r),!0),dm(this),eae(this)},s.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Yh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ps&&(this._tTime-=ps)))),this):this._ps},s.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Tn(r,this,i-this._delay),this}return this._start},s.endTime=function(i){return this._start+(Wi(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},s.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ad(r.rawTime(i),this):this._tTime:this._tTime},s.revert=function(i){i===void 0&&(i=Eu);var r=Kr;return Kr=i,this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents),this.data!=="nested"&&oo(this),Kr=r,this},s.globalTime=function(i){for(var r=this,n=arguments.length?i:r.rawTime();r;)n=r._start+n/(r._ts||1),r=r._dp;return!this.parent&&this.vars.immediateRender?-1:n},s.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,l_(this)):this._repeat===-2?1/0:this._repeat},s.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,l_(this),r?this.time(r):this}return this._rDelay},s.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},s.seek=function(i,r){return this.totalTime(wr(this,i),Wi(r))},s.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Wi(r))},s.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},s.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},s.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},s.resume=function(){return this.paused(!1)},s.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-ps:0)),this):this._rts<0},s.invalidate=function(){return this._initted=this._act=0,this._zTime=-ps,this},s.isActive=function(){var i=this.parent||this._dp,r=this._start,n;return!!(!i||this._ts&&this._initted&&i.isActive()&&(n=i.rawTime(!0))>=r&&n<this.endTime(!0)-ps)},s.eventCallback=function(i,r,n){var o=this.vars;return arguments.length>1?(r?(o[i]=r,n&&(o[i+"Params"]=n),i==="onUpdate"&&(this._onUpdate=r)):delete o[i],this):o[i]},s.then=function(i){var r=this;return new Promise(function(n){var o=Os(i)?i:BG,a=function(){var h=r.then;r.then=null,Os(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=h),n(o),r.then=h};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},s.kill=function(){nu(this)},e}();Dr(Xh.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ps,_prom:0,_ps:!1,_rts:1});var ji=function(e){xG(s,e);function s(i,r){var n;return i===void 0&&(i={}),n=e.call(this,i)||this,n.labels={},n.smoothChildTiming=!!i.smoothChildTiming,n.autoRemoveChildren=!!i.autoRemoveChildren,n._sort=Wi(i.sortChildren),bs&&Tn(i.parent||bs,qn(n),r),i.reversed&&n.reverse(),i.paused&&n.paused(!0),i.scrollTrigger&&jG(qn(n),i.scrollTrigger),n}var t=s.prototype;return t.to=function(r,n,o){return Cu(0,arguments,this),this},t.from=function(r,n,o){return Cu(1,arguments,this),this},t.fromTo=function(r,n,o,a){return Cu(2,arguments,this),this},t.set=function(r,n,o){return n.duration=0,n.parent=this,vu(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new Vs(r,n,wr(this,o),1),this},t.call=function(r,n,o){return Tn(this,Vs.delayedCall(0,r,n),o)},t.staggerTo=function(r,n,o,a,l,h,c){return o.duration=n,o.stagger=o.stagger||a,o.onComplete=h,o.onCompleteParams=c,o.parent=this,new Vs(r,o,wr(this,l)),this},t.staggerFrom=function(r,n,o,a,l,h,c){return o.runBackwards=1,vu(o).immediateRender=Wi(o.immediateRender),this.staggerTo(r,n,o,a,l,h,c)},t.staggerFromTo=function(r,n,o,a,l,h,c,u){return a.startAt=o,vu(a).immediateRender=Wi(a.immediateRender),this.staggerTo(r,n,a,l,h,c,u)},t.render=function(r,n,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,h=this._dur,c=r<=0?0:pi(r),u=this._zTime<0!=r<0&&(this._initted||!h),p,f,m,g,C,I,E,S,x,F,O,R;if(this!==bs&&c>l&&r>=0&&(c=l),c!==this._tTime||o||u){if(a!==this._time&&h&&(c+=this._time-a,r+=this._time-a),p=c,x=this._start,S=this._ts,I=!S,u&&(h||(a=this._zTime),(r||!n)&&(this._zTime=r)),this._repeat){if(O=this._yoyo,C=h+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(C*100+r,n,o);if(p=pi(c%C),c===l?(g=this._repeat,p=h):(g=~~(c/C),g&&g===c/C&&(p=h,g--),p>h&&(p=h)),F=zh(this._tTime,C),!a&&this._tTime&&F!==g&&(F=g),O&&g&1&&(p=h-p,R=1),g!==F&&!this._lock){var L=O&&F&1,G=L===(O&&g&1);if(g<F&&(L=!L),a=L?0:h,this._lock=1,this.render(a||(R?0:pi(g*C)),n,!h)._lock=0,this._tTime=c,!n&&this.parent&&Rr(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),a&&a!==this._time||I!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,l=this._tDur,G&&(this._lock=2,a=L?h:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!I)return this;s6(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(E=rae(this,pi(a),pi(p)),E&&(c-=p-(p=E._start))),this._tTime=c,this._time=p,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&p&&!n&&(Rr(this,"onStart"),this._tTime!==c))return this;if(p>=a&&r>=0)for(f=this._first;f;){if(m=f._next,(f._act||p>=f._start)&&f._ts&&E!==f){if(f.parent!==this)return this.render(r,n,o);if(f.render(f._ts>0?(p-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(p-f._start)*f._ts,n,o),p!==this._time||!this._ts&&!I){E=0,m&&(c+=this._zTime=-ps);break}}f=m}else{o=o||Kr,f=this._last;for(var V=r<0?r:p;f;){if(m=f._prev,(f._act||V<=f._end)&&f._ts&&E!==f){if(f.parent!==this)return this.render(r,n,o);if(f.render(f._ts>0?(V-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(V-f._start)*f._ts,n,o),p!==this._time||!this._ts&&!I){E=0,m&&(c+=this._zTime=V?-ps:ps);break}}f=m}}if(E&&!n&&(this.pause(),E.render(p>=a?0:-ps)._zTime=p>=a?1:-1,this._ts))return this._start=x,dm(this),this.render(r,n,o);this._onUpdate&&!n&&Rr(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(x===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((r||!h)&&(c===l&&this._ts>0||!c&&this._ts<0)&&oo(this,1),!n&&!(r<0&&!a)&&(c||a||!l)&&(Rr(this,c===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,n){var o=this;if(no(n)||(n=wr(this,n,r)),!(r instanceof Xh)){if(Si(r))return r.forEach(function(a){return o.add(a,n)}),this;if(si(r))return this.addLabel(r,n);if(Os(r))r=Vs.delayedCall(0,r);else return this}return this!==r?Tn(this,r,n):this},t.getChildren=function(r,n,o,a){r===void 0&&(r=!0),n===void 0&&(n=!0),o===void 0&&(o=!0),a===void 0&&(a=-br);for(var l=[],h=this._first;h;)h._start>=a&&(h instanceof Vs?n&&l.push(h):(o&&l.push(h),r&&l.push.apply(l,h.getChildren(!0,n,o)))),h=h._next;return l},t.getById=function(r){for(var n=this.getChildren(1,1,1),o=n.length;o--;)if(n[o].vars.id===r)return n[o]},t.remove=function(r){return si(r)?this.removeLabel(r):Os(r)?this.killTweensOf(r):(fm(this,r),r===this._recent&&(this._recent=this._last),Za(this))},t.totalTime=function(r,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=pi(or.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),e.prototype.totalTime.call(this,r,n),this._forcing=0,this):this._tTime},t.addLabel=function(r,n){return this.labels[r]=wr(this,n),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,n,o){var a=Vs.delayedCall(0,n||Yu,o);return a.data="isPause",this._hasPause=1,Tn(this,a,wr(this,r))},t.removePause=function(r){var n=this._first;for(r=wr(this,r);n;)n._start===r&&n.data==="isPause"&&oo(n),n=n._next},t.killTweensOf=function(r,n,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)Bo!==a[l]&&a[l].kill(r,n);return this},t.getTweensOf=function(r,n){for(var o=[],a=Fr(r),l=this._first,h=no(n),c;l;)l instanceof Vs?Zoe(l._targets,a)&&(h?(!Bo||l._initted&&l._ts)&&l.globalTime(0)<=n&&l.globalTime(l.totalDuration())>n:!n||l.isActive())&&o.push(l):(c=l.getTweensOf(a,n)).length&&o.push.apply(o,c),l=l._next;return o},t.tweenTo=function(r,n){n=n||{};var o=this,a=wr(o,r),l=n,h=l.startAt,c=l.onStart,u=l.onStartParams,p=l.immediateRender,f,m=Vs.to(o,Dr({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:n.duration||Math.abs((a-(h&&"time"in h?h.time:o._time))/o.timeScale())||ps,onStart:function(){if(o.pause(),!f){var C=n.duration||Math.abs((a-(h&&"time"in h?h.time:o._time))/o.timeScale());m._dur!==C&&Wh(m,C,0,1).render(m._time,!0,!0),f=1}c&&c.apply(m,u||[])}},n));return p?m.render(0):m},t.tweenFromTo=function(r,n,o){return this.tweenTo(n,Dr({startAt:{time:wr(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),h_(this,wr(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),h_(this,wr(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+ps)},t.shiftChildren=function(r,n,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,h;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(n)for(h in l)l[h]>=o&&(l[h]+=r);return Za(this)},t.invalidate=function(){var r=this._first;for(this._lock=0;r;)r.invalidate(),r=r._next;return e.prototype.invalidate.call(this)},t.clear=function(r){r===void 0&&(r=!0);for(var n=this._first,o;n;)o=n._next,this.remove(n),n=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Za(this)},t.totalDuration=function(r){var n=0,o=this,a=o._last,l=br,h,c,u;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(u=o.parent;a;)h=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Tn(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(n-=c,(!u&&!o._dp||u&&u.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>n&&a._ts&&(n=a._end),a=h;Wh(o,o===bs&&o._time>n?o._time:n,1,1),o._dirty=0}return o._tDur},s.updateRoot=function(r){if(bs._ts&&(HG(bs,Ad(r,bs)),LG=or.frame),or.frame>=n_){n_+=cr.autoSleep||120;var n=bs._first;if((!n||!n._ts)&&cr.autoSleep&&or._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||or.sleep()}}},s}(Xh);Dr(ji.prototype,{_lock:0,_hasPause:0,_forcing:0});var vae=function(s,t,i,r,n,o,a){var l=new Xi(this._pt,s,t,0,1,c6,null,n),h=0,c=0,u,p,f,m,g,C,I,E;for(l.b=i,l.e=r,i+="",r+="",(I=~r.indexOf("random("))&&(r=Xu(r)),o&&(E=[i,r],o(E,s,t),i=E[0],r=E[1]),p=i.match(Og)||[];u=Og.exec(r);)m=u[0],g=r.substring(h,u.index),f?f=(f+1)%5:g.substr(-5)==="rgba("&&(f=1),m!==p[c++]&&(C=parseFloat(p[c-1])||0,l._pt={_next:l._pt,p:g||c===1?g:",",s:C,c:m.charAt(1)==="="?Oh(C,m)-C:parseFloat(m)-C,m:f&&f<4?Math.round:0},h=Og.lastIndex);return l.c=h<r.length?r.substring(h,r.length):"",l.fp=a,(AG.test(r)||I)&&(l.e=0),this._pt=l,l},P0=function(s,t,i,r,n,o,a,l,h,c){Os(r)&&(r=r(n||0,s,o));var u=s[t],p=i!=="get"?i:Os(u)?h?s[t.indexOf("set")||!Os(s["get"+t.substr(3)])?t:"get"+t.substr(3)](h):s[t]():u,f=Os(u)?h?xae:l6:O0,m;if(si(r)&&(~r.indexOf("random(")&&(r=Xu(r)),r.charAt(1)==="="&&(m=Oh(p,r)+(_i(p)||0),(m||m===0)&&(r=m))),!c||p!==r||Vy)return!isNaN(p*r)&&r!==""?(m=new Xi(this._pt,s,t,+p||0,r-(p||0),typeof u=="boolean"?Fae:h6,0,f),h&&(m.fp=h),a&&m.modifier(a,this,s),this._pt=m):(!u&&!(t in s)&&x0(t,r),vae.call(this,s,t,p,r,f,l||cr.stringFilter,h))},Cae=function(s,t,i,r,n){if(Os(s)&&(s=_u(s,n,t,i,r)),!xn(s)||s.style&&s.nodeType||Si(s)||RG(s))return si(s)?_u(s,n,t,i,r):s;var o={},a;for(a in s)o[a]=_u(s[a],n,t,i,r);return o},n6=function(s,t,i,r,n,o){var a,l,h,c;if(rr[s]&&(a=new rr[s]).init(n,a.rawVars?t[s]:Cae(t[s],r,n,o,i),i,r,o)!==!1&&(i._pt=l=new Xi(i._pt,n,s,0,1,a.render,a,0,a.priority),i!==Ch))for(h=i._ptLookup[i._targets.indexOf(n)],c=a._props.length;c--;)h[a._props[c]]=l;return a},Bo,Vy,A0=function e(s,t){var i=s.vars,r=i.ease,n=i.startAt,o=i.immediateRender,a=i.lazy,l=i.onUpdate,h=i.onUpdateParams,c=i.callbackScope,u=i.runBackwards,p=i.yoyoEase,f=i.keyframes,m=i.autoRevert,g=s._dur,C=s._startAt,I=s._targets,E=s.parent,S=E&&E.data==="nested"?E.parent._targets:I,x=s._overwrite==="auto"&&!_0,F=s.timeline,O,R,L,G,V,B,oe,$,Z,te,ee,J,ie;if(F&&(!f||!r)&&(r="none"),s._ease=Ka(r,jh.ease),s._yEase=p?t6(Ka(p===!0?r:p,jh.ease)):0,p&&s._yoyo&&!s._repeat&&(p=s._yEase,s._yEase=s._ease,s._ease=p),s._from=!F&&!!i.runBackwards,!F||f&&!i.stagger){if($=I[0]?$a(I[0]).harness:0,J=$&&i[$.prop],O=Pd(i,b0),C&&(C.revert(u&&g?Eu:$oe),C._lazy=0),n){if(oo(s._startAt=Vs.set(I,Dr({data:"isStart",overwrite:!1,parent:E,immediateRender:!0,lazy:Wi(a),startAt:null,delay:0,onUpdate:l,onUpdateParams:h,callbackScope:c,stagger:0},n))),t<0&&(Kr||!o&&!m)&&s._startAt.revert(Eu),o&&g&&t<=0){t&&(s._zTime=t);return}}else if(u&&g&&!C){if(t&&(o=!1),L=Dr({overwrite:!1,data:"isFromStart",lazy:o&&Wi(a),immediateRender:o,stagger:0,parent:E},O),J&&(L[$.prop]=J),oo(s._startAt=Vs.set(I,L)),t<0&&(Kr?s._startAt.revert(Eu):s._startAt.render(-1,!0)),s._zTime=t,!o)e(s._startAt,ps);else if(!t)return}for(s._pt=s._ptCache=0,a=g&&Wi(a)||a&&!g,R=0;R<I.length;R++){if(V=I[R],oe=V._gsap||R0(I)[R]._gsap,s._ptLookup[R]=te={},Ly[oe.id]&&Ko.length&&Rd(),ee=S===I?R:S.indexOf(V),$&&(Z=new $).init(V,J||O,s,ee,S)!==!1&&(s._pt=G=new Xi(s._pt,V,Z.name,0,1,Z.render,Z,0,Z.priority),Z._props.forEach(function(re){te[re]=G}),Z.priority&&(B=1)),!$||J)for(L in O)rr[L]&&(Z=n6(L,O,s,ee,V,S))?Z.priority&&(B=1):te[L]=G=P0.call(s,V,L,"get",O[L],ee,S,0,i.stringFilter);s._op&&s._op[R]&&s.kill(V,s._op[R]),x&&s._pt&&(Bo=s,bs.killTweensOf(V,te,s.globalTime(t)),ie=!s.parent,Bo=0),s._pt&&a&&(Ly[oe.id]=1)}B&&u6(s),s._onInit&&s._onInit(s)}s._onUpdate=l,s._initted=(!s._op||s._pt)&&!ie,f&&t<=0&&F.render(br,!0,!0)},_ae=function(s,t,i,r,n,o,a){var l=(s._pt&&s._ptCache||(s._ptCache={}))[t],h,c,u,p;if(!l)for(l=s._ptCache[t]=[],u=s._ptLookup,p=s._targets.length;p--;){if(h=u[p][t],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==t&&h.fp!==t;)h=h._next;if(!h)return Vy=1,s.vars[t]="+=0",A0(s,a),Vy=0,1;l.push(h)}for(p=l.length;p--;)c=l[p],h=c._pt||c,h.s=(r||r===0)&&!n?r:h.s+(r||0)+o*h.c,h.c=i-h.s,c.e&&(c.e=Hs(i)+_i(c.e)),c.b&&(c.b=h.s+_i(c.b))},wae=function(s,t){var i=s[0]?$a(s[0]).harness:0,r=i&&i.aliases,n,o,a,l;if(!r)return t;n=ol({},t);for(o in r)if(o in n)for(l=r[o].split(","),a=l.length;a--;)n[l[a]]=n[o];return n},Sae=function(s,t,i,r){var n=t.ease||r||"power1.inOut",o,a;if(Si(t))a=i[s]||(i[s]=[]),t.forEach(function(l,h){return a.push({t:h/(t.length-1)*100,v:l,e:n})});else for(o in t)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(s),v:t[o],e:n})},_u=function(s,t,i,r,n){return Os(s)?s.call(t,i,r,n):si(s)&&~s.indexOf("random(")?Xu(s):s},o6=F0+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",a6={};Yi(o6+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return a6[e]=1});var Vs=function(e){xG(s,e);function s(i,r,n,o){var a;typeof r=="number"&&(n.duration=r,r=n,n=null),a=e.call(this,o?r:vu(r))||this;var l=a.vars,h=l.duration,c=l.delay,u=l.immediateRender,p=l.stagger,f=l.overwrite,m=l.keyframes,g=l.defaults,C=l.scrollTrigger,I=l.yoyoEase,E=r.parent||bs,S=(Si(i)||RG(i)?no(i[0]):"length"in r)?[i]:Fr(i),x,F,O,R,L,G,V,B;if(a._targets=S.length?R0(S):Fd("GSAP target "+i+" not found. https://greensock.com",!cr.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,m||p||Gf(h)||Gf(c)){if(r=a.vars,x=a.timeline=new ji({data:"nested",defaults:g||{}}),x.kill(),x.parent=x._dp=qn(a),x._start=0,p||Gf(h)||Gf(c)){if(R=S.length,V=p&&XG(p),xn(p))for(L in p)~o6.indexOf(L)&&(B||(B={}),B[L]=p[L]);for(F=0;F<R;F++)O=Pd(r,a6),O.stagger=0,I&&(O.yoyoEase=I),B&&ol(O,B),G=S[F],O.duration=+_u(h,qn(a),F,G,S),O.delay=(+_u(c,qn(a),F,G,S)||0)-a._delay,!p&&R===1&&O.delay&&(a._delay=c=O.delay,a._start+=c,O.delay=0),x.to(G,O,V?V(F,G,S):0),x._ease=Vt.none;x.duration()?h=c=0:a.timeline=0}else if(m){vu(Dr(x.vars.defaults,{ease:"none"})),x._ease=Ka(m.ease||r.ease||"none");var oe=0,$,Z,te;if(Si(m))m.forEach(function(ee){return x.to(S,ee,">")}),x.duration();else{O={};for(L in m)L==="ease"||L==="easeEach"||Sae(L,m[L],O,m.easeEach);for(L in O)for($=O[L].sort(function(ee,J){return ee.t-J.t}),oe=0,F=0;F<$.length;F++)Z=$[F],te={ease:Z.e,duration:(Z.t-(F?$[F-1].t:0))/100*h},te[L]=Z.v,x.to(S,te,oe),oe+=te.duration;x.duration()<h&&x.to({},{duration:h-x.duration()})}}h||a.duration(h=x.duration())}else a.timeline=0;return f===!0&&!_0&&(Bo=qn(a),bs.killTweensOf(S),Bo=0),Tn(E,qn(a),n),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(u||!h&&!m&&a._start===pi(E._time)&&Wi(u)&&tae(qn(a))&&E.data!=="nested")&&(a._tTime=-ps,a.render(Math.max(0,-c))),C&&jG(qn(a),C),a}var t=s.prototype;return t.render=function(r,n,o){var a=this._time,l=this._tDur,h=this._dur,c=r<0,u=r>l-ps&&!c?l:r<ps?0:r,p,f,m,g,C,I,E,S,x;if(!h)iae(this,r,n,o);else if(u!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(p=u,S=this.timeline,this._repeat){if(g=h+this._rDelay,this._repeat<-1&&c)return this.totalTime(g*100+r,n,o);if(p=pi(u%g),u===l?(m=this._repeat,p=h):(m=~~(u/g),m&&m===u/g&&(p=h,m--),p>h&&(p=h)),I=this._yoyo&&m&1,I&&(x=this._yEase,p=h-p),C=zh(this._tTime,g),p===a&&!o&&this._initted)return this._tTime=u,this;m!==C&&(S&&this._yEase&&s6(S,I),this.vars.repeatRefresh&&!I&&!this._lock&&(this._lock=o=1,this.render(pi(g*m),!0).invalidate()._lock=0))}if(!this._initted){if(zG(this,c?r:p,o,n))return this._tTime=0,this;if(a!==this._time)return this;if(h!==this._dur)return this.render(r,n,o)}if(this._tTime=u,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(x||this._ease)(p/h),this._from&&(this.ratio=E=1-E),p&&!a&&!n&&(Rr(this,"onStart"),this._tTime!==u))return this;for(f=this._pt;f;)f.r(E,f.d),f=f._next;S&&S.render(r<0?r:!p&&I?-ps:S._dur*S._ease(p/this._dur),n,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!n&&(c&&Uy(this,r,n,o),Rr(this,"onUpdate")),this._repeat&&m!==C&&this.vars.onRepeat&&!n&&this.parent&&Rr(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(c&&!this._onUpdate&&Uy(this,r,!0,!0),(r||!h)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&oo(this,1),!n&&!(c&&!a)&&(u||a)&&(Rr(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},t.resetTo=function(r,n,o,a){qu||or.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||A0(this,l),h=this._ease(l/this._dur),_ae(this,r,n,o,a,h,l)?this.resetTo(r,n,o,a):(mm(this,0),this.parent||kG(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,n){if(n===void 0&&(n="all"),!r&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?nu(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,n,Bo&&Bo.vars.overwrite!==!0)._first||nu(this),this.parent&&o!==this.timeline.totalDuration()&&Wh(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?Fr(r):a,h=this._ptLookup,c=this._pt,u,p,f,m,g,C,I;if((!n||n==="all")&&Joe(a,l))return n==="all"&&(this._pt=0),nu(this);for(u=this._op=this._op||[],n!=="all"&&(si(n)&&(g={},Yi(n,function(E){return g[E]=1}),n=g),n=wae(a,n)),I=a.length;I--;)if(~l.indexOf(a[I])){p=h[I],n==="all"?(u[I]=n,m=p,f={}):(f=u[I]=u[I]||{},m=n);for(g in m)C=p&&p[g],C&&((!("kill"in C.d)||C.d.kill(g)===!0)&&fm(this,C,"_pt"),delete p[g]),f!=="all"&&(f[g]=1)}return this._initted&&!this._pt&&c&&nu(this),this},s.to=function(r,n){return new s(r,n,arguments[2])},s.from=function(r,n){return Cu(1,arguments)},s.delayedCall=function(r,n,o,a){return new s(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:n,onReverseComplete:n,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},s.fromTo=function(r,n,o){return Cu(2,arguments)},s.set=function(r,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new s(r,n)},s.killTweensOf=function(r,n,o){return bs.killTweensOf(r,n,o)},s}(Xh);Dr(Vs.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Yi("staggerTo,staggerFrom,staggerFromTo",function(e){Vs[e]=function(){var s=new ji,t=Gy.call(arguments,0);return t.splice(e==="staggerFromTo"?5:4,0,0),s[e].apply(s,t)}});var O0=function(s,t,i){return s[t]=i},l6=function(s,t,i){return s[t](i)},xae=function(s,t,i,r){return s[t](r.fp,i)},bae=function(s,t,i){return s.setAttribute(t,i)},D0=function(s,t){return Os(s[t])?l6:w0(s[t])&&s.setAttribute?bae:O0},h6=function(s,t){return t.set(t.t,t.p,Math.round((t.s+t.c*s)*1e6)/1e6,t)},Fae=function(s,t){return t.set(t.t,t.p,!!(t.s+t.c*s),t)},c6=function(s,t){var i=t._pt,r="";if(!s&&t.b)r=t.b;else if(s===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*s):Math.round((i.s+i.c*s)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},M0=function(s,t){for(var i=t._pt;i;)i.r(s,i.d),i=i._next},Rae=function(s,t,i,r){for(var n=this._pt,o;n;)o=n._next,n.p===r&&n.modifier(s,t,i),n=o},Pae=function(s){for(var t=this._pt,i,r;t;)r=t._next,t.p===s&&!t.op||t.op===s?fm(this,t,"_pt"):t.dep||(i=1),t=r;return!i},Aae=function(s,t,i,r){r.mSet(s,t,r.m.call(r.tween,i,r.mt),r)},u6=function(s){for(var t=s._pt,i,r,n,o;t;){for(i=t._next,r=n;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:n=t,(t._next=r)?r._prev=t:o=t,t=i}s._pt=n},Xi=function(){function e(t,i,r,n,o,a,l,h,c){this.t=i,this.s=n,this.c=o,this.p=r,this.r=a||h6,this.d=l||this,this.set=h||O0,this.pr=c||0,this._next=t,t&&(t._prev=this)}var s=e.prototype;return s.modifier=function(i,r,n){this.mSet=this.mSet||this.set,this.set=Aae,this.m=i,this.mt=n,this.tween=r},e}();Yi(F0+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return b0[e]=1});pr.TweenMax=pr.TweenLite=Vs;pr.TimelineLite=pr.TimelineMax=ji;bs=new ji({sortChildren:!1,defaults:jh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});cr.stringFilter=e6;var qh=[],td={},Oae=[],u_=0,Ug=function(s){return(td[s]||Oae).map(function(t){return t()})},jy=function(){var s=Date.now(),t=[];s-u_>2&&(Ug("matchMediaInit"),qh.forEach(function(i){var r=i.queries,n=i.conditions,o,a,l,h;for(a in r)o=Sr.matchMedia(r[a]).matches,o&&(l=1),o!==n[a]&&(n[a]=o,h=1);h&&(i.revert(),l&&t.push(i))}),Ug("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i)}),u_=s,Ug("matchMedia"))},p6=function(){function e(t,i){this.selector=i&&By(i),this.data=[],this._r=[],this.isReverted=!1,t&&this.add(t)}var s=e.prototype;return s.add=function(i,r,n){Os(i)&&(n=r,r=i,i=Os);var o=this,a=function(){var h=Gs,c=o.selector,u;return h&&h.data.push(o),n&&(o.selector=By(n)),Gs=o,u=r.apply(o,arguments),Os(u)&&o._r.push(u),Gs=h,o.selector=c,o.isReverted=!1,u};return o.last=a,i===Os?a(o):i?o[i]=a:a},s.ignore=function(i){var r=Gs;Gs=null,i(this),Gs=r},s.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof e?i.push.apply(i,r.getTweens()):r instanceof Vs&&r._targets[0]!==r.vars.onComplete&&i.push(r)}),i},s.clear=function(){this._r.length=this.data.length=0},s.kill=function(i,r){var n=this;if(i?(this.getTweens().map(function(a){return{g:a.globalTime(0),t:a}}).sort(function(a,l){return l.g-a.g||-1}).forEach(function(a){return a.t.revert(i)}),this.data.forEach(function(a){return!(a instanceof Xh)&&a.revert&&a.revert(i)}),this._r.forEach(function(a){return a(i,n)}),this.isReverted=!0):this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r){var o=qh.indexOf(this);~o&&qh.splice(o,1)}},s.revert=function(i){this.kill(i||{})},e}(),Dae=function(){function e(t){this.contexts=[],this.scope=t}var s=e.prototype;return s.add=function(i,r,n){xn(i)||(i={matches:i});var o=new p6(0,n||this.scope),a=o.conditions={},l,h,c;this.contexts.push(o),r=o.add("onMatch",r),o.queries=i;for(h in i)h==="all"?c=1:(l=Sr.matchMedia(i[h]),l&&(qh.indexOf(o)<0&&qh.push(o),(a[h]=l.matches)&&(c=1),l.addListener?l.addListener(jy):l.addEventListener("change",jy)));return c&&r(o),this},s.revert=function(i){this.kill(i||{})},s.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},e}(),Od={registerPlugin:function(){for(var s=arguments.length,t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];t.forEach(function(r){return dae(r)})},timeline:function(s){return new ji(s)},getTweensOf:function(s,t){return bs.getTweensOf(s,t)},getProperty:function(s,t,i,r){si(s)&&(s=Fr(s)[0]);var n=$a(s||{}).get,o=i?BG:GG;return i==="native"&&(i=""),s&&(t?o((rr[t]&&rr[t].get||n)(s,t,i,r)):function(a,l,h){return o((rr[a]&&rr[a].get||n)(s,a,l,h))})},quickSetter:function(s,t,i){if(s=Fr(s),s.length>1){var r=s.map(function(c){return fr.quickSetter(c,t,i)}),n=r.length;return function(c){for(var u=n;u--;)r[u](c)}}s=s[0]||{};var o=rr[t],a=$a(s),l=a.harness&&(a.harness.aliases||{})[t]||t,h=o?function(c){var u=new o;Ch._pt=0,u.init(s,i?c+i:c,Ch,0,[s]),u.render(1,u),Ch._pt&&M0(1,Ch)}:a.set(s,l);return o?h:function(c){return h(s,l,i?c+i:c,a,1)}},quickTo:function(s,t,i){var r,n=fr.to(s,ol((r={},r[t]="+=0.1",r.paused=!0,r),i||{})),o=function(l,h,c){return n.resetTo(t,l,h,c)};return o.tween=n,o},isTweening:function(s){return bs.getTweensOf(s,!0).length>0},defaults:function(s){return s&&s.ease&&(s.ease=Ka(s.ease,jh.ease)),o_(jh,s||{})},config:function(s){return o_(cr,s||{})},registerEffect:function(s){var t=s.name,i=s.effect,r=s.plugins,n=s.defaults,o=s.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!rr[a]&&!pr[a]&&Fd(t+" effect requires "+a+" plugin.")}),Dg[t]=function(a,l,h){return i(Fr(a),Dr(l||{},n),h)},o&&(ji.prototype[t]=function(a,l,h){return this.add(Dg[t](a,xn(l)?l:(h=l)&&{},this),h)})},registerEase:function(s,t){Vt[s]=Ka(t)},parseEase:function(s,t){return arguments.length?Ka(s,t):Vt},getById:function(s){return bs.getById(s)},exportRoot:function(s,t){s===void 0&&(s={});var i=new ji(s),r,n;for(i.smoothChildTiming=Wi(s.smoothChildTiming),bs.remove(i),i._dp=0,i._time=i._tTime=bs._time,r=bs._first;r;)n=r._next,(t||!(!r._dur&&r instanceof Vs&&r.vars.onComplete===r._targets[0]))&&Tn(i,r,r._start-r._delay),r=n;return Tn(bs,i,0),i},context:function(s,t){return s?new p6(s,t):Gs},matchMedia:function(s){return new Dae(s)},matchMediaRefresh:function(){return qh.forEach(function(s){var t=s.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&s.revert()})||jy()},addEventListener:function(s,t){var i=td[s]||(td[s]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(s,t){var i=td[s],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:uae,wrapYoyo:pae,distribute:XG,random:QG,snap:qG,normalize:cae,getUnit:_i,clamp:oae,splitColor:KG,toArray:Fr,selector:By,mapRange:ZG,pipe:lae,unitize:hae,interpolate:fae,shuffle:YG},install:MG,effects:Dg,ticker:or,updateRoot:ji.updateRoot,plugins:rr,globalTimeline:bs,core:{PropTween:Xi,globals:NG,Tween:Vs,Timeline:ji,Animation:Xh,getCache:$a,_removeLinkedListItem:fm,reverting:function(){return Kr},context:function(s){return s&&Gs&&(Gs.data.push(s),s._ctx=Gs),Gs},suppressOverwrites:function(s){return _0=s}}};Yi("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Od[e]=Vs[e]});or.add(ji.updateRoot);Ch=Od.to({},{duration:0});var Mae=function(s,t){for(var i=s._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},Nae=function(s,t){var i=s._targets,r,n,o;for(r in t)for(n=i.length;n--;)o=s._ptLookup[n][r],o&&(o=o.d)&&(o._pt&&(o=Mae(o,r)),o&&o.modifier&&o.modifier(t[r],s,i[n],r))},Hg=function(s,t){return{name:s,rawVars:1,init:function(r,n,o){o._onInit=function(a){var l,h;if(si(n)&&(l={},Yi(n,function(c){return l[c]=1}),n=l),t){l={};for(h in n)l[h]=t(n[h]);n=l}Nae(a,n)}}}},fr=Od.registerPlugin({name:"attr",init:function(s,t,i,r,n){var o,a,l;this.tween=i;for(o in t)l=s.getAttribute(o)||"",a=this.add(s,"setAttribute",(l||0)+"",t[o],r,n,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(s,t){for(var i=t._pt;i;)Kr?i.set(i.t,i.p,i.b,i):i.r(s,i.d),i=i._next}},{name:"endArray",init:function(s,t){for(var i=t.length;i--;)this.add(s,i,s[i]||0,t[i],0,0,0,0,0,1)}},Hg("roundProps",ky),Hg("modifiers"),Hg("snap",qG))||Od;Vs.version=ji.version=fr.version="3.11.0";DG=1;FG()&&Yh();Vt.Power0;Vt.Power1;Vt.Power2;Vt.Power3;Vt.Power4;Vt.Linear;Vt.Quad;Vt.Cubic;Vt.Quart;Vt.Quint;Vt.Strong;Vt.Elastic;Vt.Back;Vt.SteppedEase;Vt.Bounce;Vt.Sine;Vt.Expo;Vt.Circ;/*!
 * CSSPlugin 3.11.0
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var p_,ko,Dh,N0,za,f_,L0,Lae=function(){return typeof window<"u"},ao={},Ua=180/Math.PI,Mh=Math.PI/180,uh=Math.atan2,d_=1e8,U0=/([A-Z])/g,Uae=/(left|right|width|margin|padding|x)/i,Hae=/[\s,\(]\S/,Jn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},zy=function(s,t){return t.set(t.t,t.p,Math.round((t.s+t.c*s)*1e4)/1e4+t.u,t)},Gae=function(s,t){return t.set(t.t,t.p,s===1?t.e:Math.round((t.s+t.c*s)*1e4)/1e4+t.u,t)},Bae=function(s,t){return t.set(t.t,t.p,s?Math.round((t.s+t.c*s)*1e4)/1e4+t.u:t.b,t)},kae=function(s,t){var i=t.s+t.c*s;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},f6=function(s,t){return t.set(t.t,t.p,s?t.e:t.b,t)},d6=function(s,t){return t.set(t.t,t.p,s!==1?t.b:t.e,t)},Vae=function(s,t,i){return s.style[t]=i},jae=function(s,t,i){return s.style.setProperty(t,i)},zae=function(s,t,i){return s._gsap[t]=i},Wae=function(s,t,i){return s._gsap.scaleX=s._gsap.scaleY=i},Yae=function(s,t,i,r,n){var o=s._gsap;o.scaleX=o.scaleY=i,o.renderTransform(n,o)},Xae=function(s,t,i,r,n){var o=s._gsap;o[t]=i,o.renderTransform(n,o)},As="transform",En=As+"Origin",qae=function(s){var t=this,i=this.target,r=i.style;if(s in ao){if(this.tfm=this.tfm||{},s!=="transform"&&(s=Jn[s]||s,~s.indexOf(",")?s.split(",").forEach(function(n){return t.tfm[n]=Qn(i,n)}):this.tfm[s]=i._gsap.x?i._gsap[s]:Qn(i,s)),i._gsap.svg&&(this.svg=i.getAttribute(s)||""),this.props.indexOf(As)>=0)return;s=As}r&&this.props.push(s,r[s])},m6=function(s){s.translate&&(s.removeProperty("translate"),s.removeProperty("scale"),s.removeProperty("rotate"))},Qae=function(){var s=this.props,t=this.target,i=t.style,r=t._gsap,n,o;for(n=0;n<s.length;n+=2)s[n+1]?i[s[n]]=s[n+1]:i.removeProperty(s[n].replace(U0,"-$1").toLowerCase());if(this.tfm){r.svg&&t.setAttribute("transform",this.svg||"");for(o in this.tfm)r[o]=this.tfm[o];n=L0(),n&&!n.isStart&&!i[As]&&(m6(i),r.uncache=1)}},T6=function(s,t){var i={target:s,props:[],revert:Qae,save:qae};return t&&t.split(",").forEach(function(r){return i.save(r)}),i},g6,Wy=function(s,t){var i=ko.createElementNS?ko.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),s):ko.createElement(s);return i.style?i:ko.createElement(s)},vn=function e(s,t,i){var r=getComputedStyle(s);return r[t]||r.getPropertyValue(t.replace(U0,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&e(s,Qh(t)||t,1)||""},m_="O,Moz,ms,Ms,Webkit".split(","),Qh=function(s,t,i){var r=t||za,n=r.style,o=5;if(s in n&&!i)return s;for(s=s.charAt(0).toUpperCase()+s.substr(1);o--&&!(m_[o]+s in n););return o<0?null:(o===3?"ms":o>=0?m_[o]:"")+s},Yy=function(){Lae()&&window.document&&(p_=window,ko=p_.document,Dh=ko.documentElement,za=Wy("div")||{style:{}},Wy("div"),As=Qh(As),En=As+"Origin",za.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",g6=!!Qh("perspective"),L0=fr.core.reverting,N0=1)},Gg=function e(s){var t=Wy("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,n=this.style.cssText,o;if(Dh.appendChild(t),t.appendChild(this),this.style.display="block",s)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),Dh.removeChild(t),this.style.cssText=n,o},T_=function(s,t){for(var i=t.length;i--;)if(s.hasAttribute(t[i]))return s.getAttribute(t[i])},y6=function(s){var t;try{t=s.getBBox()}catch{t=Gg.call(s,!0)}return t&&(t.width||t.height)||s.getBBox===Gg||(t=Gg.call(s,!0)),t&&!t.width&&!t.x&&!t.y?{x:+T_(s,["x","cx","x1"])||0,y:+T_(s,["y","cy","y1"])||0,width:0,height:0}:t},I6=function(s){return!!(s.getCTM&&(!s.parentNode||s.ownerSVGElement)&&y6(s))},Qu=function(s,t){if(t){var i=s.style;t in ao&&t!==En&&(t=As),i.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(t.replace(U0,"-$1").toLowerCase())):i.removeAttribute(t)}},Vo=function(s,t,i,r,n,o){var a=new Xi(s._pt,t,i,0,1,o?d6:f6);return s._pt=a,a.b=r,a.e=n,s._props.push(i),a},g_={deg:1,rad:1,turn:1},$ae={grid:1,flex:1},na=function e(s,t,i,r){var n=parseFloat(i)||0,o=(i+"").trim().substr((n+"").length)||"px",a=za.style,l=Uae.test(t),h=s.tagName.toLowerCase()==="svg",c=(h?"client":"offset")+(l?"Width":"Height"),u=100,p=r==="px",f=r==="%",m,g,C,I;return r===o||!n||g_[r]||g_[o]?n:(o!=="px"&&!p&&(n=e(s,t,i,"px")),I=s.getCTM&&I6(s),(f||o==="%")&&(ao[t]||~t.indexOf("adius"))?(m=I?s.getBBox()[l?"width":"height"]:s[c],Hs(f?n/m*u:n/100*m)):(a[l?"width":"height"]=u+(p?o:r),g=~t.indexOf("adius")||r==="em"&&s.appendChild&&!h?s:s.parentNode,I&&(g=(s.ownerSVGElement||{}).parentNode),(!g||g===ko||!g.appendChild)&&(g=ko.body),C=g._gsap,C&&f&&C.width&&l&&C.time===or.time&&!C.uncache?Hs(n/C.width*u):((f||o==="%")&&!$ae[vn(g,"display")]&&(a.position=vn(s,"position")),g===s&&(a.position="static"),g.appendChild(za),m=za[c],g.removeChild(za),a.position="absolute",l&&f&&(C=$a(g),C.time=or.time,C.width=g[c]),Hs(p?m*n/u:m&&n?u/m*n:0))))},Qn=function(s,t,i,r){var n;return N0||Yy(),t in Jn&&t!=="transform"&&(t=Jn[t],~t.indexOf(",")&&(t=t.split(",")[0])),ao[t]&&t!=="transform"?(n=Zu(s,r),n=t!=="transformOrigin"?n[t]:n.svg?n.origin:Md(vn(s,En))+" "+n.zOrigin+"px"):(n=s.style[t],(!n||n==="auto"||r||~(n+"").indexOf("calc("))&&(n=Dd[t]&&Dd[t](s,t,i)||vn(s,t)||UG(s,t)||(t==="opacity"?1:0))),i&&!~(n+"").trim().indexOf(" ")?na(s,t,n,i)+i:n},Zae=function(s,t,i,r){if(!i||i==="none"){var n=Qh(t,s,1),o=n&&vn(s,n,1);o&&o!==i?(t=n,i=o):t==="borderColor"&&(i=vn(s,"borderTopColor"))}var a=new Xi(this._pt,s.style,t,0,1,c6),l=0,h=0,c,u,p,f,m,g,C,I,E,S,x,F;if(a.b=i,a.e=r,i+="",r+="",r==="auto"&&(s.style[t]=r,r=vn(s,t)||r,s.style[t]=i),c=[i,r],e6(c),i=c[0],r=c[1],p=i.match(vh)||[],F=r.match(vh)||[],F.length){for(;u=vh.exec(r);)C=u[0],E=r.substring(l,u.index),m?m=(m+1)%5:(E.substr(-5)==="rgba("||E.substr(-5)==="hsla(")&&(m=1),C!==(g=p[h++]||"")&&(f=parseFloat(g)||0,x=g.substr((f+"").length),C.charAt(1)==="="&&(C=Oh(f,C)+x),I=parseFloat(C),S=C.substr((I+"").length),l=vh.lastIndex-S.length,S||(S=S||cr.units[t]||x,l===r.length&&(r+=S,a.e+=S)),x!==S&&(f=na(s,t,g,S)||0),a._pt={_next:a._pt,p:E||h===1?E:",",s:f,c:I-f,m:m&&m<4||t==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=t==="display"&&r==="none"?d6:f6;return AG.test(r)&&(a.e=0),this._pt=a,a},y_={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Kae=function(s){var t=s.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(s=i,i=r,r=s),t[0]=y_[i]||i,t[1]=y_[r]||r,t.join(" ")},Jae=function(s,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,n=t.u,o=i._gsap,a,l,h;if(n==="all"||n===!0)r.cssText="",l=1;else for(n=n.split(","),h=n.length;--h>-1;)a=n[h],ao[a]&&(l=1,a=a==="transformOrigin"?En:As),Qu(i,a);l&&(Qu(i,As),o&&(o.svg&&i.removeAttribute("transform"),Zu(i,1),o.uncache=1,m6(r)))}},Dd={clearProps:function(s,t,i,r,n){if(n.data!=="isFromStart"){var o=s._pt=new Xi(s._pt,t,i,0,0,Jae);return o.u=r,o.pr=-10,o.tween=n,s._props.push(i),1}}},$u=[1,0,0,1,0,0],E6={},v6=function(s){return s==="matrix(1, 0, 0, 1, 0, 0)"||s==="none"||!s},I_=function(s){var t=vn(s,As);return v6(t)?$u:t.substr(7).match(PG).map(Hs)},H0=function(s,t){var i=s._gsap||$a(s),r=s.style,n=I_(s),o,a,l,h;return i.svg&&s.getAttribute("transform")?(l=s.transform.baseVal.consolidate().matrix,n=[l.a,l.b,l.c,l.d,l.e,l.f],n.join(",")==="1,0,0,1,0,0"?$u:n):(n===$u&&!s.offsetParent&&s!==Dh&&!i.svg&&(l=r.display,r.display="block",o=s.parentNode,(!o||!s.offsetParent)&&(h=1,a=s.nextElementSibling,Dh.appendChild(s)),n=I_(s),l?r.display=l:Qu(s,"display"),h&&(a?o.insertBefore(s,a):o?o.appendChild(s):Dh.removeChild(s))),t&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},Xy=function(s,t,i,r,n,o){var a=s._gsap,l=n||H0(s,!0),h=a.xOrigin||0,c=a.yOrigin||0,u=a.xOffset||0,p=a.yOffset||0,f=l[0],m=l[1],g=l[2],C=l[3],I=l[4],E=l[5],S=t.split(" "),x=parseFloat(S[0])||0,F=parseFloat(S[1])||0,O,R,L,G;i?l!==$u&&(R=f*C-m*g)&&(L=x*(C/R)+F*(-g/R)+(g*E-C*I)/R,G=x*(-m/R)+F*(f/R)-(f*E-m*I)/R,x=L,F=G):(O=y6(s),x=O.x+(~S[0].indexOf("%")?x/100*O.width:x),F=O.y+(~(S[1]||S[0]).indexOf("%")?F/100*O.height:F)),r||r!==!1&&a.smooth?(I=x-h,E=F-c,a.xOffset=u+(I*f+E*g)-I,a.yOffset=p+(I*m+E*C)-E):a.xOffset=a.yOffset=0,a.xOrigin=x,a.yOrigin=F,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!i,s.style[En]="0px 0px",o&&(Vo(o,a,"xOrigin",h,x),Vo(o,a,"yOrigin",c,F),Vo(o,a,"xOffset",u,a.xOffset),Vo(o,a,"yOffset",p,a.yOffset)),s.setAttribute("data-svg-origin",x+" "+F)},Zu=function(s,t){var i=s._gsap||new r6(s);if("x"in i&&!t&&!i.uncache)return i;var r=s.style,n=i.scaleX<0,o="px",a="deg",l=getComputedStyle(s),h=vn(s,En)||"0",c,u,p,f,m,g,C,I,E,S,x,F,O,R,L,G,V,B,oe,$,Z,te,ee,J,ie,re,ae,le,me,Te,Ce,Ue;return c=u=p=g=C=I=E=S=x=0,f=m=1,i.svg=!!(s.getCTM&&I6(s)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[As]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+l[As]),r.scale=r.rotate=r.translate="none"),R=H0(s,i.svg),i.svg&&(J=(!i.uncache||h==="0px 0px")&&!t&&s.getAttribute("data-svg-origin"),Xy(s,J||h,!!J||i.originIsAbsolute,i.smooth!==!1,R)),F=i.xOrigin||0,O=i.yOrigin||0,R!==$u&&(B=R[0],oe=R[1],$=R[2],Z=R[3],c=te=R[4],u=ee=R[5],R.length===6?(f=Math.sqrt(B*B+oe*oe),m=Math.sqrt(Z*Z+$*$),g=B||oe?uh(oe,B)*Ua:0,E=$||Z?uh($,Z)*Ua+g:0,E&&(m*=Math.abs(Math.cos(E*Mh))),i.svg&&(c-=F-(F*B+O*$),u-=O-(F*oe+O*Z))):(Ue=R[6],Te=R[7],ae=R[8],le=R[9],me=R[10],Ce=R[11],c=R[12],u=R[13],p=R[14],L=uh(Ue,me),C=L*Ua,L&&(G=Math.cos(-L),V=Math.sin(-L),J=te*G+ae*V,ie=ee*G+le*V,re=Ue*G+me*V,ae=te*-V+ae*G,le=ee*-V+le*G,me=Ue*-V+me*G,Ce=Te*-V+Ce*G,te=J,ee=ie,Ue=re),L=uh(-$,me),I=L*Ua,L&&(G=Math.cos(-L),V=Math.sin(-L),J=B*G-ae*V,ie=oe*G-le*V,re=$*G-me*V,Ce=Z*V+Ce*G,B=J,oe=ie,$=re),L=uh(oe,B),g=L*Ua,L&&(G=Math.cos(L),V=Math.sin(L),J=B*G+oe*V,ie=te*G+ee*V,oe=oe*G-B*V,ee=ee*G-te*V,B=J,te=ie),C&&Math.abs(C)+Math.abs(g)>359.9&&(C=g=0,I=180-I),f=Hs(Math.sqrt(B*B+oe*oe+$*$)),m=Hs(Math.sqrt(ee*ee+Ue*Ue)),L=uh(te,ee),E=Math.abs(L)>2e-4?L*Ua:0,x=Ce?1/(Ce<0?-Ce:Ce):0),i.svg&&(J=s.getAttribute("transform"),i.forceCSS=s.setAttribute("transform","")||!v6(vn(s,As)),J&&s.setAttribute("transform",J))),Math.abs(E)>90&&Math.abs(E)<270&&(n?(f*=-1,E+=g<=0?180:-180,g+=g<=0?180:-180):(m*=-1,E+=E<=0?180:-180)),t=t||i.uncache,i.x=c-((i.xPercent=c&&(!t&&i.xPercent||(Math.round(s.offsetWidth/2)===Math.round(-c)?-50:0)))?s.offsetWidth*i.xPercent/100:0)+o,i.y=u-((i.yPercent=u&&(!t&&i.yPercent||(Math.round(s.offsetHeight/2)===Math.round(-u)?-50:0)))?s.offsetHeight*i.yPercent/100:0)+o,i.z=p+o,i.scaleX=Hs(f),i.scaleY=Hs(m),i.rotation=Hs(g)+a,i.rotationX=Hs(C)+a,i.rotationY=Hs(I)+a,i.skewX=E+a,i.skewY=S+a,i.transformPerspective=x+o,(i.zOrigin=parseFloat(h.split(" ")[2])||0)&&(r[En]=Md(h)),i.xOffset=i.yOffset=0,i.force3D=cr.force3D,i.renderTransform=i.svg?tle:g6?C6:ele,i.uncache=0,i},Md=function(s){return(s=s.split(" "))[0]+" "+s[1]},Bg=function(s,t,i){var r=_i(t);return Hs(parseFloat(t)+parseFloat(na(s,"x",i+"px",r)))+r},ele=function(s,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,C6(s,t)},Aa="0deg",Qc="0px",Oa=") ",C6=function(s,t){var i=t||this,r=i.xPercent,n=i.yPercent,o=i.x,a=i.y,l=i.z,h=i.rotation,c=i.rotationY,u=i.rotationX,p=i.skewX,f=i.skewY,m=i.scaleX,g=i.scaleY,C=i.transformPerspective,I=i.force3D,E=i.target,S=i.zOrigin,x="",F=I==="auto"&&s&&s!==1||I===!0;if(S&&(u!==Aa||c!==Aa)){var O=parseFloat(c)*Mh,R=Math.sin(O),L=Math.cos(O),G;O=parseFloat(u)*Mh,G=Math.cos(O),o=Bg(E,o,R*G*-S),a=Bg(E,a,-Math.sin(O)*-S),l=Bg(E,l,L*G*-S+S)}C!==Qc&&(x+="perspective("+C+Oa),(r||n)&&(x+="translate("+r+"%, "+n+"%) "),(F||o!==Qc||a!==Qc||l!==Qc)&&(x+=l!==Qc||F?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Oa),h!==Aa&&(x+="rotate("+h+Oa),c!==Aa&&(x+="rotateY("+c+Oa),u!==Aa&&(x+="rotateX("+u+Oa),(p!==Aa||f!==Aa)&&(x+="skew("+p+", "+f+Oa),(m!==1||g!==1)&&(x+="scale("+m+", "+g+Oa),E.style[As]=x||"translate(0, 0)"},tle=function(s,t){var i=t||this,r=i.xPercent,n=i.yPercent,o=i.x,a=i.y,l=i.rotation,h=i.skewX,c=i.skewY,u=i.scaleX,p=i.scaleY,f=i.target,m=i.xOrigin,g=i.yOrigin,C=i.xOffset,I=i.yOffset,E=i.forceCSS,S=parseFloat(o),x=parseFloat(a),F,O,R,L,G;l=parseFloat(l),h=parseFloat(h),c=parseFloat(c),c&&(c=parseFloat(c),h+=c,l+=c),l||h?(l*=Mh,h*=Mh,F=Math.cos(l)*u,O=Math.sin(l)*u,R=Math.sin(l-h)*-p,L=Math.cos(l-h)*p,h&&(c*=Mh,G=Math.tan(h-c),G=Math.sqrt(1+G*G),R*=G,L*=G,c&&(G=Math.tan(c),G=Math.sqrt(1+G*G),F*=G,O*=G)),F=Hs(F),O=Hs(O),R=Hs(R),L=Hs(L)):(F=u,L=p,O=R=0),(S&&!~(o+"").indexOf("px")||x&&!~(a+"").indexOf("px"))&&(S=na(f,"x",o,"px"),x=na(f,"y",a,"px")),(m||g||C||I)&&(S=Hs(S+m-(m*F+g*R)+C),x=Hs(x+g-(m*O+g*L)+I)),(r||n)&&(G=f.getBBox(),S=Hs(S+r/100*G.width),x=Hs(x+n/100*G.height)),G="matrix("+F+","+O+","+R+","+L+","+S+","+x+")",f.setAttribute("transform",G),E&&(f.style[As]=G)},sle=function(s,t,i,r,n){var o=360,a=si(n),l=parseFloat(n)*(a&&~n.indexOf("rad")?Ua:1),h=l-r,c=r+h+"deg",u,p;return a&&(u=n.split("_")[1],u==="short"&&(h%=o,h!==h%(o/2)&&(h+=h<0?o:-o)),u==="cw"&&h<0?h=(h+o*d_)%o-~~(h/o)*o:u==="ccw"&&h>0&&(h=(h-o*d_)%o-~~(h/o)*o)),s._pt=p=new Xi(s._pt,t,i,r,h,Gae),p.e=c,p.u="deg",s._props.push(i),p},E_=function(s,t){for(var i in t)s[i]=t[i];return s},ile=function(s,t,i){var r=E_({},i._gsap),n="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,h,c,u,p,f,m;r.svg?(h=i.getAttribute("transform"),i.setAttribute("transform",""),o[As]=t,a=Zu(i,1),Qu(i,As),i.setAttribute("transform",h)):(h=getComputedStyle(i)[As],o[As]=t,a=Zu(i,1),o[As]=h);for(l in ao)h=r[l],c=a[l],h!==c&&n.indexOf(l)<0&&(f=_i(h),m=_i(c),u=f!==m?na(i,l,h,m):parseFloat(h),p=parseFloat(c),s._pt=new Xi(s._pt,a,l,u,p-u,zy),s._pt.u=m||0,s._props.push(l));E_(a,r)};Yi("padding,margin,Width,Radius",function(e,s){var t="Top",i="Right",r="Bottom",n="Left",o=(s<3?[t,i,r,n]:[t+n,t+i,r+i,r+n]).map(function(a){return s<2?e+a:"border"+a+e});Dd[s>1?"border"+e:e]=function(a,l,h,c,u){var p,f;if(arguments.length<4)return p=o.map(function(m){return Qn(a,m,h)}),f=p.join(" "),f.split(p[0]).length===5?p[0]:f;p=(c+"").split(" "),f={},o.forEach(function(m,g){return f[m]=p[g]=p[g]||p[(g-1)/2|0]}),a.init(l,f,u)}});var _6={name:"css",register:Yy,targetTest:function(s){return s.style&&s.nodeType},init:function(s,t,i,r,n){var o=this._props,a=s.style,l=i.vars.startAt,h,c,u,p,f,m,g,C,I,E,S,x,F,O,R,L;N0||Yy(),this.styles=this.styles||T6(s),L=this.styles.props,this.tween=i;for(g in t)if(g!=="autoRound"&&(c=t[g],!(rr[g]&&n6(g,t,i,r,s,n)))){if(f=typeof c,m=Dd[g],f==="function"&&(c=c.call(i,r,s,n),f=typeof c),f==="string"&&~c.indexOf("random(")&&(c=Xu(c)),m)m(this,s,g,c,i)&&(R=1);else if(g.substr(0,2)==="--")h=(getComputedStyle(s).getPropertyValue(g)+"").trim(),c+="",Jo.lastIndex=0,Jo.test(h)||(C=_i(h),I=_i(c)),I?C!==I&&(h=na(s,g,h,I)+I):C&&(c+=C),this.add(a,"setProperty",h,c,r,n,0,0,g),o.push(g),L.push(g,a[g]);else if(f!=="undefined"){if(l&&g in l?(h=typeof l[g]=="function"?l[g].call(i,r,s,n):l[g],si(h)&&~h.indexOf("random(")&&(h=Xu(h)),_i(h+"")||(h+=cr.units[g]||_i(Qn(s,g))||""),(h+"").charAt(1)==="="&&(h=Qn(s,g))):h=Qn(s,g),p=parseFloat(h),E=f==="string"&&c.charAt(1)==="="&&c.substr(0,2),E&&(c=c.substr(2)),u=parseFloat(c),g in Jn&&(g==="autoAlpha"&&(p===1&&Qn(s,"visibility")==="hidden"&&u&&(p=0),L.push("visibility",a.visibility),Vo(this,a,"visibility",p?"inherit":"hidden",u?"inherit":"hidden",!u)),g!=="scale"&&g!=="transform"&&(g=Jn[g],~g.indexOf(",")&&(g=g.split(",")[0]))),S=g in ao,S){if(this.styles.save(g),x||(F=s._gsap,F.renderTransform&&!t.parseTransform||Zu(s,t.parseTransform),O=t.smoothOrigin!==!1&&F.smooth,x=this._pt=new Xi(this._pt,a,As,0,1,F.renderTransform,F,0,-1),x.dep=1),g==="scale")this._pt=new Xi(this._pt,F,"scaleY",F.scaleY,(E?Oh(F.scaleY,E+u):u)-F.scaleY||0,zy),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){L.push(En,a[En]),c=Kae(c),F.svg?Xy(s,c,0,O,0,this):(I=parseFloat(c.split(" ")[2])||0,I!==F.zOrigin&&Vo(this,F,"zOrigin",F.zOrigin,I),Vo(this,a,g,Md(h),Md(c)));continue}else if(g==="svgOrigin"){Xy(s,c,1,O,0,this);continue}else if(g in E6){sle(this,F,g,p,E?Oh(p,E+c):c);continue}else if(g==="smoothOrigin"){Vo(this,F,"smooth",F.smooth,c);continue}else if(g==="force3D"){F[g]=c;continue}else if(g==="transform"){ile(this,c,s);continue}}else g in a||(g=Qh(g)||g);if(S||(u||u===0)&&(p||p===0)&&!Hae.test(c)&&g in a)C=(h+"").substr((p+"").length),u||(u=0),I=_i(c)||(g in cr.units?cr.units[g]:C),C!==I&&(p=na(s,g,h,I)),this._pt=new Xi(this._pt,S?F:a,g,p,(E?Oh(p,E+u):u)-p,!S&&(I==="px"||g==="zIndex")&&t.autoRound!==!1?kae:zy),this._pt.u=I||0,C!==I&&I!=="%"&&(this._pt.b=h,this._pt.r=Bae);else if(g in a)Zae.call(this,s,g,h,E?E+c:c);else if(g in s)this.add(s,g,h||s[g],E?E+c:c,r,n);else{x0(g,c);continue}S||L.push(g,a[g]),o.push(g)}}R&&u6(this)},render:function(s,t){if(t.tween._time||!L0())for(var i=t._pt;i;)i.r(s,i.d),i=i._next;else t.styles.revert()},get:Qn,aliases:Jn,getSetter:function(s,t,i){var r=Jn[t];return r&&r.indexOf(",")<0&&(t=r),t in ao&&t!==En&&(s._gsap.x||Qn(s,"x"))?i&&f_===i?t==="scale"?Wae:zae:(f_=i||{})&&(t==="scale"?Yae:Xae):s.style&&!w0(s.style[t])?Vae:~t.indexOf("-")?jae:D0(s,t)},core:{_removeProperty:Qu,_getMatrix:H0}};fr.utils.checkPrefix=Qh;fr.core.getStyleSaver=T6;(function(e,s,t,i){var r=Yi(e+","+s+","+t,function(n){ao[n]=1});Yi(s,function(n){cr.units[n]="deg",E6[n]=1}),Jn[r[13]]=e+","+s,Yi(i,function(n){var o=n.split(":");Jn[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Yi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){cr.units[e]="px"});fr.registerPlugin(_6);var qy=fr.registerPlugin(_6)||fr;qy.core.Tween;class rle{constructor(){this.transformer=qy}dispose(){this.transformer=null}move(s,t,i=1,r=0){const n=t.x,o=t.y,a=t.z;qy.to(s,{duration:i,delay:r,x:n,y:o,z:a})}}var Nd;(function(e){e.onCameraReady="onCameraReady"})(Nd||(Nd={}));class nle{constructor(){this.events={[Nd.onCameraReady]:{needsUpdate:!1,published:!1,actions:[]}}}dispose(){this.events.onCameraReady.actions.length=0,this.events=null}subscribe(s,t){this.events[s].actions.push(t),this.events[s].needsUpdate=!0,this.update(s)}publish(s){this.events[s].published=!0,this.update(s)}update(s){if(this.events[s].needsUpdate&&this.events[s].published){const t=this.events[s].actions;for(let i=0;i<t.length;i++)t[i]();t.length=0}}}class ole{constructor(s){this.position=new Re,this.rawPosition=new Re,this.setupMousePositionUpdate(s)}setupMousePositionUpdate(s){s.onmousemove=t=>{this.rawPosition.x=t.clientX,this.rawPosition.y=t.clientY;const i=s.getBoundingClientRect();this.position.x=(t.clientX-i.left)/(i.right-i.left)*2-1,this.position.y=-((t.clientY-i.top)/(i.bottom-i.top))*2+1}}}class ale{constructor(s){if(this.stats=null,this.isThisBeingDisposed=!1,this.render=()=>{this.isThisBeingDisposed||(this.stats&&this.stats.begin(),requestAnimationFrame(this.render),this.updateAllComponents(),this.stats&&this.stats.end())},this.resize=()=>{this.updateAspect()},!s.container)throw new Error("Could not get container element!");this.options=s,this.events=new nle,this.items=this.newItems(),this.scene=new zoe(this),this.renderer=new joe(this),this.mouse=new ole(this.renderer.renderer.domElement),this.ifcCamera=new Doe(this),this.events.publish(Nd.onCameraReady),this.clippingPlanes=[],this.ifcCaster=new Moe(this),this.clock=new ZS(!0),this.ifcAnimator=new rle,this.setupWindowRescale(),this.render()}dispose(){var s,t,i;this.isThisBeingDisposed=!0,(s=this.stats)===null||s===void 0||s.dom.remove(),(t=this.options.preselectMaterial)===null||t===void 0||t.dispose(),(i=this.options.selectMaterial)===null||i===void 0||i.dispose(),this.options=null,this.items.components.length=0,this.items.ifcModels.forEach(r=>{r.removeFromParent(),r.geometry.boundsTree&&r.geometry.disposeBoundsTree(),r.geometry.dispose(),Array.isArray(r.material)?r.material.forEach(n=>n.dispose()):r.material.dispose()}),this.items.ifcModels.length=0,this.items.pickableIfcModels.length=0,this.items=null,this.ifcCamera.dispose(),this.ifcCamera=null,this.scene.dispose(),this.scene=null,this.renderer.dispose(),this.mouse=null,this.renderer=null,this.events.dispose(),this.events=null,this.ifcCaster.dispose(),this.ifcCaster=null,this.ifcAnimator.dispose(),this.ifcAnimator=null,this.clock=null,this.clippingPlanes.length=0,this.unsetWindowRescale()}getScene(){return this.scene.scene}getRenderer(){return this.renderer.renderer}getRenderer2D(){return this.renderer.renderer2D}getCamera(){return this.ifcCamera.activeCamera}getIfcCamera(){return this.ifcCamera}getDomElement(){return this.getRenderer().domElement}getDomElement2D(){return this.getRenderer2D().domElement}getContainerElement(){return this.options.container}getDimensions(){const s=this.getContainerElement();return new Re(s.clientWidth,s.clientHeight)}getClippingPlanes(){return this.clippingPlanes}getAnimator(){return this.ifcAnimator}getCenter(s){if(s.geometry.computeBoundingBox(),!s.geometry.index)return new H;const t=s.geometry.index.array,i=s.geometry.attributes.position,r=20;let n=0,o=0,a=0,l=0;for(let h=0;h<t.length||h<r;h++)n+=i.getX(t[h]),o+=i.getY(t[h]),a+=i.getZ(t[h]),l++;return new H(n/l+s.position.x,o/l+s.position.y,a/l+s.position.z)}addComponent(s){this.items.components.push(s)}addClippingPlane(s){this.clippingPlanes.push(s)}removeClippingPlane(s){const t=this.clippingPlanes.indexOf(s);this.clippingPlanes.splice(t,1)}castRay(s){return this.ifcCaster.castRay(s)}castRayIfc(){return this.ifcCaster.castRayIfc()}fitToFrame(){this.ifcCamera.navMode[zi.Orbit].fitModelToFrame()}toggleCameraControls(s){this.ifcCamera.toggleCameraControls(s)}updateAspect(){this.ifcCamera.updateAspect(),this.renderer.adjustRendererSize()}updateAllComponents(){const s=this.clock.getDelta();this.items.components.forEach(t=>t.update(s))}setupWindowRescale(){window.addEventListener("resize",this.resize)}unsetWindowRescale(){window.removeEventListener("resize",this.resize)}newItems(){return{components:[],ifcModels:[],pickableIfcModels:[]}}}class lle extends Pn{constructor(s){super(s),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new ple(t)}),this.register(function(t){return new yle(t)}),this.register(function(t){return new Ile(t)}),this.register(function(t){return new fle(t)}),this.register(function(t){return new dle(t)}),this.register(function(t){return new mle(t)}),this.register(function(t){return new Tle(t)}),this.register(function(t){return new gle(t)}),this.register(function(t){return new cle(t)}),this.register(function(t){return new Ele(t)})}load(s,t,i,r){const n=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=qo.extractUrlBase(s),this.manager.itemStart(s);const a=function(h){r?r(h):console.error(h),n.manager.itemError(s),n.manager.itemEnd(s)},l=new hm(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(s,function(h){try{n.parse(h,o,function(c){t(c),n.manager.itemEnd(s)},a)}catch(c){a(c)}},i,a)}setDRACOLoader(s){return this.dracoLoader=s,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(s){return this.ktx2Loader=s,this}setMeshoptDecoder(s){return this.meshoptDecoder=s,this}register(s){return this.pluginCallbacks.indexOf(s)===-1&&this.pluginCallbacks.push(s),this}unregister(s){return this.pluginCallbacks.indexOf(s)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(s),1),this}parse(s,t,i,r){let n;const o={},a={};if(typeof s=="string")n=s;else if(qo.decodeText(new Uint8Array(s,0,4))===w6){try{o[kt.KHR_BINARY_GLTF]=new vle(s)}catch(u){r&&r(u);return}n=o[kt.KHR_BINARY_GLTF].content}else n=qo.decodeText(new Uint8Array(s));const l=JSON.parse(n);if(l.asset===void 0||l.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const h=new Dle(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](h);a[u.name]=u,o[u.name]=!0}if(l.extensionsUsed)for(let c=0;c<l.extensionsUsed.length;++c){const u=l.extensionsUsed[c],p=l.extensionsRequired||[];switch(u){case kt.KHR_MATERIALS_UNLIT:o[u]=new ule;break;case kt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[u]=new wle;break;case kt.KHR_DRACO_MESH_COMPRESSION:o[u]=new Cle(l,this.dracoLoader);break;case kt.KHR_TEXTURE_TRANSFORM:o[u]=new _le;break;case kt.KHR_MESH_QUANTIZATION:o[u]=new Sle;break;default:p.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}h.setExtensions(o),h.setPlugins(a),h.parse(i,r)}parseAsync(s,t){const i=this;return new Promise(function(r,n){i.parse(s,t,r,n)})}}function hle(){let e={};return{get:function(s){return e[s]},add:function(s,t){e[s]=t},remove:function(s){delete e[s]},removeAll:function(){e={}}}}const kt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class cle{constructor(s){this.parser=s,this.name=kt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const s=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const n=t[i];n.extensions&&n.extensions[this.name]&&n.extensions[this.name].light!==void 0&&s._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(s){const t=this.parser,i="light:"+s;let r=t.cache.get(i);if(r)return r;const n=t.json,l=((n.extensions&&n.extensions[this.name]||{}).lights||[])[s];let h;const c=new it(16777215);l.color!==void 0&&c.fromArray(l.color);const u=l.range!==void 0?l.range:0;switch(l.type){case"directional":h=new pd(c),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new WS(c),h.distance=u;break;case"spot":h=new jS(c),h.distance=u,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,h.angle=l.spot.outerConeAngle,h.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return h.position.set(0,0,0),h.decay=2,l.intensity!==void 0&&(h.intensity=l.intensity),h.name=t.createUniqueName(l.name||"light_"+s),r=Promise.resolve(h),t.cache.add(i,r),r}createNodeAttachment(s){const t=this,i=this.parser,n=i.json.nodes[s],a=(n.extensions&&n.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class ule{constructor(){this.name=kt.KHR_MATERIALS_UNLIT}getMaterialType(){return wi}extendParams(s,t,i){const r=[];s.color=new it(1,1,1),s.opacity=1;const n=t.pbrMetallicRoughness;if(n){if(Array.isArray(n.baseColorFactor)){const o=n.baseColorFactor;s.color.fromArray(o),s.opacity=o[3]}n.baseColorTexture!==void 0&&r.push(i.assignTexture(s,"map",n.baseColorTexture))}return Promise.all(r)}}class ple{constructor(s){this.parser=s,this.name=kt.KHR_MATERIALS_CLEARCOAT}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:pl}extendMaterialParams(s,t){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const n=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&n.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&n.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(n.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Re(a,a)}return Promise.all(n)}}class fle{constructor(s){this.parser=s,this.name=kt.KHR_MATERIALS_SHEEN}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:pl}extendMaterialParams(s,t){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const n=[];t.sheenColor=new it(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&n.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture)),o.sheenRoughnessTexture!==void 0&&n.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(n)}}class dle{constructor(s){this.parser=s,this.name=kt.KHR_MATERIALS_TRANSMISSION}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:pl}extendMaterialParams(s,t){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const n=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&n.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(n)}}class mle{constructor(s){this.parser=s,this.name=kt.KHR_MATERIALS_VOLUME}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:pl}extendMaterialParams(s,t){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const n=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&n.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new it(a[0],a[1],a[2]),Promise.all(n)}}class Tle{constructor(s){this.parser=s,this.name=kt.KHR_MATERIALS_IOR}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:pl}extendMaterialParams(s,t){const r=this.parser.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const n=r.extensions[this.name];return t.ior=n.ior!==void 0?n.ior:1.5,Promise.resolve()}}class gle{constructor(s){this.parser=s,this.name=kt.KHR_MATERIALS_SPECULAR}getMaterialType(s){const i=this.parser.json.materials[s];return!i.extensions||!i.extensions[this.name]?null:pl}extendMaterialParams(s,t){const i=this.parser,r=i.json.materials[s];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const n=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&n.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new it(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&n.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture).then(function(l){l.encoding=tl})),Promise.all(n)}}class yle{constructor(s){this.parser=s,this.name=kt.KHR_TEXTURE_BASISU}loadTexture(s){const t=this.parser,i=t.json,r=i.textures[s];if(!r.extensions||!r.extensions[this.name])return null;const n=r.extensions[this.name],o=i.images[n.source],a=t.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(s,o,a)}}class Ile{constructor(s){this.parser=s,this.name=kt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(s){const t=this.name,i=this.parser,r=i.json,n=r.textures[s];if(!n.extensions||!n.extensions[t])return null;const o=n.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const h=i.options.manager.getHandler(a.uri);h!==null&&(l=h)}return this.detectSupport().then(function(h){if(h)return i.loadTextureImage(s,a,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(s)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(s){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){s(t.height===1)}})),this.isSupported}}class Ele{constructor(s){this.name=kt.EXT_MESHOPT_COMPRESSION,this.parser=s}loadBufferView(s){const t=this.parser.json,i=t.bufferViews[s];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],n=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([n,o.ready]).then(function(a){const l=r.byteOffset||0,h=r.byteLength||0,c=r.count,u=r.byteStride,p=new ArrayBuffer(c*u),f=new Uint8Array(a[0],l,h);return o.decodeGltfBuffer(new Uint8Array(p),c,u,f,r.mode,r.filter),p})}else return null}}const w6="glTF",$c=12,v_={JSON:1313821514,BIN:5130562};class vle{constructor(s){this.name=kt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(s,0,$c);if(this.header={magic:qo.decodeText(new Uint8Array(s.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==w6)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-$c,r=new DataView(s,$c);let n=0;for(;n<i;){const o=r.getUint32(n,!0);n+=4;const a=r.getUint32(n,!0);if(n+=4,a===v_.JSON){const l=new Uint8Array(s,$c+n,o);this.content=qo.decodeText(l)}else if(a===v_.BIN){const l=$c+n;this.body=s.slice(l,l+o)}n+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Cle{constructor(s,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=kt.KHR_DRACO_MESH_COMPRESSION,this.json=s,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(s,t){const i=this.json,r=this.dracoLoader,n=s.extensions[this.name].bufferView,o=s.extensions[this.name].attributes,a={},l={},h={};for(const c in o){const u=$y[c]||c.toLowerCase();a[u]=o[c]}for(const c in s.attributes){const u=$y[c]||c.toLowerCase();if(o[c]!==void 0){const p=i.accessors[s.attributes[c]],f=Ku[p.componentType];h[u]=f,l[u]=p.normalized===!0}}return t.getDependency("bufferView",n).then(function(c){return new Promise(function(u){r.decodeDracoFile(c,function(p){for(const f in p.attributes){const m=p.attributes[f],g=l[f];g!==void 0&&(m.normalized=g)}u(p)},a,h)})})}}class _le{constructor(){this.name=kt.KHR_TEXTURE_TRANSFORM}extendTexture(s,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(s=s.clone(),t.offset!==void 0&&s.offset.fromArray(t.offset),t.rotation!==void 0&&(s.rotation=t.rotation),t.scale!==void 0&&s.repeat.fromArray(t.scale),s.needsUpdate=!0),s}}class Qy extends sp{constructor(s){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),i=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	texelSpecular = sRGBToLinear( texelSpecular );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),n=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new it().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const h in a)l.uniforms[h]=a[h];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",n).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(s)}copy(s){return super.copy(s),this.specularMap=s.specularMap,this.specular.copy(s.specular),this.glossinessMap=s.glossinessMap,this.glossiness=s.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class wle{constructor(){this.name=kt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return Qy}extendParams(s,t,i){const r=t.extensions[this.name];s.color=new it(1,1,1),s.opacity=1;const n=[];if(Array.isArray(r.diffuseFactor)){const o=r.diffuseFactor;s.color.fromArray(o),s.opacity=o[3]}if(r.diffuseTexture!==void 0&&n.push(i.assignTexture(s,"map",r.diffuseTexture)),s.emissive=new it(0,0,0),s.glossiness=r.glossinessFactor!==void 0?r.glossinessFactor:1,s.specular=new it(1,1,1),Array.isArray(r.specularFactor)&&s.specular.fromArray(r.specularFactor),r.specularGlossinessTexture!==void 0){const o=r.specularGlossinessTexture;n.push(i.assignTexture(s,"glossinessMap",o)),n.push(i.assignTexture(s,"specularMap",o))}return Promise.all(n)}createMaterial(s){const t=new Qy(s);return t.fog=!0,t.color=s.color,t.map=s.map===void 0?null:s.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=s.aoMap===void 0?null:s.aoMap,t.aoMapIntensity=1,t.emissive=s.emissive,t.emissiveIntensity=1,t.emissiveMap=s.emissiveMap===void 0?null:s.emissiveMap,t.bumpMap=s.bumpMap===void 0?null:s.bumpMap,t.bumpScale=1,t.normalMap=s.normalMap===void 0?null:s.normalMap,t.normalMapType=hl,s.normalScale&&(t.normalScale=s.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=s.specularMap===void 0?null:s.specularMap,t.specular=s.specular,t.glossinessMap=s.glossinessMap===void 0?null:s.glossinessMap,t.glossiness=s.glossiness,t.alphaMap=null,t.envMap=s.envMap===void 0?null:s.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class Sle{constructor(){this.name=kt.KHR_MESH_QUANTIZATION}}class al extends ro{constructor(s,t,i,r){super(s,t,i,r)}copySampleValue_(s){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=s*r*3+r;for(let o=0;o!==r;o++)t[o]=i[n+o];return t}}al.prototype.beforeStart_=al.prototype.copySampleValue_;al.prototype.afterEnd_=al.prototype.copySampleValue_;al.prototype.interpolate_=function(e,s,t,i){const r=this.resultBuffer,n=this.sampleValues,o=this.valueSize,a=o*2,l=o*3,h=i-s,c=(t-s)/h,u=c*c,p=u*c,f=e*l,m=f-l,g=-2*p+3*u,C=p-u,I=1-g,E=C-u+c;for(let S=0;S!==o;S++){const x=n[m+S+o],F=n[m+S+a]*h,O=n[f+S+o],R=n[f+S]*h;r[S]=I*x+E*F+g*O+C*R}return r};const xle=new Ts;class ble extends al{interpolate_(s,t,i,r){const n=super.interpolate_(s,t,i,r);return xle.fromArray(n).normalize().toArray(n),n}}const Yn={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ku={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},C_={9728:Ss,9729:js,9984:hd,9985:EI,9986:cd,9987:ll},__={33071:Oi,33648:Au,10497:Ja},w_={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},$y={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Do={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Fle={CUBICSPLINE:void 0,LINEAR:el,STEP:Bh},kg={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Rle(e){return e.DefaultMaterial===void 0&&(e.DefaultMaterial=new sp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:sa})),e.DefaultMaterial}function Zc(e,s,t){for(const i in t.extensions)e[i]===void 0&&(s.userData.gltfExtensions=s.userData.gltfExtensions||{},s.userData.gltfExtensions[i]=t.extensions[i])}function Ha(e,s){s.extras!==void 0&&(typeof s.extras=="object"?Object.assign(e.userData,s.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+s.extras))}function Ple(e,s,t){let i=!1,r=!1;for(let a=0,l=s.length;a<l;a++){const h=s[a];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),i&&r)break}if(!i&&!r)return Promise.resolve(e);const n=[],o=[];for(let a=0,l=s.length;a<l;a++){const h=s[a];if(i){const c=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):e.attributes.position;n.push(c)}if(r){const c=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):e.attributes.normal;o.push(c)}}return Promise.all([Promise.all(n),Promise.all(o)]).then(function(a){const l=a[0],h=a[1];return i&&(e.morphAttributes.position=l),r&&(e.morphAttributes.normal=h),e.morphTargetsRelative=!0,e})}function Ale(e,s){if(e.updateMorphTargets(),s.weights!==void 0)for(let t=0,i=s.weights.length;t<i;t++)e.morphTargetInfluences[t]=s.weights[t];if(s.extras&&Array.isArray(s.extras.targetNames)){const t=s.extras.targetNames;if(e.morphTargetInfluences.length===t.length){e.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)e.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ole(e){const s=e.extensions&&e.extensions[kt.KHR_DRACO_MESH_COMPRESSION];let t;return s?t="draco:"+s.bufferView+":"+s.indices+":"+S_(s.attributes):t=e.indices+":"+S_(e.attributes)+":"+e.mode,t}function S_(e){let s="";const t=Object.keys(e).sort();for(let i=0,r=t.length;i<r;i++)s+=t[i]+":"+e[t[i]]+";";return s}function Zy(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Dle{constructor(s={},t={}){this.json=s,this.extensions={},this.plugins={},this.options=t,this.cache=new hle,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap<"u"&&/Firefox/.test(navigator.userAgent)===!1?this.textureLoader=new $S(this.options.manager):this.textureLoader=new kS(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new hm(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(s){this.extensions=s}setPlugins(s){this.plugins=s}parse(s,t){const i=this,r=this.json,n=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Zc(n,a,r),Ha(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){s(a)})}).catch(t)}_markDefs(){const s=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,n=t.length;r<n;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)s[o[a]].isBone=!0}for(let r=0,n=s.length;r<n;r++){const o=s[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(s,t){t!==void 0&&(s.refs[t]===void 0&&(s.refs[t]=s.uses[t]=0),s.refs[t]++)}_getNodeRef(s,t,i){if(s.refs[t]<=1)return i;const r=i.clone(),n=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[h,c]of o.children.entries())n(c,a.children[h])};return n(i,r),r.name+="_instance_"+s.uses[t]++,r}_invokeOne(s){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=s(t[i]);if(r)return r}return null}_invokeAll(s){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const n=s(t[r]);n&&i.push(n)}return i}getDependency(s,t){const i=s+":"+t;let r=this.cache.get(i);if(!r){switch(s){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne(function(n){return n.loadMesh&&n.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(n){return n.loadBufferView&&n.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(n){return n.loadMaterial&&n.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(n){return n.loadTexture&&n.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+s)}this.cache.add(i,r)}return r}getDependencies(s){let t=this.cache.get(s);if(!t){const i=this,r=this.json[s+(s==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(n,o){return i.getDependency(s,o)})),this.cache.add(s,t)}return t}loadBuffer(s){const t=this.json.buffers[s],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&s===0)return Promise.resolve(this.extensions[kt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(n,o){i.load(qo.resolveURL(t.uri,r.path),n,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(s){const t=this.json.bufferViews[s];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,n=t.byteOffset||0;return i.slice(n,n+r)})}loadAccessor(s){const t=this,i=this.json,r=this.json.accessors[s];if(r.bufferView===void 0&&r.sparse===void 0)return Promise.resolve(null);const n=[];return r.bufferView!==void 0?n.push(this.getDependency("bufferView",r.bufferView)):n.push(null),r.sparse!==void 0&&(n.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),n.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(n).then(function(o){const a=o[0],l=w_[r.type],h=Ku[r.componentType],c=h.BYTES_PER_ELEMENT,u=c*l,p=r.byteOffset||0,f=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,m=r.normalized===!0;let g,C;if(f&&f!==u){const I=Math.floor(p/f),E="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+I+":"+r.count;let S=t.cache.get(E);S||(g=new h(a,I*f,r.count*f/c),S=new ic(g,f/c),t.cache.add(E,S)),C=new xr(S,l,p%f/c,m)}else a===null?g=new h(r.count*l):g=new h(a,p,r.count*l),C=new Rt(g,l,m);if(r.sparse!==void 0){const I=w_.SCALAR,E=Ku[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,F=new E(o[1],S,r.sparse.count*I),O=new h(o[2],x,r.sparse.count*l);a!==null&&(C=new Rt(C.array.slice(),C.itemSize,C.normalized));for(let R=0,L=F.length;R<L;R++){const G=F[R];if(C.setX(G,O[R*l]),l>=2&&C.setY(G,O[R*l+1]),l>=3&&C.setZ(G,O[R*l+2]),l>=4&&C.setW(G,O[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return C})}loadTexture(s){const t=this.json,i=this.options,r=t.textures[s],n=t.images[r.source];let o=this.textureLoader;if(n.uri){const a=i.manager.getHandler(n.uri);a!==null&&(o=a)}return this.loadTextureImage(s,n,o)}loadTextureImage(s,t,i){const r=this,n=this.json,o=this.options,a=n.textures[s],l=(t.uri||t.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const h=self.URL||self.webkitURL;let c=t.uri||"",u=!1;if(t.bufferView!==void 0)c=r.getDependency("bufferView",t.bufferView).then(function(f){u=!0;const m=new Blob([f],{type:t.mimeType});return c=h.createObjectURL(m),c});else if(t.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+s+" is missing URI and bufferView");const p=Promise.resolve(c).then(function(f){return new Promise(function(m,g){let C=m;i.isImageBitmapLoader===!0&&(C=function(I){const E=new Ys(I);E.needsUpdate=!0,m(E)}),i.load(qo.resolveURL(f,o.path),C,void 0,g)})}).then(function(f){u===!0&&h.revokeObjectURL(c),f.flipY=!1,a.name&&(f.name=a.name);const g=(n.samplers||{})[a.sampler]||{};return f.magFilter=C_[g.magFilter]||js,f.minFilter=C_[g.minFilter]||ll,f.wrapS=__[g.wrapS]||Ja,f.wrapT=__[g.wrapT]||Ja,r.associations.set(f,{textures:s}),f}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",c),null});return this.textureCache[l]=p,p}assignTexture(s,t,i){const r=this;return this.getDependency("texture",i.index).then(function(n){if(i.texCoord!==void 0&&i.texCoord!=0&&!(t==="aoMap"&&i.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+t+" not yet supported."),r.extensions[kt.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[kt.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const a=r.associations.get(n);n=r.extensions[kt.KHR_TEXTURE_TRANSFORM].extendTexture(n,o),r.associations.set(n,a)}}return s[t]=n,n})}assignFinalMaterial(s){const t=s.geometry;let i=s.material;const r=t.attributes.tangent===void 0,n=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(s.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new MI,Ws.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(s.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new bn,Ws.prototype.copy.call(l,i),l.color.copy(i.color),this.cache.add(a,l)),i=l}if(r||n||o){let a="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),r&&(a+="derivative-tangents:"),n&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),n&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}i.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),s.material=i}getMaterialType(){return sp}loadMaterial(s){const t=this,i=this.json,r=this.extensions,n=i.materials[s];let o;const a={},l=n.extensions||{},h=[];if(l[kt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const u=r[kt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=u.getMaterialType(),h.push(u.extendParams(a,n,t))}else if(l[kt.KHR_MATERIALS_UNLIT]){const u=r[kt.KHR_MATERIALS_UNLIT];o=u.getMaterialType(),h.push(u.extendParams(a,n,t))}else{const u=n.pbrMetallicRoughness||{};if(a.color=new it(1,1,1),a.opacity=1,Array.isArray(u.baseColorFactor)){const p=u.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}u.baseColorTexture!==void 0&&h.push(t.assignTexture(a,"map",u.baseColorTexture)),a.metalness=u.metallicFactor!==void 0?u.metallicFactor:1,a.roughness=u.roughnessFactor!==void 0?u.roughnessFactor:1,u.metallicRoughnessTexture!==void 0&&(h.push(t.assignTexture(a,"metalnessMap",u.metallicRoughnessTexture)),h.push(t.assignTexture(a,"roughnessMap",u.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(s)}),h.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(s,a)})))}n.doubleSided===!0&&(a.side=qi);const c=n.alphaMode||kg.OPAQUE;if(c===kg.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.format=In,a.transparent=!1,c===kg.MASK&&(a.alphaTest=n.alphaCutoff!==void 0?n.alphaCutoff:.5)),n.normalTexture!==void 0&&o!==wi&&(h.push(t.assignTexture(a,"normalMap",n.normalTexture)),a.normalScale=new Re(1,1),n.normalTexture.scale!==void 0)){const u=n.normalTexture.scale;a.normalScale.set(u,u)}return n.occlusionTexture!==void 0&&o!==wi&&(h.push(t.assignTexture(a,"aoMap",n.occlusionTexture)),n.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=n.occlusionTexture.strength)),n.emissiveFactor!==void 0&&o!==wi&&(a.emissive=new it().fromArray(n.emissiveFactor)),n.emissiveTexture!==void 0&&o!==wi&&h.push(t.assignTexture(a,"emissiveMap",n.emissiveTexture)),Promise.all(h).then(function(){let u;return o===Qy?u=r[kt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):u=new o(a),n.name&&(u.name=n.name),u.map&&(u.map.encoding=tl),u.emissiveMap&&(u.emissiveMap.encoding=tl),Ha(u,n),t.associations.set(u,{materials:s}),n.extensions&&Zc(r,u,n),u})}createUniqueName(s){const t=qt.sanitizeNodeName(s||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(s){const t=this,i=this.extensions,r=this.primitiveCache;function n(a){return i[kt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return x_(l,a,t)})}const o=[];for(let a=0,l=s.length;a<l;a++){const h=s[a],c=Ole(h),u=r[c];if(u)o.push(u.promise);else{let p;h.extensions&&h.extensions[kt.KHR_DRACO_MESH_COMPRESSION]?p=n(h):p=x_(new _t,h,t),r[c]={primitive:h,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(s){const t=this,i=this.json,r=this.extensions,n=i.meshes[s],o=n.primitives,a=[];for(let l=0,h=o.length;l<h;l++){const c=o[l].material===void 0?Rle(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const h=l.slice(0,l.length-1),c=l[l.length-1],u=[];for(let f=0,m=c.length;f<m;f++){const g=c[f],C=o[f];let I;const E=h[f];if(C.mode===Yn.TRIANGLES||C.mode===Yn.TRIANGLE_STRIP||C.mode===Yn.TRIANGLE_FAN||C.mode===void 0)I=n.isSkinnedMesh===!0?new AI(g,E):new Qe(g,E),I.isSkinnedMesh===!0&&!I.geometry.attributes.skinWeight.normalized&&I.normalizeSkinWeights(),C.mode===Yn.TRIANGLE_STRIP?I.geometry=b_(I.geometry,uk):C.mode===Yn.TRIANGLE_FAN&&(I.geometry=b_(I.geometry,Qw));else if(C.mode===Yn.LINES)I=new Fn(g,E);else if(C.mode===Yn.LINE_STRIP)I=new Ai(g,E);else if(C.mode===Yn.LINE_LOOP)I=new xS(g,E);else if(C.mode===Yn.POINTS)I=new bS(g,E);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+C.mode);Object.keys(I.geometry.morphAttributes).length>0&&Ale(I,n),I.name=t.createUniqueName(n.name||"mesh_"+s),Ha(I,n),C.extensions&&Zc(r,I,C),t.assignFinalMaterial(I),u.push(I)}for(let f=0,m=u.length;f<m;f++)t.associations.set(u[f],{meshes:s,primitives:f});if(u.length===1)return u[0];const p=new gn;t.associations.set(p,{meshes:s});for(let f=0,m=u.length;f<m;f++)p.add(u[f]);return p})}loadCamera(s){let t;const i=this.json.cameras[s],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new ui(sl.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new oa(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Ha(t,i),Promise.resolve(t)}loadSkin(s){const t=this.json.skins[s],i={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(i):this.getDependency("accessor",t.inverseBindMatrices).then(function(r){return i.inverseBindMatrices=r,i})}loadAnimation(s){const i=this.json.animations[s],r=[],n=[],o=[],a=[],l=[];for(let h=0,c=i.channels.length;h<c;h++){const u=i.channels[h],p=i.samplers[u.sampler],f=u.target,m=f.node!==void 0?f.node:f.id,g=i.parameters!==void 0?i.parameters[p.input]:p.input,C=i.parameters!==void 0?i.parameters[p.output]:p.output;r.push(this.getDependency("node",m)),n.push(this.getDependency("accessor",g)),o.push(this.getDependency("accessor",C)),a.push(p),l.push(f)}return Promise.all([Promise.all(r),Promise.all(n),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(h){const c=h[0],u=h[1],p=h[2],f=h[3],m=h[4],g=[];for(let I=0,E=c.length;I<E;I++){const S=c[I],x=u[I],F=p[I],O=f[I],R=m[I];if(S===void 0)continue;S.updateMatrix(),S.matrixAutoUpdate=!0;let L;switch(Do[R.path]){case Do.weights:L=Bu;break;case Do.rotation:L=rl;break;case Do.position:case Do.scale:default:L=ku;break}const G=S.name?S.name:S.uuid,V=O.interpolation!==void 0?Fle[O.interpolation]:el,B=[];Do[R.path]===Do.weights?S.traverse(function($){$.morphTargetInfluences&&B.push($.name?$.name:$.uuid)}):B.push(G);let oe=F.array;if(F.normalized){const $=Zy(oe.constructor),Z=new Float32Array(oe.length);for(let te=0,ee=oe.length;te<ee;te++)Z[te]=oe[te]*$;oe=Z}for(let $=0,Z=B.length;$<Z;$++){const te=new L(B[$]+"."+Do[R.path],x.array,oe,V);O.interpolation==="CUBICSPLINE"&&(te.createInterpolant=function(J){const ie=this instanceof rl?ble:al;return new ie(this.times,this.values,this.getValueSize()/3,J)},te.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push(te)}}const C=i.name?i.name:"animation_"+s;return new vy(C,void 0,g)})}createNodeMesh(s){const t=this.json,i=this,r=t.nodes[s];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(n){const o=i._getNodeRef(i.meshCache,r.mesh,n);return r.weights!==void 0&&o.traverse(function(a){if(!!a.isMesh)for(let l=0,h=r.weights.length;l<h;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(s){const t=this.json,i=this.extensions,r=this,n=t.nodes[s],o=n.name?r.createUniqueName(n.name):"";return function(){const a=[],l=r._invokeOne(function(h){return h.createNodeMesh&&h.createNodeMesh(s)});return l&&a.push(l),n.camera!==void 0&&a.push(r.getDependency("camera",n.camera).then(function(h){return r._getNodeRef(r.cameraCache,n.camera,h)})),r._invokeAll(function(h){return h.createNodeAttachment&&h.createNodeAttachment(s)}).forEach(function(h){a.push(h)}),Promise.all(a)}().then(function(a){let l;if(n.isBone===!0?l=new OI:a.length>1?l=new gn:a.length===1?l=a[0]:l=new jt,l!==a[0])for(let h=0,c=a.length;h<c;h++)l.add(a[h]);if(n.name&&(l.userData.name=n.name,l.name=o),Ha(l,n),n.extensions&&Zc(i,l,n),n.matrix!==void 0){const h=new rt;h.fromArray(n.matrix),l.applyMatrix4(h)}else n.translation!==void 0&&l.position.fromArray(n.translation),n.rotation!==void 0&&l.quaternion.fromArray(n.rotation),n.scale!==void 0&&l.scale.fromArray(n.scale);return r.associations.has(l)||r.associations.set(l,{}),r.associations.get(l).nodes=s,l})}loadScene(s){const t=this.json,i=this.extensions,r=this.json.scenes[s],n=this,o=new gn;r.name&&(o.name=n.createUniqueName(r.name)),Ha(o,r),r.extensions&&Zc(i,o,r);const a=r.nodes||[],l=[];for(let h=0,c=a.length;h<c;h++)l.push(S6(a[h],o,t,n));return Promise.all(l).then(function(){const h=c=>{const u=new Map;for(const[p,f]of n.associations)(p instanceof Ws||p instanceof Ys)&&u.set(p,f);return c.traverse(p=>{const f=n.associations.get(p);f!=null&&u.set(p,f)}),u};return n.associations=h(o),o})}}function S6(e,s,t,i){const r=t.nodes[e];return i.getDependency("node",e).then(function(n){if(r.skin===void 0)return n;let o;return i.getDependency("skin",r.skin).then(function(a){o=a;const l=[];for(let h=0,c=o.joints.length;h<c;h++)l.push(i.getDependency("node",o.joints[h]));return Promise.all(l)}).then(function(a){return n.traverse(function(l){if(!l.isMesh)return;const h=[],c=[];for(let u=0,p=a.length;u<p;u++){const f=a[u];if(f){h.push(f);const m=new rt;o.inverseBindMatrices!==void 0&&m.fromArray(o.inverseBindMatrices.array,u*16),c.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[u])}l.bind(new DI(h,c),l.matrixWorld)}),n})}).then(function(n){s.add(n);const o=[];if(r.children){const a=r.children;for(let l=0,h=a.length;l<h;l++){const c=a[l];o.push(S6(c,n,t,i))}}return Promise.all(o)})}function Mle(e,s,t){const i=s.attributes,r=new gs;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,h=a.max;if(l!==void 0&&h!==void 0){if(r.set(new H(l[0],l[1],l[2]),new H(h[0],h[1],h[2])),a.normalized){const c=Zy(Ku[a.componentType]);r.min.multiplyScalar(c),r.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const n=s.targets;if(n!==void 0){const a=new H,l=new H;for(let h=0,c=n.length;h<c;h++){const u=n[h];if(u.POSITION!==void 0){const p=t.json.accessors[u.POSITION],f=p.min,m=p.max;if(f!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(f[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(f[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(f[2]),Math.abs(m[2]))),p.normalized){const g=Zy(Ku[p.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}e.boundingBox=r;const o=new Mr;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,e.boundingSphere=o}function x_(e,s,t){const i=s.attributes,r=[];function n(o,a){return t.getDependency("accessor",o).then(function(l){e.setAttribute(a,l)})}for(const o in i){const a=$y[o]||o.toLowerCase();a in e.attributes||r.push(n(i[o],a))}if(s.indices!==void 0&&!e.index){const o=t.getDependency("accessor",s.indices).then(function(a){e.setIndex(a)});r.push(o)}return Ha(e,s),Mle(e,s,t),Promise.all(r).then(function(){return s.targets!==void 0?Ple(e,s.targets,t):e})}function b_(e,s){let t=e.getIndex();if(t===null){const o=[],a=e.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);e.setIndex(o),t=e.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e}const i=t.count-2,r=[];if(s===Qw)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const n=e.clone();return n.setIndex(r),n}class G0{constructor(){this.pluginCallbacks=[],this.register(function(s){return new jle(s)}),this.register(function(s){return new zle(s)}),this.register(function(s){return new Wle(s)}),this.register(function(s){return new Xle(s)}),this.register(function(s){return new qle(s)}),this.register(function(s){return new Yle(s)})}register(s){return this.pluginCallbacks.indexOf(s)===-1&&this.pluginCallbacks.push(s),this}unregister(s){return this.pluginCallbacks.indexOf(s)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(s),1),this}parse(s,t,i,r){typeof i=="object"&&(console.warn("THREE.GLTFExporter: parse() expects options as the fourth argument now."),r=i);const n=new Vle,o=[];for(let a=0,l=this.pluginCallbacks.length;a<l;a++)o.push(this.pluginCallbacks[a](n));n.setPlugins(o),n.write(s,t,r).catch(i)}parseAsync(s,t){const i=this;return new Promise(function(r,n){i.parse(s,r,n,t)})}}const as={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,FLOAT:5126,UNSIGNED_INT:5125,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},hr={};hr[Ss]=as.NEAREST;hr[hd]=as.NEAREST_MIPMAP_NEAREST;hr[cd]=as.NEAREST_MIPMAP_LINEAR;hr[js]=as.LINEAR;hr[EI]=as.LINEAR_MIPMAP_NEAREST;hr[ll]=as.LINEAR_MIPMAP_LINEAR;hr[Oi]=as.CLAMP_TO_EDGE;hr[Ja]=as.REPEAT;hr[Au]=as.MIRRORED_REPEAT;const F_={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},R_=12,Nle=1179937895,Lle=2,P_=8,Ule=1313821514,Hle=5130562;function au(e,s){return e.length===s.length&&e.every(function(t,i){return t===s[i]})}function Gle(e){if(window.TextEncoder!==void 0)return new TextEncoder().encode(e).buffer;const s=new Uint8Array(new ArrayBuffer(e.length));for(let t=0,i=e.length;t<i;t++){const r=e.charCodeAt(t);s[t]=r>255?32:r}return s.buffer}function Ble(e){return au(e.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function kle(e,s,t){const i={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let r=s;r<s+t;r++)for(let n=0;n<e.itemSize;n++){let o;e.itemSize>4?o=e.array[r*e.itemSize+n]:n===0?o=e.getX(r):n===1?o=e.getY(r):n===2?o=e.getZ(r):n===3&&(o=e.getW(r)),i.min[n]=Math.min(i.min[n],o),i.max[n]=Math.max(i.max[n],o)}return i}function x6(e){return Math.ceil(e/4)*4}function Vg(e,s=0){const t=x6(e.byteLength);if(t!==e.byteLength){const i=new Uint8Array(t);if(i.set(new Uint8Array(e)),s!==0)for(let r=e.byteLength;r<t;r++)i[r]=s;return i.buffer}return e}let A_=null;class Vle{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(s){this.plugins=s}async write(s,t,i){this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,embedImages:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},i),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(s),await Promise.all(this.pending);const r=this,n=r.buffers,o=r.json;i=r.options;const a=r.extensionsUsed,l=new Blob(n,{type:"application/octet-stream"}),h=Object.keys(a);if(h.length>0&&(o.extensionsUsed=h),o.buffers&&o.buffers.length>0&&(o.buffers[0].byteLength=l.size),i.binary===!0){const c=new window.FileReader;c.readAsArrayBuffer(l),c.onloadend=function(){const u=Vg(c.result),p=new DataView(new ArrayBuffer(P_));p.setUint32(0,u.byteLength,!0),p.setUint32(4,Hle,!0);const f=Vg(Gle(JSON.stringify(o)),32),m=new DataView(new ArrayBuffer(P_));m.setUint32(0,f.byteLength,!0),m.setUint32(4,Ule,!0);const g=new ArrayBuffer(R_),C=new DataView(g);C.setUint32(0,Nle,!0),C.setUint32(4,Lle,!0);const I=R_+m.byteLength+f.byteLength+p.byteLength+u.byteLength;C.setUint32(8,I,!0);const E=new Blob([g,m,f,p,u],{type:"application/octet-stream"}),S=new window.FileReader;S.readAsArrayBuffer(E),S.onloadend=function(){t(S.result)}}}else if(o.buffers&&o.buffers.length>0){const c=new window.FileReader;c.readAsDataURL(l),c.onloadend=function(){const u=c.result;o.buffers[0].uri=u,t(o)}}else t(o)}serializeUserData(s,t){if(Object.keys(s.userData).length===0)return;const i=this.options,r=this.extensionsUsed;try{const n=JSON.parse(JSON.stringify(s.userData));if(i.includeCustomExtensions&&n.gltfExtensions){t.extensions===void 0&&(t.extensions={});for(const o in n.gltfExtensions)t.extensions[o]=n.gltfExtensions[o],r[o]=!0;delete n.gltfExtensions}Object.keys(n).length>0&&(t.extras=n)}catch(n){console.warn("THREE.GLTFExporter: userData of '"+s.name+"' won't be serialized because of JSON.stringify error - "+n.message)}}getUID(s){return this.uids.has(s)||this.uids.set(s,this.uid++),this.uids.get(s)}isNormalizedNormalAttribute(s){if(this.cache.attributesNormalized.has(s))return!1;const i=new H;for(let r=0,n=s.count;r<n;r++)if(Math.abs(i.fromBufferAttribute(s,r).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(s){const t=this.cache;if(t.attributesNormalized.has(s))return t.attributesNormalized.get(s);const i=s.clone(),r=new H;for(let n=0,o=i.count;n<o;n++)r.fromBufferAttribute(i,n),r.x===0&&r.y===0&&r.z===0?r.setX(1):r.normalize(),i.setXYZ(n,r.x,r.y,r.z);return t.attributesNormalized.set(s,i),i}applyTextureTransform(s,t){let i=!1;const r={};(t.offset.x!==0||t.offset.y!==0)&&(r.offset=t.offset.toArray(),i=!0),t.rotation!==0&&(r.rotation=t.rotation,i=!0),(t.repeat.x!==1||t.repeat.y!==1)&&(r.scale=t.repeat.toArray(),i=!0),i&&(s.extensions=s.extensions||{},s.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}processBuffer(s){const t=this.json,i=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),i.push(s),0}processBufferView(s,t,i,r,n){const o=this.json;o.bufferViews||(o.bufferViews=[]);let a;t===as.UNSIGNED_BYTE?a=1:t===as.UNSIGNED_SHORT?a=2:a=4;const l=x6(r*s.itemSize*a),h=new DataView(new ArrayBuffer(l));let c=0;for(let f=i;f<i+r;f++)for(let m=0;m<s.itemSize;m++){let g;s.itemSize>4?g=s.array[f*s.itemSize+m]:m===0?g=s.getX(f):m===1?g=s.getY(f):m===2?g=s.getZ(f):m===3&&(g=s.getW(f)),t===as.FLOAT?h.setFloat32(c,g,!0):t===as.UNSIGNED_INT?h.setUint32(c,g,!0):t===as.UNSIGNED_SHORT?h.setUint16(c,g,!0):t===as.UNSIGNED_BYTE&&h.setUint8(c,g),c+=a}const u={buffer:this.processBuffer(h.buffer),byteOffset:this.byteOffset,byteLength:l};return n!==void 0&&(u.target=n),n===as.ARRAY_BUFFER&&(u.byteStride=s.itemSize*a),this.byteOffset+=l,o.bufferViews.push(u),{id:o.bufferViews.length-1,byteLength:0}}processBufferViewImage(s){const t=this,i=t.json;return i.bufferViews||(i.bufferViews=[]),new Promise(function(r){const n=new window.FileReader;n.readAsArrayBuffer(s),n.onloadend=function(){const o=Vg(n.result),a={buffer:t.processBuffer(o),byteOffset:t.byteOffset,byteLength:o.byteLength};t.byteOffset+=o.byteLength,r(i.bufferViews.push(a)-1)}})}processAccessor(s,t,i,r){const n=this.options,o=this.json,a={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"};let l;if(s.array.constructor===Float32Array)l=as.FLOAT;else if(s.array.constructor===Uint32Array)l=as.UNSIGNED_INT;else if(s.array.constructor===Uint16Array)l=as.UNSIGNED_SHORT;else if(s.array.constructor===Uint8Array)l=as.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");if(i===void 0&&(i=0),r===void 0&&(r=s.count),n.truncateDrawRange&&t!==void 0&&t.index===null){const f=i+r,m=t.drawRange.count===1/0?s.count:t.drawRange.start+t.drawRange.count;i=Math.max(i,t.drawRange.start),r=Math.min(f,m)-i,r<0&&(r=0)}if(r===0)return null;const h=kle(s,i,r);let c;t!==void 0&&(c=s===t.index?as.ELEMENT_ARRAY_BUFFER:as.ARRAY_BUFFER);const u=this.processBufferView(s,l,i,r,c),p={bufferView:u.id,byteOffset:u.byteOffset,componentType:l,count:r,max:h.max,min:h.min,type:a[s.itemSize]};return s.normalized===!0&&(p.normalized=!0),o.accessors||(o.accessors=[]),o.accessors.push(p)-1}processImage(s,t,i){const r=this,n=r.cache,o=r.json,a=r.options,l=r.pending;n.images.has(s)||n.images.set(s,{});const h=n.images.get(s),c=t===Ds?"image/png":"image/jpeg",u=c+":flipY/"+i.toString();if(h[u]!==void 0)return h[u];o.images||(o.images=[]);const p={mimeType:c};if(a.embedImages){const m=A_=A_||document.createElement("canvas");m.width=Math.min(s.width,a.maxTextureSize),m.height=Math.min(s.height,a.maxTextureSize);const g=m.getContext("2d");if(i===!0&&(g.translate(0,m.height),g.scale(1,-1)),typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas||typeof ImageBitmap<"u"&&s instanceof ImageBitmap)g.drawImage(s,0,0,m.width,m.height);else{t!==Ds&&t!==In&&console.error("GLTFExporter: Only RGB and RGBA formats are supported."),(s.width>a.maxTextureSize||s.height>a.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",s);const C=new Uint8ClampedArray(s.height*s.width*4);if(t===Ds)for(let I=0;I<C.length;I+=4)C[I+0]=s.data[I+0],C[I+1]=s.data[I+1],C[I+2]=s.data[I+2],C[I+3]=s.data[I+3];else for(let I=0,E=0;I<C.length;I+=4,E+=3)C[I+0]=s.data[E+0],C[I+1]=s.data[E+1],C[I+2]=s.data[E+2],C[I+3]=255;g.putImageData(new ImageData(C,s.width,s.height),0,0)}a.binary===!0?l.push(new Promise(function(C){m.toBlob(function(I){r.processBufferViewImage(I).then(function(E){p.bufferView=E,C()})},c)})):p.uri=m.toDataURL(c)}else p.uri=s.src;const f=o.images.push(p)-1;return h[u]=f,f}processSampler(s){const t=this.json;t.samplers||(t.samplers=[]);const i={magFilter:hr[s.magFilter],minFilter:hr[s.minFilter],wrapS:hr[s.wrapS],wrapT:hr[s.wrapT]};return t.samplers.push(i)-1}processTexture(s){const t=this.cache,i=this.json;if(t.textures.has(s))return t.textures.get(s);i.textures||(i.textures=[]);const r={sampler:this.processSampler(s),source:this.processImage(s.image,s.format,s.flipY)};s.name&&(r.name=s.name),this._invokeAll(function(o){o.writeTexture&&o.writeTexture(s,r)});const n=i.textures.push(r)-1;return t.textures.set(s,n),n}processMaterial(s){const t=this.cache,i=this.json;if(t.materials.has(s))return t.materials.get(s);if(s.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;i.materials||(i.materials=[]);const r={pbrMetallicRoughness:{}};s.isMeshStandardMaterial!==!0&&s.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const n=s.color.toArray().concat([s.opacity]);if(au(n,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=n),s.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=s.metalness,r.pbrMetallicRoughness.roughnessFactor=s.roughness):(r.pbrMetallicRoughness.metallicFactor=.5,r.pbrMetallicRoughness.roughnessFactor=.5),s.metalnessMap||s.roughnessMap)if(s.metalnessMap===s.roughnessMap){const a={index:this.processTexture(s.metalnessMap)};this.applyTextureTransform(a,s.metalnessMap),r.pbrMetallicRoughness.metallicRoughnessTexture=a}else console.warn("THREE.GLTFExporter: Ignoring metalnessMap and roughnessMap because they are not the same Texture.");if(s.map){const a={index:this.processTexture(s.map)};this.applyTextureTransform(a,s.map),r.pbrMetallicRoughness.baseColorTexture=a}if(s.emissive){const a=s.emissive.clone().multiplyScalar(s.emissiveIntensity),l=Math.max(a.r,a.g,a.b);if(l>1&&(a.multiplyScalar(1/l),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),l>0&&(r.emissiveFactor=a.toArray()),s.emissiveMap){const h={index:this.processTexture(s.emissiveMap)};this.applyTextureTransform(h,s.emissiveMap),r.emissiveTexture=h}}if(s.normalMap){const a={index:this.processTexture(s.normalMap)};s.normalScale&&s.normalScale.x!==1&&(a.scale=s.normalScale.x),this.applyTextureTransform(a,s.normalMap),r.normalTexture=a}if(s.aoMap){const a={index:this.processTexture(s.aoMap),texCoord:1};s.aoMapIntensity!==1&&(a.strength=s.aoMapIntensity),this.applyTextureTransform(a,s.aoMap),r.occlusionTexture=a}s.transparent?r.alphaMode="BLEND":s.alphaTest>0&&(r.alphaMode="MASK",r.alphaCutoff=s.alphaTest),s.side===qi&&(r.doubleSided=!0),s.name!==""&&(r.name=s.name),this.serializeUserData(s,r),this._invokeAll(function(a){a.writeMaterial&&a.writeMaterial(s,r)});const o=i.materials.push(r)-1;return t.materials.set(s,o),o}processMesh(s){const t=this.cache,i=this.json,r=[s.geometry.uuid];if(Array.isArray(s.material))for(let S=0,x=s.material.length;S<x;S++)r.push(s.material[S].uuid);else r.push(s.material.uuid);const n=r.join(":");if(t.meshes.has(n))return t.meshes.get(n);const o=s.geometry;let a;if(s.isLineSegments?a=as.LINES:s.isLineLoop?a=as.LINE_LOOP:s.isLine?a=as.LINE_STRIP:s.isPoints?a=as.POINTS:a=s.material.wireframe?as.LINES:as.TRIANGLES,o.isBufferGeometry!==!0)throw new Error("THREE.GLTFExporter: Geometry is not of type THREE.BufferGeometry.");const l={},h={},c=[],u=[],p={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},f=o.getAttribute("normal");f!==void 0&&!this.isNormalizedNormalAttribute(f)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),o.setAttribute("normal",this.createNormalizedNormalAttribute(f)));let m=null;for(let S in o.attributes){if(S.substr(0,5)==="morph")continue;const x=o.attributes[S];if(S=p[S]||S.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(S)||(S="_"+S),t.attributes.has(this.getUID(x))){h[S]=t.attributes.get(this.getUID(x));continue}m=null;const O=x.array;S==="JOINTS_0"&&!(O instanceof Uint16Array)&&!(O instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),m=new Rt(new Uint16Array(O),x.itemSize,x.normalized));const R=this.processAccessor(m||x,o);R!==null&&(h[S]=R,t.attributes.set(this.getUID(x),R))}if(f!==void 0&&o.setAttribute("normal",f),Object.keys(h).length===0)return null;if(s.morphTargetInfluences!==void 0&&s.morphTargetInfluences.length>0){const S=[],x=[],F={};if(s.morphTargetDictionary!==void 0)for(const O in s.morphTargetDictionary)F[s.morphTargetDictionary[O]]=O;for(let O=0;O<s.morphTargetInfluences.length;++O){const R={};let L=!1;for(const G in o.morphAttributes){if(G!=="position"&&G!=="normal"){L||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),L=!0);continue}const V=o.morphAttributes[G][O],B=G.toUpperCase(),oe=o.attributes[G];if(t.attributes.has(this.getUID(V))){R[B]=t.attributes.get(this.getUID(V));continue}const $=V.clone();if(!o.morphTargetsRelative)for(let Z=0,te=V.count;Z<te;Z++)$.setXYZ(Z,V.getX(Z)-oe.getX(Z),V.getY(Z)-oe.getY(Z),V.getZ(Z)-oe.getZ(Z));R[B]=this.processAccessor($,o),t.attributes.set(this.getUID(oe),R[B])}u.push(R),S.push(s.morphTargetInfluences[O]),s.morphTargetDictionary!==void 0&&x.push(F[O])}l.weights=S,x.length>0&&(l.extras={},l.extras.targetNames=x)}const g=Array.isArray(s.material);if(g&&o.groups.length===0)return null;const C=g?s.material:[s.material],I=g?o.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let S=0,x=I.length;S<x;S++){const F={mode:a,attributes:h};if(this.serializeUserData(o,F),u.length>0&&(F.targets=u),o.index!==null){let R=this.getUID(o.index);(I[S].start!==void 0||I[S].count!==void 0)&&(R+=":"+I[S].start+":"+I[S].count),t.attributes.has(R)?F.indices=t.attributes.get(R):(F.indices=this.processAccessor(o.index,o,I[S].start,I[S].count),t.attributes.set(R,F.indices)),F.indices===null&&delete F.indices}const O=this.processMaterial(C[I[S].materialIndex]);O!==null&&(F.material=O),c.push(F)}l.primitives=c,i.meshes||(i.meshes=[]),this._invokeAll(function(S){S.writeMesh&&S.writeMesh(s,l)});const E=i.meshes.push(l)-1;return t.meshes.set(n,E),E}processCamera(s){const t=this.json;t.cameras||(t.cameras=[]);const i=s.isOrthographicCamera,r={type:i?"orthographic":"perspective"};return i?r.orthographic={xmag:s.right*2,ymag:s.top*2,zfar:s.far<=0?.001:s.far,znear:s.near<0?0:s.near}:r.perspective={aspectRatio:s.aspect,yfov:sl.degToRad(s.fov),zfar:s.far<=0?.001:s.far,znear:s.near<0?0:s.near},s.name!==""&&(r.name=s.type),t.cameras.push(r)-1}processAnimation(s,t){const i=this.json,r=this.nodeMap;i.animations||(i.animations=[]),s=G0.Utils.mergeMorphTargetTracks(s.clone(),t);const n=s.tracks,o=[],a=[];for(let l=0;l<n.length;++l){const h=n[l],c=qt.parseTrackName(h.name);let u=qt.findNode(t,c.nodeName);const p=F_[c.propertyName];if(c.objectName==="bones"&&(u.isSkinnedMesh===!0?u=u.skeleton.getBoneByName(c.objectIndex):u=void 0),!u||!p)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',h.name),null;const f=1;let m=h.values.length/h.times.length;p===F_.morphTargetInfluences&&(m/=u.morphTargetInfluences.length);let g;h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(g="CUBICSPLINE",m/=3):h.getInterpolation()===Bh?g="STEP":g="LINEAR",a.push({input:this.processAccessor(new Rt(h.times,f)),output:this.processAccessor(new Rt(h.values,m)),interpolation:g}),o.push({sampler:a.length-1,target:{node:r.get(u),path:p}})}return i.animations.push({name:s.name||"clip_"+i.animations.length,samplers:a,channels:o}),i.animations.length-1}processSkin(s){const t=this.json,i=this.nodeMap,r=t.nodes[i.get(s)],n=s.skeleton;if(n===void 0)return null;const o=s.skeleton.bones[0];if(o===void 0)return null;const a=[],l=new Float32Array(n.bones.length*16),h=new rt;for(let u=0;u<n.bones.length;++u)a.push(i.get(n.bones[u])),h.copy(n.boneInverses[u]),h.multiply(s.bindMatrix).toArray(l,u*16);return t.skins===void 0&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new Rt(l,16)),joints:a,skeleton:i.get(o)}),r.skin=t.skins.length-1}processNode(s){const t=this.json,i=this.options,r=this.nodeMap;t.nodes||(t.nodes=[]);const n={};if(i.trs){const a=s.quaternion.toArray(),l=s.position.toArray(),h=s.scale.toArray();au(a,[0,0,0,1])||(n.rotation=a),au(l,[0,0,0])||(n.translation=l),au(h,[1,1,1])||(n.scale=h)}else s.matrixAutoUpdate&&s.updateMatrix(),Ble(s.matrix)===!1&&(n.matrix=s.matrix.elements);if(s.name!==""&&(n.name=String(s.name)),this.serializeUserData(s,n),s.isMesh||s.isLine||s.isPoints){const a=this.processMesh(s);a!==null&&(n.mesh=a)}else s.isCamera&&(n.camera=this.processCamera(s));if(s.isSkinnedMesh&&this.skins.push(s),s.children.length>0){const a=[];for(let l=0,h=s.children.length;l<h;l++){const c=s.children[l];if(c.visible||i.onlyVisible===!1){const u=this.processNode(c);u!==null&&a.push(u)}}a.length>0&&(n.children=a)}this._invokeAll(function(a){a.writeNode&&a.writeNode(s,n)});const o=t.nodes.push(n)-1;return r.set(s,o),o}processScene(s){const t=this.json,i=this.options;t.scenes||(t.scenes=[],t.scene=0);const r={};s.name!==""&&(r.name=s.name),t.scenes.push(r);const n=[];for(let o=0,a=s.children.length;o<a;o++){const l=s.children[o];if(l.visible||i.onlyVisible===!1){const h=this.processNode(l);h!==null&&n.push(h)}}n.length>0&&(r.nodes=n),this.serializeUserData(s,r)}processObjects(s){const t=new Lu;t.name="AuxScene";for(let i=0;i<s.length;i++)t.children.push(s[i]);this.processScene(t)}processInput(s){const t=this.options;s=s instanceof Array?s:[s],this._invokeAll(function(r){r.beforeParse&&r.beforeParse(s)});const i=[];for(let r=0;r<s.length;r++)s[r]instanceof Lu?this.processScene(s[r]):i.push(s[r]);i.length>0&&this.processObjects(i);for(let r=0;r<this.skins.length;++r)this.processSkin(this.skins[r]);for(let r=0;r<t.animations.length;++r)this.processAnimation(t.animations[r],s[0]);this._invokeAll(function(r){r.afterParse&&r.afterParse(s)})}_invokeAll(s){for(let t=0,i=this.plugins.length;t<i;t++)s(this.plugins[t])}}class jle{constructor(s){this.writer=s,this.name="KHR_lights_punctual"}writeNode(s,t){if(!s.isLight)return;if(!s.isDirectionalLight&&!s.isPointLight&&!s.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",s);return}const i=this.writer,r=i.json,n=i.extensionsUsed,o={};s.name&&(o.name=s.name),o.color=s.color.toArray(),o.intensity=s.intensity,s.isDirectionalLight?o.type="directional":s.isPointLight?(o.type="point",s.distance>0&&(o.range=s.distance)):s.isSpotLight&&(o.type="spot",s.distance>0&&(o.range=s.distance),o.spot={},o.spot.innerConeAngle=(s.penumbra-1)*s.angle*-1,o.spot.outerConeAngle=s.angle),s.decay!==void 0&&s.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),s.target&&(s.target.parent!==s||s.target.position.x!==0||s.target.position.y!==0||s.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),n[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},n[this.name]=!0);const a=r.extensions[this.name].lights;a.push(o),t.extensions=t.extensions||{},t.extensions[this.name]={light:a.length-1}}}class zle{constructor(s){this.writer=s,this.name="KHR_materials_unlit"}writeMaterial(s,t){if(!s.isMeshBasicMaterial)return;const r=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},r[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}class Wle{constructor(s){this.writer=s,this.name="KHR_materials_pbrSpecularGlossiness"}writeMaterial(s,t){if(!s.isGLTFSpecularGlossinessMaterial)return;const i=this.writer,r=i.extensionsUsed,n={};t.pbrMetallicRoughness.baseColorFactor&&(n.diffuseFactor=t.pbrMetallicRoughness.baseColorFactor);const o=[1,1,1];if(s.specular.toArray(o,0),n.specularFactor=o,n.glossinessFactor=s.glossiness,t.pbrMetallicRoughness.baseColorTexture&&(n.diffuseTexture=t.pbrMetallicRoughness.baseColorTexture),s.specularMap){const a={index:i.processTexture(s.specularMap)};i.applyTextureTransform(a,s.specularMap),n.specularGlossinessTexture=a}t.extensions=t.extensions||{},t.extensions[this.name]=n,r[this.name]=!0}}class Yle{constructor(s){this.writer=s,this.name="KHR_materials_clearcoat"}writeMaterial(s,t){if(!s.isMeshPhysicalMaterial)return;const i=this.writer,r=i.extensionsUsed,n={};if(n.clearcoatFactor=s.clearcoat,s.clearcoatMap){const o={index:i.processTexture(s.clearcoatMap)};i.applyTextureTransform(o,s.clearcoatMap),n.clearcoatTexture=o}if(n.clearcoatRoughnessFactor=s.clearcoatRoughness,s.clearcoatRoughnessMap){const o={index:i.processTexture(s.clearcoatRoughnessMap)};i.applyTextureTransform(o,s.clearcoatRoughnessMap),n.clearcoatRoughnessTexture=o}if(s.clearcoatNormalMap){const o={index:i.processTexture(s.clearcoatNormalMap)};i.applyTextureTransform(o,s.clearcoatNormalMap),n.clearcoatNormalTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=n,r[this.name]=!0}}class Xle{constructor(s){this.writer=s,this.name="KHR_materials_transmission"}writeMaterial(s,t){if(!s.isMeshPhysicalMaterial||s.transmission===0)return;const i=this.writer,r=i.extensionsUsed,n={};if(n.transmissionFactor=s.transmission,s.transmissionMap){const o={index:i.processTexture(s.transmissionMap)};i.applyTextureTransform(o,s.transmissionMap),n.transmissionTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=n,r[this.name]=!0}}class qle{constructor(s){this.writer=s,this.name="KHR_materials_volume"}writeMaterial(s,t){if(!s.isMeshPhysicalMaterial||s.transmission===0)return;const i=this.writer,r=i.extensionsUsed,n={};if(n.thicknessFactor=s.thickness,s.thicknessMap){const o={index:i.processTexture(s.thicknessMap)};i.applyTextureTransform(o,s.thicknessMap),n.thicknessTexture=o}n.attenuationDistance=s.attenuationDistance,n.attenuationColor=s.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=n,r[this.name]=!0}}G0.Utils={insertKeyframe:function(e,s){const i=e.getValueSize(),r=new e.TimeBufferType(e.times.length+1),n=new e.ValueBufferType(e.values.length+i),o=e.createInterpolant(new e.ValueBufferType(i));let a;if(e.times.length===0){r[0]=s;for(let l=0;l<i;l++)n[l]=0;a=0}else if(s<e.times[0]){if(Math.abs(e.times[0]-s)<.001)return 0;r[0]=s,r.set(e.times,1),n.set(o.evaluate(s),0),n.set(e.values,i),a=0}else if(s>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-s)<.001)return e.times.length-1;r[r.length-1]=s,r.set(e.times,0),n.set(e.values,0),n.set(o.evaluate(s),e.values.length),a=r.length-1}else for(let l=0;l<e.times.length;l++){if(Math.abs(e.times[l]-s)<.001)return l;if(e.times[l]<s&&e.times[l+1]>s){r.set(e.times.slice(0,l+1),0),r[l+1]=s,r.set(e.times.slice(l+1),l+2),n.set(e.values.slice(0,(l+1)*i),0),n.set(o.evaluate(s),(l+1)*i),n.set(e.values.slice((l+1)*i),(l+2)*i),a=l+1;break}}return e.times=r,e.values=n,a},mergeMorphTargetTracks:function(e,s){const t=[],i={},r=e.tracks;for(let n=0;n<r.length;++n){let o=r[n];const a=qt.parseTrackName(o.name),l=qt.findNode(s,a.nodeName);if(a.propertyName!=="morphTargetInfluences"||a.propertyIndex===void 0){t.push(o);continue}if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),o=o.clone(),o.setInterpolation(el)}const h=l.morphTargetInfluences.length,c=l.morphTargetDictionary[a.propertyIndex];if(c===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+a.propertyIndex);let u;if(i[l.uuid]===void 0){u=o.clone();const f=new u.ValueBufferType(h*u.times.length);for(let m=0;m<u.times.length;m++)f[m*h+c]=u.values[m];u.name=(a.nodeName||"")+".morphTargetInfluences",u.values=f,i[l.uuid]=u,t.push(u);continue}const p=o.createInterpolant(new o.ValueBufferType(1));u=i[l.uuid];for(let f=0;f<u.times.length;f++)u.values[f*h+c]=p.evaluate(u.times[f]);for(let f=0;f<o.times.length;f++){const m=this.insertKeyframe(u,o.times[f]);u.values[m*h+c]=o.values[f]}}return e.tracks=t,e}};class Qle{constructor(){this.list=[],this.unitsFactor={MILLI:.001,CENTI:.01,DECI:.1},this.loaderError="Loader must be defined!"}dispose(){this.list=null,this.unitsFactor=null}async getAbsoluteElevation(s){if(!this.loader)throw new Error(this.loaderError);await this.getCurrentStoreys(s);const t=await this.getUnitsFactor(s),i=await this.getSiteCoords(s),r=await this.getTransformHeight(s),n=this.list[s],o={};for(let a=0;a<n.length;a++){const l=n[a],h=l.Elevation.value,c=this.getStoreyName(l);o[c]=(h+i[2])*t+r}return o}async getCurrentStoreys(s){this.list[s]||(this.list[s]=await this.loader.ifcManager.getAllItemsOfType(s,cm,!0))}async getSiteCoords(s){try{return(await this.getBuilding(s)).ObjectPlacement.PlacementRelTo.RelativePlacement.Location.Coordinates.map(r=>r.value)}catch{return[0,0,0]}}async getBuilding(s){const i=(await this.loader.ifcManager.getAllItemsOfType(s,ip,!1))[0];return this.loader.ifcManager.getItemProperties(s,i,!0)}async getTransformHeight(s){return(await this.loader.ifcManager.ifcAPI.GetCoordinationMatrix(s))[13]}getStoreyName(s){return s.Name?s.Name.value:s.LongName?s.LongName.value:s.GlobalId}async getUnitsFactor(s){var t;const r=(await this.loader.ifcManager.getAllItemsOfType(s,p0,!1))[0],o=(await this.loader.ifcManager.getItemProperties(s,r)).Units[0].value,l=(t=(await this.loader.ifcManager.getItemProperties(s,o)).Prefix)===null||t===void 0?void 0:t.value;return this.unitsFactor[l]||1}}class $le extends Fi{constructor(s,t){super(s),this.context=s,this.IFC=t,this.GLTFModels={},this.loader=new lle,this.exporter=new G0,this.tempIfcLoader=null,this.allFloors="allFloors",this.allCategories="allCategories",this.stories=new Qle,this.options={trs:!1,onlyVisible:!1,truncateDrawRange:!0,binary:!0,maxTextureSize:0},this.setupGeometryIndexDraco=(i,r)=>{let n=0;const o=[];for(let l=0;l<i.length;l++)o.push(n),n+=i[l].geometry.attributes._expressid.count;const a=i.map((l,h)=>{const c=l.geometry.index;return c?new Uint32Array(c.array).map(u=>u+o[h]):[]});r.setIndex(this.flattenIndices(a))},this.flattenIndices=i=>{const r=[];for(let n=0;n<i.length;n++)for(let o=0;o<i[n].length;o++)r.push(i[n][o]);return r}}dispose(){this.loader=null,this.exporter=null,Object.values(this.GLTFModels).forEach(t=>{t.removeFromParent(),t.children.forEach(i=>lr(i))}),this.GLTFModels=null,this.stories.dispose(),this.stories=null}async load(s){const i=(await this.loader.loadAsync(s)).scene,r=this.getModelID();return this.GLTFModels[r]=i,this.context.getScene().add(i),i}async loadModel(s){const t=await this.getGltfMesh(s);return t.geometry.computeBoundsTree(),t.modelID=this.getModelID(),this.context.getScene().add(t),this.setupMeshAsModel(t),t}async exportIfcFileAsGltf(s){const{ifcFileUrl:t,getProperties:i,categories:r,splitByFloors:n,maxJSONSize:o,onProgress:a,coordinationMatrix:l}=s,{loader:h,manager:c}=await this.setupIfcLoader(l),u=await h.loadAsync(t,I=>{a&&a(I.loaded,I.total,"IFC")}),p={gltf:{},json:[],id:"",coordinationMatrix:[]},f=await c.getAllItemsOfType(u.modelID,rp,!0);if(!f.length)throw new Error("No IfcProject instances were found in the IFC.");const m=f[0].GlobalId;if(!m)throw new Error("The found IfcProject does not have a GUID");p.id=m.value,p.coordinationMatrix=await c.ifcAPI.GetCoordinationMatrix(0);let g={},C=[];return n&&(g=await this.getIDsByFloor(h),C=Object.keys(g)),await this.getModels(r,p,c,n,C,g,u,a),i&&await this.getProperties(u,o,a,p),await h.ifcManager.dispose(),this.tempIfcLoader=null,p}async getProperties(s,t,i,r){const n=this.IFC.properties.loader;this.IFC.properties.loader=this.tempIfcLoader;const o=await this.IFC.properties.serializeAllProperties(s,t,(a,l)=>{i&&i(a,l,"JSON")});r.json=o.map(a=>new File([a],"properties.json")),this.IFC.properties.loader=n}async getModels(s,t,i,r,n,o,a,l){s?await this.getModelsByCategory(s,t,i,r,n,o,a,l):await this.getModelsWithoutCategories(t,r,n,o,a)}async setupIfcLoader(s){const t=new vG;this.tempIfcLoader=t;const i=this.IFC.loader.ifcManager.state,r=t.ifcManager;return i.wasmPath&&await r.setWasmPath(i.wasmPath),i.worker.active&&await r.useWebWorkers(!0,i.worker.path),i.webIfcSettings&&await r.applyWebIfcConfig(i.webIfcSettings),await r.parser.setupOptionalCategories(this.IFC.loader.ifcManager.parser.optionalCategories),s&&await this.overrideCoordMatrix(r,s),{loader:t,manager:r}}async overrideCoordMatrix(s,t){s.setupCoordinationMatrix(t)}async getModelsByCategory(s,t,i,r,n,o,a,l){var h;const c=[],u=Object.keys(s);for(let p=0;p<u.length;p++){const f=u[p],m=s[f];t.gltf[f]||(t.gltf[f]={});for(let I=0;I<m.length;I++){const E=await i.getAllItemsOfType(0,m[I],!1);c.push(...E)}const g={};r?n.forEach(I=>{const E=o[I];g[I]=c.filter(S=>E.ids.has(S))}):g[this.allFloors]=c;const C=Object.keys(g);for(let I=0;I<C.length;I++){const E=C[I],S=g[E];if(S.length){const x=await this.exportModelPartToGltf(a,S,!0),F=((h=o[E])===null||h===void 0?void 0:h.height)||0;t.gltf[f][E]={file:this.glTFToFile(x,"model-part.gltf"),height:F}}else t.gltf[f][E]={file:null,height:0}}l&&l(p,u==null?void 0:u.length,"GLTF"),c.length=0}}async getModelsWithoutCategories(s,t,i,r,n){if(s.gltf[this.allCategories]={},t)for(let o=0;o<i.length;o++){const a=i[o],l=Array.from(r[a].ids),h=await this.exportModelPartToGltf(n,l,!0);s.gltf[this.allCategories][a]={file:this.glTFToFile(h),height:r[a].height}}else{const o=await this.exportMeshToGltf(n);s.gltf[this.allCategories][this.allFloors]={file:this.glTFToFile(o),height:0}}}async exportIfcAsGltf(s,t){const i=this.context.items.ifcModels.find(r=>r.modelID===s);if(!i)throw new Error("The specified model does not exist!");return t?this.exportModelPartToGltf(i,t):this.exportMeshToGltf(i)}exportMeshToGltf(s){return new Promise(t=>{this.exporter.parse(s,i=>t(i),this.options)})}exportModelPartToGltf(s,t,i=!1){const r=[],n=[],o=[],a=new Map,l="temp-gltf-subset",h=i?this.tempIfcLoader:this.IFC.loader;if(!h)throw new Error("IFCLoader could not be found!");const c=h.ifcManager.createSubset({modelID:s.modelID,ids:t,removePrevious:!0,customID:l});if(!c.geometry.index)throw new Error("Geometry must be indexed!");const u=c.geometry.attributes.position,p=c.geometry.attributes.expressID,f=c.geometry.groups.filter(O=>O.count!==0),m=[],g=c.material;let C=0;f.forEach(O=>{m.push(g[O.materialIndex]),O.materialIndex=C++});let I=0;for(let O=0;O<c.geometry.index.count;O++){const R=c.geometry.index.array[O];a.has(R)||(r.push(u.array[3*R]),r.push(u.array[3*R+1]),r.push(u.array[3*R+2]),n.push(p.getX(R)),a.set(R,I++));const L=a.get(R);o.push(L)}const E=new _t,S=new Rt(Float32Array.from(r),3),x=new Rt(Uint32Array.from(n),1);E.setAttribute("position",S),E.setAttribute("expressID",x),E.setIndex(o),E.groups=f,E.computeVertexNormals(),h.ifcManager.removeSubset(s.modelID,void 0,l);const F=new Qe(E,m);return this.exportMeshToGltf(F)}glTFToFile(s,t="model.gltf"){return new File([new Blob([s])],t)}async getIDsByFloor(s){const t=await s.ifcManager.getSpatialStructure(0),i={},r=t.children[0].children[0].children,n=r.map(l=>l.expressID);this.stories.loader=s;const o=await this.stories.getAbsoluteElevation(0),a=Object.values(o);for(let l=0;l<n.length;l++){const h=r[l],c=[];this.getChildrenRecursively(h,c);const u=n[l],p=await s.ifcManager.getItemProperties(0,u),f=this.getStoreyName(p),m=a[l];i[f]={ids:new Set(c),height:m}}return i}getStoreyName(s){return s.Name?s.Name.value:s.LongName?s.LongName.value:s.GlobalId}getChildrenRecursively(s,t){const i=s.children.map(r=>r.expressID);t.push(...i),s.children.forEach(r=>{r.children.length&&this.getChildrenRecursively(r,t)})}getModelID(){const s=this.context.items.ifcModels;if(!s.length)return 0;const t=s.map(i=>i.modelID);return Math.max(...t)+1}async getGltfMesh(s){const t=await this.getMeshes(s),i=this.getGeometry(t),r=this.getMaterials(t);return this.cleanUpLoadedInformation(t),new Qe(i,r)}setupMeshAsModel(s){this.IFC.loader.ifcManager.state.models[s.modelID]={mesh:s};const t=this.context.items;t.ifcModels.push(s),t.pickableIfcModels.push(s)}cleanUpLoadedInformation(s){s.forEach(t=>{t.geometry.attributes={},t.geometry.dispose(),t.material.dispose()})}getMaterials(s){const t=this.context.getClippingPlanes();return s.map(i=>{const r=i.material;return new fl({color:r.color,transparent:r.opacity!==1,opacity:r.opacity,side:2,clippingPlanes:t})})}async getMeshes(s){const t=await this.load(s);return t.removeFromParent(),t.children[0].children.length!==0?t.children[0].children:[t.children[0]]}getGeometry(s){const t=s.length<=1?!1:s[0].geometry.attributes.position.array!==s[1].geometry.attributes.position.array,i=new _t;return t?(this.setupGeometryAttributesDraco(i,s),this.setupGeometryIndexDraco(s,i)):(this.setupGeometryAttributes(i,s),this.setupGeometryIndex(s,i)),this.setupGroups(s,i),i}setupGeometryAttributes(s,t){s.setAttribute("expressID",t[0].geometry.attributes._expressid),s.setAttribute("position",t[0].geometry.attributes.position),s.setAttribute("normal",t[0].geometry.attributes.normal)}setupGeometryAttributesDraco(s,t){let i=0,r=0;for(let l=0;l<t.length;l++){const c=t[l].geometry.attributes;i+=c._expressid.array.length,r+=c.position.array.length}const n=new Uint32Array(i),o=new Float32Array(r),a=new Float32Array(r);this.fillArray(t,"_expressid",n),this.fillArray(t,"position",o),this.fillArray(t,"normal",a),s.setAttribute("expressID",new Rt(n,1)),s.setAttribute("position",new Rt(o,3)),s.setAttribute("normal",new Rt(a,3))}fillArray(s,t,i){let r=0;for(let n=0;n<s.length;n++){const o=s[n];i.set(o.geometry.attributes[t].array,r),r+=o.geometry.attributes[t].array.length}}setupGeometryIndex(s,t){const i=s.map(n=>{const o=n.geometry.index;return o?o.array:[]}),r=[];for(let n=0;n<i.length;n++)for(let o=0;o<i[n].length;o++)r.push(i[n][o]);t.setIndex(r)}setupGroups(s,t){const i=s.map(o=>{const a=o.geometry.index;return a?a.count:0});let r=0,n=0;t.groups=i.map(o=>{const a={start:r,count:o,materialIndex:n};return n++,r+=o,a})}}var Zle={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform float h;

		varying vec2 vUv;

		void main() {

			vec4 sum = vec4( 0.0 );

			sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
			sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
			sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
			sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
			sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
			sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
			sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
			sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

			gl_FragColor = sum;

		}`};const Kle={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform float v;

		varying vec2 vUv;

		void main() {

			vec4 sum = vec4( 0.0 );

			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

			gl_FragColor = sum;

		}`};class Jle{constructor(s,t){this.shadows={},this.cameraHeight=10,this.darkness=1.2,this.opacity=1,this.resolution=512,this.amount=3.5,this.planeColor=16777215,this.shadowOffset=0,this.tempMaterial=new wi({visible:!1}),this.depthMaterial=new nm,this.context=s,this.IFC=t,this.initializeDepthMaterial()}dispose(){Object.keys(this.shadows).forEach(t=>this.deleteShadow(t)),this.shadows=null,this.tempMaterial.dispose(),this.tempMaterial=null,this.depthMaterial.dispose(),this.depthMaterial=null,this.context=null,this.IFC=null}async renderShadow(s){const t=this.context.items.ifcModels.find(i=>i.modelID===s);if(!t)throw new Error("The requested model was not found.");await this.renderShadowOfMesh(t,`${t.modelID}`)}renderShadowOfMesh(s,t=s.uuid){if(this.shadows[t])throw new Error(`There is already a shadow with ID ${t}`);const{size:i,center:r}=this.getSizeAndCenter(s),n=this.context.getScene(),o=this.createShadow(t,i);this.initializeShadow(s,o,n,r),this.createPlanes(o,i),this.bakeShadow(s,o,n),this.context.renderer.postProduction.excludedItems.add(o.root)}deleteShadow(s){const t=this.shadows[s];if(delete this.shadows[s],!t)throw new Error(`No shadow with ID ${s} was found.`);lr(t.root),lr(t.blurPlane),t.rt.dispose(),t.rtBlur.dispose()}createPlanes(s,t){const i=new tc(t.x,t.z).rotateX(Math.PI/2);this.createBasePlane(s,i),this.createBlurPlane(s,i)}initializeShadow(s,t,i,r){this.initializeRoot(s,t,i,r),this.initializeRenderTargets(t),this.initializeCamera(t)}bakeShadow(s,t,i){const r=s.parent!==null&&s.parent!==void 0;r||i.add(s);const n=i.children.filter(l=>l!==s&&l!==t.root);for(let l=n.length-1;l>=0;l--)i.remove(n[l]);const o=i.background;i.background=null,i.overrideMaterial=this.depthMaterial;const a=this.context.getRenderer();a.setRenderTarget(t.rt),a.render(i,t.camera),i.overrideMaterial=null,this.blurShadow(t,this.amount),this.blurShadow(t,this.amount*.4),a.setRenderTarget(null),i.background=o;for(let l=n.length-1;l>=0;l--)i.add(n[l]);r||s.removeFromParent()}initializeCamera(s){s.camera.rotation.x=Math.PI/2,s.root.add(s.camera)}initializeRenderTargets(s){s.rt.texture.generateMipmaps=!1,s.rtBlur.texture.generateMipmaps=!1}initializeRoot(s,t,i,r){const n=this.getLowestYCoordinate(s);t.root.position.set(r.x,n-this.shadowOffset,r.z),i.add(t.root)}createBasePlane(s,t){const i=this.createPlaneMaterial(s),r=new Qe(t,i);r.renderOrder=2,s.root.add(r),r.scale.y=-1}createBlurPlane(s,t){s.blurPlane.geometry=t,s.blurPlane.visible=!1,s.root.add(s.blurPlane)}createPlaneMaterial(s){return new wi({map:s.rt.texture,opacity:this.opacity,transparent:!0,depthWrite:!1,clippingPlanes:this.context.getClippingPlanes()})}initializeDepthMaterial(){this.depthMaterial.depthTest=!1,this.depthMaterial.depthWrite=!1;const s="gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );",t="gl_FragColor = vec4( vec3( 0.0 ), ( 1.0 - fragCoordZ ) * darkness );";this.depthMaterial.userData.darkness={value:this.darkness},this.depthMaterial.onBeforeCompile=i=>{i.uniforms.darkness=this.depthMaterial.userData.darkness,i.fragmentShader=`
						uniform float darkness;
						${i.fragmentShader.replace(s,t)}
					`}}createShadow(s,t){return this.shadows[s]={root:new gn,rt:new zs(this.resolution,this.resolution),rtBlur:new zs(this.resolution,this.resolution),blurPlane:new Qe,camera:this.createCamera(t)},this.shadows[s]}createCamera(s){return new oa(-s.x/2,s.x/2,s.z/2,-s.z/2,0,this.cameraHeight)}getSizeAndCenter(s){const t=s.geometry;if(t.computeBoundingBox(),t.boundingBox){const i=new H;t.boundingBox.getSize(i),i.x*=1.5,i.z*=1.5;const r=new H;return t.boundingBox.getCenter(r),{size:i,center:r}}throw new Error(`Bounding box could not be computed for the mesh ${s.uuid}`)}getLowestYCoordinate(s){const t=s.geometry.index,i=s.geometry.attributes.position;let r=Number.MAX_VALUE;for(let n=0;n<=t.count;n++){const o=i.getY(t.array[n]);o<r&&(r=o)}return r}blurShadow(s,t){const i=new Zs(Zle);i.depthTest=!1;const r=new Zs(Kle);r.depthTest=!1,s.blurPlane.visible=!0,s.blurPlane.material=i,s.blurPlane.material.uniforms.tDiffuse.value=s.rt.texture,i.uniforms.h.value=t*1/256;const n=this.context.getRenderer();n.setRenderTarget(s.rtBlur),n.render(s.blurPlane,s.camera),s.blurPlane.material=r,s.blurPlane.material.uniforms.tDiffuse.value=s.rtBlur.texture,r.uniforms.v.value=t*1/256,n.setRenderTarget(s.rt),n.render(s.blurPlane,s.camera),s.blurPlane.visible=!1}}class ehe{constructor(){this.drawings={},this.Drawing=null}dispose(){this.drawings=null}initializeJSDXF(s){this.Drawing=s}newDrawing(s,t="Meters"){if(this.Drawing===null)throw new Error("You must pass the dxf-writer drawing object as parameter");this.drawings[s]=new this.Drawing,this.drawings[s].setUnits(t)}drawNamedLayer(s,t,i,r,n,o="CONTINUOUS"){if(!t.plane)return;const a=t.plane.edges.edges[i];if(!a)return;const l=a.generatorGeometry.attributes.position.array;this.draw(s,l,r,n,o)}draw(s,t,i,r,n="CONTINUOUS"){const o=this.drawings[s];o.layers[i]||o.addLayer(i,r,n),o.setActiveLayer(i);for(let a=0;a<t.length-5;a+=6){const l=[t[a],-t[a+2]],h=[t[a+3],-t[a+5]];l[0]===0&&l[1]===0&&h[0]===0&&h[1]===0||o.drawLine(l[0],l[1],h[0],h[1])}}drawEdges(s,t,i,r,n="CONTINUOUS"){const o=this.drawings[s];o.layers[i]||o.addLayer(i,r,n),o.setActiveLayer(i);for(let a=0;a<t.length;a++){const l=t[a];for(let h=0;h<l.length-3;h+=2){const c=[l[h],l[h+1]],u=[l[h+2],l[h+3]];o.drawPolyline([c,u])}}}exportDXF(s){const t=this.drawings[s];if(!t)throw new Error(`There is no drawing with id: ${s}`);const i=t.toDxfString();return new Blob([i],{type:"application/dxf"})}}class the{constructor(){this.documents={},this.errorText="The specified document does not exist."}dispose(){this.documents=null}setLineWidth(s,t){this.getDocument(s).drawing.setLineWidth(t)}setColor(s,t){this.getDocument(s).drawing.setTextColor(t.r,t.g,t.b)}setScale(s,t){const i=this.getDocument(s);i.scale=t}newDocument(s,t,i=1){this.documents[s]={drawing:t,scale:i}}getScale(s,t,i){const r=s.max.x-s.min.x,n=s.max.z-s.min.z,o=Math.min(t,i),a=Math.max(r,n);return a===0||o===0?1:o/a}drawNamedLayer(s,t,i,r){if(!t.plane)return;const n=t.plane.edges.edges[i];if(!n)return;n.mesh.geometry.computeBoundingBox(),console.log(n);const o=new gs().setFromObject(n.mesh),a=n.generatorGeometry.attributes.position.array;this.draw(s,a,o),r&&this.addLabels(s,r,o)}draw(s,t,i){const r=this.getDocument(s),n=this.getScale(i,210,297),o=Math.abs(i.min.x)+1,a=Math.abs(i.min.z)+1;for(let l=0;l<t.length-5;l+=6){const h=[(t[l]+o)*n,(t[l+2]+a)*n],c=[(t[l+3]+o)*n,(t[l+5]+a)*n];h[0]===0&&h[1]===0&&c[0]===0&&c[1]===0||r.drawing.line(h[0],h[1],c[0],c[1],"S")}}addLabels(s,t,i){const r=this.getDocument(s),n=this.getScale(i,210,297),o=Math.abs(i.min.x)+1,a=Math.abs(i.min.z)+1;t.getDimensionsLines.forEach(h=>{r.drawing.text(h.text.element.textContent,(h.center.x+o)*n,(h.center.z+a)*n)})}exportPDF(s,t){this.getDocument(s).drawing.save(t)}getDocument(s){if(!this.documents[s])throw new Error(this.errorText);return this.documents[s]}}const she=new H(0,1,0),$h=1e-16,ihe=function(){const e=new H,s=new H,t=new H,i=new xs;return function(n,o,a=1){const l=[],c=Math.pow(10,4),u=Math.cos(sl.DEG2RAD*a),p=n.getIndex(),f=n.getAttribute("position"),m=p?p.count:f.count,g=[0,0,0],C=["a","b","c"],I=new Array(3),E={};for(let S=0;S<m;S+=3){p?(g[0]=p.getX(S),g[1]=p.getX(S+1),g[2]=p.getX(S+2)):(g[0]=S,g[1]=S+1,g[2]=S+2);const{a:x,b:F,c:O}=i;if(x.fromBufferAttribute(f,g[0]),F.fromBufferAttribute(f,g[1]),O.fromBufferAttribute(f,g[2]),i.getNormal(t),I[0]=`${Math.round(x.x*c)},${Math.round(x.y*c)},${Math.round(x.z*c)}`,I[1]=`${Math.round(F.x*c)},${Math.round(F.y*c)},${Math.round(F.z*c)}`,I[2]=`${Math.round(O.x*c)},${Math.round(O.y*c)},${Math.round(O.z*c)}`,!(I[0]===I[1]||I[1]===I[2]||I[2]===I[0]))for(let R=0;R<3;R++){const L=(R+1)%3,G=I[R],V=I[L],B=i[C[R]],oe=i[C[L]],$=`${G}_${V}`,Z=`${V}_${G}`;if(Z in E&&E[Z]){const te=E[Z].normal,ee=t.dot(te)<=u,J=Math.sign(o.dot(t))!==Math.sign(o.dot(te));if(ee||J){const ie=new Es;ie.start.copy(B),ie.end.copy(oe),l.push(ie)}E[Z]=null}else $ in E||(E[$]={index0:g[R],index1:g[L],normal:t.clone()})}}for(const S in E)if(E[S]){const{index0:x,index1:F}=E[S];e.fromBufferAttribute(f,x),s.fromBufferAttribute(f,F);const O=new Es;O.start.copy(e),O.end.copy(s),l.push(O)}return l}}(),rhe=function(){const e=new H,s=new H,t=new H,i=new Bi,r=new Es,n=new Es,o=new Es;return function(l,h,c=new Es){if(h.needsUpdate&&h.needsUpdate(),h.getArea()<=$h)return null;const{points:u,plane:p}=h;if(r.copy(l),r.delta(e),!(p.normal.dot(e)===0))return null;e.cross(p.normal).normalize(),i.setFromNormalAndCoplanarPoint(e,r.start);let m=0;for(let g=0;g<3;g++){const C=u[g],I=u[(g+1)%3];if(o.start.copy(C),o.end.copy(I),i.distanceToPoint(o.end)===0&&i.distanceToPoint(o.start)===0){n.copy(o),m=2;break}else if(i.intersectLine(o,m===0?n.start:n.end)){let E;if(m===0?E=n.start:E=n.end,E.distanceTo(I)===0)continue;if(m++,m===2)break}}if(m===2){if(r.delta(e).normalize(),n.delta(s).normalize(),e.dot(s)<0){const F=n.start;n.start=n.end,n.end=F}const g=r.start.dot(e),C=r.end.dot(e),I=n.start.dot(e),E=n.end.dot(e),S=C<I,x=g<E;return g!==E&&I!==C&&S===x?null:(t.subVectors(r.start,n.start),t.dot(e)>0?c.start.copy(r.start):c.start.copy(n.start),t.subVectors(r.end,n.end),t.dot(e)<0?c.end.copy(r.end):c.end.copy(n.end),c)}return null}}(),b6=function(){const e=new Es;return function(t,i,r=null){e.start.copy(i),e.end.copy(i),e.start.y+=1e5,e.end.y-=1e5,t.intersectLine(e,r)}}(),nhe=function(){const e=new H,s=new H;return function(i,r){return e.lerpVectors(r.start,r.end,.5),b6(i,e,s),s.y<e.y}}(),ohe=function(){const e=new H,s=new H(0,1,0);return function(i){return i.delta(e).normalize(),Math.abs(e.dot(s))>=1-$h}}();function F6(e){return e.needsUpdate&&e.update(),Math.abs(e.plane.normal.dot(she))<=$h}function ahe(e,s){const t=e.points;let i=0;for(let r=0;r<3;r++){const{start:n,end:o}=s,a=t[r];n.distanceToSquared(a)<=$h&&i++,o.distanceToSquared(a)<=$h&&i++}return i>=2}const lhe=function(){const e=new Es,s=new H,t=new H,i=new H,r=new Es,n=new wn;return function(a,l,h){if(r.copy(l),n.copy(a),r.start.y=0,r.end.y=0,n.a.y=0,n.b.y=0,n.c.y=0,n.needsUpdate=!0,n.update(),rhe(r,n,e)){r.delta(s),t.subVectors(e.start,r.start),i.subVectors(e.end,r.start);let c=t.length()/s.length(),u=i.length()/s.length();return c=Math.min(Math.max(c,0),1),u=Math.min(Math.max(u,0),1),Math.abs(c-u)<=$h||h.push(new Float32Array([c,u])),!0}return!1}}(),hhe=function(){const e=new H,s=new H,t=new H,i=new H;return function(n,o,a){n.needsUpdate&&n.update(),a.copy(o);const{plane:l}=n;if(F6(n)||(o.delta(e),l.normal.dot(e)===0))return!1;if(l.intersectLine(o,s)){const{start:u,end:p}=a;let f,m=!1;return u.distanceTo(s)>p.distanceTo(s)?f=u:(f=p,m=!0),t.lerpVectors(f,s,.5),b6(n.plane,t,i),i.y<t.y?m?p.copy(s):u.copy(s):m?u.copy(s):p.copy(s),!0}return!1}}(),che=function(){const e=new Es;return function(t,i,r=[]){R6(i);const n=[[0,1]];for(let o=0,a=i.length;o<a;o++){const l=n[o],h=i[o];l[1]=h[0],n.push(new Float32Array([h[1],1]))}for(let o=0,a=n.length;o<a;o++){const{start:l,end:h}=t;e.start.lerpVectors(l,h,n[o][0]),e.end.lerpVectors(l,h,n[o][1]),r.push(new Float32Array([e.start.x,e.start.y,e.start.z,e.end.x,e.end.y,e.end.z]))}return r}}();function uhe(e,s=null){const t=new Float32Array(e.length*6);let i=0;for(let o=0,a=e.length;o<a;o++){const l=e[o];t[i++]=l[0],t[i++]=s===null?l[1]:s,t[i++]=l[2],t[i++]=l[3],t[i++]=s===null?l[4]:s,t[i++]=l[5]}const r=new _t,n=new Rt(t,3,!0);return r.setAttribute("position",n),r}function R6(e){e.sort((s,t)=>s[0]-t[0]);for(let s=1;s<e.length;s++){const t=e[s],i=e[s-1];t[0]<=i[1]&&(i[1]=Math.max(i[1],t[1]),e.splice(s,1),s--)}}class phe{constructor(s){this.context=s,this.params={displayModel:"color",displayEdges:!1,displayProjection:!0,useBVH:!0,sortEdges:!0,amount:50,color:197379},this.projectedEdges=[]}dispose(){this.projectedEdges.forEach(s=>{s.geometry.dispose(),Array.isArray(s.material)?s.material.forEach(t=>t.dispose()):s.material.dispose()}),this.projectedEdges=[]}async projectEdges(s){const t=this.context.getScene(),i=new Fn(new _t,new bn({color:this.params.color}));let r=this.updateEdges(t,this.params,s,i);for(;r;)r.next().done&&(r=null);return this.projectedEdges.push(i),i}*updateEdges(s,t,i,r){s.remove(r);const n=[];i.updateWorldMatrix(!0,!0);const o=i.geometry.clone();o.applyMatrix4(i.matrixWorld);for(const m in o.attributes)m!=="position"&&o.deleteAttribute(m);n.push(o);const a=Ry(n,!1);n.length=0,o.dispose(),yield;const l=new Js(a);yield;const h=ihe(a,new H(0,1,0),50);t.sortEdges&&h.sort((m,g)=>Math.min(m.start.y,m.end.y)-Math.min(g.start.y,g.end.y)),yield,s.add(r);const c=[],u=new Es,p=new ho,f=new H;for(let m=0,g=h.length;m<g;m++){const C=h[m];if(ohe(C))continue;const I=Math.min(C.start.y,C.end.y),E=[];l.shapecast({intersectsBounds:S=>!t.useBVH||(S.min.y=Math.min(I,S.min.y),p.origin.copy(C.start),C.delta(p.direction).normalize(),S.containsPoint(p.origin))?!0:p.intersectBox(S,f)?p.origin.distanceToSquared(f)<C.distanceSq():!1,intersectsTriangle:S=>{if(Math.max(S.a.y,S.b.y,S.c.y)<I||F6(S)||ahe(S,C)||(hhe(S,C,u),nhe(S.plane,u))||u.distance()<1e-10)return!1;if(lhe(S,C,E)&&R6(E),E.length!==0){const[F,O]=E[E.length-1];return F===0&&O===1}return!1}}),che(C,E,c)}r.geometry.dispose(),r.geometry=uhe(c,0)}}class fhe{getConvexHull(s){let t=1/0,i=-1;for(let u=0,p=s.length;u<p;u++){const f=s[u];f.y<t&&(i=u,t=f.y)}const r=s[i];s[i]=s[0],s[0]=r;function n(u,p,f){const m=(p.y-u.y)*(f.x-p.x)-(p.x-u.x)*(f.y-p.y);return m===0?0:m>0?1:2}function o(u,p){return(u.x-p.x)*(u.x-p.x)+(u.y-p.y)*(u.y-p.y)}function a(u,p){const f=n(r,u,p);return f===0?o(r,p)>=o(r,u)?-1:1:f===2?-1:1}s=s.sort(a);let l=1;const h=s.length;for(let u=1;u<h;u++){for(;u<h-1&&n(r,s[u],s[u+1])===0;)u++;s[l]=s[u],l++}if(l<3)return null;const c=[s[0],s[1],s[2]];for(let u=3;u<l;u++){for(;n(c[c.length-2],c[c.length-1],s[u])!==2;)c.pop();c.push(s[u])}return c}pointRayCrossesLine(s,t,i,r){const{start:n,end:o}=t,a=s.x,l=s.y,h=n.y,c=o.y;if(h===c||l>h&&l>c||l<h&&l<c)return!1;const u=n.x,p=o.x;if(a>u&&a>p)return!1;if(a<u&&a<p)return!(l===h&&i!==r);const f=p-u,g=c-h,C=-f,I=a-u,E=l-h,S=g*I+C*E;return Math.sign(S)!==Math.sign(g)}pointRayCrossesSegments(s,t){let i=0;const r=t[t.length-1];let n=r.start.y>r.end.y;for(let o=0,a=t.length;o<a;o++){const l=t[o],h=l.start.y>l.end.y;this.pointRayCrossesLine(s,l,n,h)&&i++,n=h}return i}lineCrossesLine(s,t){function i(l,h,c){return(c.y-l.y)*(h.x-l.x)>(h.y-l.y)*(c.x-l.x)}const r=s.start,n=s.end,o=t.start,a=t.end;return i(r,o,a)!==i(n,o,a)&&i(r,n,o)!==i(r,n,a)}}class dhe{constructor(s,t){this.toScreenSpaceMatrix=s,this.lassoSegments=t,this.boxPoints=new Array(8).fill(0).map(()=>new H),this.boxLines=new Array(12).fill(0).map(()=>new Es),this.perBoundsSegments=[],this.math=new fhe,this.selectModel=!1,this.useBoundsTree=!0,this.selectionMode="intersection"}shapeCast(s,t){if(!s.geometry.boundsTree)throw new Error("Geometry must have BVH applied!");s.geometry.boundsTree.shapecast({intersectsBounds:(i,r,n,o)=>{const{min:a,max:l}=i;let h=0,c=1/0,u=-1/0,p=1/0;for(let E=0;E<=1;E++)for(let S=0;S<=1;S++)for(let x=0;x<=1;x++){const F=this.boxPoints[h];F.x=E===0?a.x:l.x,F.y=S===0?a.y:l.y,F.z=x===0?a.z:l.z,F.w=1,F.applyMatrix4(this.toScreenSpaceMatrix),h++,F.y<c&&(c=F.y),F.y>u&&(u=F.y),F.x<p&&(p=F.x)}const f=this.perBoundsSegments[o-1]||this.lassoSegments,m=this.perBoundsSegments[o]||[];m.length=0,this.perBoundsSegments[o]=m;for(let E=0,S=f.length;E<S;E++){const x=f[E],F=x.start.x,O=x.start.y,R=x.end.x,L=x.end.y;if(F<p&&R<p)continue;const G=O>u,V=L>u;if(G&&V)continue;const B=O<c,oe=L<c;B&&oe||m.push(x)}if(m.length===0)return yg;const g=this.math.getConvexHull(this.boxPoints);if(!g)return yg;const C=g.map((E,S)=>{const x=g[(S+1)%g.length],F=this.boxLines[S];return F.start.copy(E),F.end.copy(x),F});if(this.math.pointRayCrossesSegments(m[0].start,C)%2===1)return Ig;let I=0;for(let E=0,S=g.length;E<S;E++){const x=g[E],F=this.math.pointRayCrossesSegments(x,m);if(E===0&&(I=F),I!==F)return Ig}for(let E=0,S=C.length;E<S;E++){const x=C[E];for(let F=0,O=m.length;F<O;F++)if(this.math.lineCrossesLine(x,m[F]))return Ig}return I%2===0?yg:wy},intersectsTriangle:(i,r,n,o)=>{const a=r*3,l=a,h=a+1,c=a+2;if(n)return t.push(l,h,c),this.selectModel;const u=this.useBoundsTree?this.perBoundsSegments[o]:this.lassoSegments;if(this.selectionMode==="centroid"){const p=i.a.add(i.b).add(i.c).multiplyScalar(.3333333333333333);if(p.applyMatrix4(this.toScreenSpaceMatrix),this.math.pointRayCrossesSegments(p,u)%2===1)return t.push(l,h,c),this.selectModel}else if(this.selectionMode==="intersection"){const p=[i.a,i.b,i.c];for(let m=0;m<3;m++){const g=p[m];if(g.applyMatrix4(this.toScreenSpaceMatrix),this.math.pointRayCrossesSegments(g,u)%2===1)return t.push(l,h,c),this.selectModel}const f=[this.boxLines[0],this.boxLines[1],this.boxLines[2]];f[0].start.copy(i.a),f[0].end.copy(i.b),f[1].start.copy(i.b),f[1].end.copy(i.c),f[2].start.copy(i.c),f[2].end.copy(i.a);for(let m=0;m<3;m++){const g=f[m];for(let C=0,I=u.length;C<I;C++)if(this.math.lineCrossesLine(g,u[C]))return t.push(l,h,c),this.selectModel}}return!1}})}}var wu;(function(e){e[e.lasso=0]="lasso",e[e.box=1]="box"})(wu||(wu={}));class mhe{constructor(s){this.context=s,this.toolMode=wu.box,this.selectionShape=new Ai,this.dragging=!1,this.selectionPoints=[],this.selectionShapeNeedsUpdate=!1,this.selectionNeedsUpdate=!1,this.startX=-1/0,this.startY=-1/0,this.prevX=-1/0,this.prevY=-1/0,this.tempVec0=new Re,this.tempVec1=new Re,this.tempVec2=new Re,this.toScreenSpaceMatrix=new rt,this.lassoSegments=[],this.caster=new dhe(this.toScreenSpaceMatrix,this.lassoSegments),this.setupSelectionShape(),this.updateAll()}setupSelectionShape(){this.selectionShape=new Ai;const s=this.selectionShape.material;s.depthTest=!1,s.color.set(16750592).convertSRGBToLinear(),this.selectionShape.renderOrder=1,this.selectionShape.position.z=-.2,this.selectionShape.scale.setScalar(1),this.selectionShape.frustumCulled=!1,this.context.getCamera().add(this.selectionShape)}onDragStarted(){this.prevX=this.context.mouse.rawPosition.x,this.prevY=this.context.mouse.rawPosition.y,this.startX=this.context.mouse.position.x,this.startY=this.context.mouse.position.y,this.selectionPoints.length=0,this.dragging=!0;const s=this.context.getCamera();if(s.parent||this.context.getScene().add(s),s instanceof ui){const i=Math.tan(sl.DEG2RAD*s.fov/2)*this.selectionShape.position.z;this.selectionShape.scale.set(-i*s.aspect,-i,1)}}onDragFinished(){this.dragging=!1,this.selectionShape.visible=!1,this.selectionPoints.length&&(this.selectionNeedsUpdate=!0),this.updateAll()}onDrag(){if(!this.dragging)return;const s=this.context.mouse.rawPosition.x,t=this.context.mouse.rawPosition.y,i=this.context.mouse.position.x,r=this.context.mouse.position.y;if(this.toolMode===wu.box)this.selectionPoints.length=3*5,this.selectionPoints[0]=this.startX,this.selectionPoints[1]=this.startY,this.selectionPoints[2]=0,this.selectionPoints[3]=i,this.selectionPoints[4]=this.startY,this.selectionPoints[5]=0,this.selectionPoints[6]=i,this.selectionPoints[7]=r,this.selectionPoints[8]=0,this.selectionPoints[9]=this.startX,this.selectionPoints[10]=r,this.selectionPoints[11]=0,this.selectionPoints[12]=this.startX,this.selectionPoints[13]=this.startY,this.selectionPoints[14]=0,(s!==this.prevX||t!==this.prevY)&&(this.selectionShapeNeedsUpdate=!0),this.prevX=s,this.prevY=t,this.selectionShape.visible=!0;else if(Math.abs(s-this.prevX)>=3||Math.abs(t-this.prevY)>=3){const a=(this.selectionPoints.length/3-1)*3;let l=!1;this.selectionPoints.length>3&&(this.tempVec0.set(this.selectionPoints[a-3],this.selectionPoints[a-3+1]),this.tempVec1.set(this.selectionPoints[a],this.selectionPoints[a+1]),this.tempVec1.sub(this.tempVec0).normalize(),this.tempVec0.set(this.selectionPoints[a],this.selectionPoints[a+1]),this.tempVec2.set(i,r),this.tempVec2.sub(this.tempVec0).normalize(),l=this.tempVec1.dot(this.tempVec2)>.99),l?(this.selectionPoints[a]=i,this.selectionPoints[a+1]=r):this.selectionPoints.push(i,r,0),this.selectionShapeNeedsUpdate=!0,this.selectionShape.visible=!0,this.prevX=s,this.prevY=t}this.updateSelectionLasso()}updateSelectionLasso(){if(this.selectionShapeNeedsUpdate){if(this.toolMode===wu.lasso){const s=this.selectionPoints.length;this.selectionPoints.push(this.selectionPoints[0],this.selectionPoints[1],this.selectionPoints[2]),this.selectionShape.geometry.setAttribute("position",new wt(this.selectionPoints,3,!1)),this.selectionPoints.length=s}else this.selectionShape.geometry.setAttribute("position",new wt(this.selectionPoints,3,!1));this.selectionShapeNeedsUpdate=!1}}updateAll(){this.context.items.pickableIfcModels.forEach(t=>{this.update(t)}),this.selectionNeedsUpdate=!1}update(s){this.selectionNeedsUpdate&&this.selectionPoints.length>0&&this.updateSelection(s)}updateSelection(s){const t=this.context.getCamera();for(this.toScreenSpaceMatrix.copy(s.matrixWorld).premultiply(t.matrixWorldInverse).premultiply(t.projectionMatrix);this.lassoSegments.length<this.selectionPoints.length;)this.lassoSegments.push(new Es);this.lassoSegments.length=this.selectionPoints.length;for(let r=0,n=this.selectionPoints.length;r<n;r+=3){const o=this.lassoSegments[r],a=(r+3)%n;o.start.x=this.selectionPoints[r],o.start.y=this.selectionPoints[r+1],o.end.x=this.selectionPoints[a],o.end.y=this.selectionPoints[a+1]}const i=[];this.caster.shapeCast(s,i),this.onSelected&&this.onSelected(s,i)}}class The{constructor(s){if(this.addClippingPlane=()=>{this.clipper.createPlane()},this.removeClippingPlane=()=>{this.clipper.deletePlane()},this.toggleClippingPlanes=()=>{this.clipper.toggle()},this.prePickIfcItem=()=>{this.IFC.selector.prePickIfcItem()},this.pickIfcItem=()=>this.IFC.selector.pickIfcItem(),this.pickIfcItemsByID=(t,i)=>{this.IFC.selector.pickIfcItemsByID(t,i)},!s.container)throw new Error("Could not get container element!");this.context=new ale(s),this.IFC=new _oe(this.context),this.grid=new gne(this.context),this.axes=new yne(this.context),this.clipper=new fne(this.context,this.IFC),this.plans=new Tne(this.IFC,this.context,this.clipper),this.filler=new dne(this.IFC,this.context),this.dimensions=new Ed(this.context),this.edges=new vd(this.context),this.shadowDropper=new Jle(this.context,this.IFC),this.edgesProjector=new phe(this.context),this.dxf=new ehe,this.pdf=new the,this.GLTF=new $le(this.context,this.IFC),this.dropbox=new woe(this.context,this.IFC),this.selectionWindow=new mhe(this.context),Tt.ifc=this.IFC,Tt.context=this.context}openDropboxWindow(){this.dropbox.loadDropboxIfc()}async loadIfc(s,t=!1){await this.IFC.loadIfc(s,t)}addGrid(s,t,i,r){this.grid.setGrid(s,t,i,r)}addAxes(s){this.axes.setAxes(s)}async loadIfcUrl(s,t=!1){await this.IFC.loadIfcUrl(s,t)}setWasmPath(s){this.IFC.setWasmPath(s)}getSpatialStructure(s){return this.IFC.getSpatialStructure(s)}getProperties(s,t,i){return this.IFC.getProperties(s,t,i)}getModelID(){return this.IFC.getModelID()}getAllItemsOfType(s,t,i=!1){return this.IFC.getAllItemsOfType(s,t,i)}async dispose(){this.grid.dispose(),this.grid=null,this.axes.dispose(),this.axes=null,this.context.dispose(),this.context=null,this.clipper.dispose(),this.clipper=null,this.plans.dispose(),this.plans=null,this.filler.dispose(),this.filler=null,this.dimensions.dispose(),this.dimensions=null,this.edges.dispose(),this.edges=null,this.shadowDropper.dispose(),this.shadowDropper=null,this.dxf.dispose(),this.dxf=null,this.pdf.dispose(),this.pdf=null,this.edgesProjector.dispose(),this.edgesProjector=null,this.dropbox=null,this.GLTF.dispose(),this.GLTF=null,await this.IFC.dispose(),this.IFC=null}}function jg(e,s){return{AND:e.filter(t=>s.includes(t)),OR:[...new Set([...e,...s])]}}function ghe(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Bf(e,s){return s.forEach(t=>{const i=document.createElement("option");i.text=t,i.value=t,e.append(i)}),e}class yhe{constructor(s,t){this.container=s,this.viewer=t}search(s=0,t=this.getQueryString()){if(t=="")return;const i=this.viewer.context.items.ifcModels[s];let r={};r[s]=[];try{const o=t.split(/\(([^)]+)\)/),a=[],l=["OR"];o.forEach((h,c)=>{h!==""&&(c%2==0?l.push(h.replace(/\s+/g,"")):a.push(h))}),a.forEach((h,c)=>{let u=[];const p=h.split(/\[([^\]]+)\]/),f=[],m=["OR"];p.forEach((g,C)=>{g!==""&&(C%2==0?m.push(g.replace(/\s+/g,"")):f.push(g))}),f.forEach((g,C)=>{const I=g.split("'"),E=I[1],S=I[2].replace(/\s+/g,""),x=I[3],F=i.modelData[E].values;let O=[];for(const R in F)Ihe(R,S,x)!==!1&&(O=jg(O,F[R]).OR);u=jg(u,O)[m[C]]}),r[s]=jg(r[s],u)[l[c]]})}catch(o){return console.log(o),r}const n=this.viewer.IFC.selector.selection;return n.ids!=null&&(n.ids[s]=r),r}searchAll(s=this.getQueryString(),t=()=>{},i=()=>{}){const r={},n=[];return this.viewer.context.items.ifcModels.forEach(a=>{const l=a.modelID,h=this.search(l,s)[l];h.length!=0&&(r[l]=h,r[l].forEach(c=>{n.push(c)}))}),n.length!==0?t(r):i(),r}getQueryString(){let s="";const t={queryEvaluation:i=>{let r="";const n=i.parentElement.getAttribute("data-queryComponent");r+=n=="queryGroup"?"[":"([";const o=i.querySelector("[data-queryComponent='queryProperty']"),a=i.querySelector("[data-queryComponent='queryCondition']"),l=i.querySelector("[data-queryComponent='queryValue']");r+=`'${o.value}' ${a.value} '${l.value}'`,r+=n=="queryGroup"?"]":"])",s+=r},queryGroup:i=>{s+="(",Array.from(i.children).forEach(n=>{n.getAttribute("data-queryComponent")!==null&&t[n.getAttribute("data-queryComponent")](n)}),s+=")"},queryOperator:i=>{s+=` ${i.value} `}};return t.queryGroup(this.container),s.replace(/\(\(+/g,"(").replace(/\)\)+/g,")")}getUniqueProperties(){const s=this.viewer.context.items.ifcModels,t=[];for(const i in s){const r=s[i];Object.keys(r.modelData).forEach(o=>{t.indexOf(o)==-1&&t.push(o)})}return t.sort()}createGroup(){const s=document.createElement("div");s.className="queryGroup",s.setAttribute("data-queryComponent","queryGroup"),this.container.append(s);const t=document.createElement("button");return t.style.height="40px",t.innerHTML="Add Rule",s.append(t),t.addEventListener("click",()=>{Array.from(s.children).length>1&&this.createOperator(s),this.createEvaluator(s)}),this.createEvaluator(s),s}createEvaluator(s=this.container){const t=this.viewer.context.items.ifcModels,i=this.getUniqueProperties(),r=document.createElement("div");r.className="queryEvaluation",r.setAttribute("data-queryComponent","queryEvaluation"),s.append(r);const n=document.createElement("datalist");n.setAttribute("data-queryComponent","queryPossibleValues");const o=Math.random().toString(36).slice(2);n.id=o;const a=document.createElement("select");Bf(a,i),a.style.width="100%",a.setAttribute("data-queryComponent","queryProperty"),a.addEventListener("change",()=>{queryField.value=this.getQueryString(),ghe(n),Bf(n,Object.keys(t[0].modelData[a.value].values))});const l=document.createElement("select");l.style.width="100px",l.setAttribute("data-queryComponent","queryCondition"),Bf(l,Object.keys(P6)),l.addEventListener("change",()=>{queryField.value=this.getQueryString()});const h=document.createElement("input");return h.style.width="100%",h.setAttribute("data-queryComponent","queryValue"),h.setAttribute("list",o),h.addEventListener("keyup",()=>{queryField.value=this.getQueryString()}),r.append(n,a,l,h),r}createOperator(s=this.container){const t=document.createElement("select");return t.setAttribute("data-queryComponent","queryOperator"),t.style.height="40px",Bf(t,["AND","OR"]),s.append(t),t}queryStringUI(s){}}const P6={"=":function(s,t){return s==t},"!=":function(s,t){return s!=t},".":function(s,t){return s.includes(t)},"!.":function(s,t){return!s.includes(t)},">":function(s,t){return s>t},">=":function(s,t){return s>=t},"<":function(s,t){return s<t},"<=":function(s,t){return s<=t},sw:function(s,t){return s.startsWith(t)},exists:function(){return!0}};function Ihe(e,s,t){return e=isNaN(e)?e:Number(e),t=isNaN(t)?t:Number(t),P6[s](e,t)}const Tm=(e,s)=>{const t=e.__vccOpts||e;for(const[i,r]of s)t[i]=r;return t},An=e=>(Wd("data-v-c6b9004f"),e=e(),Yd(),e),Ehe={key:0,id:"loading"},vhe=An(()=>ut("i",{class:"fa-solid fa-spinner"},null,-1)),Che=bw(" Loading the best experience for you "),_he=[vhe,Che],whe={key:0,id:"viewerControls"},She=An(()=>ut("button",null,[ut("i",{class:"fa-solid fa-arrow-pointer"})],-1)),xhe=An(()=>ut("button",null,[ut("i",{class:"fa-regular fa-square"})],-1)),bhe=An(()=>ut("button",null,[ut("i",{class:"fa-solid fa-scissors"})],-1)),Fhe=An(()=>ut("i",{class:"fa-solid fa-magnifying-glass"},null,-1)),Rhe=[Fhe],Phe=An(()=>ut("button",null,[ut("i",{class:"fa-solid fa-crop-simple"})],-1)),Ahe=An(()=>ut("button",null,[ut("i",{class:"fa-solid fa-eye-slash"})],-1)),Ohe=An(()=>ut("button",null,[ut("i",{class:"fa-solid fa-arrows-to-eye"})],-1)),Dhe=An(()=>ut("button",null,[ut("i",{class:"fa-solid fa-paint-roller"})],-1)),Mhe=An(()=>ut("i",{class:"fa-solid fa-ghost"},null,-1)),Nhe=[Mhe],Lhe={__name:"Viewer",emits:["viewerLoaded","modelLoaded","elementClicked","noSelection"],setup(e,{emit:s}){const t=Ps(),i=Ps(),r=Ps(!1),n=Ps(!1);Ps();const o=Ps(!1);function a(){o.value=!o.value,o.value?viewer.IFC.selector.fadeAwayModels():viewer.IFC.selector.unHighlightIfcItems()}function l(){viewer.queryEditor.searchAll("(['Marca' = 'M-19'])",h=>{for(const c in h)i.value.IFC.selector.selection.pickByID(c,h[c],!0)})}return new fl({transparent:!0,opacity:.8,color:"LightCoral",depthTest:!0}),Qd(async()=>{i.value=new The({container:t.value});const h=window.viewer=i.value;h.IFC.applyWebIfcConfig({USE_FAST_BOOLS:!0});const c=h.IFC.loader.ifcManager,u=h.context.items.ifcModels;await c.setWasmPath("wasm/");const p=h.IFC.selector.selection;p.ids={},h.IFC.selector.defSelectMat.color=new it("Gold"),h.IFC.selector.defSelectMat.transparent=!0,h.IFC.selector.defSelectMat.opacity=.5,h.IFC.selector.defSelectMat.depthTest=!0,h.IFC.selector.defHighlightMat.opacity=.008;const f=h.context.getScene(),m=h.context.ifcCaster.raycaster,g=h.context.getRenderer();m.firstHitOnly=!0;const C=g.domElement,I=h.context.getCamera(),E=h.context.ifcCamera;E.cameraControls.dampingFactor=.3,E.cameraControls.draggingDampingFactor=.5;const S=h.context.mouse.position,x=new bn({color:"Black"});x.transparent=!0,x.opacity=.4;function F(B){const oe=new FS(B.geometry),$=new Fn(oe,x);$.name="ElementEdges",B.add($)}async function O(B,oe=!1){const $=await h.IFC.loader.loadAsync(B);u.push($),f.add($),p.ids[$.modelID]=[],$.modelData={},$.modelElements={},$.serializedProperties={},F($),h.context.fitToFrame(),oe&&await V($.modelID),n.value=!0,s("modelLoaded")}h.queryEditor=new yhe(void 0,h),r.value=!0,s("viewerLoaded",h),await O("/IFC Files/HNS-BPY-ZZZ-ZZZ-M3D-ARQ.ifc",!0);let[R,L]=[!1,!1];function G(B){if(R=!1,B.button!=0||L){L=!1;return}L=!1,m.setFromCamera(S,I);const oe=m.intersectObjects(u,!1)[0];if(oe==null){Object.keys(p.ids).forEach(ee=>{p.ids[ee]=[],c.subsets.removeSubset(ee,p.material),s("noSelection")});return}const $=oe.object.modelID,Z=c.getExpressId(oe.object.geometry,oe.faceIndex);s("elementClicked",$,Z);let te=p.ids[$];if(B.ctrlKey){if(te.indexOf(Z)!=-1){te=te.filter(ee=>ee!=Z),p.ids[$]=te,p.pickByID($,te,!1,!0);return}te.push(Z),p.ids[$]=te,p.pickByID($,te,!1,!0);return}Object.keys(p.ids).forEach(ee=>{p.ids[ee]=[],c.subsets.removeSubset(ee,p.material)}),te=[],te.push(Z),p.ids[$]=te,p.pickByID($,te,!1,!0)}C.addEventListener("mousedown",()=>{R=!0}),C.addEventListener("mousemove",()=>{L||(L=!0,R==!1&&(L=!1))}),C.addEventListener("mouseup",G);async function V(B=0,oe=()=>{}){if(u.length==0)return;const $=u[B],te=await(await h.IFC.properties.serializeAllProperties($))[0].text(),ee=JSON.parse(te),J=u[B].modelElements={},ie=u[B].modelData={};function re(Te,Ce,Ue,ye){Ue===""&&(Ue="---"),Ce in ie||(ie[Ce]={elements:[],values:{}});const Be=ie[Ce].elements,Ze=ie[Ce].values;Ue in Ze||(Ze[Ue]=[]),Te in Be||(Be.push(Te),Ze[Ue].push(Te)),Te in J||(J[Te]={}),J[Te][Ce]={value:Ue,group:ye}}const ae={IFCELEMENTQUANTITY:(Te,Ce)=>{Te.Quantities.forEach(Ue=>{const ye=ee[Ue];let Be=ye.type.replace(/IFCQUANTITY/,"").toLowerCase();Be=Be.charAt(0).toUpperCase()+Be.slice(1);const Ze=ye.Name,ke=ye[`${Be+"Value"}`];Ce.forEach(Ne=>{re(Ne,Ze,ke,Te.Name)})})},IFCPROPERTYSET:(Te,Ce)=>{Te.HasProperties.forEach(Ue=>{const ye=ee[Ue];ye.NominalValue!=null&&Ce.forEach(Be=>{re(Be,ye.Name,ye.NominalValue,Te.Name)})})},IFCMATERIALLAYERSETUSAGE:(Te,Ce)=>{ee[Te.ForLayerSet].MaterialLayers.forEach(ye=>{const Be=ee[ye].Material,Ze=ee[Be];Ce.forEach(ke=>{re(ke,"IfcMaterial",Ze.Name,"My Materials")})})}};function le(Te){return Object.values(ee).find(Ce=>Ce.type===Te)}const me=le("IFCBUILDING");for(const Te in ee){const Ce=ee[Te];if(Ce.type!=null){if(Ce.type==="IFCRELASSOCIATESMATERIAL"){const Ue=Ce.RelatedObjects,ye=ee[Ce.RelatingMaterial];if(ye.type!=="IFCMATERIALLAYERSETUSAGE")continue;ae[ye.type](ye,Ue)}if(Ce.type==="IFCRELDEFINESBYTYPE"){const Ue=ee[Ce.RelatingType];Ce.RelatedObjects.forEach(ye=>{re(ye,"IfcTypeName",Ue.Name,"Type Data")})}if(Ce.type==="IFCRELCONTAINEDINSPATIALSTRUCTURE"){const Ue=ee[Ce.RelatingStructure];Ce.RelatedElements.forEach(ye=>{re(ye,"Storey Name",Ue.Name,"Location"),re(ye,"Storey Long Name",Ue.LongName,"Location"),re(ye,"Storey Elevation",Ue.Elevation,"Location")})}if(Ce.type==="IFCRELDEFINESBYPROPERTIES"){const Ue=Ce.RelatedObjects,ye=ee[Ce.RelatingPropertyDefinition];ae[ye.type](ye,Ue);const Be={Name:"Name",ObjectType:"ObjectType",PredefinedType:"PredefinedType",Tag:"Tag",GlobalId:"GlobalId",type:"IfcEntity"};Ue.forEach(Ze=>{for(const ke in Be)!ee[Ze][ke]||(re(Ze,Be[ke],ee[Ze][ke],"Basic Data"),re(Ze,"Building Name",me.Name,"Building Data"),re(Ze,"Building Long Name",me.LongName,"Building Data"))})}}}}}),(h,c)=>(fi(),Vi(vi,null,[n.value?fu("",!0):(fi(),Vi("div",Ehe,_he)),ut("div",{id:"viewerContainer",ref_key:"viewerContainer",ref:t},[n.value?(fi(),Vi("div",whe,[She,xhe,bhe,ut("button",{onClick:l},Rhe),Phe,Ahe,Ohe,Dhe,ut("button",{onClick:a,class:Nh(o.value?"active":"")},Nhe,2)])):fu("",!0)],512)],64))}},Uhe=Tm(Lhe,[["__scopeId","data-v-c6b9004f"]]);var A6={exports:{}};(function(e,s){(function(t,i){e.exports=i()})(typeof self<"u"?self:V6,function(){return function(t){var i={};function r(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=i,r.d=function(n,o,a){r.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:a})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,o){if(1&o&&(n=r(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var l in n)r.d(a,l,function(h){return n[h]}.bind(null,l));return a},r.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(o,"a",o),o},r.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},r.p="",r(r.s=0)}([function(t,i,r){r.r(i),r.d(i,"default",function(){return n});class n{constructor(a,l=null,h=null){this.events={},this.container=a,this.precanvas=null,this.nodeId=1,this.ele_selected=null,this.node_selected=null,this.drag=!1,this.reroute=!1,this.reroute_fix_curvature=!1,this.curvature=.5,this.reroute_curvature_start_end=.5,this.reroute_curvature=.5,this.reroute_width=6,this.drag_point=!1,this.editor_selected=!1,this.connection=!1,this.connection_ele=null,this.connection_selected=null,this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_x_start=0,this.pos_y=0,this.pos_y_start=0,this.mouse_x=0,this.mouse_y=0,this.line_path=5,this.first_click=null,this.force_first_input=!1,this.draggable_inputs=!0,this.useuuid=!1,this.parent=h,this.noderegister={},this.render=l,this.drawflow={drawflow:{Home:{data:{}}}},this.module="Home",this.editor_mode="edit",this.zoom=1,this.zoom_max=1.6,this.zoom_min=.5,this.zoom_value=.1,this.zoom_last_value=1,this.evCache=new Array,this.prevDiff=-1}start(){this.container.classList.add("parent-drawflow"),this.container.tabIndex=0,this.precanvas=document.createElement("div"),this.precanvas.classList.add("drawflow"),this.container.appendChild(this.precanvas),this.container.addEventListener("mouseup",this.dragEnd.bind(this)),this.container.addEventListener("mousemove",this.position.bind(this)),this.container.addEventListener("mousedown",this.click.bind(this)),this.container.addEventListener("touchend",this.dragEnd.bind(this)),this.container.addEventListener("touchmove",this.position.bind(this)),this.container.addEventListener("touchstart",this.click.bind(this)),this.container.addEventListener("contextmenu",this.contextmenu.bind(this)),this.container.addEventListener("keydown",this.key.bind(this)),this.container.addEventListener("wheel",this.zoom_enter.bind(this)),this.container.addEventListener("input",this.updateNodeValue.bind(this)),this.container.addEventListener("dblclick",this.dblclick.bind(this)),this.container.onpointerdown=this.pointerdown_handler.bind(this),this.container.onpointermove=this.pointermove_handler.bind(this),this.container.onpointerup=this.pointerup_handler.bind(this),this.container.onpointercancel=this.pointerup_handler.bind(this),this.container.onpointerout=this.pointerup_handler.bind(this),this.container.onpointerleave=this.pointerup_handler.bind(this),this.load()}pointerdown_handler(a){this.evCache.push(a)}pointermove_handler(a){for(var l=0;l<this.evCache.length;l++)if(a.pointerId==this.evCache[l].pointerId){this.evCache[l]=a;break}if(this.evCache.length==2){var h=Math.abs(this.evCache[0].clientX-this.evCache[1].clientX);this.prevDiff>100&&(h>this.prevDiff&&this.zoom_in(),h<this.prevDiff&&this.zoom_out()),this.prevDiff=h}}pointerup_handler(a){this.remove_event(a),this.evCache.length<2&&(this.prevDiff=-1)}remove_event(a){for(var l=0;l<this.evCache.length;l++)if(this.evCache[l].pointerId==a.pointerId){this.evCache.splice(l,1);break}}load(){for(var a in this.drawflow.drawflow[this.module].data)this.addNodeImport(this.drawflow.drawflow[this.module].data[a],this.precanvas);if(this.reroute)for(var a in this.drawflow.drawflow[this.module].data)this.addRerouteImport(this.drawflow.drawflow[this.module].data[a]);for(var a in this.drawflow.drawflow[this.module].data)this.updateConnectionNodes("node-"+a);const l=this.drawflow.drawflow;let h=1;Object.keys(l).map(function(c,u){Object.keys(l[c].data).map(function(p,f){parseInt(p)>=h&&(h=parseInt(p)+1)})}),this.nodeId=h}removeReouteConnectionSelected(){this.dispatch("connectionUnselected",!0),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach((a,l)=>{a.classList.remove("selected")})}click(a){if(this.dispatch("click",a),this.editor_mode==="fixed"){if(a.preventDefault(),a.target.classList[0]!=="parent-drawflow"&&a.target.classList[0]!=="drawflow")return!1;this.ele_selected=a.target.closest(".parent-drawflow")}else this.editor_mode==="view"?(a.target.closest(".drawflow")!=null||a.target.matches(".parent-drawflow"))&&(this.ele_selected=a.target.closest(".parent-drawflow"),a.preventDefault()):(this.first_click=a.target,this.ele_selected=a.target,a.button===0&&this.contextmenuDel(),a.target.closest(".drawflow_content_node")!=null&&(this.ele_selected=a.target.closest(".drawflow_content_node").parentElement));switch(this.ele_selected.classList[0]){case"drawflow-node":this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected!=this.ele_selected&&this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.node_selected!=this.ele_selected&&this.dispatch("nodeSelected",this.ele_selected.id.slice(5)),this.node_selected=this.ele_selected,this.node_selected.classList.add("selected"),this.draggable_inputs?a.target.tagName!=="SELECT"&&(this.drag=!0):a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.target.tagName!=="SELECT"&&a.target.hasAttribute("contenteditable")!==!0&&(this.drag=!0);break;case"output":this.connection=!0,this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.drawConnection(a.target);break;case"parent-drawflow":case"drawflow":this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.editor_selected=!0;break;case"main-path":this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.connection_selected=this.ele_selected,this.connection_selected.classList.add("selected");const l=this.connection_selected.parentElement.classList;l.length>1&&(this.dispatch("connectionSelected",{output_id:l[2].slice(14),input_id:l[1].slice(13),output_class:l[3],input_class:l[4]}),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach((h,c)=>{h.classList.add("selected")}));break;case"point":this.drag_point=!0,this.ele_selected.classList.add("selected");break;case"drawflow-delete":this.node_selected&&this.removeNodeId(this.node_selected.id),this.connection_selected&&this.removeConnection(),this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null)}a.type==="touchstart"?(this.pos_x=a.touches[0].clientX,this.pos_x_start=a.touches[0].clientX,this.pos_y=a.touches[0].clientY,this.pos_y_start=a.touches[0].clientY,this.mouse_x=a.touches[0].clientX,this.mouse_y=a.touches[0].clientY):(this.pos_x=a.clientX,this.pos_x_start=a.clientX,this.pos_y=a.clientY,this.pos_y_start=a.clientY),["input","output","main-path"].includes(this.ele_selected.classList[0])&&a.preventDefault(),this.dispatch("clickEnd",a)}position(a){if(a.type==="touchmove")var l=a.touches[0].clientX,h=a.touches[0].clientY;else l=a.clientX,h=a.clientY;if(this.connection&&this.updateConnection(l,h),this.editor_selected&&(c=this.canvas_x+-(this.pos_x-l),u=this.canvas_y+-(this.pos_y-h),this.dispatch("translate",{x:c,y:u}),this.precanvas.style.transform="translate("+c+"px, "+u+"px) scale("+this.zoom+")"),this.drag){a.preventDefault();var c=(this.pos_x-l)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),u=(this.pos_y-h)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom);this.pos_x=l,this.pos_y=h,this.ele_selected.style.top=this.ele_selected.offsetTop-u+"px",this.ele_selected.style.left=this.ele_selected.offsetLeft-c+"px",this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_x=this.ele_selected.offsetLeft-c,this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_y=this.ele_selected.offsetTop-u,this.updateConnectionNodes(this.ele_selected.id)}if(this.drag_point){c=(this.pos_x-l)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),u=(this.pos_y-h)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom),this.pos_x=l,this.pos_y=h;var p=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),f=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));this.ele_selected.setAttributeNS(null,"cx",p),this.ele_selected.setAttributeNS(null,"cy",f);const m=this.ele_selected.parentElement.classList[2].slice(9),g=this.ele_selected.parentElement.classList[1].slice(13),C=this.ele_selected.parentElement.classList[3],I=this.ele_selected.parentElement.classList[4];let E=Array.from(this.ele_selected.parentElement.children).indexOf(this.ele_selected)-1;this.reroute_fix_curvature&&(E-=this.ele_selected.parentElement.querySelectorAll(".main-path").length-1,E<0&&(E=0));const S=m.slice(5),x=this.drawflow.drawflow[this.module].data[S].outputs[C].connections.findIndex(function(O,R){return O.node===g&&O.output===I});this.drawflow.drawflow[this.module].data[S].outputs[C].connections[x].points[E]={pos_x:p,pos_y:f};const F=this.ele_selected.parentElement.classList[2].slice(9);this.updateConnectionNodes(F)}a.type==="touchmove"&&(this.mouse_x=l,this.mouse_y=h),this.dispatch("mouseMove",{x:l,y:h})}dragEnd(a){if(a.type==="touchend")var l=this.mouse_x,h=this.mouse_y,c=document.elementFromPoint(l,h);else l=a.clientX,h=a.clientY,c=a.target;if(this.drag&&(this.pos_x_start==l&&this.pos_y_start==h||this.dispatch("nodeMoved",this.ele_selected.id.slice(5))),this.drag_point&&(this.ele_selected.classList.remove("selected"),this.pos_x_start==l&&this.pos_y_start==h||this.dispatch("rerouteMoved",this.ele_selected.parentElement.classList[2].slice(14))),this.editor_selected&&(this.canvas_x=this.canvas_x+-(this.pos_x-l),this.canvas_y=this.canvas_y+-(this.pos_y-h),this.editor_selected=!1),this.connection===!0)if(c.classList[0]==="input"||this.force_first_input&&(c.closest(".drawflow_content_node")!=null||c.classList[0]==="drawflow-node")){if(!this.force_first_input||c.closest(".drawflow_content_node")==null&&c.classList[0]!=="drawflow-node")u=c.parentElement.parentElement.id,p=c.classList[1];else{if(c.closest(".drawflow_content_node")!=null)var u=c.closest(".drawflow_content_node").parentElement.id;else var u=c.id;if(Object.keys(this.getNodeFromId(u.slice(5)).inputs).length===0)var p=!1;else var p="input_1"}var f=this.ele_selected.parentElement.parentElement.id,m=this.ele_selected.classList[1];if(f!==u&&p!==!1){if(this.container.querySelectorAll(".connection.node_in_"+u+".node_out_"+f+"."+m+"."+p).length===0){this.connection_ele.classList.add("node_in_"+u),this.connection_ele.classList.add("node_out_"+f),this.connection_ele.classList.add(m),this.connection_ele.classList.add(p);var g=u.slice(5),C=f.slice(5);this.drawflow.drawflow[this.module].data[C].outputs[m].connections.push({node:g,output:p}),this.drawflow.drawflow[this.module].data[g].inputs[p].connections.push({node:C,input:m}),this.updateConnectionNodes("node-"+C),this.updateConnectionNodes("node-"+g),this.dispatch("connectionCreated",{output_id:C,input_id:g,output_class:m,input_class:p})}else this.dispatch("connectionCancel",!0),this.connection_ele.remove();this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null;this.drag=!1,this.drag_point=!1,this.connection=!1,this.ele_selected=null,this.editor_selected=!1,this.dispatch("mouseUp",a)}contextmenu(a){if(this.dispatch("contextmenu",a),a.preventDefault(),this.editor_mode==="fixed"||this.editor_mode==="view")return!1;if(this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove(),this.node_selected||this.connection_selected){var l=document.createElement("div");l.classList.add("drawflow-delete"),l.innerHTML="x",this.node_selected&&this.node_selected.appendChild(l),this.connection_selected&&this.connection_selected.parentElement.classList.length>1&&(l.style.top=a.clientY*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))+"px",l.style.left=a.clientX*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))+"px",this.precanvas.appendChild(l))}}contextmenuDel(){this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove()}key(a){if(this.dispatch("keydown",a),this.editor_mode==="fixed"||this.editor_mode==="view")return!1;(a.key==="Delete"||a.key==="Backspace"&&a.metaKey)&&(this.node_selected!=null&&this.first_click.tagName!=="INPUT"&&this.first_click.tagName!=="TEXTAREA"&&this.first_click.hasAttribute("contenteditable")!==!0&&this.removeNodeId(this.node_selected.id),this.connection_selected!=null&&this.removeConnection())}zoom_enter(a,l){a.ctrlKey&&(a.preventDefault(),a.deltaY>0?this.zoom_out():this.zoom_in())}zoom_refresh(){this.dispatch("zoom",this.zoom),this.canvas_x=this.canvas_x/this.zoom_last_value*this.zoom,this.canvas_y=this.canvas_y/this.zoom_last_value*this.zoom,this.zoom_last_value=this.zoom,this.precanvas.style.transform="translate("+this.canvas_x+"px, "+this.canvas_y+"px) scale("+this.zoom+")"}zoom_in(){this.zoom<this.zoom_max&&(this.zoom+=this.zoom_value,this.zoom_refresh())}zoom_out(){this.zoom>this.zoom_min&&(this.zoom-=this.zoom_value,this.zoom_refresh())}zoom_reset(){this.zoom!=1&&(this.zoom=1,this.zoom_refresh())}createCurvature(a,l,h,c,u,p){var f=a,m=l,g=h,C=c,I=u;switch(p){case"open":if(a>=h)var E=f+Math.abs(g-f)*I,S=g-Math.abs(g-f)*(-1*I);else E=f+Math.abs(g-f)*I,S=g-Math.abs(g-f)*I;return" M "+f+" "+m+" C "+E+" "+m+" "+S+" "+C+" "+g+"  "+C;case"close":return a>=h?(E=f+Math.abs(g-f)*(-1*I),S=g-Math.abs(g-f)*I):(E=f+Math.abs(g-f)*I,S=g-Math.abs(g-f)*I)," M "+f+" "+m+" C "+E+" "+m+" "+S+" "+C+" "+g+"  "+C;case"other":return a>=h?(E=f+Math.abs(g-f)*(-1*I),S=g-Math.abs(g-f)*(-1*I)):(E=f+Math.abs(g-f)*I,S=g-Math.abs(g-f)*I)," M "+f+" "+m+" C "+E+" "+m+" "+S+" "+C+" "+g+"  "+C;default:return" M "+f+" "+m+" C "+(E=f+Math.abs(g-f)*I)+" "+m+" "+(S=g-Math.abs(g-f)*I)+" "+C+" "+g+"  "+C}}drawConnection(a){var l=document.createElementNS("http://www.w3.org/2000/svg","svg");this.connection_ele=l;var h=document.createElementNS("http://www.w3.org/2000/svg","path");h.classList.add("main-path"),h.setAttributeNS(null,"d",""),l.classList.add("connection"),l.appendChild(h),this.precanvas.appendChild(l);var c=a.parentElement.parentElement.id.slice(5),u=a.classList[1];this.dispatch("connectionStart",{output_id:c,output_class:u})}updateConnection(a,l){const h=this.precanvas,c=this.zoom;let u=h.clientWidth/(h.clientWidth*c);u=u||0;let p=h.clientHeight/(h.clientHeight*c);p=p||0;var f=this.connection_ele.children[0],m=this.ele_selected.offsetWidth/2+(this.ele_selected.getBoundingClientRect().x-h.getBoundingClientRect().x)*u,g=this.ele_selected.offsetHeight/2+(this.ele_selected.getBoundingClientRect().y-h.getBoundingClientRect().y)*p,C=a*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),I=l*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom)),E=this.curvature,S=this.createCurvature(m,g,C,I,E,"openclose");f.setAttributeNS(null,"d",S)}addConnection(a,l,h,c){var u=this.getModuleFromNodeId(a);if(u===this.getModuleFromNodeId(l)){var p=this.getNodeFromId(a),f=!1;for(var m in p.outputs[h].connections){var g=p.outputs[h].connections[m];g.node==l&&g.output==c&&(f=!0)}if(f===!1){if(this.drawflow.drawflow[u].data[a].outputs[h].connections.push({node:l.toString(),output:c}),this.drawflow.drawflow[u].data[l].inputs[c].connections.push({node:a.toString(),input:h}),this.module===u){var C=document.createElementNS("http://www.w3.org/2000/svg","svg"),I=document.createElementNS("http://www.w3.org/2000/svg","path");I.classList.add("main-path"),I.setAttributeNS(null,"d",""),C.classList.add("connection"),C.classList.add("node_in_node-"+l),C.classList.add("node_out_node-"+a),C.classList.add(h),C.classList.add(c),C.appendChild(I),this.precanvas.appendChild(C),this.updateConnectionNodes("node-"+a),this.updateConnectionNodes("node-"+l)}this.dispatch("connectionCreated",{output_id:a,input_id:l,output_class:h,input_class:c})}}}updateConnectionNodes(a){const l="node_in_"+a,h="node_out_"+a;this.line_path;const c=this.container,u=this.precanvas,p=this.curvature,f=this.createCurvature,m=this.reroute_curvature,g=this.reroute_curvature_start_end,C=this.reroute_fix_curvature,I=this.reroute_width,E=this.zoom;let S=u.clientWidth/(u.clientWidth*E);S=S||0;let x=u.clientHeight/(u.clientHeight*E);x=x||0;const F=c.querySelectorAll("."+h);Object.keys(F).map(function(R,L){if(F[R].querySelector(".point")===null){var G=c.querySelector("#"+a),V=F[R].classList[1].replace("node_in_",""),B=c.querySelector("#"+V).querySelectorAll("."+F[R].classList[4])[0],oe=B.offsetWidth/2+(B.getBoundingClientRect().x-u.getBoundingClientRect().x)*S,$=B.offsetHeight/2+(B.getBoundingClientRect().y-u.getBoundingClientRect().y)*x,Z=G.querySelectorAll("."+F[R].classList[3])[0],te=Z.offsetWidth/2+(Z.getBoundingClientRect().x-u.getBoundingClientRect().x)*S,ee=Z.offsetHeight/2+(Z.getBoundingClientRect().y-u.getBoundingClientRect().y)*x;const J=f(te,ee,oe,$,p,"openclose");F[R].children[0].setAttributeNS(null,"d",J)}else{const J=F[R].querySelectorAll(".point");let ie="";const re=[];J.forEach((ae,le)=>{if(le===0&&J.length-1==0){var me=c.querySelector("#"+a),Te=((ke=ae).getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,Ce=(ke.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,Ue=(Ne=me.querySelectorAll("."+ae.parentElement.classList[3])[0]).offsetWidth/2+(Ne.getBoundingClientRect().x-u.getBoundingClientRect().x)*S,ye=Ne.offsetHeight/2+(Ne.getBoundingClientRect().y-u.getBoundingClientRect().y)*x,Be=f(Ue,ye,Te,Ce,g,"open");ie+=Be,re.push(Be),me=ae;var Ze=ae.parentElement.classList[1].replace("node_in_",""),ke=(ct=c.querySelector("#"+Ze)).querySelectorAll("."+ae.parentElement.classList[4])[0];Te=(we=ct.querySelectorAll("."+ae.parentElement.classList[4])[0]).offsetWidth/2+(we.getBoundingClientRect().x-u.getBoundingClientRect().x)*S,Ce=we.offsetHeight/2+(we.getBoundingClientRect().y-u.getBoundingClientRect().y)*x,Ue=(me.getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,ye=(me.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,Be=f(Ue,ye,Te,Ce,g,"close"),ie+=Be,re.push(Be)}else if(le===0){var Ne;me=c.querySelector("#"+a),Te=((ke=ae).getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,Ce=(ke.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,Ue=(Ne=me.querySelectorAll("."+ae.parentElement.classList[3])[0]).offsetWidth/2+(Ne.getBoundingClientRect().x-u.getBoundingClientRect().x)*S,ye=Ne.offsetHeight/2+(Ne.getBoundingClientRect().y-u.getBoundingClientRect().y)*x,Be=f(Ue,ye,Te,Ce,g,"open"),ie+=Be,re.push(Be),me=ae,Te=((ke=J[le+1]).getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,Ce=(ke.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,Ue=(me.getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,ye=(me.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,Be=f(Ue,ye,Te,Ce,m,"other"),ie+=Be,re.push(Be)}else if(le===J.length-1){var ct,we;me=ae,Ze=ae.parentElement.classList[1].replace("node_in_",""),ke=(ct=c.querySelector("#"+Ze)).querySelectorAll("."+ae.parentElement.classList[4])[0],Te=(we=ct.querySelectorAll("."+ae.parentElement.classList[4])[0]).offsetWidth/2+(we.getBoundingClientRect().x-u.getBoundingClientRect().x)*S,Ce=we.offsetHeight/2+(we.getBoundingClientRect().y-u.getBoundingClientRect().y)*x,Ue=(me.getBoundingClientRect().x-u.getBoundingClientRect().x)*(u.clientWidth/(u.clientWidth*E))+I,ye=(me.getBoundingClientRect().y-u.getBoundingClientRect().y)*(u.clientHeight/(u.clientHeight*E))+I,Be=f(Ue,ye,Te,Ce,g,"close"),ie+=Be,re.push(Be)}else me=ae,Te=((ke=J[le+1]).getBoundingClientRect().x-u.getBoundingClientRect().x)*(u.clientWidth/(u.clientWidth*E))+I,Ce=(ke.getBoundingClientRect().y-u.getBoundingClientRect().y)*(u.clientHeight/(u.clientHeight*E))+I,Ue=(me.getBoundingClientRect().x-u.getBoundingClientRect().x)*(u.clientWidth/(u.clientWidth*E))+I,ye=(me.getBoundingClientRect().y-u.getBoundingClientRect().y)*(u.clientHeight/(u.clientHeight*E))+I,Be=f(Ue,ye,Te,Ce,m,"other"),ie+=Be,re.push(Be)}),C?re.forEach((ae,le)=>{F[R].children[le].setAttributeNS(null,"d",ae)}):F[R].children[0].setAttributeNS(null,"d",ie)}});const O=c.querySelectorAll("."+l);Object.keys(O).map(function(R,L){if(O[R].querySelector(".point")===null){var G=c.querySelector("#"+a),V=O[R].classList[2].replace("node_out_",""),B=c.querySelector("#"+V).querySelectorAll("."+O[R].classList[3])[0],oe=B.offsetWidth/2+(B.getBoundingClientRect().x-u.getBoundingClientRect().x)*S,$=B.offsetHeight/2+(B.getBoundingClientRect().y-u.getBoundingClientRect().y)*x,Z=(G=G.querySelectorAll("."+O[R].classList[4])[0]).offsetWidth/2+(G.getBoundingClientRect().x-u.getBoundingClientRect().x)*S,te=G.offsetHeight/2+(G.getBoundingClientRect().y-u.getBoundingClientRect().y)*x;const ee=f(oe,$,Z,te,p,"openclose");O[R].children[0].setAttributeNS(null,"d",ee)}else{const ee=O[R].querySelectorAll(".point");let J="";const ie=[];ee.forEach((re,ae)=>{if(ae===0&&ee.length-1==0){var le=c.querySelector("#"+a),me=((Ze=re).getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,Te=(Ze.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,Ce=(ct=le.querySelectorAll("."+re.parentElement.classList[4])[0]).offsetWidth/2+(ct.getBoundingClientRect().x-u.getBoundingClientRect().x)*S,Ue=ct.offsetHeight/2+(ct.getBoundingClientRect().y-u.getBoundingClientRect().y)*x,ye=f(me,Te,Ce,Ue,g,"close");J+=ye,ie.push(ye),le=re;var Be=re.parentElement.classList[2].replace("node_out_",""),Ze=(Ne=c.querySelector("#"+Be)).querySelectorAll("."+re.parentElement.classList[3])[0];me=(ke=Ne.querySelectorAll("."+re.parentElement.classList[3])[0]).offsetWidth/2+(ke.getBoundingClientRect().x-u.getBoundingClientRect().x)*S,Te=ke.offsetHeight/2+(ke.getBoundingClientRect().y-u.getBoundingClientRect().y)*x,Ce=(le.getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,Ue=(le.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,ye=f(me,Te,Ce,Ue,g,"open"),J+=ye,ie.push(ye)}else if(ae===0){var ke;le=re,Be=re.parentElement.classList[2].replace("node_out_",""),Ze=(Ne=c.querySelector("#"+Be)).querySelectorAll("."+re.parentElement.classList[3])[0],me=(ke=Ne.querySelectorAll("."+re.parentElement.classList[3])[0]).offsetWidth/2+(ke.getBoundingClientRect().x-u.getBoundingClientRect().x)*S,Te=ke.offsetHeight/2+(ke.getBoundingClientRect().y-u.getBoundingClientRect().y)*x,Ce=(le.getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,Ue=(le.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,ye=f(me,Te,Ce,Ue,g,"open"),J+=ye,ie.push(ye),le=re,Ce=((Ze=ee[ae+1]).getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,Ue=(Ze.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,me=(le.getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,Te=(le.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,ye=f(me,Te,Ce,Ue,m,"other"),J+=ye,ie.push(ye)}else if(ae===ee.length-1){var Ne,ct;le=re,Be=re.parentElement.classList[1].replace("node_in_",""),Ze=(Ne=c.querySelector("#"+Be)).querySelectorAll("."+re.parentElement.classList[4])[0],Ce=(ct=Ne.querySelectorAll("."+re.parentElement.classList[4])[0]).offsetWidth/2+(ct.getBoundingClientRect().x-u.getBoundingClientRect().x)*S,Ue=ct.offsetHeight/2+(ct.getBoundingClientRect().y-u.getBoundingClientRect().y)*x,me=(le.getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,Te=(le.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,ye=f(me,Te,Ce,Ue,g,"close"),J+=ye,ie.push(ye)}else le=re,Ce=((Ze=ee[ae+1]).getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,Ue=(Ze.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,me=(le.getBoundingClientRect().x-u.getBoundingClientRect().x)*S+I,Te=(le.getBoundingClientRect().y-u.getBoundingClientRect().y)*x+I,ye=f(me,Te,Ce,Ue,m,"other"),J+=ye,ie.push(ye)}),C?ie.forEach((re,ae)=>{O[R].children[ae].setAttributeNS(null,"d",re)}):O[R].children[0].setAttributeNS(null,"d",J)}})}dblclick(a){this.connection_selected!=null&&this.reroute&&this.createReroutePoint(this.connection_selected),a.target.classList[0]==="point"&&this.removeReroutePoint(a.target)}createReroutePoint(a){this.connection_selected.classList.remove("selected");const l=this.connection_selected.parentElement.classList[2].slice(9),h=this.connection_selected.parentElement.classList[1].slice(13),c=this.connection_selected.parentElement.classList[3],u=this.connection_selected.parentElement.classList[4];this.connection_selected=null;const p=document.createElementNS("http://www.w3.org/2000/svg","circle");p.classList.add("point");var f=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),m=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));p.setAttributeNS(null,"cx",f),p.setAttributeNS(null,"cy",m),p.setAttributeNS(null,"r",this.reroute_width);let g=0;if(this.reroute_fix_curvature){const S=a.parentElement.querySelectorAll(".main-path").length;var C=document.createElementNS("http://www.w3.org/2000/svg","path");if(C.classList.add("main-path"),C.setAttributeNS(null,"d",""),a.parentElement.insertBefore(C,a.parentElement.children[S]),S===1)a.parentElement.appendChild(p);else{const x=Array.from(a.parentElement.children).indexOf(a);g=x,a.parentElement.insertBefore(p,a.parentElement.children[x+S+1])}}else a.parentElement.appendChild(p);const I=l.slice(5),E=this.drawflow.drawflow[this.module].data[I].outputs[c].connections.findIndex(function(S,x){return S.node===h&&S.output===u});this.drawflow.drawflow[this.module].data[I].outputs[c].connections[E].points===void 0&&(this.drawflow.drawflow[this.module].data[I].outputs[c].connections[E].points=[]),this.reroute_fix_curvature?(g>0||this.drawflow.drawflow[this.module].data[I].outputs[c].connections[E].points!==[]?this.drawflow.drawflow[this.module].data[I].outputs[c].connections[E].points.splice(g,0,{pos_x:f,pos_y:m}):this.drawflow.drawflow[this.module].data[I].outputs[c].connections[E].points.push({pos_x:f,pos_y:m}),a.parentElement.querySelectorAll(".main-path").forEach((S,x)=>{S.classList.remove("selected")})):this.drawflow.drawflow[this.module].data[I].outputs[c].connections[E].points.push({pos_x:f,pos_y:m}),this.dispatch("addReroute",I),this.updateConnectionNodes(l)}removeReroutePoint(a){const l=a.parentElement.classList[2].slice(9),h=a.parentElement.classList[1].slice(13),c=a.parentElement.classList[3],u=a.parentElement.classList[4];let p=Array.from(a.parentElement.children).indexOf(a);const f=l.slice(5),m=this.drawflow.drawflow[this.module].data[f].outputs[c].connections.findIndex(function(g,C){return g.node===h&&g.output===u});if(this.reroute_fix_curvature){const g=a.parentElement.querySelectorAll(".main-path").length;a.parentElement.children[g-1].remove(),p-=g,p<0&&(p=0)}else p--;this.drawflow.drawflow[this.module].data[f].outputs[c].connections[m].points.splice(p,1),a.remove(),this.dispatch("removeReroute",f),this.updateConnectionNodes(l)}registerNode(a,l,h=null,c=null){this.noderegister[a]={html:l,props:h,options:c}}getNodeFromId(a){var l=this.getModuleFromNodeId(a);return JSON.parse(JSON.stringify(this.drawflow.drawflow[l].data[a]))}getNodesFromName(a){var l=[];const h=this.drawflow.drawflow;return Object.keys(h).map(function(c,u){for(var p in h[c].data)h[c].data[p].name==a&&l.push(h[c].data[p].id)}),l}addNode(a,l,h,c,u,p,f,m,g=!1){if(this.useuuid)var C=this.getUuid();else C=this.nodeId;const I=document.createElement("div");I.classList.add("parent-node");const E=document.createElement("div");E.innerHTML="",E.setAttribute("id","node-"+C),E.classList.add("drawflow-node"),p!=""&&E.classList.add(...p.split(" "));const S=document.createElement("div");S.classList.add("inputs");const x=document.createElement("div");x.classList.add("outputs");const F={};for(var O=0;O<l;O++){const V=document.createElement("div");V.classList.add("input"),V.classList.add("input_"+(O+1)),F["input_"+(O+1)]={connections:[]},S.appendChild(V)}const R={};for(O=0;O<h;O++){const V=document.createElement("div");V.classList.add("output"),V.classList.add("output_"+(O+1)),R["output_"+(O+1)]={connections:[]},x.appendChild(V)}const L=document.createElement("div");if(L.classList.add("drawflow_content_node"),g===!1)L.innerHTML=m;else if(g===!0)L.appendChild(this.noderegister[m].html.cloneNode(!0));else if(parseInt(this.render.version)===3){let V=this.render.h(this.noderegister[m].html,this.noderegister[m].props,this.noderegister[m].options);V.appContext=this.parent,this.render.render(V,L)}else{let V=new this.render({parent:this.parent,render:B=>B(this.noderegister[m].html,{props:this.noderegister[m].props}),...this.noderegister[m].options}).$mount();L.appendChild(V.$el)}Object.entries(f).forEach(function(V,B){if(typeof V[1]=="object")(function Z(te,ee,J){te===null?te=f[ee]:te=te[ee],te!==null&&Object.entries(te).forEach(function(ie,re){if(typeof ie[1]=="object")Z(te,ie[0],J+"-"+ie[0]);else for(var ae=L.querySelectorAll("[df-"+J+"-"+ie[0]+"]"),le=0;le<ae.length;le++)ae[le].value=ie[1],ae[le].isContentEditable&&(ae[le].innerText=ie[1])})})(null,V[0],V[0]);else for(var oe=L.querySelectorAll("[df-"+V[0]+"]"),$=0;$<oe.length;$++)oe[$].value=V[1],oe[$].isContentEditable&&(oe[$].innerText=V[1])}),E.appendChild(S),E.appendChild(L),E.appendChild(x),E.style.top=u+"px",E.style.left=c+"px",I.appendChild(E),this.precanvas.appendChild(I);var G={id:C,name:a,data:f,class:p,html:m,typenode:g,inputs:F,outputs:R,pos_x:c,pos_y:u};return this.drawflow.drawflow[this.module].data[C]=G,this.dispatch("nodeCreated",C),this.useuuid||this.nodeId++,C}addNodeImport(a,l){const h=document.createElement("div");h.classList.add("parent-node");const c=document.createElement("div");c.innerHTML="",c.setAttribute("id","node-"+a.id),c.classList.add("drawflow-node"),a.class!=""&&c.classList.add(...a.class.split(" "));const u=document.createElement("div");u.classList.add("inputs");const p=document.createElement("div");p.classList.add("outputs"),Object.keys(a.inputs).map(function(g,C){const I=document.createElement("div");I.classList.add("input"),I.classList.add(g),u.appendChild(I),Object.keys(a.inputs[g].connections).map(function(E,S){var x=document.createElementNS("http://www.w3.org/2000/svg","svg"),F=document.createElementNS("http://www.w3.org/2000/svg","path");F.classList.add("main-path"),F.setAttributeNS(null,"d",""),x.classList.add("connection"),x.classList.add("node_in_node-"+a.id),x.classList.add("node_out_node-"+a.inputs[g].connections[E].node),x.classList.add(a.inputs[g].connections[E].input),x.classList.add(g),x.appendChild(F),l.appendChild(x)})});for(var f=0;f<Object.keys(a.outputs).length;f++){const g=document.createElement("div");g.classList.add("output"),g.classList.add("output_"+(f+1)),p.appendChild(g)}const m=document.createElement("div");if(m.classList.add("drawflow_content_node"),a.typenode===!1)m.innerHTML=a.html;else if(a.typenode===!0)m.appendChild(this.noderegister[a.html].html.cloneNode(!0));else if(parseInt(this.render.version)===3){let g=this.render.h(this.noderegister[a.html].html,this.noderegister[a.html].props,this.noderegister[a.html].options);g.appContext=this.parent,this.render.render(g,m)}else{let g=new this.render({parent:this.parent,render:C=>C(this.noderegister[a.html].html,{props:this.noderegister[a.html].props}),...this.noderegister[a.html].options}).$mount();m.appendChild(g.$el)}Object.entries(a.data).forEach(function(g,C){if(typeof g[1]=="object")(function S(x,F,O){x===null?x=a.data[F]:x=x[F],x!==null&&Object.entries(x).forEach(function(R,L){if(typeof R[1]=="object")S(x,R[0],O+"-"+R[0]);else for(var G=m.querySelectorAll("[df-"+O+"-"+R[0]+"]"),V=0;V<G.length;V++)G[V].value=R[1],G[V].isContentEditable&&(G[V].innerText=R[1])})})(null,g[0],g[0]);else for(var I=m.querySelectorAll("[df-"+g[0]+"]"),E=0;E<I.length;E++)I[E].value=g[1],I[E].isContentEditable&&(I[E].innerText=g[1])}),c.appendChild(u),c.appendChild(m),c.appendChild(p),c.style.top=a.pos_y+"px",c.style.left=a.pos_x+"px",h.appendChild(c),this.precanvas.appendChild(h)}addRerouteImport(a){const l=this.reroute_width,h=this.reroute_fix_curvature,c=this.container;Object.keys(a.outputs).map(function(u,p){Object.keys(a.outputs[u].connections).map(function(f,m){const g=a.outputs[u].connections[f].points;g!==void 0&&g.forEach((C,I)=>{const E=a.outputs[u].connections[f].node,S=a.outputs[u].connections[f].output,x=c.querySelector(".connection.node_in_node-"+E+".node_out_node-"+a.id+"."+u+"."+S);if(h&&I===0)for(var F=0;F<g.length;F++){var O=document.createElementNS("http://www.w3.org/2000/svg","path");O.classList.add("main-path"),O.setAttributeNS(null,"d",""),x.appendChild(O)}const R=document.createElementNS("http://www.w3.org/2000/svg","circle");R.classList.add("point");var L=C.pos_x,G=C.pos_y;R.setAttributeNS(null,"cx",L),R.setAttributeNS(null,"cy",G),R.setAttributeNS(null,"r",l),x.appendChild(R)})})})}updateNodeValue(a){for(var l=a.target.attributes,h=0;h<l.length;h++)if(l[h].nodeName.startsWith("df-")){for(var c=l[h].nodeName.slice(3).split("-"),u=this.drawflow.drawflow[this.module].data[a.target.closest(".drawflow_content_node").parentElement.id.slice(5)].data,p=0;p<c.length-1;p+=1)u[c[p]]==null&&(u[c[p]]={}),u=u[c[p]];u[c[c.length-1]]=a.target.value,a.target.isContentEditable&&(u[c[c.length-1]]=a.target.innerText),this.dispatch("nodeDataChanged",a.target.closest(".drawflow_content_node").parentElement.id.slice(5))}}updateNodeDataFromId(a,l){var h=this.getModuleFromNodeId(a);if(this.drawflow.drawflow[h].data[a].data=l,this.module===h){const c=this.container.querySelector("#node-"+a);Object.entries(l).forEach(function(u,p){if(typeof u[1]=="object")(function g(C,I,E){C===null?C=l[I]:C=C[I],C!==null&&Object.entries(C).forEach(function(S,x){if(typeof S[1]=="object")g(C,S[0],E+"-"+S[0]);else for(var F=c.querySelectorAll("[df-"+E+"-"+S[0]+"]"),O=0;O<F.length;O++)F[O].value=S[1],F[O].isContentEditable&&(F[O].innerText=S[1])})})(null,u[0],u[0]);else for(var f=c.querySelectorAll("[df-"+u[0]+"]"),m=0;m<f.length;m++)f[m].value=u[1],f[m].isContentEditable&&(f[m].innerText=u[1])})}}addNodeInput(a){var l=this.getModuleFromNodeId(a);const h=this.getNodeFromId(a),c=Object.keys(h.inputs).length;if(this.module===l){const u=document.createElement("div");u.classList.add("input"),u.classList.add("input_"+(c+1)),this.container.querySelector("#node-"+a+" .inputs").appendChild(u),this.updateConnectionNodes("node-"+a)}this.drawflow.drawflow[l].data[a].inputs["input_"+(c+1)]={connections:[]}}addNodeOutput(a){var l=this.getModuleFromNodeId(a);const h=this.getNodeFromId(a),c=Object.keys(h.outputs).length;if(this.module===l){const u=document.createElement("div");u.classList.add("output"),u.classList.add("output_"+(c+1)),this.container.querySelector("#node-"+a+" .outputs").appendChild(u),this.updateConnectionNodes("node-"+a)}this.drawflow.drawflow[l].data[a].outputs["output_"+(c+1)]={connections:[]}}removeNodeInput(a,l){var h=this.getModuleFromNodeId(a);const c=this.getNodeFromId(a);this.module===h&&this.container.querySelector("#node-"+a+" .inputs .input."+l).remove();const u=[];Object.keys(c.inputs[l].connections).map(function(C,I){const E=c.inputs[l].connections[I].node,S=c.inputs[l].connections[I].input;u.push({id_output:E,id:a,output_class:S,input_class:l})}),u.forEach((C,I)=>{this.removeSingleConnection(C.id_output,C.id,C.output_class,C.input_class)}),delete this.drawflow.drawflow[h].data[a].inputs[l];const p=[],f=this.drawflow.drawflow[h].data[a].inputs;Object.keys(f).map(function(C,I){p.push(f[C])}),this.drawflow.drawflow[h].data[a].inputs={};const m=l.slice(6);let g=[];p.forEach((C,I)=>{C.connections.forEach((E,S)=>{g.push(E)}),this.drawflow.drawflow[h].data[a].inputs["input_"+(I+1)]=C}),g=new Set(g.map(C=>JSON.stringify(C))),g=Array.from(g).map(C=>JSON.parse(C)),this.module===h&&this.container.querySelectorAll("#node-"+a+" .inputs .input").forEach((C,I)=>{const E=C.classList[1].slice(6);parseInt(m)<parseInt(E)&&(C.classList.remove("input_"+E),C.classList.add("input_"+(E-1)))}),g.forEach((C,I)=>{this.drawflow.drawflow[h].data[C.node].outputs[C.input].connections.forEach((E,S)=>{if(E.node==a){const x=E.output.slice(6);if(parseInt(m)<parseInt(x)){if(this.module===h){const F=this.container.querySelector(".connection.node_in_node-"+a+".node_out_node-"+C.node+"."+C.input+".input_"+x);F.classList.remove("input_"+x),F.classList.add("input_"+(x-1))}E.points?this.drawflow.drawflow[h].data[C.node].outputs[C.input].connections[S]={node:E.node,output:"input_"+(x-1),points:E.points}:this.drawflow.drawflow[h].data[C.node].outputs[C.input].connections[S]={node:E.node,output:"input_"+(x-1)}}}})}),this.updateConnectionNodes("node-"+a)}removeNodeOutput(a,l){var h=this.getModuleFromNodeId(a);const c=this.getNodeFromId(a);this.module===h&&this.container.querySelector("#node-"+a+" .outputs .output."+l).remove();const u=[];Object.keys(c.outputs[l].connections).map(function(C,I){const E=c.outputs[l].connections[I].node,S=c.outputs[l].connections[I].output;u.push({id:a,id_input:E,output_class:l,input_class:S})}),u.forEach((C,I)=>{this.removeSingleConnection(C.id,C.id_input,C.output_class,C.input_class)}),delete this.drawflow.drawflow[h].data[a].outputs[l];const p=[],f=this.drawflow.drawflow[h].data[a].outputs;Object.keys(f).map(function(C,I){p.push(f[C])}),this.drawflow.drawflow[h].data[a].outputs={};const m=l.slice(7);let g=[];p.forEach((C,I)=>{C.connections.forEach((E,S)=>{g.push({node:E.node,output:E.output})}),this.drawflow.drawflow[h].data[a].outputs["output_"+(I+1)]=C}),g=new Set(g.map(C=>JSON.stringify(C))),g=Array.from(g).map(C=>JSON.parse(C)),this.module===h&&this.container.querySelectorAll("#node-"+a+" .outputs .output").forEach((C,I)=>{const E=C.classList[1].slice(7);parseInt(m)<parseInt(E)&&(C.classList.remove("output_"+E),C.classList.add("output_"+(E-1)))}),g.forEach((C,I)=>{this.drawflow.drawflow[h].data[C.node].inputs[C.output].connections.forEach((E,S)=>{if(E.node==a){const x=E.input.slice(7);if(parseInt(m)<parseInt(x)){if(this.module===h){const F=this.container.querySelector(".connection.node_in_node-"+C.node+".node_out_node-"+a+".output_"+x+"."+C.output);F.classList.remove("output_"+x),F.classList.remove(C.output),F.classList.add("output_"+(x-1)),F.classList.add(C.output)}E.points?this.drawflow.drawflow[h].data[C.node].inputs[C.output].connections[S]={node:E.node,input:"output_"+(x-1),points:E.points}:this.drawflow.drawflow[h].data[C.node].inputs[C.output].connections[S]={node:E.node,input:"output_"+(x-1)}}}})}),this.updateConnectionNodes("node-"+a)}removeNodeId(a){this.removeConnectionNodeId(a);var l=this.getModuleFromNodeId(a.slice(5));this.module===l&&this.container.querySelector("#"+a).remove(),delete this.drawflow.drawflow[l].data[a.slice(5)],this.dispatch("nodeRemoved",a.slice(5))}removeConnection(){if(this.connection_selected!=null){var a=this.connection_selected.parentElement.classList;this.connection_selected.parentElement.remove();var l=this.drawflow.drawflow[this.module].data[a[2].slice(14)].outputs[a[3]].connections.findIndex(function(c,u){return c.node===a[1].slice(13)&&c.output===a[4]});this.drawflow.drawflow[this.module].data[a[2].slice(14)].outputs[a[3]].connections.splice(l,1);var h=this.drawflow.drawflow[this.module].data[a[1].slice(13)].inputs[a[4]].connections.findIndex(function(c,u){return c.node===a[2].slice(14)&&c.input===a[3]});this.drawflow.drawflow[this.module].data[a[1].slice(13)].inputs[a[4]].connections.splice(h,1),this.dispatch("connectionRemoved",{output_id:a[2].slice(14),input_id:a[1].slice(13),output_class:a[3],input_class:a[4]}),this.connection_selected=null}}removeSingleConnection(a,l,h,c){var u=this.getModuleFromNodeId(a);if(u===this.getModuleFromNodeId(l)){if(this.drawflow.drawflow[u].data[a].outputs[h].connections.findIndex(function(m,g){return m.node==l&&m.output===c})>-1){this.module===u&&this.container.querySelector(".connection.node_in_node-"+l+".node_out_node-"+a+"."+h+"."+c).remove();var p=this.drawflow.drawflow[u].data[a].outputs[h].connections.findIndex(function(m,g){return m.node==l&&m.output===c});this.drawflow.drawflow[u].data[a].outputs[h].connections.splice(p,1);var f=this.drawflow.drawflow[u].data[l].inputs[c].connections.findIndex(function(m,g){return m.node==a&&m.input===h});return this.drawflow.drawflow[u].data[l].inputs[c].connections.splice(f,1),this.dispatch("connectionRemoved",{output_id:a,input_id:l,output_class:h,input_class:c}),!0}return!1}return!1}removeConnectionNodeId(a){const l="node_in_"+a,h="node_out_"+a,c=this.container.querySelectorAll("."+h);for(var u=c.length-1;u>=0;u--){var p=c[u].classList,f=this.drawflow.drawflow[this.module].data[p[1].slice(13)].inputs[p[4]].connections.findIndex(function(C,I){return C.node===p[2].slice(14)&&C.input===p[3]});this.drawflow.drawflow[this.module].data[p[1].slice(13)].inputs[p[4]].connections.splice(f,1);var m=this.drawflow.drawflow[this.module].data[p[2].slice(14)].outputs[p[3]].connections.findIndex(function(C,I){return C.node===p[1].slice(13)&&C.output===p[4]});this.drawflow.drawflow[this.module].data[p[2].slice(14)].outputs[p[3]].connections.splice(m,1),c[u].remove(),this.dispatch("connectionRemoved",{output_id:p[2].slice(14),input_id:p[1].slice(13),output_class:p[3],input_class:p[4]})}const g=this.container.querySelectorAll("."+l);for(u=g.length-1;u>=0;u--)p=g[u].classList,m=this.drawflow.drawflow[this.module].data[p[2].slice(14)].outputs[p[3]].connections.findIndex(function(C,I){return C.node===p[1].slice(13)&&C.output===p[4]}),this.drawflow.drawflow[this.module].data[p[2].slice(14)].outputs[p[3]].connections.splice(m,1),f=this.drawflow.drawflow[this.module].data[p[1].slice(13)].inputs[p[4]].connections.findIndex(function(C,I){return C.node===p[2].slice(14)&&C.input===p[3]}),this.drawflow.drawflow[this.module].data[p[1].slice(13)].inputs[p[4]].connections.splice(f,1),g[u].remove(),this.dispatch("connectionRemoved",{output_id:p[2].slice(14),input_id:p[1].slice(13),output_class:p[3],input_class:p[4]})}getModuleFromNodeId(a){var l;const h=this.drawflow.drawflow;return Object.keys(h).map(function(c,u){Object.keys(h[c].data).map(function(p,f){p==a&&(l=c)})}),l}addModule(a){this.drawflow.drawflow[a]={data:{}},this.dispatch("moduleCreated",a)}changeModule(a){this.dispatch("moduleChanged",a),this.module=a,this.precanvas.innerHTML="",this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_y=0,this.mouse_x=0,this.mouse_y=0,this.zoom=1,this.zoom_last_value=1,this.precanvas.style.transform="",this.import(this.drawflow,!1)}removeModule(a){this.module===a&&this.changeModule("Home"),delete this.drawflow.drawflow[a],this.dispatch("moduleRemoved",a)}clearModuleSelected(){this.precanvas.innerHTML="",this.drawflow.drawflow[this.module]={data:{}}}clear(){this.precanvas.innerHTML="",this.drawflow={drawflow:{Home:{data:{}}}}}export(){const a=JSON.parse(JSON.stringify(this.drawflow));return this.dispatch("export",a),a}import(a,l=!0){this.clear(),this.drawflow=JSON.parse(JSON.stringify(a)),this.load(),l&&this.dispatch("import","import")}on(a,l){return typeof l!="function"?(console.error("The listener callback must be a function, the given type is "+typeof l),!1):typeof a!="string"?(console.error("The event name must be a string, the given type is "+typeof a),!1):(this.events[a]===void 0&&(this.events[a]={listeners:[]}),void this.events[a].listeners.push(l))}removeListener(a,l){if(!this.events[a])return!1;const h=this.events[a].listeners,c=h.indexOf(l);c>-1&&h.splice(c,1)}dispatch(a,l){if(this.events[a]===void 0)return!1;this.events[a].listeners.forEach(h=>{h(l)})}getUuid(){for(var a=[],l=0;l<36;l++)a[l]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return a[14]="4",a[19]="0123456789abcdef".substr(3&a[19]|8,1),a[8]=a[13]=a[18]=a[23]="-",a.join("")}}}]).default})})(A6);const Hhe=j6(A6.exports);const hc=e=>(Wd("data-v-5f7d969d"),e=e(),Yd(),e),Ghe={id:"bottomPanel"},Bhe={id:"moduleSelector"},khe={id:"editorMenu"},Vhe=hc(()=>ut("h3",{class:"panelTitle"},"Nodes Library",-1)),jhe={class:"activitiesContainer"},zhe=["onClick"],Whe={id:"modulePath"},Yhe=hc(()=>ut("p",null,">",-1)),Xhe={id:"scheduleControls"},qhe={class:"buttonGroup"},Qhe={class:"fa-solid fa-angles-left"},$he={class:"fa-solid fa-angles-right"},Zhe=hc(()=>ut("button",null,[ut("i",{class:"fa-solid fa-plus"})],-1)),Khe=hc(()=>ut("i",{class:"fa-solid fa-layer-group"},null,-1)),Jhe=[Khe],ece={class:"buttonGroup"},tce=hc(()=>ut("i",{class:"fa-solid fa-eraser"},null,-1)),sce=[tce],ice=hc(()=>ut("i",{class:"fa-solid fa-rotate"},null,-1)),rce=[ice],nce={__name:"ScheduleEditor",props:["viewer"],setup(e){const t=e.viewer,i=Ps(),r=Ps(),n=Ps(),o=Ps(!1);Ps(!1);const a=Ps(!1),l=Ps(!1),h=Ps([]);new Jf(t.context,t.IFC.loader);let c=[],u;const p=t.IFC.selector.selection;function f(){console.log(h.value)}function m(){t.IFC.selector.highlightIfcItemsByID(0,c.slice(0,c.length*r.value.value/100),!1,!0)}function g(){console.log("asdasd")}function C(L="Home"){u.changeModule(L),R()}function I(){const L=Object.keys(t.context.items.ifcModels[0].modelData["Storey Name"].values),G=[];let V=0;L.forEach(B=>{const oe=`(['Storey Name' = '${B}'])`;G.push(F(B,oe,{x:V,y:150})),V+=350});for(let B=0;B<G.length;B++){const oe=B+1;oe!==G.length&&u.addConnection(G[B].id,G[oe].id,"output_1","input_1")}}function E(){u.clearModuleSelected(),c=[]}function S(){a.value=!a.value}const x=[{name:"Custom Activity",queryString:"(['' = ''])"},{name:"Piles",queryString:"(['IfcEntity' = 'IFCPILE'])"},{name:"Foundation Slab",queryString:"(['IfcEntity' = 'IFCSLAB'] AND ['PredefinedType' = 'BASESLAB'] AND ['Storey Elevation' <= '0'])"},{name:"Foundation Beams",queryString:"(['IfcEntity' = 'IFCBEAM'] AND ['Storey Elevation' <= '0'])"},{name:"Walls",queryString:"(['IfcEntity' . 'WALL'])"},{name:"Columns",queryString:"(['IfcEntity' = 'IFCCOLUMN'])"},{name:"Floor Beams",queryString:"(['IfcEntity' = 'IFCBEAM'] AND ['Storey Elevation' > '0'])"},{name:"Beams",queryString:"(['IfcEntity' = 'IFCBEAM'])"},{name:"Slabs",queryString:"(['IfcEntity' = 'IFCSLAB'])"},{name:"Slab Coverings",queryString:"(['IfcEntity' = 'IFCCOVERING'] AND ['PredefinedType' = 'FLOORING'])"}];function F(L="Custom Activity",G="",V={x:0,y:100}){const B=u.drawflow.drawflow;if(L==="Custom Activity"){const ie=window.prompt("Name your custom activity",L);if(Object.values(B[u.module].data).find(ae=>ae.name==ie)){window.alert("This name already exists in this graph!");return}L=ie}const oe=`${B[u.module].name}_${L}`,$=`<h3 df-visiblename>${L}</h3><input df-querystring></input>`,Z={visiblename:L,querystring:`${G}`},te=u.addNode(L,1,1,V.x,V.y,"",Z,$);u.addModule(te.toString());const ee=B[u.module].queryString,J=ee?`${ee} AND ${G}`:G;return B[te.toString()].queryString=J,B[te.toString()].id=te,B[te.toString()].name=oe,u.getNodeFromId(te)}function O(){u.addNode("input",0,1,0,100,"flowInput",{},"<h3>INPUT</h3>")}function R(){const G=u.drawflow.drawflow[u.module].name.split("_");G.shift(),h.value=G}return Qd(()=>{n.value=window.flowEditor=new Hhe(i.value),u=n.value,u.start(),u.zoom=.7,u.zoom_refresh(),o.value=!0,u.drawflow.drawflow.Home.id=0,u.drawflow.drawflow.Home.name="Home",u.on("nodeSelected",V=>{const B=u.drawflow.drawflow,oe=u.getNodeFromId(V);if(oe.name=="output"||oe.name=="input")return;const $=B[u.getModuleFromNodeId(V)].queryString,Z=oe.data.querystring,te=$?`${$} AND ${Z}`:Z;t.queryEditor.searchAll(te,ee=>{for(const J in ee)p.pickByID(Number(J),ee[J],!0,!0)})}),u.on("connectionCreated",async V=>{await L(V),G()}),u.on("connectionRemoved",()=>G()),u.on("nodeDataChanged",V=>{const B=u.drawflow.drawflow,oe=u.getNodeFromId(V),$=oe.data.querystring,Z=B[u.module].queryString,te=Z?`${Z} AND ${$}`:$;B[V.toString()].queryString=te,B[V.toString()].name=`${B[u.module].name}_${oe.data.visiblename}`}),u.on("nodeRemoved",V=>{delete u.drawflow.drawflow[V]}),u.container.addEventListener("dblclick",V=>{const B=V.target.closest(".drawflow-node");!B||(u.changeModule(B.id.replace("node-","")),R())});async function L(V){const B=u.getNodeFromId(V.output_id),oe=B.outputs.output_1.connections,$=u.getNodeFromId(V.input_id),Z=$.inputs.input_1.connections;oe.length>1&&(oe.pop(),oe.forEach(te=>{u.removeSingleConnection(B.id,te.node,"output_1","input_1")})),Z.length>1&&(Z.pop(),Z.forEach(te=>{u.removeSingleConnection(te.node,$.id,"output_1","input_1")}))}function G(){l.value=!0,c=[];const V=[],B=u.drawflow.drawflow,oe=B.Home.data,$=Object.values(oe).find(ee=>ee.name==="input");if(!$){console.log("No global input!"),l.value=!1;return}const Z=$.outputs.output_1.connections[0];if(!Z){console.log("Global input not connected!"),l.value=!1;return}te("Home",Z.node);function te(ee,J){if(!B[ee].data)return;const ie=B[ee].data[J];if(!ie)return;const re=B[J],ae=Object.values(re.data).find(me=>me.name==="input");if(ae){const me=ae.outputs.output_1.connections[0];me&&te(J.toString(),me.node)}else V.push(re.queryString);const le=ie.outputs;if(Object.keys(le).length===0){l.value=!1;return}else le.output_1.connections.length!==0&&te(ee,le.output_1.connections[0].node)}V.forEach(ee=>{t.queryEditor.searchAll(ee,J=>{for(const ie in J)J[ie].forEach(re=>c.push(re))})}),l.value=!1}}),(L,G)=>(fi(),Vi("div",Ghe,[ut("div",Bhe,[ut("input",{onInput:m,ref_key:"viewerSlider",ref:r,type:"range",min:"0",max:"100",step:"0.01",value:"0"},null,544)]),jf(ut("div",khe,[Vhe,ut("div",jhe,[ut("button",{onClick:O,class:"editorMenuButton input"},"INPUT"),(fi(),Vi(vi,null,nd(x,V=>ut("button",{key:V.name,class:"editorMenuButton activity",onClick:B=>F(V.name,V.queryString)},lu(V.name.toUpperCase()),9,zhe)),64))])],512),[[Wf,!a.value]]),ut("div",{id:"drawflow",ref_key:"drawflowContainer",ref:i},null,512),ut("div",Whe,[ut("p",{onClick:G[0]||(G[0]=V=>C("Home"))},"DEMO PROJECT"),(fi(!0),Vi(vi,null,nd(h.value,V=>(fi(),Vi("div",{onClick:f},[Yhe,ut("p",null,lu(V.toUpperCase()),1)]))),256))]),ut("div",Xhe,[ut("div",qhe,[ut("button",{onClick:S,class:Nh(a.value?"":"active")},[jf(ut("i",Qhe,null,512),[[Wf,!a.value]]),jf(ut("i",$he,null,512),[[Wf,a.value]])],2),Zhe,ut("button",{onClick:I},Jhe)]),ut("div",ece,[ut("button",{onClick:E},sce),ut("button",{onClick:g,class:Nh(l.value?"active":"")},rce,2)])])]))}},oce=Tm(nce,[["__scopeId","data-v-5f7d969d"]]);const op=e=>(Wd("data-v-424719b6"),e=e(),Yd(),e),ace={id:"rightPanel"},lce=op(()=>ut("h2",{class:"panelTitle"},"Properties",-1)),hce={class:"group"},cce={class:"groupTitle"},uce=op(()=>ut("i",{class:"fa-solid fa-chevron-down"},null,-1)),pce={class:"property"},fce={style:{color:"gray","font-size":"15px","margin-bottom":"5px"}},dce=op(()=>ut("div",null,[ut("button",null,[ut("i",{class:"fa-solid fa-ellipsis"})])],-1)),mce={class:"warningMessage"},Tce=op(()=>ut("i",{class:"fa-solid fa-triangle-exclamation",style:{"font-size":"60px"}},null,-1)),gce=op(()=>ut("p",null,"NOTHING IS SELECTED",-1)),yce=[Tce,gce],Ice={__name:"PropertiesPanel",props:["viewer","modelID","elementID"],setup(e){const s=e,t=s.viewer,i=mE(s,"modelID"),r=mE(s,"elementID"),n=Ps([]),o=Ps(!1);uu([i,r],()=>{if(i.value==null||r.value==null)n.value=[],o.value=!1;else{const l=t.context.items.ifcModels[i.value].modelElements[r.value];n.value=a(l),o.value=!0}});function a(l){const h=[];for(const c in l)if(h.some(p=>p.groupName==l[c].group)){const p={name:c,value:l[c].value};h.find(m=>m.groupName==l[c].group).properties.push(p)}else{const p={groupName:l[c].group,properties:[{name:c,value:l[c].value}]};h.push(p)}return h}return(l,h)=>(fi(),Vi("div",ace,[lce,(fi(!0),Vi(vi,null,nd(n.value,c=>(fi(),Vi("div",hce,[ut("div",cce,[ut("h4",null,lu(c.groupName),1),uce]),ut("div",null,[(fi(!0),Vi(vi,null,nd(c.properties,u=>(fi(),Vi("div",pce,[ut("div",null,[ut("p",fce,lu(u.name),1),ut("p",null,lu(u.value),1)]),dce]))),256))])]))),256)),jf(ut("div",mce,yce,512),[[Wf,!o.value]])]))}},Ece=Tm(Ice,[["__scopeId","data-v-424719b6"]]);const gm=e=>(Wd("data-v-f37b0f50"),e=e(),Yd(),e),vce={key:0,id:"leftMenu"},Cce=gm(()=>ut("button",null,[ut("i",{class:"fa-solid fa-triangle-exclamation"})],-1)),_ce=gm(()=>ut("button",null,[ut("i",{class:"fa-solid fa-rectangle-list"})],-1)),wce=gm(()=>ut("button",null,[ut("i",{class:"fa-regular fa-calendar-days"})],-1)),Sce=gm(()=>ut("i",{class:"fa-solid fa-coins"},null,-1)),xce=[Sce],bce={__name:"App",setup(e){const s=Ps(),t=Ps(!1),i=Ps(!1),r=Ps(),n=Ps();function o(l){t.value=!0,s.value=l}function a(){i.value=!0}return(l,h)=>(fi(),Vi(vi,null,[t.value&&i.value&&s.value?(fi(),Vi("div",vce,[Cce,_ce,wce,ut("button",{onClick:h[0]||(h[0]=(...c)=>l.coins&&l.coins(...c))},xce)])):fu("",!0),yn(Uhe,{onViewerLoaded:o,onModelLoaded:a,onElementClicked:h[1]||(h[1]=(c,u)=>{r.value=c,n.value=u}),onNoSelection:h[2]||(h[2]=()=>{r.value=void 0,n.value=void 0})}),i.value?(fi(),ry(oce,{key:1,viewer:s.value},null,8,["viewer"])):fu("",!0),i.value?(fi(),ry(Ece,{key:2,viewer:s.value,modelID:r.value,elementID:n.value},null,8,["viewer","modelID","elementID"])):fu("",!0)],64))}},Fce=Tm(bce,[["__scopeId","data-v-f37b0f50"]]);const O6=m9(Fce);O6.use(V9());O6.mount("#app");
